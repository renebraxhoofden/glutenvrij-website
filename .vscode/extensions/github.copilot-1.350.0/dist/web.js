"use strict";var VG=Object.create;var xp=Object.defineProperty;var KG=Object.getOwnPropertyDescriptor;var YG=Object.getOwnPropertyNames;var XG=Object.getPrototypeOf,JG=Object.prototype.hasOwnProperty;var bS=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),yS=e=>{throw TypeError(e)};var i=(e,t)=>xp(e,"name",{value:t,configurable:!0});var ZG=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Qs=(e,t)=>{for(var r in t)xp(e,r,{get:t[r],enumerable:!0})},_S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YG(t))!JG.call(e,o)&&o!==r&&xp(e,o,{get:()=>t[o],enumerable:!(n=KG(t,o))||n.enumerable});return e};var yt=(e,t,r)=>(r=e!=null?VG(XG(e)):{},_S(t||!e||!e.__esModule?xp(r,"default",{value:e,enumerable:!0}):r,e)),Fh=e=>_S(xp({},"__esModule",{value:!0}),e);var g8=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&yS("Object expected");var n,o;r&&(n=t[bS("asyncDispose")]),n===void 0&&(n=t[bS("dispose")],r&&(o=n)),typeof n!="function"&&yS("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},h8=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,f){return f=Error(c),f.name="SuppressedError",f.error=a,f.suppressed=l,f},o=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(o(c),s()))}catch(c){o(c)}if(r)throw t};return s()};var TS=Q(()=>{});var qt=Q((Uh,ES)=>{(function(e,t){typeof Uh=="object"?ES.exports=Uh=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Uh,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=TS()}catch{}var o=i(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function x(){}return i(x,"F"),function(y){var T;return x.prototype=y,T=new x,x.prototype=null,T}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:i(function(x){var y=s(this);return x&&y.mixIn(x),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},"extend"),create:i(function(){var x=this.extend();return x.init.apply(x,arguments),x},"create"),init:i(function(){},"init"),mixIn:i(function(x){for(var y in x)x.hasOwnProperty(y)&&(this[y]=x[y]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},"mixIn"),clone:i(function(){return this.init.prototype.extend(this)},"clone")}}(),f=l.WordArray=c.extend({init:i(function(x,y){x=this.words=x||[],y!=r?this.sigBytes=y:this.sigBytes=x.length*4},"init"),toString:i(function(x){return(x||d).stringify(this)},"toString"),concat:i(function(x){var y=this.words,T=x.words,_=this.sigBytes,I=x.sigBytes;if(this.clamp(),_%4)for(var w=0;w<I;w++){var j=T[w>>>2]>>>24-w%4*8&255;y[_+w>>>2]|=j<<24-(_+w)%4*8}else for(var V=0;V<I;V+=4)y[_+V>>>2]=T[V>>>2];return this.sigBytes+=I,this},"concat"),clamp:i(function(){var x=this.words,y=this.sigBytes;x[y>>>2]&=4294967295<<32-y%4*8,x.length=t.ceil(y/4)},"clamp"),clone:i(function(){var x=c.clone.call(this);return x.words=this.words.slice(0),x},"clone"),random:i(function(x){for(var y=[],T=0;T<x;T+=4)y.push(o());return new f.init(y,x)},"random")}),u=a.enc={},d=u.Hex={stringify:i(function(x){for(var y=x.words,T=x.sigBytes,_=[],I=0;I<T;I++){var w=y[I>>>2]>>>24-I%4*8&255;_.push((w>>>4).toString(16)),_.push((w&15).toString(16))}return _.join("")},"stringify"),parse:i(function(x){for(var y=x.length,T=[],_=0;_<y;_+=2)T[_>>>3]|=parseInt(x.substr(_,2),16)<<24-_%8*4;return new f.init(T,y/2)},"parse")},p=u.Latin1={stringify:i(function(x){for(var y=x.words,T=x.sigBytes,_=[],I=0;I<T;I++){var w=y[I>>>2]>>>24-I%4*8&255;_.push(String.fromCharCode(w))}return _.join("")},"stringify"),parse:i(function(x){for(var y=x.length,T=[],_=0;_<y;_++)T[_>>>2]|=(x.charCodeAt(_)&255)<<24-_%4*8;return new f.init(T,y)},"parse")},m=u.Utf8={stringify:i(function(x){try{return decodeURIComponent(escape(p.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:i(function(x){return p.parse(unescape(encodeURIComponent(x)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:i(function(){this._data=new f.init,this._nDataBytes=0},"reset"),_append:i(function(x){typeof x=="string"&&(x=m.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},"_append"),_process:i(function(x){var y,T=this._data,_=T.words,I=T.sigBytes,w=this.blockSize,j=w*4,V=I/j;x?V=t.ceil(V):V=t.max((V|0)-this._minBufferSize,0);var G=V*w,Y=t.min(G*4,I);if(G){for(var A=0;A<G;A+=w)this._doProcessBlock(_,A);y=_.splice(0,G),T.sigBytes-=Y}return new f.init(y,Y)},"_process"),clone:i(function(){var x=c.clone.call(this);return x._data=this._data.clone(),x},"clone"),_minBufferSize:0}),h=l.Hasher=g.extend({cfg:c.extend(),init:i(function(x){this.cfg=this.cfg.extend(x),this.reset()},"init"),reset:i(function(){g.reset.call(this),this._doReset()},"reset"),update:i(function(x){return this._append(x),this._process(),this},"update"),finalize:i(function(x){x&&this._append(x);var y=this._doFinalize();return y},"finalize"),blockSize:512/32,_createHelper:i(function(x){return function(y,T){return new x.init(T).finalize(y)}},"_createHelper"),_createHmacHelper:i(function(x){return function(y,T){return new b.HMAC.init(x,T).finalize(y)}},"_createHmacHelper")}),b=a.algo={};return a}(Math);return e})});var bp=Q((Bh,CS)=>{(function(e,t){typeof Bh=="object"?CS.exports=Bh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Bh,function(e){return function(t){var r=e,n=r.lib,o=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=o.extend({init:i(function(f,u){this.high=f,this.low=u},"init")}),c=a.WordArray=o.extend({init:i(function(f,u){f=this.words=f||[],u!=t?this.sigBytes=u:this.sigBytes=f.length*8},"init"),toX32:i(function(){for(var f=this.words,u=f.length,d=[],p=0;p<u;p++){var m=f[p];d.push(m.high),d.push(m.low)}return s.create(d,this.sigBytes)},"toX32"),clone:i(function(){for(var f=o.clone.call(this),u=f.words=this.words.slice(0),d=u.length,p=0;p<d;p++)u[p]=u[p].clone();return f},"clone")})}(),e})});var SS=Q(($h,IS)=>{(function(e,t){typeof $h=="object"?IS.exports=$h=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($h,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,o=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],f=0;f<l;f++)c[f>>>2]|=a[f]<<24-f%4*8;o.call(this,c,l)}else o.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var PS=Q((jh,wS)=>{(function(e,t){typeof jh=="object"?wS.exports=jh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,s=o.Utf16=o.Utf16BE={stringify:i(function(l){for(var c=l.words,f=l.sigBytes,u=[],d=0;d<f;d+=2){var p=c[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(p))}return u.join("")},"stringify"),parse:i(function(l){for(var c=l.length,f=[],u=0;u<c;u++)f[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return n.create(f,c*2)},"parse")};o.Utf16LE={stringify:i(function(l){for(var c=l.words,f=l.sigBytes,u=[],d=0;d<f;d+=2){var p=a(c[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(p))}return u.join("")},"stringify"),parse:i(function(l){for(var c=l.length,f=[],u=0;u<c;u++)f[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return n.create(f,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}i(a,"swapEndian")}(),e.enc.Utf16})});var sl=Q((qh,RS)=>{(function(e,t){typeof qh=="object"?RS.exports=qh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,s=o.Base64={stringify:i(function(l){var c=l.words,f=l.sigBytes,u=this._map;l.clamp();for(var d=[],p=0;p<f;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,h=c[p+2>>>2]>>>24-(p+2)%4*8&255,b=m<<16|g<<8|h,x=0;x<4&&p+x*.75<f;x++)d.push(u.charAt(b>>>6*(3-x)&63));var y=u.charAt(64);if(y)for(;d.length%4;)d.push(y);return d.join("")},"stringify"),parse:i(function(l){var c=l.length,f=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<f.length;d++)u[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,u)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,f){for(var u=[],d=0,p=0;p<c;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;u[d>>>2]|=h<<24-d%4*8,d++}return n.create(u,d)}i(a,"parseLoop")}(),e.enc.Base64})});var AS=Q((Wh,DS)=>{(function(e,t){typeof Wh=="object"?DS.exports=Wh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Wh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,s=o.Base64url={stringify:i(function(l,c){c===void 0&&(c=!0);var f=l.words,u=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var p=[],m=0;m<u;m+=3)for(var g=f[m>>>2]>>>24-m%4*8&255,h=f[m+1>>>2]>>>24-(m+1)%4*8&255,b=f[m+2>>>2]>>>24-(m+2)%4*8&255,x=g<<16|h<<8|b,y=0;y<4&&m+y*.75<u;y++)p.push(d.charAt(x>>>6*(3-y)&63));var T=d.charAt(64);if(T)for(;p.length%4;)p.push(T);return p.join("")},"stringify"),parse:i(function(l,c){c===void 0&&(c=!0);var f=l.length,u=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<u.length;p++)d[u.charCodeAt(p)]=p}var m=u.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(f=g)}return a(l,f,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,f){for(var u=[],d=0,p=0;p<c;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;u[d>>>2]|=h<<24-d%4*8,d++}return n.create(u,d)}i(a,"parseLoop")}(),e.enc.Base64url})});var al=Q((zh,NS)=>{(function(e,t){typeof zh=="object"?NS.exports=zh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zh,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=t.abs(t.sin(m+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:i(function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:i(function(m,g){for(var h=0;h<16;h++){var b=g+h,x=m[b];m[b]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var y=this._hash.words,T=m[g+0],_=m[g+1],I=m[g+2],w=m[g+3],j=m[g+4],V=m[g+5],G=m[g+6],Y=m[g+7],A=m[g+8],P=m[g+9],z=m[g+10],N=m[g+11],E=m[g+12],v=m[g+13],R=m[g+14],S=m[g+15],D=y[0],O=y[1],M=y[2],B=y[3];D=f(D,O,M,B,T,7,l[0]),B=f(B,D,O,M,_,12,l[1]),M=f(M,B,D,O,I,17,l[2]),O=f(O,M,B,D,w,22,l[3]),D=f(D,O,M,B,j,7,l[4]),B=f(B,D,O,M,V,12,l[5]),M=f(M,B,D,O,G,17,l[6]),O=f(O,M,B,D,Y,22,l[7]),D=f(D,O,M,B,A,7,l[8]),B=f(B,D,O,M,P,12,l[9]),M=f(M,B,D,O,z,17,l[10]),O=f(O,M,B,D,N,22,l[11]),D=f(D,O,M,B,E,7,l[12]),B=f(B,D,O,M,v,12,l[13]),M=f(M,B,D,O,R,17,l[14]),O=f(O,M,B,D,S,22,l[15]),D=u(D,O,M,B,_,5,l[16]),B=u(B,D,O,M,G,9,l[17]),M=u(M,B,D,O,N,14,l[18]),O=u(O,M,B,D,T,20,l[19]),D=u(D,O,M,B,V,5,l[20]),B=u(B,D,O,M,z,9,l[21]),M=u(M,B,D,O,S,14,l[22]),O=u(O,M,B,D,j,20,l[23]),D=u(D,O,M,B,P,5,l[24]),B=u(B,D,O,M,R,9,l[25]),M=u(M,B,D,O,w,14,l[26]),O=u(O,M,B,D,A,20,l[27]),D=u(D,O,M,B,v,5,l[28]),B=u(B,D,O,M,I,9,l[29]),M=u(M,B,D,O,Y,14,l[30]),O=u(O,M,B,D,E,20,l[31]),D=d(D,O,M,B,V,4,l[32]),B=d(B,D,O,M,A,11,l[33]),M=d(M,B,D,O,N,16,l[34]),O=d(O,M,B,D,R,23,l[35]),D=d(D,O,M,B,_,4,l[36]),B=d(B,D,O,M,j,11,l[37]),M=d(M,B,D,O,Y,16,l[38]),O=d(O,M,B,D,z,23,l[39]),D=d(D,O,M,B,v,4,l[40]),B=d(B,D,O,M,T,11,l[41]),M=d(M,B,D,O,w,16,l[42]),O=d(O,M,B,D,G,23,l[43]),D=d(D,O,M,B,P,4,l[44]),B=d(B,D,O,M,E,11,l[45]),M=d(M,B,D,O,S,16,l[46]),O=d(O,M,B,D,I,23,l[47]),D=p(D,O,M,B,T,6,l[48]),B=p(B,D,O,M,Y,10,l[49]),M=p(M,B,D,O,R,15,l[50]),O=p(O,M,B,D,V,21,l[51]),D=p(D,O,M,B,E,6,l[52]),B=p(B,D,O,M,w,10,l[53]),M=p(M,B,D,O,z,15,l[54]),O=p(O,M,B,D,_,21,l[55]),D=p(D,O,M,B,A,6,l[56]),B=p(B,D,O,M,S,10,l[57]),M=p(M,B,D,O,G,15,l[58]),O=p(O,M,B,D,v,21,l[59]),D=p(D,O,M,B,j,6,l[60]),B=p(B,D,O,M,N,10,l[61]),M=p(M,B,D,O,I,15,l[62]),O=p(O,M,B,D,P,21,l[63]),y[0]=y[0]+D|0,y[1]=y[1]+O|0,y[2]=y[2]+M|0,y[3]=y[3]+B|0},"_doProcessBlock"),_doFinalize:i(function(){var m=this._data,g=m.words,h=this._nDataBytes*8,b=m.sigBytes*8;g[b>>>5]|=128<<24-b%32;var x=t.floor(h/4294967296),y=h;g[(b+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(b+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var T=this._hash,_=T.words,I=0;I<4;I++){var w=_[I];_[I]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return T},"_doFinalize"),clone:i(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});function f(m,g,h,b,x,y,T){var _=m+(g&h|~g&b)+x+T;return(_<<y|_>>>32-y)+g}i(f,"FF");function u(m,g,h,b,x,y,T){var _=m+(g&b|h&~b)+x+T;return(_<<y|_>>>32-y)+g}i(u,"GG");function d(m,g,h,b,x,y,T){var _=m+(g^h^b)+x+T;return(_<<y|_>>>32-y)+g}i(d,"HH");function p(m,g,h,b,x,y,T){var _=m+(h^(g|~b))+x+T;return(_<<y|_>>>32-y)+g}i(p,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var b8=Q((Hh,kS)=>{(function(e,t){typeof Hh=="object"?kS.exports=Hh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Hh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.Hasher,s=t.algo,a=[],l=s.SHA1=o.extend({_doReset:i(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:i(function(c,f){for(var u=this._hash.words,d=u[0],p=u[1],m=u[2],g=u[3],h=u[4],b=0;b<80;b++){if(b<16)a[b]=c[f+b]|0;else{var x=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=x<<1|x>>>31}var y=(d<<5|d>>>27)+h+a[b];b<20?y+=(p&m|~p&g)+1518500249:b<40?y+=(p^m^g)+1859775393:b<60?y+=(p&m|p&g|m&g)-1894007588:y+=(p^m^g)-899497514,h=g,g=m,m=p<<30|p>>>2,p=d,d=y}u[0]=u[0]+d|0,u[1]=u[1]+p|0,u[2]=u[2]+m|0,u[3]=u[3]+g|0,u[4]=u[4]+h|0},"_doProcessBlock"),_doFinalize:i(function(){var c=this._data,f=c.words,u=this._nDataBytes*8,d=c.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),f[(d+64>>>9<<4)+15]=u,c.sigBytes=f.length*4,this._process(),this._hash},"_doFinalize"),clone:i(function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=o._createHelper(l),t.HmacSHA1=o._createHmacHelper(l)}(),e.SHA1})});var Vh=Q((Gh,OS)=>{(function(e,t){typeof Gh=="object"?OS.exports=Gh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Gh,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function d(h){for(var b=t.sqrt(h),x=2;x<=b;x++)if(!(h%x))return!1;return!0}i(d,"isPrime");function p(h){return(h-(h|0))*4294967296|0}i(p,"getFractionalBits");for(var m=2,g=0;g<64;)d(m)&&(g<8&&(l[g]=p(t.pow(m,1/2))),c[g]=p(t.pow(m,1/3)),g++),m++})();var f=[],u=a.SHA256=s.extend({_doReset:i(function(){this._hash=new o.init(l.slice(0))},"_doReset"),_doProcessBlock:i(function(d,p){for(var m=this._hash.words,g=m[0],h=m[1],b=m[2],x=m[3],y=m[4],T=m[5],_=m[6],I=m[7],w=0;w<64;w++){if(w<16)f[w]=d[p+w]|0;else{var j=f[w-15],V=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,G=f[w-2],Y=(G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10;f[w]=V+f[w-7]+Y+f[w-16]}var A=y&T^~y&_,P=g&h^g&b^h&b,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),N=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),E=I+N+A+c[w]+f[w],v=z+P;I=_,_=T,T=y,y=x+E|0,x=b,b=h,h=g,g=E+v|0}m[0]=m[0]+g|0,m[1]=m[1]+h|0,m[2]=m[2]+b|0,m[3]=m[3]+x|0,m[4]=m[4]+y|0,m[5]=m[5]+T|0,m[6]=m[6]+_|0,m[7]=m[7]+I|0},"_doProcessBlock"),_doFinalize:i(function(){var d=this._data,p=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=t.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:i(function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d},"clone")});r.SHA256=s._createHelper(u),r.HmacSHA256=s._createHmacHelper(u)}(Math),e.SHA256})});var MS=Q((Kh,LS)=>{(function(e,t,r){typeof Kh=="object"?LS.exports=Kh=t(qt(),Vh()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Kh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:i(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:i(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var y8=Q((Yh,US)=>{(function(e,t,r){typeof Yh=="object"?US.exports=Yh=t(qt(),bp()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Yh,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,o=t.x64,s=o.Word,a=o.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}i(c,"X64Word_create");var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],u=[];(function(){for(var p=0;p<80;p++)u[p]=c()})();var d=l.SHA512=n.extend({_doReset:i(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:i(function(p,m){for(var g=this._hash.words,h=g[0],b=g[1],x=g[2],y=g[3],T=g[4],_=g[5],I=g[6],w=g[7],j=h.high,V=h.low,G=b.high,Y=b.low,A=x.high,P=x.low,z=y.high,N=y.low,E=T.high,v=T.low,R=_.high,S=_.low,D=I.high,O=I.low,M=w.high,B=w.low,H=j,ae=V,ye=G,he=Y,Ue=A,Ge=P,Ve=z,Ze=N,F=E,ne=v,$=R,ge=S,le=D,q=O,re=M,xe=B,ue=0;ue<80;ue++){var de,Ee,we=u[ue];if(ue<16)Ee=we.high=p[m+ue*2]|0,de=we.low=p[m+ue*2+1]|0;else{var ke=u[ue-15],je=ke.high,Ke=ke.low,tt=(je>>>1|Ke<<31)^(je>>>8|Ke<<24)^je>>>7,rt=(Ke>>>1|je<<31)^(Ke>>>8|je<<24)^(Ke>>>7|je<<25),lt=u[ue-2],L=lt.high,Z=lt.low,fe=(L>>>19|Z<<13)^(L<<3|Z>>>29)^L>>>6,pe=(Z>>>19|L<<13)^(Z<<3|L>>>29)^(Z>>>6|L<<26),De=u[ue-7],Me=De.high,$e=De.low,We=u[ue-16],Re=We.high,W=We.low;de=rt+$e,Ee=tt+Me+(de>>>0<rt>>>0?1:0),de=de+pe,Ee=Ee+fe+(de>>>0<pe>>>0?1:0),de=de+W,Ee=Ee+Re+(de>>>0<W>>>0?1:0),we.high=Ee,we.low=de}var X=F&$^~F&le,se=ne&ge^~ne&q,me=H&ye^H&Ue^ye&Ue,be=ae&he^ae&Ge^he&Ge,ve=(H>>>28|ae<<4)^(H<<30|ae>>>2)^(H<<25|ae>>>7),Ae=(ae>>>28|H<<4)^(ae<<30|H>>>2)^(ae<<25|H>>>7),Ye=(F>>>14|ne<<18)^(F>>>18|ne<<14)^(F<<23|ne>>>9),ut=(ne>>>14|F<<18)^(ne>>>18|F<<14)^(ne<<23|F>>>9),Ie=f[ue],kt=Ie.high,St=Ie.low,nt=xe+ut,ft=re+Ye+(nt>>>0<xe>>>0?1:0),nt=nt+se,ft=ft+X+(nt>>>0<se>>>0?1:0),nt=nt+St,ft=ft+kt+(nt>>>0<St>>>0?1:0),nt=nt+de,ft=ft+Ee+(nt>>>0<de>>>0?1:0),Rt=Ae+be,Bt=ve+me+(Rt>>>0<Ae>>>0?1:0);re=le,xe=q,le=$,q=ge,$=F,ge=ne,ne=Ze+nt|0,F=Ve+ft+(ne>>>0<Ze>>>0?1:0)|0,Ve=Ue,Ze=Ge,Ue=ye,Ge=he,ye=H,he=ae,ae=nt+Rt|0,H=ft+Bt+(ae>>>0<nt>>>0?1:0)|0}V=h.low=V+ae,h.high=j+H+(V>>>0<ae>>>0?1:0),Y=b.low=Y+he,b.high=G+ye+(Y>>>0<he>>>0?1:0),P=x.low=P+Ge,x.high=A+Ue+(P>>>0<Ge>>>0?1:0),N=y.low=N+Ze,y.high=z+Ve+(N>>>0<Ze>>>0?1:0),v=T.low=v+ne,T.high=E+F+(v>>>0<ne>>>0?1:0),S=_.low=S+ge,_.high=R+$+(S>>>0<ge>>>0?1:0),O=I.low=O+q,I.high=D+le+(O>>>0<q>>>0?1:0),B=w.low=B+xe,w.high=M+re+(B>>>0<xe>>>0?1:0)},"_doProcessBlock"),_doFinalize:i(function(){var p=this._data,m=p.words,g=this._nDataBytes*8,h=p.sigBytes*8;m[h>>>5]|=128<<24-h%32,m[(h+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(h+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var b=this._hash.toX32();return b},"_doFinalize"),clone:i(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var $S=Q((Xh,BS)=>{(function(e,t,r){typeof Xh=="object"?BS.exports=Xh=t(qt(),bp(),y8()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Xh,function(e){return function(){var t=e,r=t.x64,n=r.Word,o=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:i(function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:i(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var qS=Q((Jh,jS)=>{(function(e,t,r){typeof Jh=="object"?jS.exports=Jh=t(qt(),bp()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Jh,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,f=[],u=[],d=[];(function(){for(var g=1,h=0,b=0;b<24;b++){f[g+5*h]=(b+1)*(b+2)/2%64;var x=h%5,y=(2*g+3*h)%5;g=x,h=y}for(var g=0;g<5;g++)for(var h=0;h<5;h++)u[g+5*h]=h+(2*g+3*h)%5*5;for(var T=1,_=0;_<24;_++){for(var I=0,w=0,j=0;j<7;j++){if(T&1){var V=(1<<j)-1;V<32?w^=1<<V:I^=1<<V-32}T&128?T=T<<1^113:T<<=1}d[_]=l.create(I,w)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:i(function(){for(var g=this._state=[],h=0;h<25;h++)g[h]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:i(function(g,h){for(var b=this._state,x=this.blockSize/2,y=0;y<x;y++){var T=g[h+2*y],_=g[h+2*y+1];T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var I=b[y];I.high^=_,I.low^=T}for(var w=0;w<24;w++){for(var j=0;j<5;j++){for(var V=0,G=0,Y=0;Y<5;Y++){var I=b[j+5*Y];V^=I.high,G^=I.low}var A=p[j];A.high=V,A.low=G}for(var j=0;j<5;j++)for(var P=p[(j+4)%5],z=p[(j+1)%5],N=z.high,E=z.low,V=P.high^(N<<1|E>>>31),G=P.low^(E<<1|N>>>31),Y=0;Y<5;Y++){var I=b[j+5*Y];I.high^=V,I.low^=G}for(var v=1;v<25;v++){var V,G,I=b[v],R=I.high,S=I.low,D=f[v];D<32?(V=R<<D|S>>>32-D,G=S<<D|R>>>32-D):(V=S<<D-32|R>>>64-D,G=R<<D-32|S>>>64-D);var O=p[u[v]];O.high=V,O.low=G}var M=p[0],B=b[0];M.high=B.high,M.low=B.low;for(var j=0;j<5;j++)for(var Y=0;Y<5;Y++){var v=j+5*Y,I=b[v],H=p[v],ae=p[(j+1)%5+5*Y],ye=p[(j+2)%5+5*Y];I.high=H.high^~ae.high&ye.high,I.low=H.low^~ae.low&ye.low}var I=b[0],he=d[w];I.high^=he.high,I.low^=he.low}},"_doProcessBlock"),_doFinalize:i(function(){var g=this._data,h=g.words,b=this._nDataBytes*8,x=g.sigBytes*8,y=this.blockSize*32;h[x>>>5]|=1<<24-x%32,h[(t.ceil((x+1)/y)*y>>>5)-1]|=128,g.sigBytes=h.length*4,this._process();for(var T=this._state,_=this.cfg.outputLength/8,I=_/8,w=[],j=0;j<I;j++){var V=T[j],G=V.high,Y=V.low;G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360,Y=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,w.push(Y),w.push(G)}return new o.init(w,_)},"_doFinalize"),clone:i(function(){for(var g=s.clone.call(this),h=g._state=this._state.slice(0),b=0;b<25;b++)h[b]=h[b].clone();return g},"clone")});r.SHA3=s._createHelper(m),r.HmacSHA3=s._createHmacHelper(m)}(Math),e.SHA3})});var zS=Q((Zh,WS)=>{(function(e,t){typeof Zh=="object"?WS.exports=Zh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Zh,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,s=n.Hasher,a=r.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=a.RIPEMD160=s.extend({_doReset:i(function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:i(function(_,I){for(var w=0;w<16;w++){var j=I+w,V=_[j];_[j]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var G=this._hash.words,Y=d.words,A=p.words,P=l.words,z=c.words,N=f.words,E=u.words,v,R,S,D,O,M,B,H,ae,ye;M=v=G[0],B=R=G[1],H=S=G[2],ae=D=G[3],ye=O=G[4];for(var he,w=0;w<80;w+=1)he=v+_[I+P[w]]|0,w<16?he+=g(R,S,D)+Y[0]:w<32?he+=h(R,S,D)+Y[1]:w<48?he+=b(R,S,D)+Y[2]:w<64?he+=x(R,S,D)+Y[3]:he+=y(R,S,D)+Y[4],he=he|0,he=T(he,N[w]),he=he+O|0,v=O,O=D,D=T(S,10),S=R,R=he,he=M+_[I+z[w]]|0,w<16?he+=y(B,H,ae)+A[0]:w<32?he+=x(B,H,ae)+A[1]:w<48?he+=b(B,H,ae)+A[2]:w<64?he+=h(B,H,ae)+A[3]:he+=g(B,H,ae)+A[4],he=he|0,he=T(he,E[w]),he=he+ye|0,M=ye,ye=ae,ae=T(H,10),H=B,B=he;he=G[1]+S+ae|0,G[1]=G[2]+D+ye|0,G[2]=G[3]+O+M|0,G[3]=G[4]+v+B|0,G[4]=G[0]+R+H|0,G[0]=he},"_doProcessBlock"),_doFinalize:i(function(){var _=this._data,I=_.words,w=this._nDataBytes*8,j=_.sigBytes*8;I[j>>>5]|=128<<24-j%32,I[(j+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_.sigBytes=(I.length+1)*4,this._process();for(var V=this._hash,G=V.words,Y=0;Y<5;Y++){var A=G[Y];G[Y]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return V},"_doFinalize"),clone:i(function(){var _=s.clone.call(this);return _._hash=this._hash.clone(),_},"clone")});function g(_,I,w){return _^I^w}i(g,"f1");function h(_,I,w){return _&I|~_&w}i(h,"f2");function b(_,I,w){return(_|~I)^w}i(b,"f3");function x(_,I,w){return _&w|I&~w}i(x,"f4");function y(_,I,w){return _^(I|~w)}i(y,"f5");function T(_,I){return _<<I|_>>>32-I}i(T,"rotl"),r.RIPEMD160=s._createHelper(m),r.HmacRIPEMD160=s._createHmacHelper(m)}(Math),e.RIPEMD160})});var e2=Q((Qh,HS)=>{(function(e,t){typeof Qh=="object"?HS.exports=Qh=t(qt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Qh,function(e){(function(){var t=e,r=t.lib,n=r.Base,o=t.enc,s=o.Utf8,a=t.algo,l=a.HMAC=n.extend({init:i(function(c,f){c=this._hasher=new c.init,typeof f=="string"&&(f=s.parse(f));var u=c.blockSize,d=u*4;f.sigBytes>d&&(f=c.finalize(f)),f.clamp();for(var p=this._oKey=f.clone(),m=this._iKey=f.clone(),g=p.words,h=m.words,b=0;b<u;b++)g[b]^=1549556828,h[b]^=909522486;p.sigBytes=m.sigBytes=d,this.reset()},"init"),reset:i(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:i(function(c){return this._hasher.update(c),this},"update"),finalize:i(function(c){var f=this._hasher,u=f.finalize(c);f.reset();var d=f.finalize(this._oKey.clone().concat(u));return d},"finalize")})})()})});var VS=Q((t2,GS)=>{(function(e,t,r){typeof t2=="object"?GS.exports=t2=t(qt(),Vh(),e2()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(t2,function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:i(function(f){this.cfg=this.cfg.extend(f)},"init"),compute:i(function(f,u){for(var d=this.cfg,p=l.create(d.hasher,f),m=o.create(),g=o.create([1]),h=m.words,b=g.words,x=d.keySize,y=d.iterations;h.length<x;){var T=p.update(u).finalize(g);p.reset();for(var _=T.words,I=_.length,w=T,j=1;j<y;j++){w=p.finalize(w),p.reset();for(var V=w.words,G=0;G<I;G++)_[G]^=V[G]}m.concat(T),b[0]++}return m.sigBytes=x*4,m},"compute")});t.PBKDF2=function(f,u,d){return c.create(d).compute(f,u)}}(),e.PBKDF2})});var oa=Q((r2,KS)=>{(function(e,t,r){typeof r2=="object"?KS.exports=r2=t(qt(),b8(),e2()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(r2,function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:i(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:i(function(c,f){for(var u,d=this.cfg,p=d.hasher.create(),m=o.create(),g=m.words,h=d.keySize,b=d.iterations;g.length<h;){u&&p.update(u),u=p.update(c).finalize(f),p.reset();for(var x=1;x<b;x++)u=p.finalize(u),p.reset();m.concat(u)}return m.sigBytes=h*4,m},"compute")});t.EvpKDF=function(c,f,u){return l.create(u).compute(c,f)}}(),e.EvpKDF})});var Cn=Q((n2,YS)=>{(function(e,t,r){typeof n2=="object"?YS.exports=n2=t(qt(),oa()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(n2,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,o=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,f=l.Base64,u=r.algo,d=u.EvpKDF,p=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:i(function(A,P){return this.create(this._ENC_XFORM_MODE,A,P)},"createEncryptor"),createDecryptor:i(function(A,P){return this.create(this._DEC_XFORM_MODE,A,P)},"createDecryptor"),init:i(function(A,P,z){this.cfg=this.cfg.extend(z),this._xformMode=A,this._key=P,this.reset()},"init"),reset:i(function(){a.reset.call(this),this._doReset()},"reset"),process:i(function(A){return this._append(A),this._process()},"process"),finalize:i(function(A){A&&this._append(A);var P=this._doFinalize();return P},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(P){return typeof P=="string"?Y:j}return i(A,"selectCipherStrategy"),function(P){return{encrypt:i(function(z,N,E){return A(N).encrypt(P,z,N,E)},"encrypt"),decrypt:i(function(z,N,E){return A(N).decrypt(P,z,N,E)},"decrypt")}}}()}),m=n.StreamCipher=p.extend({_doFinalize:i(function(){var A=this._process(!0);return A},"_doFinalize"),blockSize:1}),g=r.mode={},h=n.BlockCipherMode=o.extend({createEncryptor:i(function(A,P){return this.Encryptor.create(A,P)},"createEncryptor"),createDecryptor:i(function(A,P){return this.Decryptor.create(A,P)},"createDecryptor"),init:i(function(A,P){this._cipher=A,this._iv=P},"init")}),b=g.CBC=function(){var A=h.extend();A.Encryptor=A.extend({processBlock:i(function(z,N){var E=this._cipher,v=E.blockSize;P.call(this,z,N,v),E.encryptBlock(z,N),this._prevBlock=z.slice(N,N+v)},"processBlock")}),A.Decryptor=A.extend({processBlock:i(function(z,N){var E=this._cipher,v=E.blockSize,R=z.slice(N,N+v);E.decryptBlock(z,N),P.call(this,z,N,v),this._prevBlock=R},"processBlock")});function P(z,N,E){var v,R=this._iv;R?(v=R,this._iv=t):v=this._prevBlock;for(var S=0;S<E;S++)z[N+S]^=v[S]}return i(P,"xorBlock"),A}(),x=r.pad={},y=x.Pkcs7={pad:i(function(A,P){for(var z=P*4,N=z-A.sigBytes%z,E=N<<24|N<<16|N<<8|N,v=[],R=0;R<N;R+=4)v.push(E);var S=s.create(v,N);A.concat(S)},"pad"),unpad:i(function(A){var P=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=P},"unpad")},T=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:b,padding:y}),reset:i(function(){var A;p.reset.call(this);var P=this.cfg,z=P.iv,N=P.mode;this._xformMode==this._ENC_XFORM_MODE?A=N.createEncryptor:(A=N.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,z&&z.words):(this._mode=A.call(N,this,z&&z.words),this._mode.__creator=A)},"reset"),_doProcessBlock:i(function(A,P){this._mode.processBlock(A,P)},"_doProcessBlock"),_doFinalize:i(function(){var A,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),P.unpad(A)),A},"_doFinalize"),blockSize:128/32}),_=n.CipherParams=o.extend({init:i(function(A){this.mixIn(A)},"init"),toString:i(function(A){return(A||this.formatter).stringify(this)},"toString")}),I=r.format={},w=I.OpenSSL={stringify:i(function(A){var P,z=A.ciphertext,N=A.salt;return N?P=s.create([1398893684,1701076831]).concat(N).concat(z):P=z,P.toString(f)},"stringify"),parse:i(function(A){var P,z=f.parse(A),N=z.words;return N[0]==1398893684&&N[1]==1701076831&&(P=s.create(N.slice(2,4)),N.splice(0,4),z.sigBytes-=16),_.create({ciphertext:z,salt:P})},"parse")},j=n.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:i(function(A,P,z,N){N=this.cfg.extend(N);var E=A.createEncryptor(z,N),v=E.finalize(P),R=E.cfg;return _.create({ciphertext:v,key:z,iv:R.iv,algorithm:A,mode:R.mode,padding:R.padding,blockSize:A.blockSize,formatter:N.format})},"encrypt"),decrypt:i(function(A,P,z,N){N=this.cfg.extend(N),P=this._parse(P,N.format);var E=A.createDecryptor(z,N).finalize(P.ciphertext);return E},"decrypt"),_parse:i(function(A,P){return typeof A=="string"?P.parse(A,this):A},"_parse")}),V=r.kdf={},G=V.OpenSSL={execute:i(function(A,P,z,N,E){if(N||(N=s.random(64/8)),E)var v=d.create({keySize:P+z,hasher:E}).compute(A,N);else var v=d.create({keySize:P+z}).compute(A,N);var R=s.create(v.words.slice(P),z*4);return v.sigBytes=P*4,_.create({key:v,iv:R,salt:N})},"execute")},Y=n.PasswordBasedCipher=j.extend({cfg:j.cfg.extend({kdf:G}),encrypt:i(function(A,P,z,N){N=this.cfg.extend(N);var E=N.kdf.execute(z,A.keySize,A.ivSize,N.salt,N.hasher);N.iv=E.iv;var v=j.encrypt.call(this,A,P,E.key,N);return v.mixIn(E),v},"encrypt"),decrypt:i(function(A,P,z,N){N=this.cfg.extend(N),P=this._parse(P,N.format);var E=N.kdf.execute(z,A.keySize,A.ivSize,P.salt,N.hasher);N.iv=E.iv;var v=j.decrypt.call(this,A,P,E.key,N);return v},"decrypt")})}()})});var JS=Q((i2,XS)=>{(function(e,t,r){typeof i2=="object"?XS.exports=i2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(i2,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:i(function(n,o){var s=this._cipher,a=s.blockSize;r.call(this,n,o,a,s),this._prevBlock=n.slice(o,o+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:i(function(n,o){var s=this._cipher,a=s.blockSize,l=n.slice(o,o+a);r.call(this,n,o,a,s),this._prevBlock=l},"processBlock")});function r(n,o,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var f=0;f<s;f++)n[o+f]^=l[f]}return i(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var QS=Q((o2,ZS)=>{(function(e,t,r){typeof o2=="object"?ZS.exports=o2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(o2,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:i(function(n,o){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var f=c.slice(0);s.encryptBlock(f,0),c[a-1]=c[a-1]+1|0;for(var u=0;u<a;u++)n[o+u]^=f[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var tw=Q((s2,ew)=>{(function(e,t,r){typeof s2=="object"?ew.exports=s2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(s2,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}i(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}i(n,"incCounter");var o=t.Encryptor=t.extend({processBlock:i(function(s,a){var l=this._cipher,c=l.blockSize,f=this._iv,u=this._counter;f&&(u=this._counter=f.slice(0),this._iv=void 0),n(u);var d=u.slice(0);l.encryptBlock(d,0);for(var p=0;p<c;p++)s[a+p]^=d[p]},"processBlock")});return t.Decryptor=o,t}(),e.mode.CTRGladman})});var nw=Q((a2,rw)=>{(function(e,t,r){typeof a2=="object"?rw.exports=a2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(a2,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:i(function(n,o){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var f=0;f<a;f++)n[o+f]^=c[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var ow=Q((l2,iw)=>{(function(e,t,r){typeof l2=="object"?iw.exports=l2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(l2,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:i(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:i(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var aw=Q((c2,sw)=>{(function(e,t,r){typeof c2=="object"?sw.exports=c2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(c2,function(e){return e.pad.AnsiX923={pad:i(function(t,r){var n=t.sigBytes,o=r*4,s=o-n%o,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:i(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var cw=Q((u2,lw)=>{(function(e,t,r){typeof u2=="object"?lw.exports=u2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(u2,function(e){return e.pad.Iso10126={pad:i(function(t,r){var n=r*4,o=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},"pad"),unpad:i(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var fw=Q((f2,uw)=>{(function(e,t,r){typeof f2=="object"?uw.exports=f2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(f2,function(e){return e.pad.Iso97971={pad:i(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:i(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var mw=Q((d2,dw)=>{(function(e,t,r){typeof d2=="object"?dw.exports=d2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(d2,function(e){return e.pad.ZeroPadding={pad:i(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:i(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var gw=Q((m2,pw)=>{(function(e,t,r){typeof m2=="object"?pw.exports=m2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(m2,function(e){return e.pad.NoPadding={pad:i(function(){},"pad"),unpad:i(function(){},"unpad")},e.pad.NoPadding})});var xw=Q((p2,hw)=>{(function(e,t,r){typeof p2=="object"?hw.exports=p2=t(qt(),Cn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(p2,function(e){return function(t){var r=e,n=r.lib,o=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:i(function(f){return f.ciphertext.toString(a)},"stringify"),parse:i(function(f){var u=a.parse(f);return o.create({ciphertext:u})},"parse")}}(),e.format.Hex})});var yw=Q((g2,bw)=>{(function(e,t,r){typeof g2=="object"?bw.exports=g2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(g2,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,o=t.algo,s=[],a=[],l=[],c=[],f=[],u=[],d=[],p=[],m=[],g=[];(function(){for(var x=[],y=0;y<256;y++)y<128?x[y]=y<<1:x[y]=y<<1^283;for(var T=0,_=0,y=0;y<256;y++){var I=_^_<<1^_<<2^_<<3^_<<4;I=I>>>8^I&255^99,s[T]=I,a[I]=T;var w=x[T],j=x[w],V=x[j],G=x[I]*257^I*16843008;l[T]=G<<24|G>>>8,c[T]=G<<16|G>>>16,f[T]=G<<8|G>>>24,u[T]=G;var G=V*16843009^j*65537^w*257^T*16843008;d[I]=G<<24|G>>>8,p[I]=G<<16|G>>>16,m[I]=G<<8|G>>>24,g[I]=G,T?(T=w^x[x[x[V^w]]],_^=x[x[_]]):T=_=1}})();var h=[0,1,2,4,8,16,32,64,128,27,54],b=o.AES=n.extend({_doReset:i(function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,T=y.words,_=y.sigBytes/4,I=this._nRounds=_+6,w=(I+1)*4,j=this._keySchedule=[],V=0;V<w;V++)V<_?j[V]=T[V]:(x=j[V-1],V%_?_>6&&V%_==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=h[V/_|0]<<24),j[V]=j[V-_]^x);for(var G=this._invKeySchedule=[],Y=0;Y<w;Y++){var V=w-Y;if(Y%4)var x=j[V];else var x=j[V-4];Y<4||V<=4?G[Y]=x:G[Y]=d[s[x>>>24]]^p[s[x>>>16&255]]^m[s[x>>>8&255]]^g[s[x&255]]}}},"_doReset"),encryptBlock:i(function(x,y){this._doCryptBlock(x,y,this._keySchedule,l,c,f,u,s)},"encryptBlock"),decryptBlock:i(function(x,y){var T=x[y+1];x[y+1]=x[y+3],x[y+3]=T,this._doCryptBlock(x,y,this._invKeySchedule,d,p,m,g,a);var T=x[y+1];x[y+1]=x[y+3],x[y+3]=T},"decryptBlock"),_doCryptBlock:i(function(x,y,T,_,I,w,j,V){for(var G=this._nRounds,Y=x[y]^T[0],A=x[y+1]^T[1],P=x[y+2]^T[2],z=x[y+3]^T[3],N=4,E=1;E<G;E++){var v=_[Y>>>24]^I[A>>>16&255]^w[P>>>8&255]^j[z&255]^T[N++],R=_[A>>>24]^I[P>>>16&255]^w[z>>>8&255]^j[Y&255]^T[N++],S=_[P>>>24]^I[z>>>16&255]^w[Y>>>8&255]^j[A&255]^T[N++],D=_[z>>>24]^I[Y>>>16&255]^w[A>>>8&255]^j[P&255]^T[N++];Y=v,A=R,P=S,z=D}var v=(V[Y>>>24]<<24|V[A>>>16&255]<<16|V[P>>>8&255]<<8|V[z&255])^T[N++],R=(V[A>>>24]<<24|V[P>>>16&255]<<16|V[z>>>8&255]<<8|V[Y&255])^T[N++],S=(V[P>>>24]<<24|V[z>>>16&255]<<16|V[Y>>>8&255]<<8|V[A&255])^T[N++],D=(V[z>>>24]<<24|V[Y>>>16&255]<<16|V[A>>>8&255]<<8|V[P&255])^T[N++];x[y]=v,x[y+1]=R,x[y+2]=S,x[y+3]=D},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(b)}(),e.AES})});var vw=Q((h2,_w)=>{(function(e,t,r){typeof h2=="object"?_w.exports=h2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(h2,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=o.extend({_doReset:i(function(){for(var h=this._key,b=h.words,x=[],y=0;y<56;y++){var T=a[y]-1;x[y]=b[T>>>5]>>>31-T%32&1}for(var _=this._subKeys=[],I=0;I<16;I++){for(var w=_[I]=[],j=c[I],y=0;y<24;y++)w[y/6|0]|=x[(l[y]-1+j)%28]<<31-y%6,w[4+(y/6|0)]|=x[28+(l[y+24]-1+j)%28]<<31-y%6;w[0]=w[0]<<1|w[0]>>>31;for(var y=1;y<7;y++)w[y]=w[y]>>>(y-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var V=this._invSubKeys=[],y=0;y<16;y++)V[y]=_[15-y]},"_doReset"),encryptBlock:i(function(h,b){this._doCryptBlock(h,b,this._subKeys)},"encryptBlock"),decryptBlock:i(function(h,b){this._doCryptBlock(h,b,this._invSubKeys)},"decryptBlock"),_doCryptBlock:i(function(h,b,x){this._lBlock=h[b],this._rBlock=h[b+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var y=0;y<16;y++){for(var T=x[y],_=this._lBlock,I=this._rBlock,w=0,j=0;j<8;j++)w|=f[j][((I^T[j])&u[j])>>>0];this._lBlock=I,this._rBlock=_^w}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),h[b]=this._lBlock,h[b+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(h,b){var x=(this._lBlock>>>h^this._rBlock)&b;this._rBlock^=x,this._lBlock^=x<<h}i(p,"exchangeLR");function m(h,b){var x=(this._rBlock>>>h^this._lBlock)&b;this._lBlock^=x,this._rBlock^=x<<h}i(m,"exchangeRL"),t.DES=o._createHelper(d);var g=s.TripleDES=o.extend({_doReset:i(function(){var h=this._key,b=h.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=b.slice(0,2),y=b.length<4?b.slice(0,2):b.slice(2,4),T=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=d.createEncryptor(n.create(x)),this._des2=d.createEncryptor(n.create(y)),this._des3=d.createEncryptor(n.create(T))},"_doReset"),encryptBlock:i(function(h,b){this._des1.encryptBlock(h,b),this._des2.decryptBlock(h,b),this._des3.encryptBlock(h,b)},"encryptBlock"),decryptBlock:i(function(h,b){this._des3.decryptBlock(h,b),this._des2.encryptBlock(h,b),this._des1.decryptBlock(h,b)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=o._createHelper(g)}(),e.TripleDES})});var Ew=Q((x2,Tw)=>{(function(e,t,r){typeof x2=="object"?Tw.exports=x2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(x2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,s=o.RC4=n.extend({_doReset:i(function(){for(var c=this._key,f=c.words,u=c.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var g=p%u,h=f[g>>>2]>>>24-g%4*8&255;m=(m+d[p]+h)%256;var b=d[p];d[p]=d[m],d[m]=b}this._i=this._j=0},"_doReset"),_doProcessBlock:i(function(c,f){c[f]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,f=this._i,u=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,u=(u+c[f])%256;var m=c[f];c[f]=c[u],c[u]=m,d|=c[(c[f]+c[u])%256]<<24-p*8}return this._i=f,this._j=u,d}i(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:i(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Iw=Q((b2,Cw)=>{(function(e,t,r){typeof b2=="object"?Cw.exports=b2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(b2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,s=[],a=[],l=[],c=o.Rabbit=n.extend({_doReset:i(function(){for(var u=this._key.words,d=this.cfg.iv,p=0;p<4;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;var m=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],g=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(d){var h=d.words,b=h[0],x=h[1],y=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,T=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=y>>>16|T&4294901760,I=T<<16|y&65535;g[0]^=y,g[1]^=_,g[2]^=T,g[3]^=I,g[4]^=y,g[5]^=_,g[6]^=T,g[7]^=I;for(var p=0;p<4;p++)f.call(this)}},"_doReset"),_doProcessBlock:i(function(u,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,u[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],g=m&65535,h=m>>>16,b=((g*g>>>17)+g*h>>>15)+h*h,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=b^x}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}i(f,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var ww=Q((y2,Sw)=>{(function(e,t,r){typeof y2=="object"?Sw.exports=y2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(y2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,s=[],a=[],l=[],c=o.RabbitLegacy=n.extend({_doReset:i(function(){var u=this._key.words,d=this.cfg.iv,p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],m=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(d){var h=d.words,b=h[0],x=h[1],y=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,T=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=y>>>16|T&4294901760,I=T<<16|y&65535;m[0]^=y,m[1]^=_,m[2]^=T,m[3]^=I,m[4]^=y,m[5]^=_,m[6]^=T,m[7]^=I;for(var g=0;g<4;g++)f.call(this)}},"_doReset"),_doProcessBlock:i(function(u,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,u[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],g=m&65535,h=m>>>16,b=((g*g>>>17)+g*h>>>15)+h*h,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=b^x}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}i(f,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Rw=Q((_2,Pw)=>{(function(e,t,r){typeof _2=="object"?Pw.exports=_2=t(qt(),sl(),al(),oa(),Cn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(_2,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,o=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(g,h){let b=h>>24&255,x=h>>16&255,y=h>>8&255,T=h&255,_=g.sbox[0][b]+g.sbox[1][x];return _=_^g.sbox[2][y],_=_+g.sbox[3][T],_}i(f,"F");function u(g,h,b){let x=h,y=b,T;for(let _=0;_<s;++_)x=x^g.pbox[_],y=f(g,x)^y,T=x,x=y,y=T;return T=x,x=y,y=T,y=y^g.pbox[s],x=x^g.pbox[s+1],{left:x,right:y}}i(u,"BlowFish_Encrypt");function d(g,h,b){let x=h,y=b,T;for(let _=s+1;_>1;--_)x=x^g.pbox[_],y=f(g,x)^y,T=x,x=y,y=T;return T=x,x=y,y=T,y=y^g.pbox[1],x=x^g.pbox[0],{left:x,right:y}}i(d,"BlowFish_Decrypt");function p(g,h,b){for(let I=0;I<4;I++){g.sbox[I]=[];for(let w=0;w<256;w++)g.sbox[I][w]=l[I][w]}let x=0;for(let I=0;I<s+2;I++)g.pbox[I]=a[I]^h[x],x++,x>=b&&(x=0);let y=0,T=0,_=0;for(let I=0;I<s+2;I+=2)_=u(g,y,T),y=_.left,T=_.right,g.pbox[I]=y,g.pbox[I+1]=T;for(let I=0;I<4;I++)for(let w=0;w<256;w+=2)_=u(g,y,T),y=_.left,T=_.right,g.sbox[I][w]=y,g.sbox[I][w+1]=T;return!0}i(p,"BlowFishInit");var m=o.Blowfish=n.extend({_doReset:i(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,h=g.words,b=g.sigBytes/4;p(c,h,b)}},"_doReset"),encryptBlock:i(function(g,h){var b=u(c,g[h],g[h+1]);g[h]=b.left,g[h+1]=b.right},"encryptBlock"),decryptBlock:i(function(g,h){var b=d(c,g[h],g[h+1]);g[h]=b.left,g[h+1]=b.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var yp=Q((v2,Dw)=>{(function(e,t,r){typeof v2=="object"?Dw.exports=v2=t(qt(),bp(),SS(),PS(),sl(),AS(),al(),b8(),Vh(),MS(),y8(),$S(),qS(),zS(),e2(),VS(),oa(),Cn(),JS(),QS(),tw(),nw(),ow(),aw(),cw(),fw(),mw(),gw(),xw(),yw(),vw(),Ew(),Iw(),ww(),Rw()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(v2,function(e){return e})});var jc=Q(An=>{An.endianness=function(){return"LE"};An.hostname=function(){return typeof location<"u"?location.hostname:""};An.loadavg=function(){return[]};An.uptime=function(){return 0};An.freemem=function(){return Number.MAX_VALUE};An.totalmem=function(){return Number.MAX_VALUE};An.cpus=function(){return[]};An.type=function(){return"Browser"};An.release=function(){return typeof navigator<"u"?navigator.appVersion:""};An.networkInterfaces=An.getNetworkInterfaces=function(){return{}};An.arch=function(){return"javascript"};An.platform=function(){return"browser"};An.tmpdir=An.tmpDir=function(){return"/tmp"};An.EOL=`
`;An.homedir=function(){return"/"}});var Lf=Q((Z5e,Uw)=>{"use strict";function t0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}i(t0,"assertPath");function Mw(e,t){for(var r="",n=0,o=-1,s=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),o=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,o=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(o+1,l):r=e.slice(o+1,l),n=l-o-1;o=l,s=0}else a===46&&s!==-1?++s:s=-1}return r}i(Mw,"normalizeStringPosix");function iV(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}i(iV,"_format");var Of={resolve:i(function(){for(var t="",r=!1,n,o=arguments.length-1;o>=-1&&!r;o--){var s;o>=0?s=arguments[o]:(n===void 0&&(n=process.cwd()),s=n),t0(s),s.length!==0&&(t=s+"/"+t,r=s.charCodeAt(0)===47)}return t=Mw(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},"resolve"),normalize:i(function(t){if(t0(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=Mw(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},"normalize"),isAbsolute:i(function(t){return t0(t),t.length>0&&t.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];t0(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":Of.normalize(t)},"join"),relative:i(function(t,r){if(t0(t),t0(r),t===r||(t=Of.resolve(t),r=Of.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var o=t.length,s=o-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var l=r.length,c=l-a,f=s<c?s:c,u=-1,d=0;d<=f;++d){if(d===f){if(c>f){if(r.charCodeAt(a+d)===47)return r.slice(a+d+1);if(d===0)return r.slice(a+d)}else s>f&&(t.charCodeAt(n+d)===47?u=d:d===0&&(u=0));break}var p=t.charCodeAt(n+d),m=r.charCodeAt(a+d);if(p!==m)break;p===47&&(u=d)}var g="";for(d=n+u+1;d<=o;++d)(d===o||t.charCodeAt(d)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+u):(a+=u,r.charCodeAt(a)===47&&++a,r.slice(a))},"relative"),_makeLong:i(function(t){return t},"_makeLong"),dirname:i(function(t){if(t0(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,o=-1,s=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!s){o=a;break}}else s=!1;return o===-1?n?"/":".":n&&o===1?"//":t.slice(0,o)},"dirname"),basename:i(function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');t0(t);var n=0,o=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,c=-1;for(a=t.length-1;a>=0;--a){var f=t.charCodeAt(a);if(f===47){if(!s){n=a+1;break}}else c===-1&&(s=!1,c=a+1),l>=0&&(f===r.charCodeAt(l)?--l===-1&&(o=a):(l=-1,o=c))}return n===o?o=c:o===-1&&(o=t.length),t.slice(n,o)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){n=a+1;break}}else o===-1&&(s=!1,o=a+1);return o===-1?"":t.slice(n,o)}},"basename"),extname:i(function(t){t0(t);for(var r=-1,n=0,o=-1,s=!0,a=0,l=t.length-1;l>=0;--l){var c=t.charCodeAt(l);if(c===47){if(!s){n=l+1;break}continue}o===-1&&(s=!1,o=l+1),c===46?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||o===-1||a===0||a===1&&r===o-1&&r===n+1?"":t.slice(r,o)},"extname"),format:i(function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return iV("/",t)},"format"),parse:i(function(t){t0(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),o=n===47,s;o?(r.root="/",s=1):s=0;for(var a=-1,l=0,c=-1,f=!0,u=t.length-1,d=0;u>=s;--u){if(n=t.charCodeAt(u),n===47){if(!f){l=u+1;break}continue}c===-1&&(f=!1,c=u+1),n===46?a===-1?a=u:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&o?r.base=r.name=t.slice(1,c):r.base=r.name=t.slice(l,c)):(l===0&&o?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(l,a),r.base=t.slice(l,c)),r.ext=t.slice(a,c)),l>0?r.dir=t.slice(0,l-1):o&&(r.dir="/"),r},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Of.posix=Of;Uw.exports=Of});var _A=Q(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0});c0.bytePairEncode=c0.BinaryMap=c0.binaryMapKey=void 0;var _Q=i((e,t,r)=>{let n=r-t,o=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&o,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");c0.binaryMapKey=_Q;var G_=class e{static{i(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let o=n<6+r,s=(0,c0.binaryMapKey)(t,r,n);return o?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,c0.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};c0.BinaryMap=G_;var l0=new Int32Array(128),Ei=new Int32Array(128);function vQ(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,o=-1;for(;l0.length<r*2;)Ei=new Int32Array(Ei.length*2),l0=new Int32Array(l0.length*2);for(let c=0;c<r-1;c++){let f=t.get(e,c,c+2)??2147483647;f<n&&(n=f,o=c),Ei[c]=c,l0[c]=f}Ei[r-1]=r-1,l0[r-1]=2147483647,Ei[r]=r,l0[r]=2147483647;let s=r+1;function a(c,f=0){if(c+f+2<s){let u=t.get(e,Ei[c],Ei[c+f+2]);if(u!==void 0)return u}return 2147483647}for(i(a,"getRank");n!==2147483647;){l0[Ei[o]]=a(o,1),o>0&&(l0[Ei[o-1]]=a(o-1,1));for(let c=o+1;c<s-1;c++)Ei[c]=Ei[c+1];s--,o=-1,n=2147483647;for(let c=0;c<s-1;c++){let f=l0[Ei[c]];l0[Ei[c]]<n&&(n=f,o=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,Ei[c],Ei[c+1]));return l}i(vQ,"bytePairEncode");c0.bytePairEncode=vQ});var vA=Q(E5=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});E5.makeTextEncoder=void 0;var V_=class{static{i(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},K_=class{static{i(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},TQ=i(()=>typeof Buffer<"u"?new K_:new V_,"makeTextEncoder");E5.makeTextEncoder=TQ});var TA=Q(C5=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});C5.LRUCache=void 0;var Y_=class{static{i(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let o=new X_(t,r);this.nodes.set(t,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};C5.LRUCache=Y_;var X_=class{static{i(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var Z_=Q(S5=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});S5.TikTokenizer=void 0;var I5=_A(),EQ=vA(),CQ=TA();function IQ(e){let t=new Map;try{let o=require("fs").readFileSync(e,"utf-8");return r(o),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let o of n.split(/[\r\n]+/)){if(o.trim()==="")continue;let s=o.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}i(r,"processBpeRanks")}i(IQ,"loadTikTokenBpe");function SQ(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(SQ,"escapeRegExp");var J_=class{static{i(this,"TikTokenizer")}constructor(t,r,n,o=8192){this.textEncoder=(0,EQ.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new CQ.LRUCache(o);let s=typeof t=="string"?IQ(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new I5.BinaryMap;for(let[o,s]of t)this.encoder.set(o,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(o=>SQ(o)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[o,s]of t)this.decoder.set(s,o);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,s]of r)this.specialTokensDecoder.set(s,o)}findNextSpecialToken(t,r,n){let o=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(o).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)o+=s.index+1;let a=s?o+s.index:t.length;return[s,a]}encode(t,r){let n=[],o=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,o,r),a>o&&this.encodeByIndex(t,n,o,a),s){if(o=o+this.encodeSpecialToken(n,s),o>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,o){let s,a=t.substring(n,o);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),f=this.encoder.get(c,0,this.textEncoder.length);if(f!==void 0)r.push(f),this.cache.set(s[0],[f]);else{let u=(0,I5.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let d of u)r.push(d);this.cache.set(s[0],u)}}}}encodeTrimSuffixByIndex(t,r,n,o,s,a,l){let c,f=t.substring(n,o);for(this.regex.lastIndex=0;c=this.regex.exec(f);){let u=c[0],d=this.cache.get(u);if(d)if(a+d.length<=s)a+=d.length,l+=u.length,r.push(...d);else{let p=s-a;a+=p,l+=u.length,r.push(...d.slice(0,p));break}else{let p=this.textEncoder.encode(u),m=this.encoder.get(p,0,p.length);if(m!==void 0)if(this.cache.set(u,[m]),a+1<=s)a++,l+=u.length,r.push(m);else break;else{let g=(0,I5.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(u,g),a+g.length<=s){a+=g.length,l+=u.length;for(let h of g)r.push(h)}else{let h=s-a;a+=h,l+=u.length;for(let b=0;b<h;b++)r.push(g[b]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let o=[],s=0,a=0,l=0;for(;;){let f,u;if([f,u]=this.findNextSpecialToken(t,s,n),u>s){let{tokenCount:d,encodeLength:p}=this.encodeTrimSuffixByIndex(t,o,s,u,r,a,l);if(a=d,l=p,a>=r)break}if(f!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(o,f),l+=f[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:o,text:c}}encodeTrimPrefix(t,r,n){let o=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let p,m;if([p,m]=this.findNextSpecialToken(t,s,n),m>s){let g,h=t.substring(s,m);for(this.regex.lastIndex=0;g=this.regex.exec(h);){let b=g[0],x=this.cache.get(b);if(x)a+=x.length,l+=b.length,o.push(...x),c.set(a,l);else{let y=this.textEncoder.encode(b),T=this.encoder.get(y);if(T!==void 0)this.cache.set(b,[T]),a++,l+=b.length,o.push(T),c.set(a,l);else{let _=(0,I5.bytePairEncode)(y,this.encoder,this.textEncoder.length);this.cache.set(b,_),a+=_.length,l+=b.length;for(let I of _)o.push(I);c.set(a,l)}}}}if(p!==null){if(s=s+this.encodeSpecialToken(o,p),a++,l+=p[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:o,text:t};let f=a-r,u=0,d=0;for(let[p,m]of c)if(p>=f){u=p,d=m;break}if(u>r){let p=this.encode(t,n),m=p.slice(p.length-r);return{tokenIds:m,text:this.decode(m)}}return{tokenIds:o.slice(u),text:t.slice(d)}}decode(t){let r=[];for(let n of t){let o=[],s=this.decoder?.get(n);if(s!==void 0)o=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);o=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...o)}return this.textDecoder.decode(new Uint8Array(r))}};S5.TikTokenizer=J_});var NA=Q(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.createTokenizer=gn.createByEncoderName=gn.createByModelName=gn.getRegexByModel=gn.getRegexByEncoder=gn.getSpecialTokensByModel=gn.getSpecialTokensByEncoder=gn.MODEL_TO_ENCODING=void 0;var wQ=Z_(),PQ=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);gn.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var w5="<|endoftext|>",EA="<|fim_prefix|>",CA="<|fim_middle|>",IA="<|fim_suffix|>",SA="<|endofprompt|>",Yp="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",wA="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",RQ=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],PA=RQ.join("|");function Q_(e){let t="";if(gn.MODEL_TO_ENCODING.has(e))t=gn.MODEL_TO_ENCODING.get(e);else for(let[r,n]of PQ)if(e.startsWith(r)){t=n;break}return t}i(Q_,"getEncoderFromModelName");async function DQ(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let o=await n.text();r.writeFileSync(t,o)}i(DQ,"fetchAndSaveFile");function e6(e){let t=new Map([[w5,50256]]);switch(e){case"o200k_base":t=new Map([[w5,199999],[SA,200018]]);break;case"cl100k_base":t=new Map([[w5,100257],[EA,100258],[CA,100259],[IA,100260],[SA,100276]]);break;case"p50k_edit":t=new Map([[w5,50256],[EA,50281],[CA,50282],[IA,50283]]);break;default:break}return t}i(e6,"getSpecialTokensByEncoder");gn.getSpecialTokensByEncoder=e6;function AQ(e){let t=Q_(e);return e6(t)}i(AQ,"getSpecialTokensByModel");gn.getSpecialTokensByModel=AQ;function RA(e){switch(e){case"o200k_base":return PA;case"cl100k_base":return wA;default:break}return Yp}i(RA,"getRegexByEncoder");gn.getRegexByEncoder=RA;function NQ(e){let t=Q_(e);return RA(t)}i(NQ,"getRegexByModel");gn.getRegexByModel=NQ;async function kQ(e,t=null){return DA(Q_(e),t)}i(kQ,"createByModelName");gn.createByModelName=kQ;async function DA(e,t=null){let r,n,o=e6(e);switch(e){case"o200k_base":r=PA,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=wA,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=Yp,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=Yp,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=Yp,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=Yp,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(o=new Map([...o,...t]));let s=require("fs"),a=Lf(),l=a.basename(n),c=a.resolve("","..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let f=a.resolve(c,l);return s.existsSync(f)||(console.log(`Downloading file from ${n}`),await DQ(n,f),console.log(`Saved file to ${f}`)),AA(f,o,r)}i(DA,"createByEncoderName");gn.createByEncoderName=DA;function AA(e,t,r,n=8192){return new wQ.TikTokenizer(e,t,r,n)}i(AA,"createTokenizer");gn.createTokenizer=AA});var kA=Q(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.createTokenizer=hn.createByEncoderName=hn.createByModelName=hn.getSpecialTokensByModel=hn.getSpecialTokensByEncoder=hn.getRegexByModel=hn.getRegexByEncoder=hn.MODEL_TO_ENCODING=hn.TikTokenizer=void 0;var OQ=Z_();Object.defineProperty(hn,"TikTokenizer",{enumerable:!0,get:i(function(){return OQ.TikTokenizer},"get")});var Cl=NA();Object.defineProperty(hn,"MODEL_TO_ENCODING",{enumerable:!0,get:i(function(){return Cl.MODEL_TO_ENCODING},"get")});Object.defineProperty(hn,"getRegexByEncoder",{enumerable:!0,get:i(function(){return Cl.getRegexByEncoder},"get")});Object.defineProperty(hn,"getRegexByModel",{enumerable:!0,get:i(function(){return Cl.getRegexByModel},"get")});Object.defineProperty(hn,"getSpecialTokensByEncoder",{enumerable:!0,get:i(function(){return Cl.getSpecialTokensByEncoder},"get")});Object.defineProperty(hn,"getSpecialTokensByModel",{enumerable:!0,get:i(function(){return Cl.getSpecialTokensByModel},"get")});Object.defineProperty(hn,"createByModelName",{enumerable:!0,get:i(function(){return Cl.createByModelName},"get")});Object.defineProperty(hn,"createByEncoderName",{enumerable:!0,get:i(function(){return Cl.createByEncoderName},"get")});Object.defineProperty(hn,"createTokenizer",{enumerable:!0,get:i(function(){return Cl.createTokenizer},"get")})});var h6=Q((Uze,oN)=>{"use strict";oN.exports=i(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var o=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?o[r]:o},"protocols")});var aN=Q(($ze,sN)=>{"use strict";var Sie=h6();function wie(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Sie(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}i(wie,"parsePath");sN.exports=wie});var mN=Q((qze,dN)=>{"use strict";var Pie=aN();function Rie(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}i(Rie,"_interopDefaultLegacy");var Die=Rie(Pie);function Aie(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=i(function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var s=Function.bind.apply(t,o);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:i(function(){return e[n]},"get")})}),r}i(Aie,"getAugmentedNamespace");var cN={},Nie="text/plain",kie="us-ascii",lN=i((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Oie=i((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:o,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),u=[...a.map(d=>{let[p,m=""]=d.split("=").map(g=>g.trim());return p==="charset"&&(m=m.toLowerCase(),m===kie)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return l&&u.push("base64"),(u.length>0||c&&c!==Nie)&&u.unshift(c),`data:${u.join(";")},${l?o.trim():o}${s?`#${s}`:""}`},"normalizeDataURL");function Lie(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Oie(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let o=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&o.protocol==="https:"&&(o.protocol="http:"),t.forceHttps&&o.protocol==="http:"&&(o.protocol="https:"),t.stripAuthentication&&(o.username="",o.password=""),t.stripHash?o.hash="":t.stripTextFragment&&(o.hash=o.hash.replace(/#?:~:text.*?$/i,"")),o.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let u=a.exec(o.pathname);if(!u)break;let d=u[0],p=u.index,m=o.pathname.slice(l,p);c+=m.replace(/\/{2,}/g,"/"),c+=d,l=p+d.length}let f=o.pathname.slice(l,o.pathname.length);c+=f.replace(/\/{2,}/g,"/"),o.pathname=c}if(o.pathname)try{o.pathname=decodeURI(o.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=o.pathname.split("/"),l=a[a.length-1];lN(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),o.pathname=a.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...o.searchParams.keys()])lN(a,t.removeQueryParameters)&&o.searchParams.delete(a);if(t.removeQueryParameters===!0&&(o.search=""),t.sortQueryParameters){o.searchParams.sort();try{o.search=decodeURIComponent(o.search)}catch{}}t.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,""));let s=e;return e=o.toString(),!t.removeSingleSlash&&o.pathname==="/"&&!s.endsWith("/")&&o.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||o.pathname==="/")&&o.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}i(Lie,"normalizeUrl");var Fie=Object.freeze({__proto__:null,default:Lie}),Mie=Aie(Fie);Object.defineProperty(cN,"__esModule",{value:!0});var Uie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bie=Mie,$ie=uN(Bie),jie=Die.default,qie=uN(jie);function uN(e){return e&&e.__esModule?e:{default:e}}i(uN,"_interopRequireDefault");var fN=i(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,o=i(function(c){var f=new Error(c);throw f.subject_url=t,f},"throwErr");(typeof t!="string"||!t.trim())&&o("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&o("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Uie(r))!=="object"&&(r={stripHash:!1}),t=(0,$ie.default)(t,r));var s=(0,qie.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):o("URL parsing failed.")}return s},"parseUrl");fN.MAX_INPUT_LENGTH=2048;var Wie=cN.default=fN;dN.exports=Wie});var hN=Q((zze,gN)=>{"use strict";var zie=h6();function pN(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=zie(e);if(e=e.substring(e.indexOf("://")+3),pN(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}i(pN,"isSsh");gN.exports=pN});var yN=Q((Gze,bN)=>{"use strict";var Hie=mN(),xN=hN();function Gie(e){let t=Hie(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),xN(t.protocols)||t.protocols.length===0&&xN(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}i(Gie,"gitUp");bN.exports=Gie});var vN=Q((Kze,_N)=>{"use strict";var Vie=yN();function x6(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(y){return typeof y=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Vie(e),o=n.resource.split("."),s=null;switch(n.toString=function(y){return x6.stringify(this,y)},n.source=o.length>2?o.slice(1-o.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=o[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),f=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("issues",2),p=s.indexOf("src",2),m=s.indexOf("raw",2),g=s.indexOf("edit",2);a=l>0?l-1:c>0&&f>0?Math.min(c-1,f-1):c>0?c-1:d>0?d-1:f>0?f-1:u>0?u-1:p>0?p-1:m>0?m-1:g>0?g-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],u&&d<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var h=s.length>a&&s[a+1]==="-"?a+1:a;s.length>h+2&&["raw","src","blob","tree","edit"].indexOf(s[h+1])>=0&&(n.filepathtype=s[h+1],n.ref=s[h+2],s.length>h+3&&(n.filepath=s.slice(h+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var b=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=b.exec(n.pathname);return x!=null&&(n.source="bitbucket-server",x[1]==="users"?n.owner="~"+x[2]:n.owner=x[2],n.organization=n.owner,n.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Xie(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}i(x6,"gitUrlParse");x6.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",o=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+o:n+"@"+e.resource+":"+e.full_name+o;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+o;case"http":case"https":var s=e.token?Kie(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Yie(e)+o;default:return e.href}};function Kie(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}i(Kie,"buildToken");function Yie(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}i(Yie,"buildPath");function Xie(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}i(Xie,"findLongestMatchingSubstring");_N.exports=x6});var V5=Q((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{i(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}i(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=Lf();scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":"/",read_=i((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=i(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=i((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,o){n?r(n):t(o.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=i((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=i(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,o));for(var s="";t<o;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var f=a-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var o=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-o}i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}i(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}i(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}i(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}i(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}i(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}i(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}i(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}i(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(o,s){var a=o.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}i(t,"t");function r(o){t(o.instance,o.module)}i(r,"r");function n(o){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(o,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(i(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(o){return err("Module.instantiateWasm callback failed with error: "+o),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(o){return WebAssembly.instantiateStreaming(o,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:i(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var x=0,y=1;;){var T=e[t++];if(x+=(127&T)*y,y*=128,!(128&T))break}return x}i(n,"_");function o(){var x=n();return UTF8ArrayToString(e,(t+=x)-x,x)}i(o,"n");function s(x,y){if(x)throw new Error(y)}i(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=o()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();for(var u=n(),d=0;d<u;++d){var p=o();f.neededDynlibs.push(p)}}else for(s(a!=="dylink.0");t<r;){var m=e[t++],g=n();if(m===1)f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();else if(m===2)for(u=n(),d=0;d<u;++d)p=o(),f.neededDynlibs.push(p);else if(m===3)for(var h=n();h--;){var b=o();256&n()&&f.tlsExports.add(b)}else if(m===4)for(h=n();h--;)o(),b=o(),(3&n())==1&&f.weakImports.add(b);else t+=g}return f}i(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}i(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}i(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}i(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}i(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}i(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}i(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),o={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(o[n[s]]);r=="v"?t.push(0):t.push(1,o[r])}i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(o,{e:{f:e}}).exports.f}i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}i(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}i(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}i(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var o in e){var s=e[o];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[o]=s}return updateGOT(n,r),n}i(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:i(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function o(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(f,u){readAsync(l,d=>f(new Uint8Array(d)),u)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}i(o,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?o(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(o(e),t,r)}i(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return i(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}i(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var o=t*(1+.2/n);if(o=Math.min(o,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,o))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:i(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:i(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var o=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=o%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:i(function(e,t,r,n,o){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,o,r,n)},"doMsync"),varargs:void 0,get:i(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:i(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:i(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}i(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}i(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,o){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}i(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var o=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;o+=c,n!==void 0&&(n+=c)}return o}i(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var o=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=o,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}i(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,o){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(o,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(o,0,"i32")}i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}i(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,s=0;s<o;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}i(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),o=n>>2;e.forEach(a=>{HEAP32[o++]=allocateUTF8OnStack(a)}),HEAP32[o]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}i(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{i(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=i((c,f,u)=>t.slice(c,u),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,s=0;if(n&&n.includedRanges){o=n.includedRanges.length,s=C._calloc(o,SIZE_OF_RANGE);let c=s;for(let f=0;f<o;f++)marshalRange(c,n.includedRanges[f]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,o);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{i(this,"Tree")}constructor(t,r,n,o){assertInternal(t),this[0]=r,this.language=n,this.textCallback=o}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)o[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return o}}class Node{static{i(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let o=0;o<t;o++)this._children[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let o=0;o<t;o++)this._namedChildren[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let o=[],s=this.tree.language.types;for(let u=0,d=s.length;u<d;u++)t.includes(s[u])&&o.push(u);let a=C._malloc(SIZE_OF_INT*o.length);for(let u=0,d=o.length;u<d;u++)setValue(a+u*SIZE_OF_INT,o[u],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,o.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(l);if(l>0){let u=c;for(let d=0;d<l;d++)f[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE}return C._free(c),C._free(a),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{i(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{i(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,o=this.types.length;n<o;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,o=this.fields.length;n<o;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),o=C._malloc(n+1);stringToUTF8(t,o,n+1);let s=C._ts_language_symbol_for_name(this[0],o,n,r);return C._free(o),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let o=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,x=t.substr(b,100).split(`
`)[0],y,T=x.match(QUERY_WORD_REGEX)[0];switch(h){case 2:y=new RangeError(`Bad node name '${T}'`);break;case 3:y=new RangeError(`Bad field name '${T}'`);break;case 4:y=new RangeError(`Bad capture name @${T}`);break;case 5:y=new TypeError(`Bad pattern structure at offset ${b}: '${x}'...`),T="";break;default:y=new SyntaxError(`Bad syntax at offset ${b}: '${x}'...`),T=""}throw y.index=b,y.length=T.length,C._free(n),y}let s=C._ts_query_string_count(o),a=C._ts_query_capture_count(o),l=C._ts_query_pattern_count(o),c=new Array(a),f=new Array(s);for(let h=0;h<a;h++){let b=C._ts_query_capture_name_for_id(o,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");c[h]=UTF8ToString(b,x)}for(let h=0;h<s;h++){let b=C._ts_query_string_value_for_id(o,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");f[h]=UTF8ToString(b,x)}let u=new Array(l),d=new Array(l),p=new Array(l),m=new Array(l),g=new Array(l);for(let h=0;h<l;h++){let b=C._ts_query_predicates_for_pattern(o,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");m[h]=[],g[h]=[];let y=[],T=b;for(let _=0;_<x;_++){let I=getValue(T,"i32");T+=SIZE_OF_INT;let w=getValue(T,"i32");if(T+=SIZE_OF_INT,I===PREDICATE_STEP_TYPE_CAPTURE)y.push({type:"capture",name:c[w]});else if(I===PREDICATE_STEP_TYPE_STRING)y.push({type:"string",value:f[w]});else if(y.length>0){if(y[0].type!=="string")throw new Error("Predicates must begin with a literal value");let j=y[0].value,V=!0;switch(j){case"not-eq?":V=!1;case"eq?":if(y.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(y.length-1));if(y[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${y[1].value}"`);if(y[2].type==="capture"){let P=y[1].name,z=y[2].name;g[h].push(function(N){let E,v;for(let R of N)R.name===P&&(E=R.node),R.name===z&&(v=R.node);return E===void 0||v===void 0||E.text===v.text===V})}else{let P=y[1].name,z=y[2].value;g[h].push(function(N){for(let E of N)if(E.name===P)return E.node.text===z===V;return!0})}break;case"not-match?":V=!1;case"match?":if(y.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${y.length-1}.`);if(y[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${y[1].value}".`);if(y[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${y[2].value}.`);let G=y[1].name,Y=new RegExp(y[2].value);g[h].push(function(P){for(let z of P)if(z.name===G)return Y.test(z.node.text)===V;return!0});break;case"set!":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(P=>P.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[h]||(u[h]={}),u[h][y[1].value]=y[2]?y[2].value:null;break;case"is?":case"is-not?":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#${j}\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(P=>P.type!=="string"))throw new Error(`Arguments to \`#${j}\` predicate must be a strings.".`);let A=j==="is?"?d:p;A[h]||(A[h]={}),A[h][y[1].value]=y[2]?y[2].value:null;break;default:m[h].push({operator:j,operands:y.slice(1)})}y.length=0}}Object.freeze(u[h]),Object.freeze(d[h]),Object.freeze(p[h])}return C._free(n),new Query(INTERNAL,o,c,g,m,Object.freeze(u),Object.freeze(d),Object.freeze(p))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let o=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(o))}else r=fetch(o).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(o=>n(o,{loadAsync:!0})).then(o=>{let s=Object.keys(o),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=o[a]();return new Language(INTERNAL,l)})}}class Query{static{i(this,"Query")}constructor(t,r,n,o,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=o,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,o){r||(r=ZERO_POINT),n||(n=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(a);this.exceededMatchLimit=!!c;let u=0,d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=new Array(g);if(d=unmarshalCaptures(this,t.tree,d,h),this.textPredicates[m].every(b=>b(h))){f[u++]={pattern:m,captures:h};let b=this.setProperties[m];b&&(f[p].setProperties=b);let x=this.assertedProperties[m];x&&(f[p].assertedProperties=x);let y=this.refutedProperties[m];y&&(f[p].refutedProperties=y)}}return f.length=u,C._free(l),f}captures(t,r,n,o){r||(r=ZERO_POINT),n||(n=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!c;let u=[],d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=getValue(d,"i32");if(d+=SIZE_OF_INT,u.length=g,d=unmarshalCaptures(this,t.tree,d,u),this.textPredicates[m].every(b=>b(u))){let b=u[h],x=this.setProperties[m];x&&(b.setProperties=x);let y=this.assertedProperties[m];y&&(b.assertedProperties=y);let T=this.refutedProperties[m];T&&(b.refutedProperties=T),f.push(b)}}return C._free(l),f}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,o=e.textCallback(t,null,r);for(t+=o.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,o+=s}return t>r&&(o=o.slice(0,n)),o}i(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let o=0,s=n.length;o<s;o++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[o]={name:e.captureNames[a],node:l}}return r}i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}i(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}i(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}i(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),o=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:o,column:s},l[0]=a,l}i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}i(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}i(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}i(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}i(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}i(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var d1=Q((LHe,k6)=>{"use strict";var vd=typeof Reflect=="object"?Reflect:null,AN=vd&&typeof vd.apply=="function"?vd.apply:i(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),J5;vd&&typeof vd.ownKeys=="function"?J5=vd.ownKeys:Object.getOwnPropertySymbols?J5=i(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):J5=i(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function moe(e){console&&console.warn&&console.warn(e)}i(moe,"ProcessEmitWarning");var kN=Number.isNaN||i(function(t){return t!==t},"NumberIsNaN");function yr(){yr.init.call(this)}i(yr,"EventEmitter");k6.exports=yr;k6.exports.once=xoe;yr.EventEmitter=yr;yr.prototype._events=void 0;yr.prototype._eventsCount=0;yr.prototype._maxListeners=void 0;var NN=10;function Z5(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}i(Z5,"checkListener");Object.defineProperty(yr,"defaultMaxListeners",{enumerable:!0,get:i(function(){return NN},"get"),set:i(function(e){if(typeof e!="number"||e<0||kN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");NN=e},"set")});yr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};yr.prototype.setMaxListeners=i(function(t){if(typeof t!="number"||t<0||kN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function ON(e){return e._maxListeners===void 0?yr.defaultMaxListeners:e._maxListeners}i(ON,"_getMaxListeners");yr.prototype.getMaxListeners=i(function(){return ON(this)},"getMaxListeners");yr.prototype.emit=i(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")AN(c,this,r);else for(var f=c.length,u=BN(c,f),n=0;n<f;++n)AN(u[n],this,r);return!0},"emit");function LN(e,t,r,n){var o,s,a;if(Z5(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),o=ON(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,moe(l)}return e}i(LN,"_addListener");yr.prototype.addListener=i(function(t,r){return LN(this,t,r,!1)},"addListener");yr.prototype.on=yr.prototype.addListener;yr.prototype.prependListener=i(function(t,r){return LN(this,t,r,!0)},"prependListener");function poe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}i(poe,"onceWrapper");function FN(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=poe.bind(n);return o.listener=r,n.wrapFn=o,o}i(FN,"_onceWrap");yr.prototype.once=i(function(t,r){return Z5(r),this.on(t,FN(this,t,r)),this},"once");yr.prototype.prependOnceListener=i(function(t,r){return Z5(r),this.prependListener(t,FN(this,t,r)),this},"prependOnceListener");yr.prototype.removeListener=i(function(t,r){var n,o,s,a,l;if(Z5(r),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():goe(n,s),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},"removeListener");yr.prototype.off=yr.prototype.removeListener;yr.prototype.removeAllListeners=i(function(t){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this},"removeAllListeners");function MN(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?hoe(o):BN(o,o.length)}i(MN,"_listeners");yr.prototype.listeners=i(function(t){return MN(this,t,!0)},"listeners");yr.prototype.rawListeners=i(function(t){return MN(this,t,!1)},"rawListeners");yr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):UN.call(e,t)};yr.prototype.listenerCount=UN;function UN(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}i(UN,"listenerCount");yr.prototype.eventNames=i(function(){return this._eventsCount>0?J5(this._events):[]},"eventNames");function BN(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}i(BN,"arrayClone");function goe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}i(goe,"spliceOne");function hoe(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}i(hoe,"unwrapListeners");function xoe(e,t){return new Promise(function(r,n){function o(a){e.removeListener(t,s),n(a)}i(o,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),r([].slice.call(arguments))}i(s,"resolver"),$N(e,t,s,{once:!0}),t!=="error"&&boe(e,o,{once:!0})})}i(xoe,"once");function boe(e,t,r){typeof e.on=="function"&&$N(e,"error",t,r)}i(boe,"addErrorHandlerIfEventEmitter");function $N(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,i(function o(s){n.once&&e.removeEventListener(t,o),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}i($N,"eventTargetAgnosticAddListener")});var Cd=Q(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.stringArray=ai.array=ai.func=ai.error=ai.number=ai.string=ai.boolean=void 0;function sse(e){return e===!0||e===!1}i(sse,"boolean");ai.boolean=sse;function sk(e){return typeof e=="string"||e instanceof String}i(sk,"string");ai.string=sk;function ase(e){return typeof e=="number"||e instanceof Number}i(ase,"number");ai.number=ase;function lse(e){return e instanceof Error}i(lse,"error");ai.error=lse;function cse(e){return typeof e=="function"}i(cse,"func");ai.func=cse;function ak(e){return Array.isArray(e)}i(ak,"array");ai.array=ak;function use(e){return ak(e)&&e.every(t=>sk(t))}i(use,"stringArray");ai.stringArray=use});var h7=Q(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.Message=Xe.NotificationType9=Xe.NotificationType8=Xe.NotificationType7=Xe.NotificationType6=Xe.NotificationType5=Xe.NotificationType4=Xe.NotificationType3=Xe.NotificationType2=Xe.NotificationType1=Xe.NotificationType0=Xe.NotificationType=Xe.RequestType9=Xe.RequestType8=Xe.RequestType7=Xe.RequestType6=Xe.RequestType5=Xe.RequestType4=Xe.RequestType3=Xe.RequestType2=Xe.RequestType1=Xe.RequestType=Xe.RequestType0=Xe.AbstractMessageSignature=Xe.ParameterStructures=Xe.ResponseError=Xe.ErrorCodes=void 0;var uu=Cd(),G6;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(G6||(Xe.ErrorCodes=G6={}));var V6=class e extends Error{static{i(this,"ResponseError")}constructor(t,r,n){super(r),this.code=uu.number(t)?t:G6.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Xe.ResponseError=V6;var qi=class e{static{i(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Xe.ParameterStructures=qi;qi.auto=new qi("auto");qi.byPosition=new qi("byPosition");qi.byName=new qi("byName");var kr=class{static{i(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return qi.auto}};Xe.AbstractMessageSignature=kr;var K6=class extends kr{static{i(this,"RequestType0")}constructor(t){super(t,0)}};Xe.RequestType0=K6;var Y6=class extends kr{static{i(this,"RequestType")}constructor(t,r=qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType=Y6;var X6=class extends kr{static{i(this,"RequestType1")}constructor(t,r=qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType1=X6;var J6=class extends kr{static{i(this,"RequestType2")}constructor(t){super(t,2)}};Xe.RequestType2=J6;var Z6=class extends kr{static{i(this,"RequestType3")}constructor(t){super(t,3)}};Xe.RequestType3=Z6;var Q6=class extends kr{static{i(this,"RequestType4")}constructor(t){super(t,4)}};Xe.RequestType4=Q6;var e7=class extends kr{static{i(this,"RequestType5")}constructor(t){super(t,5)}};Xe.RequestType5=e7;var t7=class extends kr{static{i(this,"RequestType6")}constructor(t){super(t,6)}};Xe.RequestType6=t7;var r7=class extends kr{static{i(this,"RequestType7")}constructor(t){super(t,7)}};Xe.RequestType7=r7;var n7=class extends kr{static{i(this,"RequestType8")}constructor(t){super(t,8)}};Xe.RequestType8=n7;var i7=class extends kr{static{i(this,"RequestType9")}constructor(t){super(t,9)}};Xe.RequestType9=i7;var o7=class extends kr{static{i(this,"NotificationType")}constructor(t,r=qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType=o7;var s7=class extends kr{static{i(this,"NotificationType0")}constructor(t){super(t,0)}};Xe.NotificationType0=s7;var a7=class extends kr{static{i(this,"NotificationType1")}constructor(t,r=qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType1=a7;var l7=class extends kr{static{i(this,"NotificationType2")}constructor(t){super(t,2)}};Xe.NotificationType2=l7;var c7=class extends kr{static{i(this,"NotificationType3")}constructor(t){super(t,3)}};Xe.NotificationType3=c7;var u7=class extends kr{static{i(this,"NotificationType4")}constructor(t){super(t,4)}};Xe.NotificationType4=u7;var f7=class extends kr{static{i(this,"NotificationType5")}constructor(t){super(t,5)}};Xe.NotificationType5=f7;var d7=class extends kr{static{i(this,"NotificationType6")}constructor(t){super(t,6)}};Xe.NotificationType6=d7;var m7=class extends kr{static{i(this,"NotificationType7")}constructor(t){super(t,7)}};Xe.NotificationType7=m7;var p7=class extends kr{static{i(this,"NotificationType8")}constructor(t){super(t,8)}};Xe.NotificationType8=p7;var g7=class extends kr{static{i(this,"NotificationType9")}constructor(t){super(t,9)}};Xe.NotificationType9=g7;var lk;(function(e){function t(o){let s=o;return s&&uu.string(s.method)&&(uu.string(s.id)||uu.number(s.id))}i(t,"isRequest"),e.isRequest=t;function r(o){let s=o;return s&&uu.string(s.method)&&o.id===void 0}i(r,"isNotification"),e.isNotification=r;function n(o){let s=o;return s&&(s.result!==void 0||!!s.error)&&(uu.string(s.id)||uu.number(s.id)||s.id===null)}i(n,"isResponse"),e.isResponse=n})(lk||(Xe.Message=lk={}))});var b7=Q(Rl=>{"use strict";var ck;Object.defineProperty(Rl,"__esModule",{value:!0});Rl.LRUCache=Rl.LinkedMap=Rl.Touch=void 0;var li;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(li||(Rl.Touch=li={}));var s4=class{static{i(this,"LinkedMap")}constructor(){this[ck]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=li.None){let n=this._map.get(t);if(n)return r!==li.None&&this.touch(n,r),n.value}set(t,r,n=li.None){let o=this._map.get(t);if(o)o.value=r,n!==li.None&&this.touch(o,n);else{switch(o={key:t,value:r,next:void 0,previous:void 0},n){case li.None:this.addItemLast(o);break;case li.First:this.addItemFirst(o);break;case li.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(t,o),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,o=this._head;for(;o;){if(r?t.bind(r)(o.value,o.key,this):t(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:i(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:i(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:i(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}[(ck=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==li.First&&r!==li.Last)){if(r===li.First){if(t===this._head)return;let n=t.next,o=t.previous;t===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===li.Last){if(t===this._tail)return;let n=t.next,o=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Rl.LinkedMap=s4;var x7=class extends s4{static{i(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=li.AsNew){return super.get(t,r)}peek(t){return super.get(t,li.None)}set(t,r){return super.set(t,r,li.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Rl.LRUCache=x7});var fk=Q(a4=>{"use strict";Object.defineProperty(a4,"__esModule",{value:!0});a4.Disposable=void 0;var uk;(function(e){function t(r){return{dispose:r}}i(t,"create"),e.create=t})(uk||(a4.Disposable=uk={}))});var Dl=Q(v7=>{"use strict";Object.defineProperty(v7,"__esModule",{value:!0});var y7;function _7(){if(y7===void 0)throw new Error("No runtime abstraction layer installed");return y7}i(_7,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");y7=r}i(t,"install"),e.install=t})(_7||(_7={}));v7.default=_7});var Sd=Q(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.Emitter=Id.Event=void 0;var fse=Dl(),dk;(function(e){let t={dispose(){}};e.None=function(){return t}})(dk||(Id.Event=dk={}));var T7=class{static{i(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:i(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let o=0,s=this._callbacks.length;o<s;o++)if(this._callbacks[o]===t)if(this._contexts[o]===r){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(o[s],t))}catch(l){(0,fse.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},l4=class e{static{i(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new T7),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let o={dispose:i(()=>{this._callbacks&&(this._callbacks.remove(t,r),o.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(o),o}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Id.Emitter=l4;l4._noop=function(){}});var f4=Q(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.CancellationTokenSource=wd.CancellationToken=void 0;var dse=Dl(),mse=Cd(),E7=Sd(),c4;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:E7.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:E7.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||mse.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}i(t,"is"),e.is=t})(c4||(wd.CancellationToken=c4={}));var pse=Object.freeze(function(e,t){let r=(0,dse.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),u4=class{static{i(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?pse:(this._emitter||(this._emitter=new E7.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},C7=class{static{i(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new u4),this._token}cancel(){this._token?this._token.cancel():this._token=c4.Cancelled}dispose(){this._token?this._token instanceof u4&&this._token.dispose():this._token=c4.None}};wd.CancellationTokenSource=C7});var mk=Q(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.SharedArrayReceiverStrategy=Pd.SharedArraySenderStrategy=void 0;var gse=f4(),x1;(function(e){e.Continue=0,e.Cancelled=1})(x1||(x1={}));var I7=class{static{i(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=x1.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let o=new Int32Array(n,0,1);Atomics.store(o,0,x1.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Pd.SharedArraySenderStrategy=I7;var S7=class{static{i(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===x1.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},w7=class{static{i(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new S7(t)}cancel(){}dispose(){}},P7=class{static{i(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new gse.CancellationTokenSource:new w7(r)}};Pd.SharedArrayReceiverStrategy=P7});var D7=Q(d4=>{"use strict";Object.defineProperty(d4,"__esModule",{value:!0});d4.Semaphore=void 0;var hse=Dl(),R7=class{static{i(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,hse.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};d4.Semaphore=R7});var gk=Q(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.ReadableStreamMessageReader=Al.AbstractMessageReader=Al.MessageReader=void 0;var N7=Dl(),Rd=Cd(),A7=Sd(),xse=D7(),pk;(function(e){function t(r){let n=r;return n&&Rd.func(n.listen)&&Rd.func(n.dispose)&&Rd.func(n.onError)&&Rd.func(n.onClose)&&Rd.func(n.onPartialMessage)}i(t,"is"),e.is=t})(pk||(Al.MessageReader=pk={}));var m4=class{static{i(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new A7.Emitter,this.closeEmitter=new A7.Emitter,this.partialMessageEmitter=new A7.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Rd.string(t.message)?t.message:"unknown"}`)}};Al.AbstractMessageReader=m4;var k7;(function(e){function t(r){let n,o,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)a.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)c.set(f.name,f)}return l===void 0&&(l=(0,N7.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}i(t,"fromOptions"),e.fromOptions=t})(k7||(k7={}));var O7=class extends m4{static{i(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=k7.fromOptions(r),this.buffer=(0,N7.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new xse.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let o=n.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(o);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,o=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(o)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,N7.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Al.ReadableStreamMessageReader=O7});var _k=Q(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.WriteableStreamMessageWriter=Nl.AbstractMessageWriter=Nl.MessageWriter=void 0;var hk=Dl(),b1=Cd(),bse=D7(),xk=Sd(),yse="Content-Length: ",bk=`\r
`,yk;(function(e){function t(r){let n=r;return n&&b1.func(n.dispose)&&b1.func(n.onClose)&&b1.func(n.onError)&&b1.func(n.write)}i(t,"is"),e.is=t})(yk||(Nl.MessageWriter=yk={}));var p4=class{static{i(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new xk.Emitter,this.closeEmitter=new xk.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${b1.string(t.message)?t.message:"unknown"}`)}};Nl.AbstractMessageWriter=p4;var L7;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,hk.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,hk.default)().applicationJson.encoder}}i(t,"fromOptions"),e.fromOptions=t})(L7||(L7={}));var F7=class extends p4{static{i(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=L7.fromOptions(r),this.errorCount=0,this.writeSemaphore=new bse.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let o=[];return o.push(yse,n.byteLength.toString(),bk),o.push(bk),this.doWrite(t,o,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(o){return this.handleError(o,t),Promise.reject(o)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Nl.WriteableStreamMessageWriter=F7});var vk=Q(g4=>{"use strict";Object.defineProperty(g4,"__esModule",{value:!0});g4.AbstractMessageBuffer=void 0;var _se=13,vse=10,Tse=`\r
`,M7=class{static{i(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,o=0,s=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];for(o=0;o<f.length;){switch(f[o]){case _se:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case vse:switch(r){case 1:r=2;break;case 3:r=4,o++;break e;default:r=0}break;default:r=0}o++}s+=f.byteLength,n++}if(r!==4)return;let a=this._read(s+o),l=new Map,c=this.toString(a,"ascii").split(Tse);if(c.length<2)return l;for(let f=0;f<c.length-2;f++){let u=c[f],d=u.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);let p=u.substr(0,d),m=u.substr(d+1).trim();l.set(t?p.toLowerCase():p,m)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,o=0;for(;t>0;){let s=this._chunks[o];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[o]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};g4.AbstractMessageBuffer=M7});var Sk=Q(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.createMessageConnection=pt.ConnectionOptions=pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.RequestCancellationReceiverStrategy=pt.IdCancellationReceiverStrategy=pt.ConnectionStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=pt.NullLogger=pt.ProgressType=pt.ProgressToken=void 0;var Tk=Dl(),Yr=Cd(),ct=h7(),Ek=b7(),y1=Sd(),U7=f4(),T1;(function(e){e.type=new ct.NotificationType("$/cancelRequest")})(T1||(T1={}));var B7;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}i(t,"is"),e.is=t})(B7||(pt.ProgressToken=B7={}));var _1;(function(e){e.type=new ct.NotificationType("$/progress")})(_1||(_1={}));var $7=class{static{i(this,"ProgressType")}constructor(){}};pt.ProgressType=$7;var j7;(function(e){function t(r){return Yr.func(r)}i(t,"is"),e.is=t})(j7||(j7={}));pt.NullLogger=Object.freeze({error:i(()=>{},"error"),warn:i(()=>{},"warn"),info:i(()=>{},"info"),log:i(()=>{},"log")});var ur;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ur||(pt.Trace=ur={}));var Ck;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Ck||(pt.TraceValues=Ck={}));(function(e){function t(n){if(!Yr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}i(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}i(r,"toString"),e.toString=r})(ur||(pt.Trace=ur={}));var po;(function(e){e.Text="text",e.JSON="json"})(po||(pt.TraceFormat=po={}));(function(e){function t(r){return Yr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}i(t,"fromString"),e.fromString=t})(po||(pt.TraceFormat=po={}));var q7;(function(e){e.type=new ct.NotificationType("$/setTrace")})(q7||(pt.SetTraceNotification=q7={}));var h4;(function(e){e.type=new ct.NotificationType("$/logTrace")})(h4||(pt.LogTraceNotification=h4={}));var v1;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(v1||(pt.ConnectionErrors=v1={}));var Dd=class e extends Error{static{i(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};pt.ConnectionError=Dd;var W7;(function(e){function t(r){let n=r;return n&&Yr.func(n.cancelUndispatched)}i(t,"is"),e.is=t})(W7||(pt.ConnectionStrategy=W7={}));var x4;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Yr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Yr.func(n.dispose))}i(t,"is"),e.is=t})(x4||(pt.IdCancellationReceiverStrategy=x4={}));var z7;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Yr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Yr.func(n.dispose))}i(t,"is"),e.is=t})(z7||(pt.RequestCancellationReceiverStrategy=z7={}));var b4;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new U7.CancellationTokenSource}});function t(r){return x4.is(r)||z7.is(r)}i(t,"is"),e.is=t})(b4||(pt.CancellationReceiverStrategy=b4={}));var y4;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(T1.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Yr.func(n.sendCancellation)&&Yr.func(n.cleanup)}i(t,"is"),e.is=t})(y4||(pt.CancellationSenderStrategy=y4={}));var _4;(function(e){e.Message=Object.freeze({receiver:b4.Message,sender:y4.Message});function t(r){let n=r;return n&&b4.is(n.receiver)&&y4.is(n.sender)}i(t,"is"),e.is=t})(_4||(pt.CancellationStrategy=_4={}));var v4;(function(e){function t(r){let n=r;return n&&Yr.func(n.handleMessage)}i(t,"is"),e.is=t})(v4||(pt.MessageStrategy=v4={}));var Ik;(function(e){function t(r){let n=r;return n&&(_4.is(n.cancellationStrategy)||W7.is(n.connectionStrategy)||v4.is(n.messageStrategy))}i(t,"is"),e.is=t})(Ik||(pt.ConnectionOptions=Ik={}));var Fs;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Fs||(Fs={}));function Ese(e,t,r,n){let o=r!==void 0?r:pt.NullLogger,s=0,a=0,l=0,c="2.0",f,u=new Map,d,p=new Map,m=new Map,g,h=new Ek.LinkedMap,b=new Map,x=new Set,y=new Map,T=ur.Off,_=po.Text,I,w=Fs.New,j=new y1.Emitter,V=new y1.Emitter,G=new y1.Emitter,Y=new y1.Emitter,A=new y1.Emitter,P=n&&n.cancellationStrategy?n.cancellationStrategy:_4.Message;function z(L){if(L===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+L.toString()}i(z,"createRequestQueueKey");function N(L){return L===null?"res-unknown-"+(++l).toString():"res-"+L.toString()}i(N,"createResponseQueueKey");function E(){return"not-"+(++a).toString()}i(E,"createNotificationQueueKey");function v(L,Z){ct.Message.isRequest(Z)?L.set(z(Z.id),Z):ct.Message.isResponse(Z)?L.set(N(Z.id),Z):L.set(E(),Z)}i(v,"addMessageToQueue");function R(L){}i(R,"cancelUndispatched");function S(){return w===Fs.Listening}i(S,"isListening");function D(){return w===Fs.Closed}i(D,"isClosed");function O(){return w===Fs.Disposed}i(O,"isDisposed");function M(){(w===Fs.New||w===Fs.Listening)&&(w=Fs.Closed,V.fire(void 0))}i(M,"closeHandler");function B(L){j.fire([L,void 0,void 0])}i(B,"readErrorHandler");function H(L){j.fire(L)}i(H,"writeErrorHandler"),e.onClose(M),e.onError(B),t.onClose(M),t.onError(H);function ae(){g||h.size===0||(g=(0,Tk.default)().timer.setImmediate(()=>{g=void 0,he()}))}i(ae,"triggerMessageQueue");function ye(L){ct.Message.isRequest(L)?Ge(L):ct.Message.isNotification(L)?Ze(L):ct.Message.isResponse(L)?Ve(L):F(L)}i(ye,"handleMessage");function he(){if(h.size===0)return;let L=h.shift();try{let Z=n?.messageStrategy;v4.is(Z)?Z.handleMessage(L,ye):ye(L)}finally{ae()}}i(he,"processMessageQueue");let Ue=i(L=>{try{if(ct.Message.isNotification(L)&&L.method===T1.type.method){let Z=L.params.id,fe=z(Z),pe=h.get(fe);if(ct.Message.isRequest(pe)){let Me=n?.connectionStrategy,$e=Me&&Me.cancelUndispatched?Me.cancelUndispatched(pe,R):void 0;if($e&&($e.error!==void 0||$e.result!==void 0)){h.delete(fe),y.delete(Z),$e.id=pe.id,le($e,L.method,Date.now()),t.write($e).catch(()=>o.error("Sending response for canceled message failed."));return}}let De=y.get(Z);if(De!==void 0){De.cancel(),re(L);return}else x.add(Z)}v(h,L)}finally{ae()}},"callback");function Ge(L){if(O())return;function Z(Re,W,X){let se={jsonrpc:c,id:L.id};Re instanceof ct.ResponseError?se.error=Re.toJson():se.result=Re===void 0?null:Re,le(se,W,X),t.write(se).catch(()=>o.error("Sending response failed."))}i(Z,"reply");function fe(Re,W,X){let se={jsonrpc:c,id:L.id,error:Re.toJson()};le(se,W,X),t.write(se).catch(()=>o.error("Sending response failed."))}i(fe,"replyError");function pe(Re,W,X){Re===void 0&&(Re=null);let se={jsonrpc:c,id:L.id,result:Re};le(se,W,X),t.write(se).catch(()=>o.error("Sending response failed."))}i(pe,"replySuccess"),q(L);let De=u.get(L.method),Me,$e;De&&(Me=De.type,$e=De.handler);let We=Date.now();if($e||f){let Re=L.id??String(Date.now()),W=x4.is(P.receiver)?P.receiver.createCancellationTokenSource(Re):P.receiver.createCancellationTokenSource(L);L.id!==null&&x.has(L.id)&&W.cancel(),L.id!==null&&y.set(Re,W);try{let X;if($e)if(L.params===void 0){if(Me!==void 0&&Me.numberOfParams!==0){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${L.method} defines ${Me.numberOfParams} params but received none.`),L.method,We);return}X=$e(W.token)}else if(Array.isArray(L.params)){if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byName){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${L.method} defines parameters by name but received parameters by position`),L.method,We);return}X=$e(...L.params,W.token)}else{if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byPosition){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${L.method} defines parameters by position but received parameters by name`),L.method,We);return}X=$e(L.params,W.token)}else f&&(X=f(L.method,L.params,W.token));let se=X;X?se.then?se.then(me=>{y.delete(Re),Z(me,L.method,We)},me=>{y.delete(Re),me instanceof ct.ResponseError?fe(me,L.method,We):me&&Yr.string(me.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${L.method} failed with message: ${me.message}`),L.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${L.method} failed unexpectedly without providing any details.`),L.method,We)}):(y.delete(Re),Z(X,L.method,We)):(y.delete(Re),pe(X,L.method,We))}catch(X){y.delete(Re),X instanceof ct.ResponseError?Z(X,L.method,We):X&&Yr.string(X.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${L.method} failed with message: ${X.message}`),L.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${L.method} failed unexpectedly without providing any details.`),L.method,We)}}else fe(new ct.ResponseError(ct.ErrorCodes.MethodNotFound,`Unhandled method ${L.method}`),L.method,We)}i(Ge,"handleRequest");function Ve(L){if(!O())if(L.id===null)L.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(L.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let Z=L.id,fe=b.get(Z);if(xe(L,fe),fe!==void 0){b.delete(Z);try{if(L.error){let pe=L.error;fe.reject(new ct.ResponseError(pe.code,pe.message,pe.data))}else if(L.result!==void 0)fe.resolve(L.result);else throw new Error("Should never happen.")}catch(pe){pe.message?o.error(`Response handler '${fe.method}' failed with message: ${pe.message}`):o.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}i(Ve,"handleResponse");function Ze(L){if(O())return;let Z,fe;if(L.method===T1.type.method){let pe=L.params.id;x.delete(pe),re(L);return}else{let pe=p.get(L.method);pe&&(fe=pe.handler,Z=pe.type)}if(fe||d)try{if(re(L),fe)if(L.params===void 0)Z!==void 0&&Z.numberOfParams!==0&&Z.parameterStructures!==ct.ParameterStructures.byName&&o.error(`Notification ${L.method} defines ${Z.numberOfParams} params but received none.`),fe();else if(Array.isArray(L.params)){let pe=L.params;L.method===_1.type.method&&pe.length===2&&B7.is(pe[0])?fe({token:pe[0],value:pe[1]}):(Z!==void 0&&(Z.parameterStructures===ct.ParameterStructures.byName&&o.error(`Notification ${L.method} defines parameters by name but received parameters by position`),Z.numberOfParams!==L.params.length&&o.error(`Notification ${L.method} defines ${Z.numberOfParams} params but received ${pe.length} arguments`)),fe(...pe))}else Z!==void 0&&Z.parameterStructures===ct.ParameterStructures.byPosition&&o.error(`Notification ${L.method} defines parameters by position but received parameters by name`),fe(L.params);else d&&d(L.method,L.params)}catch(pe){pe.message?o.error(`Notification handler '${L.method}' failed with message: ${pe.message}`):o.error(`Notification handler '${L.method}' failed unexpectedly.`)}else G.fire(L)}i(Ze,"handleNotification");function F(L){if(!L){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(L,null,4)}`);let Z=L;if(Yr.string(Z.id)||Yr.number(Z.id)){let fe=Z.id,pe=b.get(fe);pe&&pe.reject(new Error("The received response has neither a result nor an error property."))}}i(F,"handleInvalidMessage");function ne(L){if(L!=null)switch(T){case ur.Verbose:return JSON.stringify(L,null,4);case ur.Compact:return JSON.stringify(L);default:return}}i(ne,"stringifyTrace");function $(L){if(!(T===ur.Off||!I))if(_===po.Text){let Z;(T===ur.Verbose||T===ur.Compact)&&L.params&&(Z=`Params: ${ne(L.params)}

`),I.log(`Sending request '${L.method} - (${L.id})'.`,Z)}else ue("send-request",L)}i($,"traceSendingRequest");function ge(L){if(!(T===ur.Off||!I))if(_===po.Text){let Z;(T===ur.Verbose||T===ur.Compact)&&(L.params?Z=`Params: ${ne(L.params)}

`:Z=`No parameters provided.

`),I.log(`Sending notification '${L.method}'.`,Z)}else ue("send-notification",L)}i(ge,"traceSendingNotification");function le(L,Z,fe){if(!(T===ur.Off||!I))if(_===po.Text){let pe;(T===ur.Verbose||T===ur.Compact)&&(L.error&&L.error.data?pe=`Error data: ${ne(L.error.data)}

`:L.result?pe=`Result: ${ne(L.result)}

`:L.error===void 0&&(pe=`No result returned.

`)),I.log(`Sending response '${Z} - (${L.id})'. Processing request took ${Date.now()-fe}ms`,pe)}else ue("send-response",L)}i(le,"traceSendingResponse");function q(L){if(!(T===ur.Off||!I))if(_===po.Text){let Z;(T===ur.Verbose||T===ur.Compact)&&L.params&&(Z=`Params: ${ne(L.params)}

`),I.log(`Received request '${L.method} - (${L.id})'.`,Z)}else ue("receive-request",L)}i(q,"traceReceivedRequest");function re(L){if(!(T===ur.Off||!I||L.method===h4.type.method))if(_===po.Text){let Z;(T===ur.Verbose||T===ur.Compact)&&(L.params?Z=`Params: ${ne(L.params)}

`:Z=`No parameters provided.

`),I.log(`Received notification '${L.method}'.`,Z)}else ue("receive-notification",L)}i(re,"traceReceivedNotification");function xe(L,Z){if(!(T===ur.Off||!I))if(_===po.Text){let fe;if((T===ur.Verbose||T===ur.Compact)&&(L.error&&L.error.data?fe=`Error data: ${ne(L.error.data)}

`:L.result?fe=`Result: ${ne(L.result)}

`:L.error===void 0&&(fe=`No result returned.

`)),Z){let pe=L.error?` Request failed: ${L.error.message} (${L.error.code}).`:"";I.log(`Received response '${Z.method} - (${L.id})' in ${Date.now()-Z.timerStart}ms.${pe}`,fe)}else I.log(`Received response ${L.id} without active response promise.`,fe)}else ue("receive-response",L)}i(xe,"traceReceivedResponse");function ue(L,Z){if(!I||T===ur.Off)return;let fe={isLSPMessage:!0,type:L,message:Z,timestamp:Date.now()};I.log(fe)}i(ue,"logLSPMessage");function de(){if(D())throw new Dd(v1.Closed,"Connection is closed.");if(O())throw new Dd(v1.Disposed,"Connection is disposed.")}i(de,"throwIfClosedOrDisposed");function Ee(){if(S())throw new Dd(v1.AlreadyListening,"Connection is already listening")}i(Ee,"throwIfListening");function we(){if(!S())throw new Error("Call listen() first.")}i(we,"throwIfNotListening");function ke(L){return L===void 0?null:L}i(ke,"undefinedToNull");function je(L){if(L!==null)return L}i(je,"nullToUndefined");function Ke(L){return L!=null&&!Array.isArray(L)&&typeof L=="object"}i(Ke,"isNamedParam");function tt(L,Z){switch(L){case ct.ParameterStructures.auto:return Ke(Z)?je(Z):[ke(Z)];case ct.ParameterStructures.byName:if(!Ke(Z))throw new Error("Received parameters by name but param is not an object literal.");return je(Z);case ct.ParameterStructures.byPosition:return[ke(Z)];default:throw new Error(`Unknown parameter structure ${L.toString()}`)}}i(tt,"computeSingleParam");function rt(L,Z){let fe,pe=L.numberOfParams;switch(pe){case 0:fe=void 0;break;case 1:fe=tt(L.parameterStructures,Z[0]);break;default:fe=[];for(let De=0;De<Z.length&&De<pe;De++)fe.push(ke(Z[De]));if(Z.length<pe)for(let De=Z.length;De<pe;De++)fe.push(null);break}return fe}i(rt,"computeMessageParams");let lt={sendNotification:i((L,...Z)=>{de();let fe,pe;if(Yr.string(L)){fe=L;let Me=Z[0],$e=0,We=ct.ParameterStructures.auto;ct.ParameterStructures.is(Me)&&($e=1,We=Me);let Re=Z.length,W=Re-$e;switch(W){case 0:pe=void 0;break;case 1:pe=tt(We,Z[$e]);break;default:if(We===ct.ParameterStructures.byName)throw new Error(`Received ${W} parameters for 'by Name' notification parameter structure.`);pe=Z.slice($e,Re).map(X=>ke(X));break}}else{let Me=Z;fe=L.method,pe=rt(L,Me)}let De={jsonrpc:c,method:fe,params:pe};return ge(De),t.write(De).catch(Me=>{throw o.error("Sending notification failed."),Me})},"sendNotification"),onNotification:i((L,Z)=>{de();let fe;return Yr.func(L)?d=L:Z&&(Yr.string(L)?(fe=L,p.set(L,{type:void 0,handler:Z})):(fe=L.method,p.set(L.method,{type:L,handler:Z}))),{dispose:i(()=>{fe!==void 0?p.delete(fe):d=void 0},"dispose")}},"onNotification"),onProgress:i((L,Z,fe)=>{if(m.has(Z))throw new Error(`Progress handler for token ${Z} already registered`);return m.set(Z,fe),{dispose:i(()=>{m.delete(Z)},"dispose")}},"onProgress"),sendProgress:i((L,Z,fe)=>lt.sendNotification(_1.type,{token:Z,value:fe}),"sendProgress"),onUnhandledProgress:Y.event,sendRequest:i((L,...Z)=>{de(),we();let fe,pe,De;if(Yr.string(L)){fe=L;let Re=Z[0],W=Z[Z.length-1],X=0,se=ct.ParameterStructures.auto;ct.ParameterStructures.is(Re)&&(X=1,se=Re);let me=Z.length;U7.CancellationToken.is(W)&&(me=me-1,De=W);let be=me-X;switch(be){case 0:pe=void 0;break;case 1:pe=tt(se,Z[X]);break;default:if(se===ct.ParameterStructures.byName)throw new Error(`Received ${be} parameters for 'by Name' request parameter structure.`);pe=Z.slice(X,me).map(ve=>ke(ve));break}}else{let Re=Z;fe=L.method,pe=rt(L,Re);let W=L.numberOfParams;De=U7.CancellationToken.is(Re[W])?Re[W]:void 0}let Me=s++,$e;De&&($e=De.onCancellationRequested(()=>{let Re=P.sender.sendCancellation(lt,Me);return Re===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${Me}`),Promise.resolve()):Re.catch(()=>{o.log(`Sending cancellation messages for id ${Me} failed`)})}));let We={jsonrpc:c,id:Me,method:fe,params:pe};return $(We),typeof P.sender.enableCancellation=="function"&&P.sender.enableCancellation(We),new Promise(async(Re,W)=>{let X=i(be=>{Re(be),P.sender.cleanup(Me),$e?.dispose()},"resolveWithCleanup"),se=i(be=>{W(be),P.sender.cleanup(Me),$e?.dispose()},"rejectWithCleanup"),me={method:fe,timerStart:Date.now(),resolve:X,reject:se};try{await t.write(We),b.set(Me,me)}catch(be){throw o.error("Sending request failed."),me.reject(new ct.ResponseError(ct.ErrorCodes.MessageWriteError,be.message?be.message:"Unknown reason")),be}})},"sendRequest"),onRequest:i((L,Z)=>{de();let fe=null;return j7.is(L)?(fe=void 0,f=L):Yr.string(L)?(fe=null,Z!==void 0&&(fe=L,u.set(L,{handler:Z,type:void 0}))):Z!==void 0&&(fe=L.method,u.set(L.method,{type:L,handler:Z})),{dispose:i(()=>{fe!==null&&(fe!==void 0?u.delete(fe):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:i(()=>b.size>0,"hasPendingResponse"),trace:i(async(L,Z,fe)=>{let pe=!1,De=po.Text;fe!==void 0&&(Yr.boolean(fe)?pe=fe:(pe=fe.sendNotification||!1,De=fe.traceFormat||po.Text)),T=L,_=De,T===ur.Off?I=void 0:I=Z,pe&&!D()&&!O()&&await lt.sendNotification(q7.type,{value:ur.toString(L)})},"trace"),onError:j.event,onClose:V.event,onUnhandledNotification:G.event,onDispose:A.event,end:i(()=>{t.end()},"end"),dispose:i(()=>{if(O())return;w=Fs.Disposed,A.fire(void 0);let L=new ct.ResponseError(ct.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Z of b.values())Z.reject(L);b=new Map,y=new Map,x=new Set,h=new Ek.LinkedMap,Yr.func(t.dispose)&&t.dispose(),Yr.func(e.dispose)&&e.dispose()},"dispose"),listen:i(()=>{de(),Ee(),w=Fs.Listening,e.listen(Ue)},"listen"),inspect:i(()=>{(0,Tk.default)().console.log("inspect")},"inspect")};return lt.onNotification(h4.type,L=>{if(T===ur.Off||!I)return;let Z=T===ur.Verbose||T===ur.Compact;I.log(L.message,Z?L.verbose:void 0)}),lt.onNotification(_1.type,L=>{let Z=m.get(L.token);Z?Z(L.value):Y.fire(L)}),lt}i(Ese,"createMessageConnection");pt.createMessageConnection=Ese});var T4=Q(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var wr=h7();Object.defineProperty(ce,"Message",{enumerable:!0,get:i(function(){return wr.Message},"get")});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:i(function(){return wr.RequestType},"get")});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:i(function(){return wr.RequestType0},"get")});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:i(function(){return wr.RequestType1},"get")});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:i(function(){return wr.RequestType2},"get")});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:i(function(){return wr.RequestType3},"get")});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:i(function(){return wr.RequestType4},"get")});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:i(function(){return wr.RequestType5},"get")});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:i(function(){return wr.RequestType6},"get")});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:i(function(){return wr.RequestType7},"get")});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:i(function(){return wr.RequestType8},"get")});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:i(function(){return wr.RequestType9},"get")});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:i(function(){return wr.ResponseError},"get")});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:i(function(){return wr.ErrorCodes},"get")});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:i(function(){return wr.NotificationType},"get")});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:i(function(){return wr.NotificationType0},"get")});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:i(function(){return wr.NotificationType1},"get")});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:i(function(){return wr.NotificationType2},"get")});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:i(function(){return wr.NotificationType3},"get")});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:i(function(){return wr.NotificationType4},"get")});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:i(function(){return wr.NotificationType5},"get")});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:i(function(){return wr.NotificationType6},"get")});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:i(function(){return wr.NotificationType7},"get")});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:i(function(){return wr.NotificationType8},"get")});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:i(function(){return wr.NotificationType9},"get")});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:i(function(){return wr.ParameterStructures},"get")});var H7=b7();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:i(function(){return H7.LinkedMap},"get")});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:i(function(){return H7.LRUCache},"get")});Object.defineProperty(ce,"Touch",{enumerable:!0,get:i(function(){return H7.Touch},"get")});var Cse=fk();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:i(function(){return Cse.Disposable},"get")});var wk=Sd();Object.defineProperty(ce,"Event",{enumerable:!0,get:i(function(){return wk.Event},"get")});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:i(function(){return wk.Emitter},"get")});var Pk=f4();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:i(function(){return Pk.CancellationTokenSource},"get")});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:i(function(){return Pk.CancellationToken},"get")});var Rk=mk();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:i(function(){return Rk.SharedArraySenderStrategy},"get")});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:i(function(){return Rk.SharedArrayReceiverStrategy},"get")});var G7=gk();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:i(function(){return G7.MessageReader},"get")});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:i(function(){return G7.AbstractMessageReader},"get")});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:i(function(){return G7.ReadableStreamMessageReader},"get")});var V7=_k();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:i(function(){return V7.MessageWriter},"get")});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:i(function(){return V7.AbstractMessageWriter},"get")});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:i(function(){return V7.WriteableStreamMessageWriter},"get")});var Ise=vk();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:i(function(){return Ise.AbstractMessageBuffer},"get")});var Vn=Sk();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:i(function(){return Vn.ConnectionStrategy},"get")});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:i(function(){return Vn.ConnectionOptions},"get")});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:i(function(){return Vn.NullLogger},"get")});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:i(function(){return Vn.createMessageConnection},"get")});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:i(function(){return Vn.ProgressToken},"get")});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:i(function(){return Vn.ProgressType},"get")});Object.defineProperty(ce,"Trace",{enumerable:!0,get:i(function(){return Vn.Trace},"get")});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:i(function(){return Vn.TraceValues},"get")});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:i(function(){return Vn.TraceFormat},"get")});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:i(function(){return Vn.SetTraceNotification},"get")});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:i(function(){return Vn.LogTraceNotification},"get")});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:i(function(){return Vn.ConnectionErrors},"get")});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:i(function(){return Vn.ConnectionError},"get")});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:i(function(){return Vn.CancellationReceiverStrategy},"get")});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:i(function(){return Vn.CancellationSenderStrategy},"get")});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:i(function(){return Vn.CancellationStrategy},"get")});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:i(function(){return Vn.MessageStrategy},"get")});var Sse=Dl();ce.RAL=Sse.default});var Ak=Q(J7=>{"use strict";Object.defineProperty(J7,"__esModule",{value:!0});var h0=T4(),E4=class e extends h0.AbstractMessageBuffer{static{i(this,"MessageBuffer")}constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};E4.emptyBuffer=new Uint8Array(0);var K7=class{static{i(this,"ReadableStreamWrapper")}constructor(t){this.socket=t,this._onData=new h0.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(o=>{this._onData.fire(new Uint8Array(o))},()=>{(0,h0.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),h0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),h0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),h0.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},Y7=class{static{i(this,"WritableStreamWrapper")}constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),h0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),h0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),h0.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},wse=new TextEncoder,Dk=Object.freeze({messageBuffer:Object.freeze({create:i(e=>new E4(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:i((e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(wse.encode(JSON.stringify(e,void 0,0)))},"encode")}),decoder:Object.freeze({name:"application/json",decode:i((e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))},"decode")})}),stream:Object.freeze({asReadableStream:i(e=>new K7(e),"asReadableStream"),asWritableStream:i(e=>new Y7(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:i(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:i(()=>clearTimeout(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:i(()=>clearInterval(n),"dispose")}}})});function X7(){return Dk}i(X7,"RIL");(function(e){function t(){h0.RAL.install(Dk)}i(t,"install"),e.install=t})(X7||(X7={}));J7.default=X7});var fu=Q(go=>{"use strict";var Pse=go&&go.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rse=go&&go.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pse(t,e,r)};Object.defineProperty(go,"__esModule",{value:!0});go.createMessageConnection=go.BrowserMessageWriter=go.BrowserMessageReader=void 0;var Dse=Ak();Dse.default.install();var Ad=T4();Rse(T4(),go);var Z7=class extends Ad.AbstractMessageReader{static{i(this,"BrowserMessageReader")}constructor(t){super(),this._onData=new Ad.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};go.BrowserMessageReader=Z7;var Q7=class extends Ad.AbstractMessageWriter{static{i(this,"BrowserMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};go.BrowserMessageWriter=Q7;function Ase(e,t,r,n){return r===void 0&&(r=Ad.NullLogger),Ad.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ad.createMessageConnection)(e,t,r,n)}i(Ase,"createMessageConnection");go.createMessageConnection=Ase});var e9=Q((fVe,Nk)=>{"use strict";Nk.exports=fu()});var N4={};Qs(N4,{AnnotatedTextEdit:()=>Ea,ChangeAnnotation:()=>du,ChangeAnnotationIdentifier:()=>Yn,CodeAction:()=>L9,CodeActionContext:()=>O9,CodeActionKind:()=>k9,CodeActionTriggerKind:()=>R1,CodeDescription:()=>u9,CodeLens:()=>F9,Color:()=>I4,ColorInformation:()=>i9,ColorPresentation:()=>o9,Command:()=>mu,CompletionItem:()=>v9,CompletionItemKind:()=>g9,CompletionItemLabelDetails:()=>_9,CompletionItemTag:()=>x9,CompletionList:()=>T9,CreateFile:()=>kd,DeleteFile:()=>Ld,Diagnostic:()=>I1,DiagnosticRelatedInformation:()=>S4,DiagnosticSeverity:()=>l9,DiagnosticTag:()=>c9,DocumentHighlight:()=>w9,DocumentHighlightKind:()=>S9,DocumentLink:()=>U9,DocumentSymbol:()=>N9,DocumentUri:()=>t9,EOL:()=>Nse,FoldingRange:()=>a9,FoldingRangeKind:()=>s9,FormattingOptions:()=>M9,Hover:()=>E9,InlayHint:()=>V9,InlayHintKind:()=>D4,InlayHintLabelPart:()=>A4,InlineCompletionContext:()=>Q9,InlineCompletionItem:()=>Y9,InlineCompletionList:()=>X9,InlineCompletionTriggerKind:()=>J9,InlineValueContext:()=>G9,InlineValueEvaluatableExpression:()=>H9,InlineValueText:()=>W9,InlineValueVariableLookup:()=>z9,InsertReplaceEdit:()=>b9,InsertTextFormat:()=>h9,InsertTextMode:()=>y9,Location:()=>C1,LocationLink:()=>n9,MarkedString:()=>P1,MarkupContent:()=>Fd,MarkupKind:()=>R4,OptionalVersionedTextDocumentIdentifier:()=>w1,ParameterInformation:()=>C9,Position:()=>Kn,Range:()=>Tr,RenameFile:()=>Od,SelectedCompletionInfo:()=>Z9,SelectionRange:()=>B9,SemanticTokenModifiers:()=>j9,SemanticTokenTypes:()=>$9,SemanticTokens:()=>q9,SignatureInformation:()=>I9,StringValue:()=>K9,SymbolInformation:()=>D9,SymbolKind:()=>P9,SymbolTag:()=>R9,TextDocument:()=>tv,TextDocumentEdit:()=>S1,TextDocumentIdentifier:()=>d9,TextDocumentItem:()=>p9,TextEdit:()=>x0,URI:()=>C4,VersionedTextDocumentIdentifier:()=>m9,WorkspaceChange:()=>f9,WorkspaceEdit:()=>w4,WorkspaceFolder:()=>ev,WorkspaceSymbol:()=>A9,integer:()=>r9,uinteger:()=>E1});var t9,C4,r9,E1,Kn,Tr,C1,n9,I4,i9,o9,s9,a9,S4,l9,c9,u9,I1,mu,x0,du,Yn,Ea,S1,kd,Od,Ld,w4,Nd,P4,f9,d9,m9,w1,p9,R4,Fd,g9,h9,x9,b9,y9,_9,v9,T9,P1,E9,C9,I9,S9,w9,P9,R9,D9,A9,N9,k9,R1,O9,L9,F9,M9,U9,B9,$9,j9,q9,W9,z9,H9,G9,D4,A4,V9,K9,Y9,X9,J9,Z9,Q9,ev,Nse,tv,rv,J,D1=ZG(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}i(t,"is"),e.is=t})(t9||(t9={}));(function(e){function t(r){return typeof r=="string"}i(t,"is"),e.is=t})(C4||(C4={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}i(t,"is"),e.is=t})(r9||(r9={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}i(t,"is"),e.is=t})(E1||(E1={}));(function(e){function t(n,o){return n===Number.MAX_VALUE&&(n=E1.MAX_VALUE),o===Number.MAX_VALUE&&(o=E1.MAX_VALUE),{line:n,character:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&J.uinteger(o.line)&&J.uinteger(o.character)}i(r,"is"),e.is=r})(Kn||(Kn={}));(function(e){function t(n,o,s,a){if(J.uinteger(n)&&J.uinteger(o)&&J.uinteger(s)&&J.uinteger(a))return{start:Kn.create(n,o),end:Kn.create(s,a)};if(Kn.is(n)&&Kn.is(o))return{start:n,end:o};throw new Error(`Range#create called with invalid arguments[${n}, ${o}, ${s}, ${a}]`)}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Kn.is(o.start)&&Kn.is(o.end)}i(r,"is"),e.is=r})(Tr||(Tr={}));(function(e){function t(n,o){return{uri:n,range:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Tr.is(o.range)&&(J.string(o.uri)||J.undefined(o.uri))}i(r,"is"),e.is=r})(C1||(C1={}));(function(e){function t(n,o,s,a){return{targetUri:n,targetRange:o,targetSelectionRange:s,originSelectionRange:a}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Tr.is(o.targetRange)&&J.string(o.targetUri)&&Tr.is(o.targetSelectionRange)&&(Tr.is(o.originSelectionRange)||J.undefined(o.originSelectionRange))}i(r,"is"),e.is=r})(n9||(n9={}));(function(e){function t(n,o,s,a){return{red:n,green:o,blue:s,alpha:a}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&J.numberRange(o.red,0,1)&&J.numberRange(o.green,0,1)&&J.numberRange(o.blue,0,1)&&J.numberRange(o.alpha,0,1)}i(r,"is"),e.is=r})(I4||(I4={}));(function(e){function t(n,o){return{range:n,color:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Tr.is(o.range)&&I4.is(o.color)}i(r,"is"),e.is=r})(i9||(i9={}));(function(e){function t(n,o,s){return{label:n,textEdit:o,additionalTextEdits:s}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&J.string(o.label)&&(J.undefined(o.textEdit)||x0.is(o))&&(J.undefined(o.additionalTextEdits)||J.typedArray(o.additionalTextEdits,x0.is))}i(r,"is"),e.is=r})(o9||(o9={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(s9||(s9={}));(function(e){function t(n,o,s,a,l,c){let f={startLine:n,endLine:o};return J.defined(s)&&(f.startCharacter=s),J.defined(a)&&(f.endCharacter=a),J.defined(l)&&(f.kind=l),J.defined(c)&&(f.collapsedText=c),f}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&J.uinteger(o.startLine)&&J.uinteger(o.startLine)&&(J.undefined(o.startCharacter)||J.uinteger(o.startCharacter))&&(J.undefined(o.endCharacter)||J.uinteger(o.endCharacter))&&(J.undefined(o.kind)||J.string(o.kind))}i(r,"is"),e.is=r})(a9||(a9={}));(function(e){function t(n,o){return{location:n,message:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&C1.is(o.location)&&J.string(o.message)}i(r,"is"),e.is=r})(S4||(S4={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(l9||(l9={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(c9||(c9={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&J.string(n.href)}i(t,"is"),e.is=t})(u9||(u9={}));(function(e){function t(n,o,s,a,l,c){let f={range:n,message:o};return J.defined(s)&&(f.severity=s),J.defined(a)&&(f.code=a),J.defined(l)&&(f.source=l),J.defined(c)&&(f.relatedInformation=c),f}i(t,"create"),e.create=t;function r(n){var o;let s=n;return J.defined(s)&&Tr.is(s.range)&&J.string(s.message)&&(J.number(s.severity)||J.undefined(s.severity))&&(J.integer(s.code)||J.string(s.code)||J.undefined(s.code))&&(J.undefined(s.codeDescription)||J.string((o=s.codeDescription)===null||o===void 0?void 0:o.href))&&(J.string(s.source)||J.undefined(s.source))&&(J.undefined(s.relatedInformation)||J.typedArray(s.relatedInformation,S4.is))}i(r,"is"),e.is=r})(I1||(I1={}));(function(e){function t(n,o,...s){let a={title:n,command:o};return J.defined(s)&&s.length>0&&(a.arguments=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.string(o.title)&&J.string(o.command)}i(r,"is"),e.is=r})(mu||(mu={}));(function(e){function t(s,a){return{range:s,newText:a}}i(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}i(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}i(n,"del"),e.del=n;function o(s){let a=s;return J.objectLiteral(a)&&J.string(a.newText)&&Tr.is(a.range)}i(o,"is"),e.is=o})(x0||(x0={}));(function(e){function t(n,o,s){let a={label:n};return o!==void 0&&(a.needsConfirmation=o),s!==void 0&&(a.description=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&J.string(o.label)&&(J.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(J.string(o.description)||o.description===void 0)}i(r,"is"),e.is=r})(du||(du={}));(function(e){function t(r){let n=r;return J.string(n)}i(t,"is"),e.is=t})(Yn||(Yn={}));(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}i(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}i(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}i(n,"del"),e.del=n;function o(s){let a=s;return x0.is(a)&&(du.is(a.annotationId)||Yn.is(a.annotationId))}i(o,"is"),e.is=o})(Ea||(Ea={}));(function(e){function t(n,o){return{textDocument:n,edits:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&w1.is(o.textDocument)&&Array.isArray(o.edits)}i(r,"is"),e.is=r})(S1||(S1={}));(function(e){function t(n,o,s){let a={kind:"create",uri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return o&&o.kind==="create"&&J.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||J.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||J.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Yn.is(o.annotationId))}i(r,"is"),e.is=r})(kd||(kd={}));(function(e){function t(n,o,s,a){let l={kind:"rename",oldUri:n,newUri:o};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}i(t,"create"),e.create=t;function r(n){let o=n;return o&&o.kind==="rename"&&J.string(o.oldUri)&&J.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||J.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||J.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Yn.is(o.annotationId))}i(r,"is"),e.is=r})(Od||(Od={}));(function(e){function t(n,o,s){let a={kind:"delete",uri:n};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return o&&o.kind==="delete"&&J.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||J.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||J.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||Yn.is(o.annotationId))}i(r,"is"),e.is=r})(Ld||(Ld={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(o=>J.string(o.kind)?kd.is(o)||Od.is(o)||Ld.is(o):S1.is(o)))}i(t,"is"),e.is=t})(w4||(w4={}));Nd=class{static{i(this,"TextEditChangeImpl")}constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let o,s;if(n===void 0?o=x0.insert(t,r):Yn.is(n)?(s=n,o=Ea.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),o=Ea.insert(t,r,s)),this.edits.push(o),s!==void 0)return s}replace(t,r,n){let o,s;if(n===void 0?o=x0.replace(t,r):Yn.is(n)?(s=n,o=Ea.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),o=Ea.replace(t,r,s)),this.edits.push(o),s!==void 0)return s}delete(t,r){let n,o;if(r===void 0?n=x0.del(t):Yn.is(r)?(o=r,n=Ea.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),n=Ea.del(t,o)),this.edits.push(n),o!==void 0)return o}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},P4=class{static{i(this,"ChangeAnnotations")}constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(Yn.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},f9=class{static{i(this,"WorkspaceChange")}constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new P4(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(S1.is(r)){let n=new Nd(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new Nd(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(w1.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let o=[],s={textDocument:r,edits:o};this._workspaceEdit.documentChanges.push(s),n=new Nd(o,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new Nd(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new P4,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;du.is(r)||Yn.is(r)?o=r:n=r;let s,a;if(o===void 0?s=kd.create(t,n):(a=Yn.is(o)?o:this._changeAnnotations.manage(o),s=kd.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(t,r,n,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;du.is(n)||Yn.is(n)?s=n:o=n;let a,l;if(s===void 0?a=Od.create(t,r,o):(l=Yn.is(s)?s:this._changeAnnotations.manage(s),a=Od.create(t,r,o,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;du.is(r)||Yn.is(r)?o=r:n=r;let s,a;if(o===void 0?s=Ld.create(t,n):(a=Yn.is(o)?o:this._changeAnnotations.manage(o),s=Ld.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}};(function(e){function t(n){return{uri:n}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.string(o.uri)}i(r,"is"),e.is=r})(d9||(d9={}));(function(e){function t(n,o){return{uri:n,version:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.string(o.uri)&&J.integer(o.version)}i(r,"is"),e.is=r})(m9||(m9={}));(function(e){function t(n,o){return{uri:n,version:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.string(o.uri)&&(o.version===null||J.integer(o.version))}i(r,"is"),e.is=r})(w1||(w1={}));(function(e){function t(n,o,s,a){return{uri:n,languageId:o,version:s,text:a}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.string(o.uri)&&J.string(o.languageId)&&J.integer(o.version)&&J.string(o.text)}i(r,"is"),e.is=r})(p9||(p9={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}i(t,"is"),e.is=t})(R4||(R4={}));(function(e){function t(r){let n=r;return J.objectLiteral(r)&&R4.is(n.kind)&&J.string(n.value)}i(t,"is"),e.is=t})(Fd||(Fd={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(g9||(g9={}));(function(e){e.PlainText=1,e.Snippet=2})(h9||(h9={}));(function(e){e.Deprecated=1})(x9||(x9={}));(function(e){function t(n,o,s){return{newText:n,insert:o,replace:s}}i(t,"create"),e.create=t;function r(n){let o=n;return o&&J.string(o.newText)&&Tr.is(o.insert)&&Tr.is(o.replace)}i(r,"is"),e.is=r})(b9||(b9={}));(function(e){e.asIs=1,e.adjustIndentation=2})(y9||(y9={}));(function(e){function t(r){let n=r;return n&&(J.string(n.detail)||n.detail===void 0)&&(J.string(n.description)||n.description===void 0)}i(t,"is"),e.is=t})(_9||(_9={}));(function(e){function t(r){return{label:r}}i(t,"create"),e.create=t})(v9||(v9={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}i(t,"create"),e.create=t})(T9||(T9={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}i(t,"fromPlainText"),e.fromPlainText=t;function r(n){let o=n;return J.string(o)||J.objectLiteral(o)&&J.string(o.language)&&J.string(o.value)}i(r,"is"),e.is=r})(P1||(P1={}));(function(e){function t(r){let n=r;return!!n&&J.objectLiteral(n)&&(Fd.is(n.contents)||P1.is(n.contents)||J.typedArray(n.contents,P1.is))&&(r.range===void 0||Tr.is(r.range))}i(t,"is"),e.is=t})(E9||(E9={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}i(t,"create"),e.create=t})(C9||(C9={}));(function(e){function t(r,n,...o){let s={label:r};return J.defined(n)&&(s.documentation=n),J.defined(o)?s.parameters=o:s.parameters=[],s}i(t,"create"),e.create=t})(I9||(I9={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(S9||(S9={}));(function(e){function t(r,n){let o={range:r};return J.number(n)&&(o.kind=n),o}i(t,"create"),e.create=t})(w9||(w9={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(P9||(P9={}));(function(e){e.Deprecated=1})(R9||(R9={}));(function(e){function t(r,n,o,s,a){let l={name:r,kind:n,location:{uri:s,range:o}};return a&&(l.containerName=a),l}i(t,"create"),e.create=t})(D9||(D9={}));(function(e){function t(r,n,o,s){return s!==void 0?{name:r,kind:n,location:{uri:o,range:s}}:{name:r,kind:n,location:{uri:o}}}i(t,"create"),e.create=t})(A9||(A9={}));(function(e){function t(n,o,s,a,l,c){let f={name:n,detail:o,kind:s,range:a,selectionRange:l};return c!==void 0&&(f.children=c),f}i(t,"create"),e.create=t;function r(n){let o=n;return o&&J.string(o.name)&&J.number(o.kind)&&Tr.is(o.range)&&Tr.is(o.selectionRange)&&(o.detail===void 0||J.string(o.detail))&&(o.deprecated===void 0||J.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}i(r,"is"),e.is=r})(N9||(N9={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(k9||(k9={}));(function(e){e.Invoked=1,e.Automatic=2})(R1||(R1={}));(function(e){function t(n,o,s){let a={diagnostics:n};return o!=null&&(a.only=o),s!=null&&(a.triggerKind=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.typedArray(o.diagnostics,I1.is)&&(o.only===void 0||J.typedArray(o.only,J.string))&&(o.triggerKind===void 0||o.triggerKind===R1.Invoked||o.triggerKind===R1.Automatic)}i(r,"is"),e.is=r})(O9||(O9={}));(function(e){function t(n,o,s){let a={title:n},l=!0;return typeof o=="string"?(l=!1,a.kind=o):mu.is(o)?a.command=o:a.edit=o,l&&s!==void 0&&(a.kind=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return o&&J.string(o.title)&&(o.diagnostics===void 0||J.typedArray(o.diagnostics,I1.is))&&(o.kind===void 0||J.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||mu.is(o.command))&&(o.isPreferred===void 0||J.boolean(o.isPreferred))&&(o.edit===void 0||w4.is(o.edit))}i(r,"is"),e.is=r})(L9||(L9={}));(function(e){function t(n,o){let s={range:n};return J.defined(o)&&(s.data=o),s}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&Tr.is(o.range)&&(J.undefined(o.command)||mu.is(o.command))}i(r,"is"),e.is=r})(F9||(F9={}));(function(e){function t(n,o){return{tabSize:n,insertSpaces:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&J.uinteger(o.tabSize)&&J.boolean(o.insertSpaces)}i(r,"is"),e.is=r})(M9||(M9={}));(function(e){function t(n,o,s){return{range:n,target:o,data:s}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&Tr.is(o.range)&&(J.undefined(o.target)||J.string(o.target))}i(r,"is"),e.is=r})(U9||(U9={}));(function(e){function t(n,o){return{range:n,parent:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Tr.is(o.range)&&(o.parent===void 0||e.is(o.parent))}i(r,"is"),e.is=r})(B9||(B9={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})($9||($9={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(j9||(j9={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}i(t,"is"),e.is=t})(q9||(q9={}));(function(e){function t(n,o){return{range:n,text:o}}i(t,"create"),e.create=t;function r(n){let o=n;return o!=null&&Tr.is(o.range)&&J.string(o.text)}i(r,"is"),e.is=r})(W9||(W9={}));(function(e){function t(n,o,s){return{range:n,variableName:o,caseSensitiveLookup:s}}i(t,"create"),e.create=t;function r(n){let o=n;return o!=null&&Tr.is(o.range)&&J.boolean(o.caseSensitiveLookup)&&(J.string(o.variableName)||o.variableName===void 0)}i(r,"is"),e.is=r})(z9||(z9={}));(function(e){function t(n,o){return{range:n,expression:o}}i(t,"create"),e.create=t;function r(n){let o=n;return o!=null&&Tr.is(o.range)&&(J.string(o.expression)||o.expression===void 0)}i(r,"is"),e.is=r})(H9||(H9={}));(function(e){function t(n,o){return{frameId:n,stoppedLocation:o}}i(t,"create"),e.create=t;function r(n){let o=n;return J.defined(o)&&Tr.is(n.stoppedLocation)}i(r,"is"),e.is=r})(G9||(G9={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}i(t,"is"),e.is=t})(D4||(D4={}));(function(e){function t(n){return{value:n}}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&(o.tooltip===void 0||J.string(o.tooltip)||Fd.is(o.tooltip))&&(o.location===void 0||C1.is(o.location))&&(o.command===void 0||mu.is(o.command))}i(r,"is"),e.is=r})(A4||(A4={}));(function(e){function t(n,o,s){let a={position:n,label:o};return s!==void 0&&(a.kind=s),a}i(t,"create"),e.create=t;function r(n){let o=n;return J.objectLiteral(o)&&Kn.is(o.position)&&(J.string(o.label)||J.typedArray(o.label,A4.is))&&(o.kind===void 0||D4.is(o.kind))&&o.textEdits===void 0||J.typedArray(o.textEdits,x0.is)&&(o.tooltip===void 0||J.string(o.tooltip)||Fd.is(o.tooltip))&&(o.paddingLeft===void 0||J.boolean(o.paddingLeft))&&(o.paddingRight===void 0||J.boolean(o.paddingRight))}i(r,"is"),e.is=r})(V9||(V9={}));(function(e){function t(r){return{kind:"snippet",value:r}}i(t,"createSnippet"),e.createSnippet=t})(K9||(K9={}));(function(e){function t(r,n,o,s){return{insertText:r,filterText:n,range:o,command:s}}i(t,"create"),e.create=t})(Y9||(Y9={}));(function(e){function t(r){return{items:r}}i(t,"create"),e.create=t})(X9||(X9={}));(function(e){e.Invoked=0,e.Automatic=1})(J9||(J9={}));(function(e){function t(r,n){return{range:r,text:n}}i(t,"create"),e.create=t})(Z9||(Z9={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}i(t,"create"),e.create=t})(Q9||(Q9={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&C4.is(n.uri)&&J.string(n.name)}i(t,"is"),e.is=t})(ev||(ev={}));Nse=[`
`,`\r
`,"\r"];(function(e){function t(s,a,l,c){return new rv(s,a,l,c)}i(t,"create"),e.create=t;function r(s){let a=s;return!!(J.defined(a)&&J.string(a.uri)&&(J.undefined(a.languageId)||J.string(a.languageId))&&J.uinteger(a.lineCount)&&J.func(a.getText)&&J.func(a.positionAt)&&J.func(a.offsetAt))}i(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=o(a,(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),f=l.length;for(let u=c.length-1;u>=0;u--){let d=c[u],p=s.offsetAt(d.range.start),m=s.offsetAt(d.range.end);if(m<=f)l=l.substring(0,p)+d.newText+l.substring(m,l.length);else throw new Error("Overlapping edit");f=p}return l}i(n,"applyEdits"),e.applyEdits=n;function o(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),f=s.slice(l);o(c,a),o(f,a);let u=0,d=0,p=0;for(;u<c.length&&d<f.length;)a(c[u],f[d])<=0?s[p++]=c[u++]:s[p++]=f[d++];for(;u<c.length;)s[p++]=c[u++];for(;d<f.length;)s[p++]=f[d++];return s}i(o,"mergeSort")})(tv||(tv={}));rv=class{static{i(this,"FullTextDocument")}constructor(t,r,n,o){this._uri=t,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let o=0;o<r.length;o++){n&&(t.push(o),n=!1);let s=r.charAt(o);n=s==="\r"||s===`
`,s==="\r"&&o+1<r.length&&r.charAt(o+1)===`
`&&o++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return Kn.create(0,t);for(;n<o;){let a=Math.floor((n+o)/2);r[a]>t?o=a:n=a+1}let s=n-1;return Kn.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],o=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,o),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}i(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}i(n,"undefined"),e.undefined=n;function o(m){return m===!0||m===!1}i(o,"boolean"),e.boolean=o;function s(m){return t.call(m)==="[object String]"}i(s,"string"),e.string=s;function a(m){return t.call(m)==="[object Number]"}i(a,"number"),e.number=a;function l(m,g,h){return t.call(m)==="[object Number]"&&g<=m&&m<=h}i(l,"numberRange"),e.numberRange=l;function c(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}i(c,"integer"),e.integer=c;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}i(f,"uinteger"),e.uinteger=f;function u(m){return t.call(m)==="[object Function]"}i(u,"func"),e.func=u;function d(m){return m!==null&&typeof m=="object"}i(d,"objectLiteral"),e.objectLiteral=d;function p(m,g){return Array.isArray(m)&&m.every(g)}i(p,"typedArray"),e.typedArray=p})(J||(J={}))});var Wr=Q(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.ProtocolNotificationType=Wi.ProtocolNotificationType0=Wi.ProtocolRequestType=Wi.ProtocolRequestType0=Wi.RegistrationType=Wi.MessageDirection=void 0;var Md=fu(),kk;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(kk||(Wi.MessageDirection=kk={}));var nv=class{static{i(this,"RegistrationType")}constructor(t){this.method=t}};Wi.RegistrationType=nv;var iv=class extends Md.RequestType0{static{i(this,"ProtocolRequestType0")}constructor(t){super(t)}};Wi.ProtocolRequestType0=iv;var ov=class extends Md.RequestType{static{i(this,"ProtocolRequestType")}constructor(t){super(t,Md.ParameterStructures.byName)}};Wi.ProtocolRequestType=ov;var sv=class extends Md.NotificationType0{static{i(this,"ProtocolNotificationType0")}constructor(t){super(t)}};Wi.ProtocolNotificationType0=sv;var av=class extends Md.NotificationType{static{i(this,"ProtocolNotificationType")}constructor(t){super(t,Md.ParameterStructures.byName)}};Wi.ProtocolNotificationType=av});var k4=Q(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.objectLiteral=xn.typedArray=xn.stringArray=xn.array=xn.func=xn.error=xn.number=xn.string=xn.boolean=void 0;function kse(e){return e===!0||e===!1}i(kse,"boolean");xn.boolean=kse;function Ok(e){return typeof e=="string"||e instanceof String}i(Ok,"string");xn.string=Ok;function Ose(e){return typeof e=="number"||e instanceof Number}i(Ose,"number");xn.number=Ose;function Lse(e){return e instanceof Error}i(Lse,"error");xn.error=Lse;function Fse(e){return typeof e=="function"}i(Fse,"func");xn.func=Fse;function Lk(e){return Array.isArray(e)}i(Lk,"array");xn.array=Lk;function Mse(e){return Lk(e)&&e.every(t=>Ok(t))}i(Mse,"stringArray");xn.stringArray=Mse;function Use(e,t){return Array.isArray(e)&&e.every(t)}i(Use,"typedArray");xn.typedArray=Use;function Bse(e){return e!==null&&typeof e=="object"}i(Bse,"objectLiteral");xn.objectLiteral=Bse});var Uk=Q(O4=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});O4.ImplementationRequest=void 0;var Fk=Wr(),Mk;(function(e){e.method="textDocument/implementation",e.messageDirection=Fk.MessageDirection.clientToServer,e.type=new Fk.ProtocolRequestType(e.method)})(Mk||(O4.ImplementationRequest=Mk={}))});var jk=Q(L4=>{"use strict";Object.defineProperty(L4,"__esModule",{value:!0});L4.TypeDefinitionRequest=void 0;var Bk=Wr(),$k;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Bk.MessageDirection.clientToServer,e.type=new Bk.ProtocolRequestType(e.method)})($k||(L4.TypeDefinitionRequest=$k={}))});var zk=Q(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.DidChangeWorkspaceFoldersNotification=Ud.WorkspaceFoldersRequest=void 0;var F4=Wr(),qk;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=F4.MessageDirection.serverToClient,e.type=new F4.ProtocolRequestType0(e.method)})(qk||(Ud.WorkspaceFoldersRequest=qk={}));var Wk;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=F4.MessageDirection.clientToServer,e.type=new F4.ProtocolNotificationType(e.method)})(Wk||(Ud.DidChangeWorkspaceFoldersNotification=Wk={}))});var Vk=Q(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});M4.ConfigurationRequest=void 0;var Hk=Wr(),Gk;(function(e){e.method="workspace/configuration",e.messageDirection=Hk.MessageDirection.serverToClient,e.type=new Hk.ProtocolRequestType(e.method)})(Gk||(M4.ConfigurationRequest=Gk={}))});var Xk=Q(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.ColorPresentationRequest=Bd.DocumentColorRequest=void 0;var U4=Wr(),Kk;(function(e){e.method="textDocument/documentColor",e.messageDirection=U4.MessageDirection.clientToServer,e.type=new U4.ProtocolRequestType(e.method)})(Kk||(Bd.DocumentColorRequest=Kk={}));var Yk;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=U4.MessageDirection.clientToServer,e.type=new U4.ProtocolRequestType(e.method)})(Yk||(Bd.ColorPresentationRequest=Yk={}))});var Qk=Q($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.FoldingRangeRefreshRequest=$d.FoldingRangeRequest=void 0;var B4=Wr(),Jk;(function(e){e.method="textDocument/foldingRange",e.messageDirection=B4.MessageDirection.clientToServer,e.type=new B4.ProtocolRequestType(e.method)})(Jk||($d.FoldingRangeRequest=Jk={}));var Zk;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=B4.MessageDirection.serverToClient,e.type=new B4.ProtocolRequestType0(e.method)})(Zk||($d.FoldingRangeRefreshRequest=Zk={}))});var rO=Q($4=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});$4.DeclarationRequest=void 0;var eO=Wr(),tO;(function(e){e.method="textDocument/declaration",e.messageDirection=eO.MessageDirection.clientToServer,e.type=new eO.ProtocolRequestType(e.method)})(tO||($4.DeclarationRequest=tO={}))});var oO=Q(j4=>{"use strict";Object.defineProperty(j4,"__esModule",{value:!0});j4.SelectionRangeRequest=void 0;var nO=Wr(),iO;(function(e){e.method="textDocument/selectionRange",e.messageDirection=nO.MessageDirection.clientToServer,e.type=new nO.ProtocolRequestType(e.method)})(iO||(j4.SelectionRangeRequest=iO={}))});var cO=Q(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.WorkDoneProgressCancelNotification=kl.WorkDoneProgressCreateRequest=kl.WorkDoneProgress=void 0;var $se=fu(),q4=Wr(),sO;(function(e){e.type=new $se.ProgressType;function t(r){return r===e.type}i(t,"is"),e.is=t})(sO||(kl.WorkDoneProgress=sO={}));var aO;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=q4.MessageDirection.serverToClient,e.type=new q4.ProtocolRequestType(e.method)})(aO||(kl.WorkDoneProgressCreateRequest=aO={}));var lO;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=q4.MessageDirection.clientToServer,e.type=new q4.ProtocolNotificationType(e.method)})(lO||(kl.WorkDoneProgressCancelNotification=lO={}))});var mO=Q(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.CallHierarchyOutgoingCallsRequest=Ol.CallHierarchyIncomingCallsRequest=Ol.CallHierarchyPrepareRequest=void 0;var jd=Wr(),uO;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(uO||(Ol.CallHierarchyPrepareRequest=uO={}));var fO;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(fO||(Ol.CallHierarchyIncomingCallsRequest=fO={}));var dO;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(dO||(Ol.CallHierarchyOutgoingCallsRequest=dO={}))});var yO=Q(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.SemanticTokensRefreshRequest=zi.SemanticTokensRangeRequest=zi.SemanticTokensDeltaRequest=zi.SemanticTokensRequest=zi.SemanticTokensRegistrationType=zi.TokenFormat=void 0;var Ca=Wr(),pO;(function(e){e.Relative="relative"})(pO||(zi.TokenFormat=pO={}));var A1;(function(e){e.method="textDocument/semanticTokens",e.type=new Ca.RegistrationType(e.method)})(A1||(zi.SemanticTokensRegistrationType=A1={}));var gO;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Ca.MessageDirection.clientToServer,e.type=new Ca.ProtocolRequestType(e.method),e.registrationMethod=A1.method})(gO||(zi.SemanticTokensRequest=gO={}));var hO;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Ca.MessageDirection.clientToServer,e.type=new Ca.ProtocolRequestType(e.method),e.registrationMethod=A1.method})(hO||(zi.SemanticTokensDeltaRequest=hO={}));var xO;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Ca.MessageDirection.clientToServer,e.type=new Ca.ProtocolRequestType(e.method),e.registrationMethod=A1.method})(xO||(zi.SemanticTokensRangeRequest=xO={}));var bO;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Ca.MessageDirection.serverToClient,e.type=new Ca.ProtocolRequestType0(e.method)})(bO||(zi.SemanticTokensRefreshRequest=bO={}))});var TO=Q(W4=>{"use strict";Object.defineProperty(W4,"__esModule",{value:!0});W4.ShowDocumentRequest=void 0;var _O=Wr(),vO;(function(e){e.method="window/showDocument",e.messageDirection=_O.MessageDirection.serverToClient,e.type=new _O.ProtocolRequestType(e.method)})(vO||(W4.ShowDocumentRequest=vO={}))});var IO=Q(z4=>{"use strict";Object.defineProperty(z4,"__esModule",{value:!0});z4.LinkedEditingRangeRequest=void 0;var EO=Wr(),CO;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=EO.MessageDirection.clientToServer,e.type=new EO.ProtocolRequestType(e.method)})(CO||(z4.LinkedEditingRangeRequest=CO={}))});var kO=Q(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.WillDeleteFilesRequest=ci.DidDeleteFilesNotification=ci.DidRenameFilesNotification=ci.WillRenameFilesRequest=ci.DidCreateFilesNotification=ci.WillCreateFilesRequest=ci.FileOperationPatternKind=void 0;var Go=Wr(),SO;(function(e){e.file="file",e.folder="folder"})(SO||(ci.FileOperationPatternKind=SO={}));var wO;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(wO||(ci.WillCreateFilesRequest=wO={}));var PO;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolNotificationType(e.method)})(PO||(ci.DidCreateFilesNotification=PO={}));var RO;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(RO||(ci.WillRenameFilesRequest=RO={}));var DO;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolNotificationType(e.method)})(DO||(ci.DidRenameFilesNotification=DO={}));var AO;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolNotificationType(e.method)})(AO||(ci.DidDeleteFilesNotification=AO={}));var NO;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(NO||(ci.WillDeleteFilesRequest=NO={}))});var UO=Q(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.MonikerRequest=Ll.MonikerKind=Ll.UniquenessLevel=void 0;var OO=Wr(),LO;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(LO||(Ll.UniquenessLevel=LO={}));var FO;(function(e){e.$import="import",e.$export="export",e.local="local"})(FO||(Ll.MonikerKind=FO={}));var MO;(function(e){e.method="textDocument/moniker",e.messageDirection=OO.MessageDirection.clientToServer,e.type=new OO.ProtocolRequestType(e.method)})(MO||(Ll.MonikerRequest=MO={}))});var qO=Q(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.TypeHierarchySubtypesRequest=Fl.TypeHierarchySupertypesRequest=Fl.TypeHierarchyPrepareRequest=void 0;var qd=Wr(),BO;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=qd.MessageDirection.clientToServer,e.type=new qd.ProtocolRequestType(e.method)})(BO||(Fl.TypeHierarchyPrepareRequest=BO={}));var $O;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=qd.MessageDirection.clientToServer,e.type=new qd.ProtocolRequestType(e.method)})($O||(Fl.TypeHierarchySupertypesRequest=$O={}));var jO;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=qd.MessageDirection.clientToServer,e.type=new qd.ProtocolRequestType(e.method)})(jO||(Fl.TypeHierarchySubtypesRequest=jO={}))});var HO=Q(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.InlineValueRefreshRequest=Wd.InlineValueRequest=void 0;var H4=Wr(),WO;(function(e){e.method="textDocument/inlineValue",e.messageDirection=H4.MessageDirection.clientToServer,e.type=new H4.ProtocolRequestType(e.method)})(WO||(Wd.InlineValueRequest=WO={}));var zO;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=H4.MessageDirection.serverToClient,e.type=new H4.ProtocolRequestType0(e.method)})(zO||(Wd.InlineValueRefreshRequest=zO={}))});var YO=Q(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.InlayHintRefreshRequest=Ml.InlayHintResolveRequest=Ml.InlayHintRequest=void 0;var zd=Wr(),GO;(function(e){e.method="textDocument/inlayHint",e.messageDirection=zd.MessageDirection.clientToServer,e.type=new zd.ProtocolRequestType(e.method)})(GO||(Ml.InlayHintRequest=GO={}));var VO;(function(e){e.method="inlayHint/resolve",e.messageDirection=zd.MessageDirection.clientToServer,e.type=new zd.ProtocolRequestType(e.method)})(VO||(Ml.InlayHintResolveRequest=VO={}));var KO;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=zd.MessageDirection.serverToClient,e.type=new zd.ProtocolRequestType0(e.method)})(KO||(Ml.InlayHintRefreshRequest=KO={}))});var rL=Q(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DiagnosticRefreshRequest=Vo.WorkspaceDiagnosticRequest=Vo.DocumentDiagnosticRequest=Vo.DocumentDiagnosticReportKind=Vo.DiagnosticServerCancellationData=void 0;var tL=fu(),jse=k4(),Hd=Wr(),XO;(function(e){function t(r){let n=r;return n&&jse.boolean(n.retriggerRequest)}i(t,"is"),e.is=t})(XO||(Vo.DiagnosticServerCancellationData=XO={}));var JO;(function(e){e.Full="full",e.Unchanged="unchanged"})(JO||(Vo.DocumentDiagnosticReportKind=JO={}));var ZO;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Hd.MessageDirection.clientToServer,e.type=new Hd.ProtocolRequestType(e.method),e.partialResult=new tL.ProgressType})(ZO||(Vo.DocumentDiagnosticRequest=ZO={}));var QO;(function(e){e.method="workspace/diagnostic",e.messageDirection=Hd.MessageDirection.clientToServer,e.type=new Hd.ProtocolRequestType(e.method),e.partialResult=new tL.ProgressType})(QO||(Vo.WorkspaceDiagnosticRequest=QO={}));var eL;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Hd.MessageDirection.serverToClient,e.type=new Hd.ProtocolRequestType0(e.method)})(eL||(Vo.DiagnosticRefreshRequest=eL={}))});var cL=Q(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DidCloseNotebookDocumentNotification=Qr.DidSaveNotebookDocumentNotification=Qr.DidChangeNotebookDocumentNotification=Qr.NotebookCellArrayChange=Qr.DidOpenNotebookDocumentNotification=Qr.NotebookDocumentSyncRegistrationType=Qr.NotebookDocument=Qr.NotebookCell=Qr.ExecutionSummary=Qr.NotebookCellKind=void 0;var N1=(D1(),Fh(N4)),Ms=k4(),b0=Wr(),lv;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}i(t,"is"),e.is=t})(lv||(Qr.NotebookCellKind=lv={}));var cv;(function(e){function t(o,s){let a={executionOrder:o};return(s===!0||s===!1)&&(a.success=s),a}i(t,"create"),e.create=t;function r(o){let s=o;return Ms.objectLiteral(s)&&N1.uinteger.is(s.executionOrder)&&(s.success===void 0||Ms.boolean(s.success))}i(r,"is"),e.is=r;function n(o,s){return o===s?!0:o==null||s===null||s===void 0?!1:o.executionOrder===s.executionOrder&&o.success===s.success}i(n,"equals"),e.equals=n})(cv||(Qr.ExecutionSummary=cv={}));var G4;(function(e){function t(s,a){return{kind:s,document:a}}i(t,"create"),e.create=t;function r(s){let a=s;return Ms.objectLiteral(a)&&lv.is(a.kind)&&N1.DocumentUri.is(a.document)&&(a.metadata===void 0||Ms.objectLiteral(a.metadata))}i(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!o(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!cv.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}i(n,"diff"),e.diff=n;function o(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++)if(!o(s[f],a[f]))return!1}if(Ms.objectLiteral(s)&&Ms.objectLiteral(a)){let f=Object.keys(s),u=Object.keys(a);if(f.length!==u.length||(f.sort(),u.sort(),!o(f,u)))return!1;for(let d=0;d<f.length;d++){let p=f[d];if(!o(s[p],a[p]))return!1}}return!0}i(o,"equalsMetadata")})(G4||(Qr.NotebookCell=G4={}));var nL;(function(e){function t(n,o,s,a){return{uri:n,notebookType:o,version:s,cells:a}}i(t,"create"),e.create=t;function r(n){let o=n;return Ms.objectLiteral(o)&&Ms.string(o.uri)&&N1.integer.is(o.version)&&Ms.typedArray(o.cells,G4.is)}i(r,"is"),e.is=r})(nL||(Qr.NotebookDocument=nL={}));var Gd;(function(e){e.method="notebookDocument/sync",e.messageDirection=b0.MessageDirection.clientToServer,e.type=new b0.RegistrationType(e.method)})(Gd||(Qr.NotebookDocumentSyncRegistrationType=Gd={}));var iL;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=b0.MessageDirection.clientToServer,e.type=new b0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(iL||(Qr.DidOpenNotebookDocumentNotification=iL={}));var oL;(function(e){function t(n){let o=n;return Ms.objectLiteral(o)&&N1.uinteger.is(o.start)&&N1.uinteger.is(o.deleteCount)&&(o.cells===void 0||Ms.typedArray(o.cells,G4.is))}i(t,"is"),e.is=t;function r(n,o,s){let a={start:n,deleteCount:o};return s!==void 0&&(a.cells=s),a}i(r,"create"),e.create=r})(oL||(Qr.NotebookCellArrayChange=oL={}));var sL;(function(e){e.method="notebookDocument/didChange",e.messageDirection=b0.MessageDirection.clientToServer,e.type=new b0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(sL||(Qr.DidChangeNotebookDocumentNotification=sL={}));var aL;(function(e){e.method="notebookDocument/didSave",e.messageDirection=b0.MessageDirection.clientToServer,e.type=new b0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(aL||(Qr.DidSaveNotebookDocumentNotification=aL={}));var lL;(function(e){e.method="notebookDocument/didClose",e.messageDirection=b0.MessageDirection.clientToServer,e.type=new b0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(lL||(Qr.DidCloseNotebookDocumentNotification=lL={}))});var dL=Q(V4=>{"use strict";Object.defineProperty(V4,"__esModule",{value:!0});V4.InlineCompletionRequest=void 0;var uL=Wr(),fL;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=uL.MessageDirection.clientToServer,e.type=new uL.ProtocolRequestType(e.method)})(fL||(V4.InlineCompletionRequest=fL={}))});var IF=Q(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.WorkspaceSymbolRequest=U.CodeActionResolveRequest=U.CodeActionRequest=U.DocumentSymbolRequest=U.DocumentHighlightRequest=U.ReferencesRequest=U.DefinitionRequest=U.SignatureHelpRequest=U.SignatureHelpTriggerKind=U.HoverRequest=U.CompletionResolveRequest=U.CompletionRequest=U.CompletionTriggerKind=U.PublishDiagnosticsNotification=U.WatchKind=U.RelativePattern=U.FileChangeType=U.DidChangeWatchedFilesNotification=U.WillSaveTextDocumentWaitUntilRequest=U.WillSaveTextDocumentNotification=U.TextDocumentSaveReason=U.DidSaveTextDocumentNotification=U.DidCloseTextDocumentNotification=U.DidChangeTextDocumentNotification=U.TextDocumentContentChangeEvent=U.DidOpenTextDocumentNotification=U.TextDocumentSyncKind=U.TelemetryEventNotification=U.LogMessageNotification=U.ShowMessageRequest=U.ShowMessageNotification=U.MessageType=U.DidChangeConfigurationNotification=U.ExitNotification=U.ShutdownRequest=U.InitializedNotification=U.InitializeErrorCodes=U.InitializeRequest=U.WorkDoneProgressOptions=U.TextDocumentRegistrationOptions=U.StaticRegistrationOptions=U.PositionEncodingKind=U.FailureHandlingKind=U.ResourceOperationKind=U.UnregistrationRequest=U.RegistrationRequest=U.DocumentSelector=U.NotebookCellTextDocumentFilter=U.NotebookDocumentFilter=U.TextDocumentFilter=void 0;U.MonikerRequest=U.MonikerKind=U.UniquenessLevel=U.WillDeleteFilesRequest=U.DidDeleteFilesNotification=U.WillRenameFilesRequest=U.DidRenameFilesNotification=U.WillCreateFilesRequest=U.DidCreateFilesNotification=U.FileOperationPatternKind=U.LinkedEditingRangeRequest=U.ShowDocumentRequest=U.SemanticTokensRegistrationType=U.SemanticTokensRefreshRequest=U.SemanticTokensRangeRequest=U.SemanticTokensDeltaRequest=U.SemanticTokensRequest=U.TokenFormat=U.CallHierarchyPrepareRequest=U.CallHierarchyOutgoingCallsRequest=U.CallHierarchyIncomingCallsRequest=U.WorkDoneProgressCancelNotification=U.WorkDoneProgressCreateRequest=U.WorkDoneProgress=U.SelectionRangeRequest=U.DeclarationRequest=U.FoldingRangeRefreshRequest=U.FoldingRangeRequest=U.ColorPresentationRequest=U.DocumentColorRequest=U.ConfigurationRequest=U.DidChangeWorkspaceFoldersNotification=U.WorkspaceFoldersRequest=U.TypeDefinitionRequest=U.ImplementationRequest=U.ApplyWorkspaceEditRequest=U.ExecuteCommandRequest=U.PrepareRenameRequest=U.RenameRequest=U.PrepareSupportDefaultBehavior=U.DocumentOnTypeFormattingRequest=U.DocumentRangesFormattingRequest=U.DocumentRangeFormattingRequest=U.DocumentFormattingRequest=U.DocumentLinkResolveRequest=U.DocumentLinkRequest=U.CodeLensRefreshRequest=U.CodeLensResolveRequest=U.CodeLensRequest=U.WorkspaceSymbolResolveRequest=void 0;U.InlineCompletionRequest=U.DidCloseNotebookDocumentNotification=U.DidSaveNotebookDocumentNotification=U.DidChangeNotebookDocumentNotification=U.NotebookCellArrayChange=U.DidOpenNotebookDocumentNotification=U.NotebookDocumentSyncRegistrationType=U.NotebookDocument=U.NotebookCell=U.ExecutionSummary=U.NotebookCellKind=U.DiagnosticRefreshRequest=U.WorkspaceDiagnosticRequest=U.DocumentDiagnosticRequest=U.DocumentDiagnosticReportKind=U.DiagnosticServerCancellationData=U.InlayHintRefreshRequest=U.InlayHintResolveRequest=U.InlayHintRequest=U.InlineValueRefreshRequest=U.InlineValueRequest=U.TypeHierarchySupertypesRequest=U.TypeHierarchySubtypesRequest=U.TypeHierarchyPrepareRequest=void 0;var _e=Wr(),mL=(D1(),Fh(N4)),Fn=k4(),qse=Uk();Object.defineProperty(U,"ImplementationRequest",{enumerable:!0,get:i(function(){return qse.ImplementationRequest},"get")});var Wse=jk();Object.defineProperty(U,"TypeDefinitionRequest",{enumerable:!0,get:i(function(){return Wse.TypeDefinitionRequest},"get")});var vF=zk();Object.defineProperty(U,"WorkspaceFoldersRequest",{enumerable:!0,get:i(function(){return vF.WorkspaceFoldersRequest},"get")});Object.defineProperty(U,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:i(function(){return vF.DidChangeWorkspaceFoldersNotification},"get")});var zse=Vk();Object.defineProperty(U,"ConfigurationRequest",{enumerable:!0,get:i(function(){return zse.ConfigurationRequest},"get")});var TF=Xk();Object.defineProperty(U,"DocumentColorRequest",{enumerable:!0,get:i(function(){return TF.DocumentColorRequest},"get")});Object.defineProperty(U,"ColorPresentationRequest",{enumerable:!0,get:i(function(){return TF.ColorPresentationRequest},"get")});var EF=Qk();Object.defineProperty(U,"FoldingRangeRequest",{enumerable:!0,get:i(function(){return EF.FoldingRangeRequest},"get")});Object.defineProperty(U,"FoldingRangeRefreshRequest",{enumerable:!0,get:i(function(){return EF.FoldingRangeRefreshRequest},"get")});var Hse=rO();Object.defineProperty(U,"DeclarationRequest",{enumerable:!0,get:i(function(){return Hse.DeclarationRequest},"get")});var Gse=oO();Object.defineProperty(U,"SelectionRangeRequest",{enumerable:!0,get:i(function(){return Gse.SelectionRangeRequest},"get")});var pv=cO();Object.defineProperty(U,"WorkDoneProgress",{enumerable:!0,get:i(function(){return pv.WorkDoneProgress},"get")});Object.defineProperty(U,"WorkDoneProgressCreateRequest",{enumerable:!0,get:i(function(){return pv.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(U,"WorkDoneProgressCancelNotification",{enumerable:!0,get:i(function(){return pv.WorkDoneProgressCancelNotification},"get")});var gv=mO();Object.defineProperty(U,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:i(function(){return gv.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:i(function(){return gv.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return gv.CallHierarchyPrepareRequest},"get")});var Vd=yO();Object.defineProperty(U,"TokenFormat",{enumerable:!0,get:i(function(){return Vd.TokenFormat},"get")});Object.defineProperty(U,"SemanticTokensRequest",{enumerable:!0,get:i(function(){return Vd.SemanticTokensRequest},"get")});Object.defineProperty(U,"SemanticTokensDeltaRequest",{enumerable:!0,get:i(function(){return Vd.SemanticTokensDeltaRequest},"get")});Object.defineProperty(U,"SemanticTokensRangeRequest",{enumerable:!0,get:i(function(){return Vd.SemanticTokensRangeRequest},"get")});Object.defineProperty(U,"SemanticTokensRefreshRequest",{enumerable:!0,get:i(function(){return Vd.SemanticTokensRefreshRequest},"get")});Object.defineProperty(U,"SemanticTokensRegistrationType",{enumerable:!0,get:i(function(){return Vd.SemanticTokensRegistrationType},"get")});var Vse=TO();Object.defineProperty(U,"ShowDocumentRequest",{enumerable:!0,get:i(function(){return Vse.ShowDocumentRequest},"get")});var Kse=IO();Object.defineProperty(U,"LinkedEditingRangeRequest",{enumerable:!0,get:i(function(){return Kse.LinkedEditingRangeRequest},"get")});var pu=kO();Object.defineProperty(U,"FileOperationPatternKind",{enumerable:!0,get:i(function(){return pu.FileOperationPatternKind},"get")});Object.defineProperty(U,"DidCreateFilesNotification",{enumerable:!0,get:i(function(){return pu.DidCreateFilesNotification},"get")});Object.defineProperty(U,"WillCreateFilesRequest",{enumerable:!0,get:i(function(){return pu.WillCreateFilesRequest},"get")});Object.defineProperty(U,"DidRenameFilesNotification",{enumerable:!0,get:i(function(){return pu.DidRenameFilesNotification},"get")});Object.defineProperty(U,"WillRenameFilesRequest",{enumerable:!0,get:i(function(){return pu.WillRenameFilesRequest},"get")});Object.defineProperty(U,"DidDeleteFilesNotification",{enumerable:!0,get:i(function(){return pu.DidDeleteFilesNotification},"get")});Object.defineProperty(U,"WillDeleteFilesRequest",{enumerable:!0,get:i(function(){return pu.WillDeleteFilesRequest},"get")});var hv=UO();Object.defineProperty(U,"UniquenessLevel",{enumerable:!0,get:i(function(){return hv.UniquenessLevel},"get")});Object.defineProperty(U,"MonikerKind",{enumerable:!0,get:i(function(){return hv.MonikerKind},"get")});Object.defineProperty(U,"MonikerRequest",{enumerable:!0,get:i(function(){return hv.MonikerRequest},"get")});var xv=qO();Object.defineProperty(U,"TypeHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return xv.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(U,"TypeHierarchySubtypesRequest",{enumerable:!0,get:i(function(){return xv.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(U,"TypeHierarchySupertypesRequest",{enumerable:!0,get:i(function(){return xv.TypeHierarchySupertypesRequest},"get")});var CF=HO();Object.defineProperty(U,"InlineValueRequest",{enumerable:!0,get:i(function(){return CF.InlineValueRequest},"get")});Object.defineProperty(U,"InlineValueRefreshRequest",{enumerable:!0,get:i(function(){return CF.InlineValueRefreshRequest},"get")});var bv=YO();Object.defineProperty(U,"InlayHintRequest",{enumerable:!0,get:i(function(){return bv.InlayHintRequest},"get")});Object.defineProperty(U,"InlayHintResolveRequest",{enumerable:!0,get:i(function(){return bv.InlayHintResolveRequest},"get")});Object.defineProperty(U,"InlayHintRefreshRequest",{enumerable:!0,get:i(function(){return bv.InlayHintRefreshRequest},"get")});var k1=rL();Object.defineProperty(U,"DiagnosticServerCancellationData",{enumerable:!0,get:i(function(){return k1.DiagnosticServerCancellationData},"get")});Object.defineProperty(U,"DocumentDiagnosticReportKind",{enumerable:!0,get:i(function(){return k1.DocumentDiagnosticReportKind},"get")});Object.defineProperty(U,"DocumentDiagnosticRequest",{enumerable:!0,get:i(function(){return k1.DocumentDiagnosticRequest},"get")});Object.defineProperty(U,"WorkspaceDiagnosticRequest",{enumerable:!0,get:i(function(){return k1.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(U,"DiagnosticRefreshRequest",{enumerable:!0,get:i(function(){return k1.DiagnosticRefreshRequest},"get")});var y0=cL();Object.defineProperty(U,"NotebookCellKind",{enumerable:!0,get:i(function(){return y0.NotebookCellKind},"get")});Object.defineProperty(U,"ExecutionSummary",{enumerable:!0,get:i(function(){return y0.ExecutionSummary},"get")});Object.defineProperty(U,"NotebookCell",{enumerable:!0,get:i(function(){return y0.NotebookCell},"get")});Object.defineProperty(U,"NotebookDocument",{enumerable:!0,get:i(function(){return y0.NotebookDocument},"get")});Object.defineProperty(U,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:i(function(){return y0.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(U,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:i(function(){return y0.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(U,"NotebookCellArrayChange",{enumerable:!0,get:i(function(){return y0.NotebookCellArrayChange},"get")});Object.defineProperty(U,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:i(function(){return y0.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:i(function(){return y0.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:i(function(){return y0.DidCloseNotebookDocumentNotification},"get")});var Yse=dL();Object.defineProperty(U,"InlineCompletionRequest",{enumerable:!0,get:i(function(){return Yse.InlineCompletionRequest},"get")});var uv;(function(e){function t(r){let n=r;return Fn.string(n)||Fn.string(n.language)||Fn.string(n.scheme)||Fn.string(n.pattern)}i(t,"is"),e.is=t})(uv||(U.TextDocumentFilter=uv={}));var fv;(function(e){function t(r){let n=r;return Fn.objectLiteral(n)&&(Fn.string(n.notebookType)||Fn.string(n.scheme)||Fn.string(n.pattern))}i(t,"is"),e.is=t})(fv||(U.NotebookDocumentFilter=fv={}));var dv;(function(e){function t(r){let n=r;return Fn.objectLiteral(n)&&(Fn.string(n.notebook)||fv.is(n.notebook))&&(n.language===void 0||Fn.string(n.language))}i(t,"is"),e.is=t})(dv||(U.NotebookCellTextDocumentFilter=dv={}));var mv;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Fn.string(n)&&!uv.is(n)&&!dv.is(n))return!1;return!0}i(t,"is"),e.is=t})(mv||(U.DocumentSelector=mv={}));var pL;(function(e){e.method="client/registerCapability",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolRequestType(e.method)})(pL||(U.RegistrationRequest=pL={}));var gL;(function(e){e.method="client/unregisterCapability",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolRequestType(e.method)})(gL||(U.UnregistrationRequest=gL={}));var hL;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(hL||(U.ResourceOperationKind=hL={}));var xL;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(xL||(U.FailureHandlingKind=xL={}));var bL;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(bL||(U.PositionEncodingKind=bL={}));var yL;(function(e){function t(r){let n=r;return n&&Fn.string(n.id)&&n.id.length>0}i(t,"hasId"),e.hasId=t})(yL||(U.StaticRegistrationOptions=yL={}));var _L;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||mv.is(n.documentSelector))}i(t,"is"),e.is=t})(_L||(U.TextDocumentRegistrationOptions=_L={}));var vL;(function(e){function t(n){let o=n;return Fn.objectLiteral(o)&&(o.workDoneProgress===void 0||Fn.boolean(o.workDoneProgress))}i(t,"is"),e.is=t;function r(n){let o=n;return o&&Fn.boolean(o.workDoneProgress)}i(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(vL||(U.WorkDoneProgressOptions=vL={}));var TL;(function(e){e.method="initialize",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(TL||(U.InitializeRequest=TL={}));var EL;(function(e){e.unknownProtocolVersion=1})(EL||(U.InitializeErrorCodes=EL={}));var CL;(function(e){e.method="initialized",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(CL||(U.InitializedNotification=CL={}));var IL;(function(e){e.method="shutdown",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType0(e.method)})(IL||(U.ShutdownRequest=IL={}));var SL;(function(e){e.method="exit",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType0(e.method)})(SL||(U.ExitNotification=SL={}));var wL;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(wL||(U.DidChangeConfigurationNotification=wL={}));var PL;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(PL||(U.MessageType=PL={}));var RL;(function(e){e.method="window/showMessage",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolNotificationType(e.method)})(RL||(U.ShowMessageNotification=RL={}));var DL;(function(e){e.method="window/showMessageRequest",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolRequestType(e.method)})(DL||(U.ShowMessageRequest=DL={}));var AL;(function(e){e.method="window/logMessage",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolNotificationType(e.method)})(AL||(U.LogMessageNotification=AL={}));var NL;(function(e){e.method="telemetry/event",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolNotificationType(e.method)})(NL||(U.TelemetryEventNotification=NL={}));var kL;(function(e){e.None=0,e.Full=1,e.Incremental=2})(kL||(U.TextDocumentSyncKind=kL={}));var OL;(function(e){e.method="textDocument/didOpen",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(OL||(U.DidOpenTextDocumentNotification=OL={}));var LL;(function(e){function t(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}i(t,"isIncremental"),e.isIncremental=t;function r(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}i(r,"isFull"),e.isFull=r})(LL||(U.TextDocumentContentChangeEvent=LL={}));var FL;(function(e){e.method="textDocument/didChange",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(FL||(U.DidChangeTextDocumentNotification=FL={}));var ML;(function(e){e.method="textDocument/didClose",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(ML||(U.DidCloseTextDocumentNotification=ML={}));var UL;(function(e){e.method="textDocument/didSave",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(UL||(U.DidSaveTextDocumentNotification=UL={}));var BL;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(BL||(U.TextDocumentSaveReason=BL={}));var $L;(function(e){e.method="textDocument/willSave",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})($L||(U.WillSaveTextDocumentNotification=$L={}));var jL;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(jL||(U.WillSaveTextDocumentWaitUntilRequest=jL={}));var qL;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolNotificationType(e.method)})(qL||(U.DidChangeWatchedFilesNotification=qL={}));var WL;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(WL||(U.FileChangeType=WL={}));var zL;(function(e){function t(r){let n=r;return Fn.objectLiteral(n)&&(mL.URI.is(n.baseUri)||mL.WorkspaceFolder.is(n.baseUri))&&Fn.string(n.pattern)}i(t,"is"),e.is=t})(zL||(U.RelativePattern=zL={}));var HL;(function(e){e.Create=1,e.Change=2,e.Delete=4})(HL||(U.WatchKind=HL={}));var GL;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolNotificationType(e.method)})(GL||(U.PublishDiagnosticsNotification=GL={}));var VL;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(VL||(U.CompletionTriggerKind=VL={}));var KL;(function(e){e.method="textDocument/completion",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(KL||(U.CompletionRequest=KL={}));var YL;(function(e){e.method="completionItem/resolve",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(YL||(U.CompletionResolveRequest=YL={}));var XL;(function(e){e.method="textDocument/hover",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(XL||(U.HoverRequest=XL={}));var JL;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(JL||(U.SignatureHelpTriggerKind=JL={}));var ZL;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(ZL||(U.SignatureHelpRequest=ZL={}));var QL;(function(e){e.method="textDocument/definition",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(QL||(U.DefinitionRequest=QL={}));var eF;(function(e){e.method="textDocument/references",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(eF||(U.ReferencesRequest=eF={}));var tF;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(tF||(U.DocumentHighlightRequest=tF={}));var rF;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(rF||(U.DocumentSymbolRequest=rF={}));var nF;(function(e){e.method="textDocument/codeAction",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(nF||(U.CodeActionRequest=nF={}));var iF;(function(e){e.method="codeAction/resolve",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(iF||(U.CodeActionResolveRequest=iF={}));var oF;(function(e){e.method="workspace/symbol",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(oF||(U.WorkspaceSymbolRequest=oF={}));var sF;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(sF||(U.WorkspaceSymbolResolveRequest=sF={}));var aF;(function(e){e.method="textDocument/codeLens",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(aF||(U.CodeLensRequest=aF={}));var lF;(function(e){e.method="codeLens/resolve",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(lF||(U.CodeLensResolveRequest=lF={}));var cF;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolRequestType0(e.method)})(cF||(U.CodeLensRefreshRequest=cF={}));var uF;(function(e){e.method="textDocument/documentLink",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(uF||(U.DocumentLinkRequest=uF={}));var fF;(function(e){e.method="documentLink/resolve",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(fF||(U.DocumentLinkResolveRequest=fF={}));var dF;(function(e){e.method="textDocument/formatting",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(dF||(U.DocumentFormattingRequest=dF={}));var mF;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(mF||(U.DocumentRangeFormattingRequest=mF={}));var pF;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(pF||(U.DocumentRangesFormattingRequest=pF={}));var gF;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(gF||(U.DocumentOnTypeFormattingRequest=gF={}));var hF;(function(e){e.Identifier=1})(hF||(U.PrepareSupportDefaultBehavior=hF={}));var xF;(function(e){e.method="textDocument/rename",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(xF||(U.RenameRequest=xF={}));var bF;(function(e){e.method="textDocument/prepareRename",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(bF||(U.PrepareRenameRequest=bF={}));var yF;(function(e){e.method="workspace/executeCommand",e.messageDirection=_e.MessageDirection.clientToServer,e.type=new _e.ProtocolRequestType(e.method)})(yF||(U.ExecuteCommandRequest=yF={}));var _F;(function(e){e.method="workspace/applyEdit",e.messageDirection=_e.MessageDirection.serverToClient,e.type=new _e.ProtocolRequestType("workspace/applyEdit")})(_F||(U.ApplyWorkspaceEditRequest=_F={}))});var wF=Q(K4=>{"use strict";Object.defineProperty(K4,"__esModule",{value:!0});K4.createProtocolConnection=void 0;var SF=fu();function Xse(e,t,r,n){return SF.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,SF.createMessageConnection)(e,t,r,n)}i(Xse,"createProtocolConnection");K4.createProtocolConnection=Xse});var RF=Q(Hi=>{"use strict";var Jse=Hi&&Hi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y4=Hi&&Hi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jse(t,e,r)};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.LSPErrorCodes=Hi.createProtocolConnection=void 0;Y4(fu(),Hi);Y4((D1(),Fh(N4)),Hi);Y4(Wr(),Hi);Y4(IF(),Hi);var Zse=wF();Object.defineProperty(Hi,"createProtocolConnection",{enumerable:!0,get:i(function(){return Zse.createProtocolConnection},"get")});var PF;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(PF||(Hi.LSPErrorCodes=PF={}))});var ui=Q(_0=>{"use strict";var Qse=_0&&_0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DF=_0&&_0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qse(t,e,r)};Object.defineProperty(_0,"__esModule",{value:!0});_0.createProtocolConnection=void 0;var e0e=e9();DF(e9(),_0);DF(RF(),_0);function t0e(e,t,r,n){return(0,e0e.createMessageConnection)(e,t,r,n)}i(t0e,"createProtocolConnection");_0.createProtocolConnection=t0e});var w$=Q((z0t,S$)=>{"use strict";S$.exports=C$;function C$(e,t,r){e instanceof RegExp&&(e=E$(e,r)),t instanceof RegExp&&(t=E$(t,r));var n=I$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}i(C$,"balanced");function E$(e,t){var r=t.match(e);return r?r[0]:null}i(E$,"maybeMatch");C$.range=I$;function I$(e,t,r){var n,o,s,a,l,c=r.indexOf(e),f=r.indexOf(t,c+1),u=c;if(c>=0&&f>0){if(e===t)return[c,f];for(n=[],s=r.length;u>=0&&!l;)u==c?(n.push(u),c=r.indexOf(e,u+1)):n.length==1?l=[n.pop(),f]:(o=n.pop(),o<s&&(s=o,a=f),f=r.indexOf(t,u+1)),u=c<f&&c>=0?c:f;n.length&&(l=[s,a])}return l}i(I$,"range")});var L$=Q((G0t,O$)=>{var P$=w$();O$.exports=iue;var R$="\0SLASH"+Math.random()+"\0",D$="\0OPEN"+Math.random()+"\0",eC="\0CLOSE"+Math.random()+"\0",A$="\0COMMA"+Math.random()+"\0",N$="\0PERIOD"+Math.random()+"\0";function QE(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}i(QE,"numeric");function rue(e){return e.split("\\\\").join(R$).split("\\{").join(D$).split("\\}").join(eC).split("\\,").join(A$).split("\\.").join(N$)}i(rue,"escapeBraces");function nue(e){return e.split(R$).join("\\").split(D$).join("{").split(eC).join("}").split(A$).join(",").split(N$).join(".")}i(nue,"unescapeBraces");function k$(e){if(!e)return[""];var t=[],r=P$("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var l=k$(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}i(k$,"parseCommaParts");function iue(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Wg(rue(e),!0).map(nue)):[]}i(iue,"expandTop");function oue(e){return"{"+e+"}"}i(oue,"embrace");function sue(e){return/^-?0\d/.test(e)}i(sue,"isPadded");function aue(e,t){return e<=t}i(aue,"lte");function lue(e,t){return e>=t}i(lue,"gte");function Wg(e,t){var r=[],n=P$("{","}",e);if(!n)return[e];var o=n.pre,s=n.post.length?Wg(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=o+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=c||f,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(e=n.pre+"{"+n.body+eC+n.post,Wg(e)):[e];var p;if(u)p=n.body.split(/\.\./);else if(p=k$(n.body),p.length===1&&(p=Wg(p[0],!1).map(oue),p.length===1))return s.map(function(Y){return n.pre+p[0]+Y});var m;if(u){var g=QE(p[0]),h=QE(p[1]),b=Math.max(p[0].length,p[1].length),x=p.length==3?Math.abs(QE(p[2])):1,y=aue,T=h<g;T&&(x*=-1,y=lue);var _=p.some(sue);m=[];for(var I=g;y(I,h);I+=x){var w;if(f)w=String.fromCharCode(I),w==="\\"&&(w="");else if(w=String(I),_){var j=b-w.length;if(j>0){var V=new Array(j+1).join("0");I<0?w="-"+V+w.slice(1):w=V+w}}m.push(w)}}else{m=[];for(var G=0;G<p.length;G++)m.push.apply(m,Wg(p[G],!1))}for(var G=0;G<m.length;G++)for(var a=0;a<s.length;a++){var l=o+m[G]+s[a];(!t||u||l)&&r.push(l)}}return r}i(Wg,"expand")});var Sh=Q((uTt,Jz)=>{"use strict";var b1e="2.0.0",y1e=Number.MAX_SAFE_INTEGER||9007199254740991,_1e=16,v1e=250,T1e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Jz.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:_1e,MAX_SAFE_BUILD_LENGTH:v1e,MAX_SAFE_INTEGER:y1e,RELEASE_TYPES:T1e,SEMVER_SPEC_VERSION:b1e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var wh=Q((fTt,Zz)=>{"use strict";var E1e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Zz.exports=E1e});var pp=Q((na,Qz)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:XI,MAX_SAFE_BUILD_LENGTH:C1e,MAX_LENGTH:I1e}=Sh(),S1e=wh();na=Qz.exports={};var w1e=na.re=[],P1e=na.safeRe=[],Le=na.src=[],R1e=na.safeSrc=[],Fe=na.t={},D1e=0,JI="[a-zA-Z0-9-]",A1e=[["\\s",1],["\\d",I1e],[JI,C1e]],N1e=i(e=>{for(let[t,r]of A1e)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),xt=i((e,t,r)=>{let n=N1e(t),o=D1e++;S1e(e,o,t),Fe[e]=o,Le[o]=t,R1e[o]=n,w1e[o]=new RegExp(t,r?"g":void 0),P1e[o]=new RegExp(n,r?"g":void 0)},"createToken");xt("NUMERICIDENTIFIER","0|[1-9]\\d*");xt("NUMERICIDENTIFIERLOOSE","\\d+");xt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${JI}*`);xt("MAINVERSION",`(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})`);xt("MAINVERSIONLOOSE",`(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})`);xt("PRERELEASEIDENTIFIER",`(?:${Le[Fe.NONNUMERICIDENTIFIER]}|${Le[Fe.NUMERICIDENTIFIER]})`);xt("PRERELEASEIDENTIFIERLOOSE",`(?:${Le[Fe.NONNUMERICIDENTIFIER]}|${Le[Fe.NUMERICIDENTIFIERLOOSE]})`);xt("PRERELEASE",`(?:-(${Le[Fe.PRERELEASEIDENTIFIER]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIER]})*))`);xt("PRERELEASELOOSE",`(?:-?(${Le[Fe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIERLOOSE]})*))`);xt("BUILDIDENTIFIER",`${JI}+`);xt("BUILD",`(?:\\+(${Le[Fe.BUILDIDENTIFIER]}(?:\\.${Le[Fe.BUILDIDENTIFIER]})*))`);xt("FULLPLAIN",`v?${Le[Fe.MAINVERSION]}${Le[Fe.PRERELEASE]}?${Le[Fe.BUILD]}?`);xt("FULL",`^${Le[Fe.FULLPLAIN]}$`);xt("LOOSEPLAIN",`[v=\\s]*${Le[Fe.MAINVERSIONLOOSE]}${Le[Fe.PRERELEASELOOSE]}?${Le[Fe.BUILD]}?`);xt("LOOSE",`^${Le[Fe.LOOSEPLAIN]}$`);xt("GTLT","((?:<|>)?=?)");xt("XRANGEIDENTIFIERLOOSE",`${Le[Fe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xt("XRANGEIDENTIFIER",`${Le[Fe.NUMERICIDENTIFIER]}|x|X|\\*`);xt("XRANGEPLAIN",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:${Le[Fe.PRERELEASE]})?${Le[Fe.BUILD]}?)?)?`);xt("XRANGEPLAINLOOSE",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:${Le[Fe.PRERELEASELOOSE]})?${Le[Fe.BUILD]}?)?)?`);xt("XRANGE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAIN]}$`);xt("XRANGELOOSE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${XI}})(?:\\.(\\d{1,${XI}}))?(?:\\.(\\d{1,${XI}}))?`);xt("COERCE",`${Le[Fe.COERCEPLAIN]}(?:$|[^\\d])`);xt("COERCEFULL",Le[Fe.COERCEPLAIN]+`(?:${Le[Fe.PRERELEASE]})?(?:${Le[Fe.BUILD]})?(?:$|[^\\d])`);xt("COERCERTL",Le[Fe.COERCE],!0);xt("COERCERTLFULL",Le[Fe.COERCEFULL],!0);xt("LONETILDE","(?:~>?)");xt("TILDETRIM",`(\\s*)${Le[Fe.LONETILDE]}\\s+`,!0);na.tildeTrimReplace="$1~";xt("TILDE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAIN]}$`);xt("TILDELOOSE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("LONECARET","(?:\\^)");xt("CARETTRIM",`(\\s*)${Le[Fe.LONECARET]}\\s+`,!0);na.caretTrimReplace="$1^";xt("CARET",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAIN]}$`);xt("CARETLOOSE",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("COMPARATORLOOSE",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]})$|^$`);xt("COMPARATOR",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.FULLPLAIN]})$|^$`);xt("COMPARATORTRIM",`(\\s*)${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]}|${Le[Fe.XRANGEPLAIN]})`,!0);na.comparatorTrimReplace="$1$2$3";xt("HYPHENRANGE",`^\\s*(${Le[Fe.XRANGEPLAIN]})\\s+-\\s+(${Le[Fe.XRANGEPLAIN]})\\s*$`);xt("HYPHENRANGELOOSE",`^\\s*(${Le[Fe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Le[Fe.XRANGEPLAINLOOSE]})\\s*$`);xt("STAR","(<|>)?=?\\s*\\*");xt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");xt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Zy=Q((mTt,eH)=>{"use strict";var k1e=Object.freeze({loose:!0}),O1e=Object.freeze({}),L1e=i(e=>e?typeof e!="object"?k1e:e:O1e,"parseOptions");eH.exports=L1e});var ZI=Q((gTt,nH)=>{"use strict";var tH=/^[0-9]+$/,rH=i((e,t)=>{let r=tH.test(e),n=tH.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),F1e=i((e,t)=>rH(t,e),"rcompareIdentifiers");nH.exports={compareIdentifiers:rH,rcompareIdentifiers:F1e}});var bi=Q((xTt,oH)=>{"use strict";var Qy=wh(),{MAX_LENGTH:iH,MAX_SAFE_INTEGER:e8}=Sh(),{safeRe:t8,t:r8}=pp(),M1e=Zy(),{compareIdentifiers:gp}=ZI(),QI=class e{static{i(this,"SemVer")}constructor(t,r){if(r=M1e(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>iH)throw new TypeError(`version is longer than ${iH} characters`);Qy("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?t8[r8.LOOSE]:t8[r8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>e8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>e8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>e8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<e8)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Qy("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),gp(this.major,t.major)||gp(this.minor,t.minor)||gp(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=t.prerelease[r];if(Qy("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return gp(n,o)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],o=t.build[r];if(Qy("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return gp(n,o)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let o=`-${r}`.match(this.options.loose?t8[r8.PRERELEASELOOSE]:t8[r8.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let s=[r,o];n===!1&&(s=[r]),gp(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};oH.exports=QI});var Rf=Q((yTt,aH)=>{"use strict";var sH=bi(),U1e=i((e,t,r=!1)=>{if(e instanceof sH)return e;try{return new sH(e,t)}catch(n){if(!r)return null;throw n}},"parse");aH.exports=U1e});var cH=Q((vTt,lH)=>{"use strict";var B1e=Rf(),$1e=i((e,t)=>{let r=B1e(e,t);return r?r.version:null},"valid");lH.exports=$1e});var fH=Q((ETt,uH)=>{"use strict";var j1e=Rf(),q1e=i((e,t)=>{let r=j1e(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");uH.exports=q1e});var pH=Q((ITt,mH)=>{"use strict";var dH=bi(),W1e=i((e,t,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new dH(e instanceof dH?e.version:e,r).inc(t,n,o).version}catch{return null}},"inc");mH.exports=W1e});var xH=Q((wTt,hH)=>{"use strict";var gH=Rf(),z1e=i((e,t)=>{let r=gH(e,null,!0),n=gH(t,null,!0),o=r.compare(n);if(o===0)return null;let s=o>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"},"diff");hH.exports=z1e});var yH=Q((RTt,bH)=>{"use strict";var H1e=bi(),G1e=i((e,t)=>new H1e(e,t).major,"major");bH.exports=G1e});var vH=Q((ATt,_H)=>{"use strict";var V1e=bi(),K1e=i((e,t)=>new V1e(e,t).minor,"minor");_H.exports=K1e});var EH=Q((kTt,TH)=>{"use strict";var Y1e=bi(),X1e=i((e,t)=>new Y1e(e,t).patch,"patch");TH.exports=X1e});var IH=Q((LTt,CH)=>{"use strict";var J1e=Rf(),Z1e=i((e,t)=>{let r=J1e(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");CH.exports=Z1e});var ms=Q((MTt,wH)=>{"use strict";var SH=bi(),Q1e=i((e,t,r)=>new SH(e,r).compare(new SH(t,r)),"compare");wH.exports=Q1e});var RH=Q((BTt,PH)=>{"use strict";var ege=ms(),tge=i((e,t,r)=>ege(t,e,r),"rcompare");PH.exports=tge});var AH=Q((jTt,DH)=>{"use strict";var rge=ms(),nge=i((e,t)=>rge(e,t,!0),"compareLoose");DH.exports=nge});var n8=Q((WTt,kH)=>{"use strict";var NH=bi(),ige=i((e,t,r)=>{let n=new NH(e,r),o=new NH(t,r);return n.compare(o)||n.compareBuild(o)},"compareBuild");kH.exports=ige});var LH=Q((HTt,OH)=>{"use strict";var oge=n8(),sge=i((e,t)=>e.sort((r,n)=>oge(r,n,t)),"sort");OH.exports=sge});var MH=Q((VTt,FH)=>{"use strict";var age=n8(),lge=i((e,t)=>e.sort((r,n)=>age(n,r,t)),"rsort");FH.exports=lge});var Ph=Q((YTt,UH)=>{"use strict";var cge=ms(),uge=i((e,t,r)=>cge(e,t,r)>0,"gt");UH.exports=uge});var i8=Q((JTt,BH)=>{"use strict";var fge=ms(),dge=i((e,t,r)=>fge(e,t,r)<0,"lt");BH.exports=dge});var eS=Q((QTt,$H)=>{"use strict";var mge=ms(),pge=i((e,t,r)=>mge(e,t,r)===0,"eq");$H.exports=pge});var tS=Q((tEt,jH)=>{"use strict";var gge=ms(),hge=i((e,t,r)=>gge(e,t,r)!==0,"neq");jH.exports=hge});var o8=Q((nEt,qH)=>{"use strict";var xge=ms(),bge=i((e,t,r)=>xge(e,t,r)>=0,"gte");qH.exports=bge});var s8=Q((oEt,WH)=>{"use strict";var yge=ms(),_ge=i((e,t,r)=>yge(e,t,r)<=0,"lte");WH.exports=_ge});var rS=Q((aEt,zH)=>{"use strict";var vge=eS(),Tge=tS(),Ege=Ph(),Cge=o8(),Ige=i8(),Sge=s8(),wge=i((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return vge(e,r,n);case"!=":return Tge(e,r,n);case">":return Ege(e,r,n);case">=":return Cge(e,r,n);case"<":return Ige(e,r,n);case"<=":return Sge(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");zH.exports=wge});var GH=Q((cEt,HH)=>{"use strict";var Pge=bi(),Rge=Rf(),{safeRe:a8,t:l8}=pp(),Dge=i((e,t)=>{if(e instanceof Pge)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?a8[l8.COERCEFULL]:a8[l8.COERCE]);else{let c=t.includePrerelease?a8[l8.COERCERTLFULL]:a8[l8.COERCERTL],f;for(;(f=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),c.lastIndex=f.index+f[1].length+f[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Rge(`${n}.${o}.${s}${a}${l}`,t)},"coerce");HH.exports=Dge});var KH=Q((fEt,VH)=>{"use strict";var nS=class{static{i(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(t,r)}return this}};VH.exports=nS});var ps=Q((mEt,ZH)=>{"use strict";var Age=/\s+/g,iS=class e{static{i(this,"Range")}constructor(t,r){if(r=kge(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof oS)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(Age," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!XH(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&$ge(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Uge)|(this.options.loose&&Bge))+":"+t,o=YH.get(n);if(o)return o;let s=this.options.loose,a=s?ro[Ai.HYPHENRANGELOOSE]:ro[Ai.HYPHENRANGE];t=t.replace(a,Xge(this.options.includePrerelease)),Ur("hyphen replace",t),t=t.replace(ro[Ai.COMPARATORTRIM],Lge),Ur("comparator trim",t),t=t.replace(ro[Ai.TILDETRIM],Fge),Ur("tilde trim",t),t=t.replace(ro[Ai.CARETTRIM],Mge),Ur("caret trim",t);let l=t.split(" ").map(d=>jge(d,this.options)).join(" ").split(/\s+/).map(d=>Yge(d,this.options));s&&(l=l.filter(d=>(Ur("loose invalid filter",d,this.options),!!d.match(ro[Ai.COMPARATORLOOSE])))),Ur("range list",l);let c=new Map,f=l.map(d=>new oS(d,this.options));for(let d of f){if(XH(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return YH.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>JH(n,r)&&t.set.some(o=>JH(o,r)&&n.every(s=>o.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Oge(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Jge(this.set[r],t,this.options))return!0;return!1}};ZH.exports=iS;var Nge=KH(),YH=new Nge,kge=Zy(),oS=Rh(),Ur=wh(),Oge=bi(),{safeRe:ro,t:Ai,comparatorTrimReplace:Lge,tildeTrimReplace:Fge,caretTrimReplace:Mge}=pp(),{FLAG_INCLUDE_PRERELEASE:Uge,FLAG_LOOSE:Bge}=Sh(),XH=i(e=>e.value==="<0.0.0-0","isNullSet"),$ge=i(e=>e.value==="","isAny"),JH=i((e,t)=>{let r=!0,n=e.slice(),o=n.pop();for(;r&&n.length;)r=n.every(s=>o.intersects(s,t)),o=n.pop();return r},"isSatisfiable"),jge=i((e,t)=>(Ur("comp",e,t),e=zge(e,t),Ur("caret",e),e=qge(e,t),Ur("tildes",e),e=Gge(e,t),Ur("xrange",e),e=Kge(e,t),Ur("stars",e),e),"parseComparator"),Ni=i(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),qge=i((e,t)=>e.trim().split(/\s+/).map(r=>Wge(r,t)).join(" "),"replaceTildes"),Wge=i((e,t)=>{let r=t.loose?ro[Ai.TILDELOOSE]:ro[Ai.TILDE];return e.replace(r,(n,o,s,a,l)=>{Ur("tilde",e,n,o,s,a,l);let c;return Ni(o)?c="":Ni(s)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:Ni(a)?c=`>=${o}.${s}.0 <${o}.${+s+1}.0-0`:l?(Ur("replaceTilde pr",l),c=`>=${o}.${s}.${a}-${l} <${o}.${+s+1}.0-0`):c=`>=${o}.${s}.${a} <${o}.${+s+1}.0-0`,Ur("tilde return",c),c})},"replaceTilde"),zge=i((e,t)=>e.trim().split(/\s+/).map(r=>Hge(r,t)).join(" "),"replaceCarets"),Hge=i((e,t)=>{Ur("caret",e,t);let r=t.loose?ro[Ai.CARETLOOSE]:ro[Ai.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(o,s,a,l,c)=>{Ur("caret",e,o,s,a,l,c);let f;return Ni(s)?f="":Ni(a)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ni(l)?s==="0"?f=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(Ur("replaceCaret pr",c),s==="0"?a==="0"?f=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:f=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(Ur("no pr"),s==="0"?a==="0"?f=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:f=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),Ur("caret return",f),f})},"replaceCaret"),Gge=i((e,t)=>(Ur("replaceXRanges",e,t),e.split(/\s+/).map(r=>Vge(r,t)).join(" ")),"replaceXRanges"),Vge=i((e,t)=>{e=e.trim();let r=t.loose?ro[Ai.XRANGELOOSE]:ro[Ai.XRANGE];return e.replace(r,(n,o,s,a,l,c)=>{Ur("xRange",e,n,o,s,a,l,c);let f=Ni(s),u=f||Ni(a),d=u||Ni(l),p=d;return o==="="&&p&&(o=""),c=t.includePrerelease?"-0":"",f?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&p?(u&&(a=0),l=0,o===">"?(o=">=",u?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):o==="<="&&(o="<",u?s=+s+1:a=+a+1),o==="<"&&(c="-0"),n=`${o+s}.${a}.${l}${c}`):u?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),Ur("xRange return",n),n})},"replaceXRange"),Kge=i((e,t)=>(Ur("replaceStars",e,t),e.trim().replace(ro[Ai.STAR],"")),"replaceStars"),Yge=i((e,t)=>(Ur("replaceGTE0",e,t),e.trim().replace(ro[t.includePrerelease?Ai.GTE0PRE:Ai.GTE0],"")),"replaceGTE0"),Xge=i(e=>(t,r,n,o,s,a,l,c,f,u,d,p)=>(Ni(n)?r="":Ni(o)?r=`>=${n}.0.0${e?"-0":""}`:Ni(s)?r=`>=${n}.${o}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ni(f)?c="":Ni(u)?c=`<${+f+1}.0.0-0`:Ni(d)?c=`<${f}.${+u+1}.0-0`:p?c=`<=${f}.${u}.${d}-${p}`:e?c=`<${f}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),Jge=i((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Ur(e[n].semver),e[n].semver!==oS.ANY&&e[n].semver.prerelease.length>0){let o=e[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0},"testSet")});var Rh=Q((gEt,iG)=>{"use strict";var Dh=Symbol("SemVer ANY"),lS=class e{static{i(this,"Comparator")}static get ANY(){return Dh}constructor(t,r){if(r=QH(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),aS("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Dh?this.value="":this.value=this.operator+this.semver.version,aS("comp",this)}parse(t){let r=this.options.loose?eG[tG.COMPARATORLOOSE]:eG[tG.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new rG(n[2],this.options.loose):this.semver=Dh}toString(){return this.value}test(t){if(aS("Comparator.test",t,this.options.loose),this.semver===Dh||t===Dh)return!0;if(typeof t=="string")try{t=new rG(t,this.options)}catch{return!1}return sS(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new nG(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new nG(this.value,r).test(t.semver):(r=QH(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||sS(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||sS(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};iG.exports=lS;var QH=Zy(),{safeRe:eG,t:tG}=pp(),sS=rS(),aS=wh(),rG=bi(),nG=ps()});var Ah=Q((xEt,oG)=>{"use strict";var Zge=ps(),Qge=i((e,t,r)=>{try{t=new Zge(t,r)}catch{return!1}return t.test(e)},"satisfies");oG.exports=Qge});var aG=Q((yEt,sG)=>{"use strict";var ehe=ps(),the=i((e,t)=>new ehe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");sG.exports=the});var cG=Q((vEt,lG)=>{"use strict";var rhe=bi(),nhe=ps(),ihe=i((e,t,r)=>{let n=null,o=null,s=null;try{s=new nhe(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||o.compare(a)===-1)&&(n=a,o=new rhe(n,r))}),n},"maxSatisfying");lG.exports=ihe});var fG=Q((EEt,uG)=>{"use strict";var ohe=bi(),she=ps(),ahe=i((e,t,r)=>{let n=null,o=null,s=null;try{s=new she(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||o.compare(a)===1)&&(n=a,o=new ohe(n,r))}),n},"minSatisfying");uG.exports=ahe});var pG=Q((IEt,mG)=>{"use strict";var cS=bi(),lhe=ps(),dG=Ph(),che=i((e,t)=>{e=new lhe(e,t);let r=new cS("0.0.0");if(e.test(r)||(r=new cS("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let o=e.set[n],s=null;o.forEach(a=>{let l=new cS(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||dG(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||dG(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");mG.exports=che});var hG=Q((wEt,gG)=>{"use strict";var uhe=ps(),fhe=i((e,t)=>{try{return new uhe(e,t).range||"*"}catch{return null}},"validRange");gG.exports=fhe});var c8=Q((REt,_G)=>{"use strict";var dhe=bi(),yG=Rh(),{ANY:mhe}=yG,phe=ps(),ghe=Ah(),xG=Ph(),bG=i8(),hhe=s8(),xhe=o8(),bhe=i((e,t,r,n)=>{e=new dhe(e,n),t=new phe(t,n);let o,s,a,l,c;switch(r){case">":o=xG,s=hhe,a=bG,l=">",c=">=";break;case"<":o=bG,s=xhe,a=xG,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ghe(e,t,n))return!1;for(let f=0;f<t.set.length;++f){let u=t.set[f],d=null,p=null;if(u.forEach(m=>{m.semver===mhe&&(m=new yG(">=0.0.0")),d=d||m,p=p||m,o(m.semver,d.semver,n)?d=m:a(m.semver,p.semver,n)&&(p=m)}),d.operator===l||d.operator===c||(!p.operator||p.operator===l)&&s(e,p.semver))return!1;if(p.operator===c&&a(e,p.semver))return!1}return!0},"outside");_G.exports=bhe});var TG=Q((AEt,vG)=>{"use strict";var yhe=c8(),_he=i((e,t,r)=>yhe(e,t,">",r),"gtr");vG.exports=_he});var CG=Q((kEt,EG)=>{"use strict";var vhe=c8(),The=i((e,t,r)=>vhe(e,t,"<",r),"ltr");EG.exports=The});var wG=Q((LEt,SG)=>{"use strict";var IG=ps(),Ehe=i((e,t,r)=>(e=new IG(e,r),t=new IG(t,r),e.intersects(t,r)),"intersects");SG.exports=Ehe});var RG=Q((MEt,PG)=>{"use strict";var Che=Ah(),Ihe=ms();PG.exports=(e,t,r)=>{let n=[],o=null,s=null,a=e.sort((u,d)=>Ihe(u,d,r));for(let u of a)Che(u,t,r)?(s=u,o||(o=u)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);let l=[];for(let[u,d]of n)u===d?l.push(u):!d&&u===a[0]?l.push("*"):d?u===a[0]?l.push(`<=${d}`):l.push(`${u} - ${d}`):l.push(`>=${u}`);let c=l.join(" || "),f=typeof t.raw=="string"?t.raw:String(t);return c.length<f.length?c:t}});var LG=Q((UEt,OG)=>{"use strict";var DG=ps(),fS=Rh(),{ANY:uS}=fS,Nh=Ah(),dS=ms(),She=i((e,t,r={})=>{if(e===t)return!0;e=new DG(e,r),t=new DG(t,r);let n=!1;e:for(let o of e.set){for(let s of t.set){let a=Phe(o,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),whe=[new fS(">=0.0.0-0")],AG=[new fS(">=0.0.0")],Phe=i((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===uS){if(t.length===1&&t[0].semver===uS)return!0;r.includePrerelease?e=whe:e=AG}if(t.length===1&&t[0].semver===uS){if(r.includePrerelease)return!0;t=AG}let n=new Set,o,s;for(let m of e)m.operator===">"||m.operator===">="?o=NG(o,m,r):m.operator==="<"||m.operator==="<="?s=kG(s,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(o&&s){if(a=dS(o.semver,s.semver,r),a>0)return null;if(a===0&&(o.operator!==">="||s.operator!=="<="))return null}for(let m of n){if(o&&!Nh(m,String(o),r)||s&&!Nh(m,String(s),r))return null;for(let g of t)if(!Nh(m,String(g),r))return!1;return!0}let l,c,f,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of t){if(u=u||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",o){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(l=NG(o,m,r),l===m&&l!==o)return!1}else if(o.operator===">="&&!Nh(o.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=kG(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Nh(s.semver,String(m),r))return!1}if(!m.operator&&(s||o)&&a!==0)return!1}return!(o&&f&&!s&&a!==0||s&&u&&!o&&a!==0||p||d)},"simpleSubset"),NG=i((e,t,r)=>{if(!e)return t;let n=dS(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),kG=i((e,t,r)=>{if(!e)return t;let n=dS(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");OG.exports=She});var BG=Q(($Et,UG)=>{"use strict";var mS=pp(),FG=Sh(),Rhe=bi(),MG=ZI(),Dhe=Rf(),Ahe=cH(),Nhe=fH(),khe=pH(),Ohe=xH(),Lhe=yH(),Fhe=vH(),Mhe=EH(),Uhe=IH(),Bhe=ms(),$he=RH(),jhe=AH(),qhe=n8(),Whe=LH(),zhe=MH(),Hhe=Ph(),Ghe=i8(),Vhe=eS(),Khe=tS(),Yhe=o8(),Xhe=s8(),Jhe=rS(),Zhe=GH(),Qhe=Rh(),e2e=ps(),t2e=Ah(),r2e=aG(),n2e=cG(),i2e=fG(),o2e=pG(),s2e=hG(),a2e=c8(),l2e=TG(),c2e=CG(),u2e=wG(),f2e=RG(),d2e=LG();UG.exports={parse:Dhe,valid:Ahe,clean:Nhe,inc:khe,diff:Ohe,major:Lhe,minor:Fhe,patch:Mhe,prerelease:Uhe,compare:Bhe,rcompare:$he,compareLoose:jhe,compareBuild:qhe,sort:Whe,rsort:zhe,gt:Hhe,lt:Ghe,eq:Vhe,neq:Khe,gte:Yhe,lte:Xhe,cmp:Jhe,coerce:Zhe,Comparator:Qhe,Range:e2e,satisfies:t2e,toComparators:r2e,maxSatisfying:n2e,minSatisfying:i2e,minVersion:o2e,validRange:s2e,outside:a2e,gtr:l2e,ltr:c2e,intersects:u2e,simplifyRange:f2e,subset:d2e,SemVer:Rhe,re:mS.re,src:mS.src,tokens:mS.t,SEMVER_SPEC_VERSION:FG.SEMVER_SPEC_VERSION,RELEASE_TYPES:FG.RELEASE_TYPES,compareIdentifiers:MG.compareIdentifiers,rcompareIdentifiers:MG.rcompareIdentifiers}});var S2e={};Qs(S2e,{activate:()=>_2e,globalStateUserAcknowledgedStatusBarDeprecationKey:()=>b2e,onDeactivate:()=>GG});module.exports=Fh(S2e);var ol=class extends Error{static{i(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};var Hr="github.copilot",Mh="github-enterprise";function x8(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}i(x8,"findKnownOrg");function vS(e){let t=e.organization_list??[];return x8(t)??""}i(vS,"getUserKind");var Fc=class{static{i(this,"Clock")}now(){return new Date}};var Aw=yt(yp());var Gt=class{constructor(t=10){this.valueMap=new Map;if(t<1)throw new Error("Size limit must be at least 1");this.sizeLimit=t}static{i(this,"LRUCacheMap")}set(t,r){if(this.has(t))this.valueMap.delete(t);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(t,r),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.valueMap.delete(t),this.valueMap.set(t,r),r}}delete(t){return this.valueMap.delete(t)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}},Mc=class extends Gt{constructor(r,n=120*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{i(this,"LRUExpirationCacheMap")}has(r){let n=!1,o=this.expiration.get(r);return o!==void 0&&(o>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,o=this.defaultTtl){if(o<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+o),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}},Af=class extends Gt{static{i(this,"LRUDisposableCacheMap")}delete(t){let r=this.peek(t);return r&&r.dispose(),super.delete(t)}clear(){for(let t of this.values())t.dispose();super.clear()}uncache(t){let r=this.peek(t);return super.delete(t),r}dispose(){this.clear()}};var hs=class e{static{i(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return T2(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};var on=class{static{i(this,"Fetcher")}getImplementation(){return this}},_8=class extends Error{static{i(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function e0(e){return!e||typeof e!="object"?!1:e instanceof _8||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}i(e0,"isAbortError");var Nf=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{i(this,"JsonParseError")}},sa=class extends Error{static{i(this,"FetchResponseError")}constructor(t,r=`HTTP ${t.status} ${t.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},QG=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function v8(e,t=!0){return e instanceof Error?t&&"cause"in e&&v8(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Nf||e instanceof sa||e?.message?.startsWith("net::")||QG.has(e.code??""):!1}i(v8,"isNetworkError");var E2=class{constructor(t,r,n,o,s){this.status=t;this.statusText=r;this.headers=n;this.getText=o;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{i(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Nf(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let o=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(o&&parseInt(o[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Nf(`Response body truncated: actualLength=${s}`,"Truncated"):new Nf(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function T8(e,t,r,n,o,s,a,l,c){let f={...l,Authorization:`Bearer ${r}`,"X-Request-Id":o,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(dn).sessionId,"VScode-MachineId":e.get(dn).machineId,...ll(e),"X-GitHub-Api-Version":Uc};n&&(f["OpenAI-Intent"]=n);let u={method:"POST",headers:f,json:s,timeout:c},d=e.get(on);if(a){let m=new AbortController;a.onCancellationRequested(()=>{Se(e,"networking.cancelRequest",Qe.createAndMarkAsIssued({headerRequestId:o})),m.abort()}),u.signal=m.signal}return d.fetch(t,u).catch(m=>{if(eV(m))return Se(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,u));throw m})}i(T8,"postRequest");function eV(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}i(eV,"isInterruptedNetworkError");var Bc=class{static{i(this,"ExpConfigMaker")}},C2=class extends Bc{constructor(r={}){super();this.defaultFilters=r}static{i(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,o){let s=r.get(on),a=Object.keys(o).length===0?this.defaultFilters:o,l=new URL("telemetry",n.telemetry).href,c;try{c=await s.fetch(l,{method:"GET",headers:a,timeout:5e3})}catch(p){return hs.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!c.ok)return hs.createFallbackConfig(r,`ExP responded with ${c.status}`);let f;try{f=await c.json()}catch(p){if(p instanceof SyntaxError)return Oo(r,p,"fetchExperiments"),hs.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let u=f.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},d=Object.entries(u.Parameters).map(([p,m])=>p+(m?"":"cf"));return new hs(u.Parameters,f.AssignmentContext,d.join(";"))}};var Lo="X-Copilot-RelatedPluginVersion-",_p=(v=>(v.Market="X-MSEdge-Market",v.CorpNet="X-FD-Corpnet",v.Build="X-VSCode-Build",v.ApplicationVersion="X-VSCode-AppVersion",v.TargetPopulation="X-VSCode-TargetPopulation",v.ClientId="X-MSEdge-ClientId",v.ExtensionName="X-VSCode-ExtensionName",v.ExtensionVersion="X-VSCode-ExtensionVersion",v.ExtensionRelease="X-VSCode-ExtensionRelease",v.Language="X-VSCode-Language",v.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",v.CopilotEngine="X-Copilot-Engine",v.CopilotOverrideEngine="X-Copilot-OverrideEngine",v.CopilotRepository="X-Copilot-Repository",v.CopilotFileType="X-Copilot-FileType",v.CopilotUserKind="X-Copilot-UserKind",v.CopilotDogfood="X-Copilot-Dogfood",v.CopilotCustomModel="X-Copilot-CustomModel",v.CopilotOrgs="X-Copilot-Orgs",v.CopilotCustomModelNames="X-Copilot-CustomModelNames",v.CopilotTrackingId="X-Copilot-CopilotTrackingId",v.CopilotClientVersion="X-Copilot-ClientVersion",v.CopilotRelatedPluginVersionCppTools=Lo+"msvscodecpptools",v.CopilotRelatedPluginVersionCMakeTools=Lo+"msvscodecmaketools",v.CopilotRelatedPluginVersionMakefileTools=Lo+"msvscodemakefiletools",v.CopilotRelatedPluginVersionCSharpDevKit=Lo+"msdotnettoolscsdevkit",v.CopilotRelatedPluginVersionPython=Lo+"mspythonpython",v.CopilotRelatedPluginVersionPylance=Lo+"mspythonvscodepylance",v.CopilotRelatedPluginVersionJavaPack=Lo+"vscjavavscodejavapack",v.CopilotRelatedPluginVersionTypescript=Lo+"vscodetypescriptlanguagefeatures",v.CopilotRelatedPluginVersionTypescriptNext=Lo+"msvscodevscodetypescriptnext",v.CopilotRelatedPluginVersionCSharp=Lo+"msdotnettoolscsharp",v))(_p||{});var tV={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},$c=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{i(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let o=tV[r];o!==void 0&&(t.properties[o]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};var I2=class{constructor(t){this.prefix=t}static{i(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},E8=class extends I2{static{i(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},kw=i(e=>new E8(e),"DEFAULT_GRANULARITY"),S2=class extends I2{constructor(r,n=.5,o=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=o}static{i(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],o=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of o)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var Ow="X-Copilot-ClientTimeBucket",w2=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=kw(t)}static{i(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let o=new S2(this.prefix);isNaN(r)||o.setByCallBuckets(r),isNaN(n)||o.setTimePeriod(n*3600*1e3),this.specs.set(t,o)}}extendFilters(t){let r=this.selectGranularity(t),[n,o]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(Ow,n),otherFilterSettingsToPrefetch:o.map(s=>t.withChange(Ow,s))}}};var ki=class{constructor(){this.recentNotifications=new Gt(100)}static{i(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){if(!this.recentNotifications.has(t??r))return this.recentNotifications.set(t??r,!0),this.showWarningMessage(r,...n)}};var cl=class e{constructor(t){this.flags=t}static{i(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:Lw(r,n),verboseLogging:nV(r,n),testMode:t,simulation:rV(n)})}};function xs(e){return e.get(cl).flags.testMode}i(xs,"isRunningInTest");function kf(e){return xs(e)}i(kf,"shouldFailForDebugPurposes");function C8(e){return e.get(cl).flags.debug}i(C8,"isDebugEnabled");function Lw(e,t){return e.includes("--debug")||I8(t,"DEBUG")}i(Lw,"determineDebugFlag");function rV(e){return I8(e,"SIMULATION")}i(rV,"determineSimulationFlag");function Fw(e){return e.get(cl).flags.simulation}i(Fw,"isRunningInSimulation");function nV(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||I8(t,"VERBOSE")||Lw(e,t)}i(nV,"determineVerboseLoggingEnabled");function I8(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}i(I8,"determineEnvFlagEnabled");var jw=yt(jc()),P2=yt(Lf());var Bw;(()=>{"use strict";var e={975:A=>{function P(E){if(typeof E!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(E))}i(P,"e");function z(E,v){for(var R,S="",D=0,O=-1,M=0,B=0;B<=E.length;++B){if(B<E.length)R=E.charCodeAt(B);else{if(R===47)break;R=47}if(R===47){if(!(O===B-1||M===1))if(O!==B-1&&M===2){if(S.length<2||D!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var H=S.lastIndexOf("/");if(H!==S.length-1){H===-1?(S="",D=0):D=(S=S.slice(0,H)).length-1-S.lastIndexOf("/"),O=B,M=0;continue}}else if(S.length===2||S.length===1){S="",D=0,O=B,M=0;continue}}v&&(S.length>0?S+="/..":S="..",D=2)}else S.length>0?S+="/"+E.slice(O+1,B):S=E.slice(O+1,B),D=B-O-1;O=B,M=0}else R===46&&M!==-1?++M:M=-1}return S}i(z,"r");var N={resolve:i(function(){for(var E,v="",R=!1,S=arguments.length-1;S>=-1&&!R;S--){var D;S>=0?D=arguments[S]:(E===void 0&&(E=process.cwd()),D=E),P(D),D.length!==0&&(v=D+"/"+v,R=D.charCodeAt(0)===47)}return v=z(v,!R),R?v.length>0?"/"+v:"/":v.length>0?v:"."},"resolve"),normalize:i(function(E){if(P(E),E.length===0)return".";var v=E.charCodeAt(0)===47,R=E.charCodeAt(E.length-1)===47;return(E=z(E,!v)).length!==0||v||(E="."),E.length>0&&R&&(E+="/"),v?"/"+E:E},"normalize"),isAbsolute:i(function(E){return P(E),E.length>0&&E.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var E,v=0;v<arguments.length;++v){var R=arguments[v];P(R),R.length>0&&(E===void 0?E=R:E+="/"+R)}return E===void 0?".":N.normalize(E)},"join"),relative:i(function(E,v){if(P(E),P(v),E===v||(E=N.resolve(E))===(v=N.resolve(v)))return"";for(var R=1;R<E.length&&E.charCodeAt(R)===47;++R);for(var S=E.length,D=S-R,O=1;O<v.length&&v.charCodeAt(O)===47;++O);for(var M=v.length-O,B=D<M?D:M,H=-1,ae=0;ae<=B;++ae){if(ae===B){if(M>B){if(v.charCodeAt(O+ae)===47)return v.slice(O+ae+1);if(ae===0)return v.slice(O+ae)}else D>B&&(E.charCodeAt(R+ae)===47?H=ae:ae===0&&(H=0));break}var ye=E.charCodeAt(R+ae);if(ye!==v.charCodeAt(O+ae))break;ye===47&&(H=ae)}var he="";for(ae=R+H+1;ae<=S;++ae)ae!==S&&E.charCodeAt(ae)!==47||(he.length===0?he+="..":he+="/..");return he.length>0?he+v.slice(O+H):(O+=H,v.charCodeAt(O)===47&&++O,v.slice(O))},"relative"),_makeLong:i(function(E){return E},"_makeLong"),dirname:i(function(E){if(P(E),E.length===0)return".";for(var v=E.charCodeAt(0),R=v===47,S=-1,D=!0,O=E.length-1;O>=1;--O)if((v=E.charCodeAt(O))===47){if(!D){S=O;break}}else D=!1;return S===-1?R?"/":".":R&&S===1?"//":E.slice(0,S)},"dirname"),basename:i(function(E,v){if(v!==void 0&&typeof v!="string")throw new TypeError('"ext" argument must be a string');P(E);var R,S=0,D=-1,O=!0;if(v!==void 0&&v.length>0&&v.length<=E.length){if(v.length===E.length&&v===E)return"";var M=v.length-1,B=-1;for(R=E.length-1;R>=0;--R){var H=E.charCodeAt(R);if(H===47){if(!O){S=R+1;break}}else B===-1&&(O=!1,B=R+1),M>=0&&(H===v.charCodeAt(M)?--M==-1&&(D=R):(M=-1,D=B))}return S===D?D=B:D===-1&&(D=E.length),E.slice(S,D)}for(R=E.length-1;R>=0;--R)if(E.charCodeAt(R)===47){if(!O){S=R+1;break}}else D===-1&&(O=!1,D=R+1);return D===-1?"":E.slice(S,D)},"basename"),extname:i(function(E){P(E);for(var v=-1,R=0,S=-1,D=!0,O=0,M=E.length-1;M>=0;--M){var B=E.charCodeAt(M);if(B!==47)S===-1&&(D=!1,S=M+1),B===46?v===-1?v=M:O!==1&&(O=1):v!==-1&&(O=-1);else if(!D){R=M+1;break}}return v===-1||S===-1||O===0||O===1&&v===S-1&&v===R+1?"":E.slice(v,S)},"extname"),format:i(function(E){if(E===null||typeof E!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof E);return function(v,R){var S=R.dir||R.root,D=R.base||(R.name||"")+(R.ext||"");return S?S===R.root?S+D:S+"/"+D:D}(0,E)},"format"),parse:i(function(E){P(E);var v={root:"",dir:"",base:"",ext:"",name:""};if(E.length===0)return v;var R,S=E.charCodeAt(0),D=S===47;D?(v.root="/",R=1):R=0;for(var O=-1,M=0,B=-1,H=!0,ae=E.length-1,ye=0;ae>=R;--ae)if((S=E.charCodeAt(ae))!==47)B===-1&&(H=!1,B=ae+1),S===46?O===-1?O=ae:ye!==1&&(ye=1):O!==-1&&(ye=-1);else if(!H){M=ae+1;break}return O===-1||B===-1||ye===0||ye===1&&O===B-1&&O===M+1?B!==-1&&(v.base=v.name=M===0&&D?E.slice(1,B):E.slice(M,B)):(M===0&&D?(v.name=E.slice(1,O),v.base=E.slice(1,B)):(v.name=E.slice(M,O),v.base=E.slice(M,B)),v.ext=E.slice(O,B)),M>0?v.dir=E.slice(0,M-1):D&&(v.dir="/"),v},"parse"),sep:"/",delimiter:":",win32:null,posix:null};N.posix=N,A.exports=N}},t={};function r(A){var P=t[A];if(P!==void 0)return P.exports;var z=t[A]={exports:{}};return e[A](z,z.exports,r),z.exports}i(r,"r"),r.d=(A,P)=>{for(var z in P)r.o(P,z)&&!r.o(A,z)&&Object.defineProperty(A,z,{enumerable:!0,get:P[z]})},r.o=(A,P)=>Object.prototype.hasOwnProperty.call(A,P),r.r=A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var n={};let o;r.r(n),r.d(n,{URI:i(()=>p,"URI"),Utils:i(()=>Y,"Utils")}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(A,P){if(!A.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${A.authority}", path: "${A.path}", query: "${A.query}", fragment: "${A.fragment}"}`);if(A.scheme&&!s.test(A.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(A.path){if(A.authority){if(!a.test(A.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(A.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}i(c,"a");let f="",u="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{i(this,"l")}static isUri(P){return P instanceof p||!!P&&typeof P.authority=="string"&&typeof P.fragment=="string"&&typeof P.path=="string"&&typeof P.query=="string"&&typeof P.scheme=="string"&&typeof P.fsPath=="string"&&typeof P.with=="function"&&typeof P.toString=="function"}scheme;authority;path;query;fragment;constructor(P,z,N,E,v,R=!1){typeof P=="object"?(this.scheme=P.scheme||f,this.authority=P.authority||f,this.path=P.path||f,this.query=P.query||f,this.fragment=P.fragment||f):(this.scheme=function(S,D){return S||D?S:"file"}(P,R),this.authority=z||f,this.path=function(S,D){switch(S){case"https":case"http":case"file":D?D[0]!==u&&(D=u+D):D=u}return D}(this.scheme,N||f),this.query=E||f,this.fragment=v||f,c(this,R))}get fsPath(){return y(this,!1)}with(P){if(!P)return this;let{scheme:z,authority:N,path:E,query:v,fragment:R}=P;return z===void 0?z=this.scheme:z===null&&(z=f),N===void 0?N=this.authority:N===null&&(N=f),E===void 0?E=this.path:E===null&&(E=f),v===void 0?v=this.query:v===null&&(v=f),R===void 0?R=this.fragment:R===null&&(R=f),z===this.scheme&&N===this.authority&&E===this.path&&v===this.query&&R===this.fragment?this:new g(z,N,E,v,R)}static parse(P,z=!1){let N=d.exec(P);return N?new g(N[2]||f,w(N[4]||f),w(N[5]||f),w(N[7]||f),w(N[9]||f),z):new g(f,f,f,f,f)}static file(P){let z=f;if(o&&(P=P.replace(/\\/g,u)),P[0]===u&&P[1]===u){let N=P.indexOf(u,2);N===-1?(z=P.substring(2),P=u):(z=P.substring(2,N),P=P.substring(N)||u)}return new g("file",z,P,f,f)}static from(P){let z=new g(P.scheme,P.authority,P.path,P.query,P.fragment);return c(z,!0),z}toString(P=!1){return T(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof p)return P;{let z=new g(P);return z._formatted=P.external,z._fsPath=P._sep===m?P.fsPath:null,z}}return P}}let m=o?1:void 0;class g extends p{static{i(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=y(this,!1)),this._fsPath}toString(P=!1){return P?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){let P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=m),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(A,P,z){let N,E=-1;for(let v=0;v<A.length;v++){let R=A.charCodeAt(v);if(R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===45||R===46||R===95||R===126||P&&R===47||z&&R===91||z&&R===93||z&&R===58)E!==-1&&(N+=encodeURIComponent(A.substring(E,v)),E=-1),N!==void 0&&(N+=A.charAt(v));else{N===void 0&&(N=A.substr(0,v));let S=h[R];S!==void 0?(E!==-1&&(N+=encodeURIComponent(A.substring(E,v)),E=-1),N+=S):E===-1&&(E=v)}}return E!==-1&&(N+=encodeURIComponent(A.substring(E))),N!==void 0?N:A}i(b,"m");function x(A){let P;for(let z=0;z<A.length;z++){let N=A.charCodeAt(z);N===35||N===63?(P===void 0&&(P=A.substr(0,z)),P+=h[N]):P!==void 0&&(P+=A[z])}return P!==void 0?P:A}i(x,"y");function y(A,P){let z;return z=A.authority&&A.path.length>1&&A.scheme==="file"?`//${A.authority}${A.path}`:A.path.charCodeAt(0)===47&&(A.path.charCodeAt(1)>=65&&A.path.charCodeAt(1)<=90||A.path.charCodeAt(1)>=97&&A.path.charCodeAt(1)<=122)&&A.path.charCodeAt(2)===58?P?A.path.substr(1):A.path[1].toLowerCase()+A.path.substr(2):A.path,o&&(z=z.replace(/\//g,"\\")),z}i(y,"v");function T(A,P){let z=P?x:b,N="",{scheme:E,authority:v,path:R,query:S,fragment:D}=A;if(E&&(N+=E,N+=":"),(v||E==="file")&&(N+=u,N+=u),v){let O=v.indexOf("@");if(O!==-1){let M=v.substr(0,O);v=v.substr(O+1),O=M.lastIndexOf(":"),O===-1?N+=z(M,!1,!1):(N+=z(M.substr(0,O),!1,!1),N+=":",N+=z(M.substr(O+1),!1,!0)),N+="@"}v=v.toLowerCase(),O=v.lastIndexOf(":"),O===-1?N+=z(v,!1,!0):(N+=z(v.substr(0,O),!1,!0),N+=v.substr(O))}if(R){if(R.length>=3&&R.charCodeAt(0)===47&&R.charCodeAt(2)===58){let O=R.charCodeAt(1);O>=65&&O<=90&&(R=`/${String.fromCharCode(O+32)}:${R.substr(3)}`)}else if(R.length>=2&&R.charCodeAt(1)===58){let O=R.charCodeAt(0);O>=65&&O<=90&&(R=`${String.fromCharCode(O+32)}:${R.substr(2)}`)}N+=z(R,!0,!1)}return S&&(N+="?",N+=z(S,!1,!1)),D&&(N+="#",N+=P?D:b(D,!1,!1)),N}i(T,"b");function _(A){try{return decodeURIComponent(A)}catch{return A.length>3?A.substr(0,3)+_(A.substr(3)):A}}i(_,"C");let I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(A){return A.match(I)?A.replace(I,P=>_(P)):A}i(w,"w");var j=r(975);let V=j.posix||j,G="/";var Y;(function(A){A.joinPath=function(P,...z){return P.with({path:V.join(P.path,...z)})},A.resolvePath=function(P,...z){let N=P.path,E=!1;N[0]!==G&&(N=G+N,E=!0);let v=V.resolve(N,...z);return E&&v[0]===G&&!P.authority&&(v=v.substring(1)),P.with({path:v})},A.dirname=function(P){if(P.path.length===0||P.path===G)return P;let z=V.dirname(P.path);return z.length===1&&z.charCodeAt(0)===46&&(z=""),P.with({path:z})},A.basename=function(P){return V.basename(P.path)},A.extname=function(P){return V.extname(P.path)}})(Y||(Y={})),Bw=n})();var{URI:ul,Utils:vp}=Bw;function qw(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+qw(e.substring(3)):e}}i(qw,"decodeURIComponentGraceful");var $w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S8(e){return e.match($w)?e.replace($w,t=>qw(t)):e}i(S8,"percentDecode");function R2(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return ul.file(e).toString()}i(R2,"makeFsUri");function qc(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?ul.parse(t[1]+t[2],!0):ul.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}i(qc,"parseUri");function Ww(e){return qc(e),e}i(Ww,"validateUri");function Fo(e){try{return qc(e).toString()}catch{return e}}i(Fo,"normalizeUri");var zw=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function oV(e){let t=qc(e);if(!zw.has(t.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${t.scheme}`);if((0,jw.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,P2.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}i(oV,"fsPath");function Hw(e){try{return oV(e)}catch{return}}i(Hw,"getFsPath");function Gw(e){let t=Hw(e);if(t)return ul.file(t).toString()}i(Gw,"getFsUri");function Wc(e,...t){let r,n=Hw(e);return n?r=R2((0,P2.resolve)(n,...t)):r=vp.resolvePath(qc(e),...t.map(o=>Vw(o))).toString(),typeof e=="string"?r:{uri:r}}i(Wc,"resolveFilePath");function Nn(e,...t){let r=vp.joinPath(qc(e),...t.map(Vw)).toString();return typeof e=="string"?r:{uri:r}}i(Nn,"joinPath");function Vw(e){return sV(e)?e.replaceAll("\\","/"):e}i(Vw,"pathToURIPath");function sV(e){return/^[^/\\]*\\/.test(e)}i(sV,"isWinPath");function fl(e){return S8((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}i(fl,"basename");function aa(e){let t=vp.dirname(qc(e)),r;return zw.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}i(aa,"dirname");function Kw(e){return vp.extname(qc(e))}i(Kw,"extname");var dl=class{static{i(this,"NetworkConfiguration")}};function D2(e,t){try{let r=new URL(t??"");if(r.protocol==="https:"||!P8(e)&&r.protocol==="http:")return r.href}catch{}}i(D2,"ensurePermittedUrl");var zc={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function w8(e,t,r){if(r&&xs(e)){for(let n of r){let o=Jt(e,n);if(o)return o}return}for(let n of t){let o=Jt(e,n);if(o)return o}}i(w8,"urlConfigOverride");function aV(e,t){switch(t){case"api":return w8(e,[Te.DebugOverrideCapiUrl,Te.DebugOverrideCapiUrlLegacy],[Te.DebugTestOverrideCapiUrl,Te.DebugTestOverrideCapiUrlLegacy]);case"proxy":return w8(e,[Te.DebugOverrideProxyUrl,Te.DebugOverrideProxyUrlLegacy],[Te.DebugTestOverrideProxyUrl,Te.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!P8(e))return w8(e,[Te.DebugSnippyOverrideUrl])}}i(aV,"getEndpointOverrideUrl");function Ff(e,t,r,...n){let o=aV(e,r)??t.endpoints[r];return Nn(o,...n)}i(Ff,"getEndpointUrl");function A2(e){return N2(e)?.endpoints??zc}i(A2,"getLastKnownEndpoints");function Yw(e,t){if(t&&!D2(e,t)){e.get(ki).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${t}".`);return}e.get(dl).setConfiguredUrls(e,{serverUrl:t})}i(Yw,"updateServerUrl");function ml(){return typeof process>"u"}i(ml,"isWeb");function k2(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}i(k2,"isMsBenchModeEnabled");function R8(...e){if(e.length>0){let t=String(e[0]);t.includes(":error")?console.error(...e):t.includes(":warning")?console.warn(...e):t.includes(":info")?console.info(...e):t.includes(":verbose")?console.debug(...e):console.debug(...e)}}i(R8,"log");var Xw=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Jw,D8=[],A8=[],O2=[];Xw&&N8(Xw);var Zw=Object.assign(e=>Qw(e),{enable:N8,enabled:k8,disable:lV,log:R8});function N8(e){Jw=e,D8=[],A8=[];let t=/\*/g,r=e.split(",").map(n=>n.trim().replace(t,".*?"));for(let n of r)n.startsWith("-")?A8.push(new RegExp(`^${n.substr(1)}$`)):D8.push(new RegExp(`^${n}$`));for(let n of O2)n.enabled=k8(n.namespace)}i(N8,"enable");function k8(e){if(e.endsWith("*"))return!0;for(let t of A8)if(t.test(e))return!1;for(let t of D8)if(t.test(e))return!0;return!1}i(k8,"enabled");function lV(){let e=Jw||"";return N8(""),e}i(lV,"disable");function Qw(e){let t=Object.assign(r,{enabled:k8(e),destroy:cV,log:Zw.log,namespace:e,extend:uV});function r(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}return i(r,"debug"),O2.push(t),t}i(Qw,"createDebugger");function cV(){let e=O2.indexOf(this);return e>=0?(O2.splice(e,1),!0):!1}i(cV,"destroy");function uV(e){let t=Qw(`${this.namespace}:${e}`);return t.log=this.log,t}i(uV,"extend");var Mf=Zw;var tP=new Set,L2=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,O8,L8=Mf("azure");L8.log=(...e)=>{Mf.log(...e)};var F8=["verbose","info","warning","error"];L2&&(iP(L2)?fV(L2):console.error(`AZURE_LOG_LEVEL set to unknown log level '${L2}'; logging is not enabled. Acceptable values: ${F8.join(", ")}.`));function fV(e){if(e&&!iP(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${F8.join(",")}`);O8=e;let t=[];for(let r of tP)nP(r)&&t.push(r.namespace);Mf.enable(t.join(","))}i(fV,"setLogLevel");var eP={verbose:400,info:300,warning:200,error:100};function pl(e){let t=L8.extend(e);return rP(L8,t),{error:F2(t,"error"),warning:F2(t,"warning"),info:F2(t,"info"),verbose:F2(t,"verbose")}}i(pl,"createClientLogger");function rP(e,t){t.log=(...r)=>{e.log(...r)}}i(rP,"patchLogMethod");function F2(e,t){let r=Object.assign(e.extend(t),{level:t});if(rP(e,r),nP(r)){let n=Mf.disable();Mf.enable(n+","+r.namespace)}return tP.add(r),r}i(F2,"createLogger");function nP(e){return!!(O8&&eP[e.level]<=eP[O8])}i(nP,"shouldEnable");function iP(e){return F8.includes(e)}i(iP,"isAzureLogLevel");var M2=pl("identity");function Tp(e){return`SUCCESS. Scopes: ${Array.isArray(e)?e.join(", "):e}.`}i(Tp,"formatSuccess");function Br(e,t){let r="ERROR.";return e?.length&&(r+=` Scopes: ${Array.isArray(e)?e.join(", "):e}.`),`${r} Error message: ${typeof t=="string"?t:t.message}.`}i(Br,"formatError");function oP(e,t,r=M2){let n=t?`${t.fullTitle} ${e}`:e;function o(c){r.info(`${n} =>`,c)}i(o,"info");function s(c){r.warning(`${n} =>`,c)}i(s,"warning");function a(c){r.verbose(`${n} =>`,c)}i(a,"verbose");function l(c){r.error(`${n} =>`,c)}return i(l,"error"),{title:e,fullTitle:n,info:o,warning:s,verbose:a,error:l}}i(oP,"credentialLoggerInstance");function At(e,t=M2){let r=oP(e,void 0,t);return Object.assign(Object.assign({},r),{parent:t,getToken:oP("=> getToken()",r,t)})}i(At,"credentialLogger");var sP="CredentialUnavailableError",Hc=class extends Error{static{i(this,"CredentialUnavailableError")}constructor(t,r){super(t,r),this.name=sP}};var aP="AggregateAuthenticationError",Ep=class extends Error{static{i(this,"AggregateAuthenticationError")}constructor(t,r){let n=t.join(`
`);super(`${r}
${n}`),this.errors=t,this.name=aP}};var M8="4.10.2";var U2;(function(e){e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureGovernment="https://login.microsoftonline.us",e.AzurePublicCloud="https://login.microsoftonline.com"})(U2||(U2={}));var lP=U2.AzurePublicCloud;var Uf={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function cP(e={}){let t=new U8(e.parentContext);return e.span&&(t=t.setValue(Uf.span,e.span)),e.namespace&&(t=t.setValue(Uf.namespace,e.namespace)),t}i(cP,"createTracingContext");var U8=class e{static{i(this,"TracingContextImpl")}constructor(t){this._contextMap=t instanceof e?new Map(t._contextMap):new Map}setValue(t,r){let n=new e(this);return n._contextMap.set(t,r),n}getValue(t){return this._contextMap.get(t)}deleteValue(t){let r=new e(this);return r._contextMap.delete(t),r}};var B2={instrumenterImplementation:void 0};function dV(){return{end:i(()=>{},"end"),isRecording:i(()=>!1,"isRecording"),recordException:i(()=>{},"recordException"),setAttribute:i(()=>{},"setAttribute"),setStatus:i(()=>{},"setStatus"),addEvent:i(()=>{},"addEvent")}}i(dV,"createDefaultTracingSpan");function mV(){return{createRequestHeaders:i(()=>({}),"createRequestHeaders"),parseTraceparentHeader:i(()=>{},"parseTraceparentHeader"),startSpan:i((e,t)=>({span:dV(),tracingContext:cP({parentContext:t.tracingContext})}),"startSpan"),withContext(e,t,...r){return t(...r)}}}i(mV,"createDefaultInstrumenter");function Cp(){return B2.instrumenterImplementation||(B2.instrumenterImplementation=mV()),B2.instrumenterImplementation}i(Cp,"getInstrumenter");function $2(e){let{namespace:t,packageName:r,packageVersion:n}=e;function o(f,u,d){var p;let m=Cp().startSpan(f,Object.assign(Object.assign({},d),{packageName:r,packageVersion:n,tracingContext:(p=u?.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),g=m.tracingContext,h=m.span;g.getValue(Uf.namespace)||(g=g.setValue(Uf.namespace,t)),h.setAttribute("az.namespace",g.getValue(Uf.namespace));let b=Object.assign({},u,{tracingOptions:Object.assign(Object.assign({},u?.tracingOptions),{tracingContext:g})});return{span:h,updatedOptions:b}}i(o,"startSpan");async function s(f,u,d,p){let{span:m,updatedOptions:g}=o(f,u,p);try{let h=await a(g.tracingOptions.tracingContext,()=>Promise.resolve(d(g,m)));return m.setStatus({status:"success"}),h}catch(h){throw m.setStatus({status:"error",error:h}),h}finally{m.end()}}i(s,"withSpan");function a(f,u,...d){return Cp().withContext(f,u,...d)}i(a,"withContext");function l(f){return Cp().parseTraceparentHeader(f)}i(l,"parseTraceparentHeader");function c(f){return Cp().createRequestHeaders(f)}return i(c,"createRequestHeaders"),{startSpan:o,withSpan:s,withContext:a,parseTraceparentHeader:l,createRequestHeaders:c}}i($2,"createTracingClient");var Bf=$2({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:M8});var B8=At("ChainedTokenCredential"),Ip=class{static{i(this,"ChainedTokenCredential")}constructor(...t){this._sources=[],this._sources=t}async getToken(t,r={}){let{token:n}=await this.getTokenInternal(t,r);return n}async getTokenInternal(t,r={}){let n=null,o,s=[];return Bf.withSpan("ChainedTokenCredential.getToken",r,async a=>{for(let l=0;l<this._sources.length&&n===null;l++)try{n=await this._sources[l].getToken(t,a),o=this._sources[l]}catch(c){if(c.name==="CredentialUnavailableError"||c.name==="AuthenticationRequiredError")s.push(c);else throw B8.getToken.info(Br(t,c)),c}if(!n&&s.length>0){let l=new Ep(s,"ChainedTokenCredential authentication failed.");throw B8.getToken.info(Br(t,l)),l}if(B8.getToken.info(`Result for ${o.constructor.name}: ${Tp(t)}`),n===null)throw new Hc("Failed to retrieve a valid token");return{token:n,successfulCredential:o}})}};var j2=new Error("DefaultAzureCredential is not supported in the browser. Use InteractiveBrowserCredential instead."),uP=At("DefaultAzureCredential"),$f=class extends Ip{static{i(this,"DefaultAzureCredential")}constructor(t){throw super(),uP.info(Br("",j2)),j2}getToken(){throw uP.getToken.info(Br("",j2)),j2}};function Sp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}i(Sp,"isObject");var hxe=new Set("0123456789abcdefABCDEF");function fP(){let e="";for(let t=0;t<32;t++){let r=Math.floor(Math.random()*16);t===12?e+="4":t===16?e+=r&3|8:e+=r.toString(16),(t===7||t===11||t===15||t===19)&&(e+="-")}return e}i(fP,"generateUUID");var j8,Rxe=typeof((j8=globalThis?.crypto)===null||j8===void 0?void 0:j8.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):fP;var q8,W8,z8,H8,dP=typeof window<"u"&&typeof window.document<"u",mP=typeof self=="object"&&typeof self?.importScripts=="function"&&(((q8=self.constructor)===null||q8===void 0?void 0:q8.name)==="DedicatedWorkerGlobalScope"||((W8=self.constructor)===null||W8===void 0?void 0:W8.name)==="ServiceWorkerGlobalScope"||((z8=self.constructor)===null||z8===void 0?void 0:z8.name)==="SharedWorkerGlobalScope"),pP=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",gP=typeof Bun<"u"&&typeof Bun.version<"u",wp=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((H8=globalThis.process.versions)===null||H8===void 0)&&H8.node);var hP=typeof navigator<"u"&&navigator?.product==="ReactNative";var G8="REDACTED",pV=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],gV=["api-version"],Vc=class{static{i(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:t=[],additionalAllowedQueryParameters:r=[]}={}){t=pV.concat(t),r=gV.concat(r),this.allowedHeaderNames=new Set(t.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(t){let r=new Set;return JSON.stringify(t,(n,o)=>{if(o instanceof Error)return Object.assign(Object.assign({},o),{name:o.name,message:o.message});if(n==="headers")return this.sanitizeHeaders(o);if(n==="url")return this.sanitizeUrl(o);if(n==="query")return this.sanitizeQuery(o);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(o)||Sp(o)){if(r.has(o))return"[Circular]";r.add(o)}return o},2)}sanitizeUrl(t){if(typeof t!="string"||t===null||t==="")return t;let r=new URL(t);if(!r.search)return t;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,G8);return r.toString()}sanitizeHeaders(t){let r={};for(let n of Object.keys(t))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=t[n]:r[n]=G8;return r}sanitizeQuery(t){if(typeof t!="object"||t===null)return t;let r={};for(let n of Object.keys(t))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=t[n]:r[n]=G8;return r}};var D3e=At("IdentityUtils");function Y8(...e){if(e.length>0){let t=String(e[0]);t.includes(":error")?console.error(...e):t.includes(":warning")?console.warn(...e):t.includes(":info")?console.info(...e):t.includes(":verbose")?console.debug(...e):console.debug(...e)}}i(Y8,"log");var vP=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,TP,X8=[],J8=[],W2=[];vP&&Z8(vP);var EP=Object.assign(e=>CP(e),{enable:Z8,enabled:Q8,disable:IV,log:Y8});function Z8(e){TP=e,X8=[],J8=[];let t=/\*/g,r=e.split(",").map(n=>n.trim().replace(t,".*?"));for(let n of r)n.startsWith("-")?J8.push(new RegExp(`^${n.substr(1)}$`)):X8.push(new RegExp(`^${n}$`));for(let n of W2)n.enabled=Q8(n.namespace)}i(Z8,"enable");function Q8(e){if(e.endsWith("*"))return!0;for(let t of J8)if(t.test(e))return!1;for(let t of X8)if(t.test(e))return!0;return!1}i(Q8,"enabled");function IV(){let e=TP||"";return Z8(""),e}i(IV,"disable");function CP(e){let t=Object.assign(r,{enabled:Q8(e),destroy:SV,log:EP.log,namespace:e,extend:wV});function r(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}return i(r,"debug"),W2.push(t),t}i(CP,"createDebugger");function SV(){let e=W2.indexOf(this);return e>=0?(W2.splice(e,1),!0):!1}i(SV,"destroy");function wV(e){let t=CP(`${this.namespace}:${e}`);return t.log=this.log,t}i(wV,"extend");var jf=EP;var e_=["verbose","info","warning","error"],IP={verbose:400,info:300,warning:200,error:100};function SP(e,t){t.log=(...r)=>{e.log(...r)}}i(SP,"patchLogMethod");function wP(e){return e_.includes(e)}i(wP,"isTypeSpecRuntimeLogLevel");function PV(e){let t=new Set,r=typeof process<"u"&&process.env&&process.env[e.logLevelEnvVarName]||void 0,n,o=jf(e.namespace);o.log=(...u)=>{jf.log(...u)};function s(u){if(u&&!wP(u))throw new Error(`Unknown log level '${u}'. Acceptable values: ${e_.join(",")}`);n=u;let d=[];for(let p of t)a(p)&&d.push(p.namespace);jf.enable(d.join(","))}i(s,"contextSetLogLevel"),r&&(wP(r)?s(r):console.error(`${e.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${e_.join(", ")}.`));function a(u){return!!(n&&IP[u.level]<=IP[n])}i(a,"shouldEnable");function l(u,d){let p=Object.assign(u.extend(d),{level:d});if(SP(u,p),a(p)){let m=jf.disable();jf.enable(m+","+p.namespace)}return t.add(p),p}i(l,"createLogger");function c(){return n}i(c,"contextGetLogLevel");function f(u){let d=o.extend(u);return SP(o,d),{error:l(d,"error"),warning:l(d,"warning"),info:l(d,"info"),verbose:l(d,"verbose")}}return i(f,"contextCreateClientLogger"),{setLogLevel:s,getLogLevel:c,createClientLogger:f,logger:o}}i(PV,"createLoggerContext");var PP=PV({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),RV=PP.logger;function Pp(e){return PP.createClientLogger(e)}i(Pp,"createClientLogger");var RP=Symbol();var DV=new Vc,r0=class e extends Error{static{i(this,"RestError")}constructor(t,r={}){super(t),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,RP,{value:i(()=>`RestError: ${this.message} 
 ${DV.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,e.prototype)}};r0.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";r0.PARSE_ERROR="PARSE_ERROR";var DP=Pp("ts-http-runtime");function AP(){return"x-ms-useragent"}i(AP,"getHeaderName");function NP(){return AP()}i(NP,"getUserAgentHeaderName");var Bbe=NP();var eye=1e3*64;var lye=Pp("ts-http-runtime retryPolicy");var jye=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");var H2=pl("core-rest-pipeline");function KP(){return"x-ms-useragent"}i(KP,"getHeaderName");function YP(){return KP()}i(YP,"getUserAgentHeaderName");var q6e=YP();var G6e=Symbol("rawContent");var S9e=pl("core-rest-pipeline retryPolicy");var D9e={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};var dTe=Symbol.for("@azure/core-client original request");var tR=pl("core-client");var KEe=At("ClientSecretCredential");var ZEe=new Error("EnvironmentCredential is not supported in the browser."),QEe=At("EnvironmentCredential");var nCe=new Error("ClientCertificateCredential is not supported in the browser."),iCe=At("ClientCertificateCredential");var lCe=new Error("ClientAssertionCredential is not supported in the browser."),cCe=At("ClientAssertionCredential");var mCe=new Error("AzureCliCredential is not supported in the browser."),pCe=At("AzureCliCredential");var bCe=new Error("AzureDeveloperCliCredential is not supported in the browser."),yCe=At("AzureDeveloperCliCredential");var IK=typeof self<"u"&&self.location!==void 0;var jCe=IK?self.location.hash:void 0;var JCe=At("InteractiveBrowserCredential");var tIe=new Error("ManagedIdentityCredential is not supported in the browser."),rIe=At("ManagedIdentityCredential");var sIe=new Error("DeviceCodeCredential is not supported in the browser."),aIe=At("DeviceCodeCredential");var fIe=new Error("AzurePipelinesCredential is not supported in the browser."),dIe=At("AzurePipelinesCredential");var hIe=new Error("AuthorizationCodeCredential is not supported in the browser. InteractiveBrowserCredential is more appropriate for this use case."),xIe=At("AuthorizationCodeCredential");var vIe=new Error("AzurePowerShellCredential is not supported in the browser."),TIe=At("AzurePowerShellCredential");var NIe=At("UsernamePasswordCredential");var FIe=new Error("VisualStudioCodeCredential is not supported in the browser."),MIe=At("VisualStudioCodeCredential");var nR="OnBehalfOfCredential",jIe=new Error(`${nR}: Not supported in the browser.`),qIe=At(nR);var GIe=new Error("WorkloadIdentityCredential is not supported in the browser."),VIe=At("WorkloadIdentityCredential");function SK(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}i(SK,"getIntegrationId");function a_(e){let t={...ll(e),"X-GitHub-Api-Version":Uc},r=SK(e.get(cr));return r&&(t["Copilot-Integration-Id"]=r),k2()&&(t["ces-proxy-target"]=zc.api,t["Copilot-Integration-Id"]="autodev-test"),t}i(a_,"getCapiHeaders");function wK(e,t,...r){if(k2()){let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return Ff(e,t,"api",...r)}i(wK,"getCapiUrl");async function l_(e,t){let r=await e.get(Cr).getToken(),n=wK(e,r,t),o=r.token;k2()&&(o=await PK());let s={Authorization:`Bearer ${o}`,...a_(e)};return await e.get(on).fetch(new URL(n).href,{method:"GET",headers:s})}i(l_,"fetchCapiUrl");async function PK(){let t=await new $f().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!t)throw new Error("Failed to retrieve access token");return t.token}i(PK,"getMsBenchToken");var V2=(o=>(o[o.DEBUG=4]="DEBUG",o[o.INFO=3]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=1]="ERROR",o))(V2||{}),qf=class{static{i(this,"LogTarget")}},gl=class{static{i(this,"TelemetryLogSender")}},_t=class{constructor(t){this.category=t}static{i(this,"Logger")}log(t,r,...n){t.get(qf).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(gl).sendError(t,this.category,...r),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let o=n;n.startsWith(".")&&(o=n.substring(1),n=`${this.category}${n}`),t.get(gl).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${o}:`,s)}},Ft=new _t("default");var ti={};Qs(ti,{HasPropertyKey:()=>K2,IsArray:()=>sn,IsAsyncIterator:()=>c_,IsBigInt:()=>Ap,IsBoolean:()=>la,IsDate:()=>Yc,IsFunction:()=>u_,IsIterator:()=>f_,IsNull:()=>d_,IsNumber:()=>no,IsObject:()=>mr,IsRegExp:()=>Np,IsString:()=>_r,IsSymbol:()=>m_,IsUint8Array:()=>ca,IsUndefined:()=>an});function K2(e,t){return t in e}i(K2,"HasPropertyKey");function c_(e){return mr(e)&&!sn(e)&&!ca(e)&&Symbol.asyncIterator in e}i(c_,"IsAsyncIterator");function sn(e){return Array.isArray(e)}i(sn,"IsArray");function Ap(e){return typeof e=="bigint"}i(Ap,"IsBigInt");function la(e){return typeof e=="boolean"}i(la,"IsBoolean");function Yc(e){return e instanceof globalThis.Date}i(Yc,"IsDate");function u_(e){return typeof e=="function"}i(u_,"IsFunction");function f_(e){return mr(e)&&!sn(e)&&!ca(e)&&Symbol.iterator in e}i(f_,"IsIterator");function d_(e){return e===null}i(d_,"IsNull");function no(e){return typeof e=="number"}i(no,"IsNumber");function mr(e){return typeof e=="object"&&e!==null}i(mr,"IsObject");function Np(e){return e instanceof globalThis.RegExp}i(Np,"IsRegExp");function _r(e){return typeof e=="string"}i(_r,"IsString");function m_(e){return typeof e=="symbol"}i(m_,"IsSymbol");function ca(e){return e instanceof globalThis.Uint8Array}i(ca,"IsUint8Array");function an(e){return e===void 0}i(an,"IsUndefined");function RK(e){return e.map(t=>Y2(t))}i(RK,"ArrayType");function DK(e){return new Date(e.getTime())}i(DK,"DateType");function AK(e){return new Uint8Array(e)}i(AK,"Uint8ArrayType");function NK(e){return new RegExp(e.source,e.flags)}i(NK,"RegExpType");function kK(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Y2(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Y2(e[r]);return t}i(kK,"ObjectType");function Y2(e){return sn(e)?RK(e):Yc(e)?DK(e):ca(e)?AK(e):Np(e)?NK(e):mr(e)?kK(e):e}i(Y2,"Visit");function Rr(e){return Y2(e)}i(Rr,"Clone");function Wf(e,t){return t===void 0?Rr(e):Rr({...t,...e})}i(Wf,"CloneType");function X2(e){return It(e)&&globalThis.Symbol.asyncIterator in e}i(X2,"IsAsyncIterator");function J2(e){return It(e)&&globalThis.Symbol.iterator in e}i(J2,"IsIterator");function p_(e){return It(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}i(p_,"IsStandardObject");function Z2(e){return e instanceof globalThis.Promise}i(Z2,"IsPromise");function _i(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}i(_i,"IsDate");function iR(e){return e instanceof globalThis.Map}i(iR,"IsMap");function oR(e){return e instanceof globalThis.Set}i(oR,"IsSet");function Mo(e){return globalThis.ArrayBuffer.isView(e)}i(Mo,"IsTypedArray");function zf(e){return e instanceof globalThis.Uint8Array}i(zf,"IsUint8Array");function ot(e,t){return t in e}i(ot,"HasPropertyKey");function It(e){return e!==null&&typeof e=="object"}i(It,"IsObject");function st(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}i(st,"IsArray");function Dr(e){return e===void 0}i(Dr,"IsUndefined");function ua(e){return e===null}i(ua,"IsNull");function n0(e){return typeof e=="boolean"}i(n0,"IsBoolean");function He(e){return typeof e=="number"}i(He,"IsNumber");function Q2(e){return globalThis.Number.isInteger(e)}i(Q2,"IsInteger");function Wn(e){return typeof e=="bigint"}i(Wn,"IsBigInt");function Vt(e){return typeof e=="string"}i(Vt,"IsString");function hl(e){return typeof e=="function"}i(hl,"IsFunction");function fa(e){return typeof e=="symbol"}i(fa,"IsSymbol");function io(e){return Wn(e)||n0(e)||ua(e)||He(e)||Vt(e)||fa(e)||Dr(e)}i(io,"IsValueType");var Ir;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}i(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=It(a);return e.AllowArrayObject?l:l&&!st(a)}i(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}i(n,"IsRecordLike"),e.IsRecordLike=n;function o(a){return e.AllowNaN?He(a):Number.isFinite(a)}i(o,"IsNumberLike"),e.IsNumberLike=o;function s(a){let l=Dr(a);return e.AllowNullVoid?l||a===null:l}i(s,"IsVoidLike"),e.IsVoidLike=s})(Ir||(Ir={}));function OK(e){return globalThis.Object.freeze(e).map(t=>kp(t))}i(OK,"ImmutableArray");function LK(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=kp(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=kp(e[r]);return globalThis.Object.freeze(t)}i(LK,"ImmutableObject");function kp(e){return sn(e)?OK(e):Yc(e)?e:ca(e)?e:Np(e)?e:mr(e)?LK(e):e}i(kp,"Immutable");function ie(e,t){let r=t!==void 0?{...t,...e}:e;switch(Ir.InstanceMode){case"freeze":return kp(r);case"clone":return Rr(r);default:return r}}i(ie,"CreateType");var at=class extends Error{static{i(this,"TypeBoxError")}constructor(t){super(t)}};var $r=Symbol.for("TypeBox.Transform"),bs=Symbol.for("TypeBox.Readonly"),zn=Symbol.for("TypeBox.Optional"),Uo=Symbol.for("TypeBox.Hint"),te=Symbol.for("TypeBox.Kind");function Hf(e){return mr(e)&&e[bs]==="Readonly"}i(Hf,"IsReadonly");function Oi(e){return mr(e)&&e[zn]==="Optional"}i(Oi,"IsOptional");function g_(e){return Wt(e,"Any")}i(g_,"IsAny");function h_(e){return Wt(e,"Argument")}i(h_,"IsArgument");function ys(e){return Wt(e,"Array")}i(ys,"IsArray");function Xc(e){return Wt(e,"AsyncIterator")}i(Xc,"IsAsyncIterator");function Jc(e){return Wt(e,"BigInt")}i(Jc,"IsBigInt");function da(e){return Wt(e,"Boolean")}i(da,"IsBoolean");function _s(e){return Wt(e,"Computed")}i(_s,"IsComputed");function vs(e){return Wt(e,"Constructor")}i(vs,"IsConstructor");function FK(e){return Wt(e,"Date")}i(FK,"IsDate");function Ts(e){return Wt(e,"Function")}i(Ts,"IsFunction");function Es(e){return Wt(e,"Integer")}i(Es,"IsInteger");function Gr(e){return Wt(e,"Intersect")}i(Gr,"IsIntersect");function Zc(e){return Wt(e,"Iterator")}i(Zc,"IsIterator");function Wt(e,t){return mr(e)&&te in e&&e[te]===t}i(Wt,"IsKindOf");function e5(e){return la(e)||no(e)||_r(e)}i(e5,"IsLiteralValue");function oo(e){return Wt(e,"Literal")}i(oo,"IsLiteral");function so(e){return Wt(e,"MappedKey")}i(so,"IsMappedKey");function Ar(e){return Wt(e,"MappedResult")}i(Ar,"IsMappedResult");function xl(e){return Wt(e,"Never")}i(xl,"IsNever");function MK(e){return Wt(e,"Not")}i(MK,"IsNot");function Op(e){return Wt(e,"Null")}i(Op,"IsNull");function Cs(e){return Wt(e,"Number")}i(Cs,"IsNumber");function ln(e){return Wt(e,"Object")}i(ln,"IsObject");function Qc(e){return Wt(e,"Promise")}i(Qc,"IsPromise");function eu(e){return Wt(e,"Record")}i(eu,"IsRecord");function Jr(e){return Wt(e,"Ref")}i(Jr,"IsRef");function x_(e){return Wt(e,"RegExp")}i(x_,"IsRegExp");function ma(e){return Wt(e,"String")}i(ma,"IsString");function Lp(e){return Wt(e,"Symbol")}i(Lp,"IsSymbol");function ao(e){return Wt(e,"TemplateLiteral")}i(ao,"IsTemplateLiteral");function UK(e){return Wt(e,"This")}i(UK,"IsThis");function rr(e){return mr(e)&&$r in e}i(rr,"IsTransform");function lo(e){return Wt(e,"Tuple")}i(lo,"IsTuple");function pa(e){return Wt(e,"Undefined")}i(pa,"IsUndefined");function Kt(e){return Wt(e,"Union")}i(Kt,"IsUnion");function BK(e){return Wt(e,"Uint8Array")}i(BK,"IsUint8Array");function $K(e){return Wt(e,"Unknown")}i($K,"IsUnknown");function jK(e){return Wt(e,"Unsafe")}i(jK,"IsUnsafe");function qK(e){return Wt(e,"Void")}i(qK,"IsVoid");function bl(e){return mr(e)&&te in e&&_r(e[te])}i(bl,"IsKind");function jr(e){return g_(e)||h_(e)||ys(e)||da(e)||Jc(e)||Xc(e)||_s(e)||vs(e)||FK(e)||Ts(e)||Es(e)||Gr(e)||Zc(e)||oo(e)||so(e)||Ar(e)||xl(e)||MK(e)||Op(e)||Cs(e)||ln(e)||Qc(e)||eu(e)||Jr(e)||x_(e)||ma(e)||Lp(e)||ao(e)||UK(e)||lo(e)||pa(e)||Kt(e)||BK(e)||$K(e)||jK(e)||qK(e)||bl(e)}i(jr,"IsSchema");var K={};Qs(K,{IsAny:()=>cR,IsArgument:()=>uR,IsArray:()=>fR,IsAsyncIterator:()=>dR,IsBigInt:()=>mR,IsBoolean:()=>pR,IsComputed:()=>gR,IsConstructor:()=>hR,IsDate:()=>xR,IsFunction:()=>bR,IsImport:()=>KK,IsInteger:()=>yR,IsIntersect:()=>_R,IsIterator:()=>vR,IsKind:()=>VR,IsKindOf:()=>Nt,IsLiteral:()=>Mp,IsLiteralBoolean:()=>YK,IsLiteralNumber:()=>ER,IsLiteralString:()=>TR,IsLiteralValue:()=>CR,IsMappedKey:()=>IR,IsMappedResult:()=>SR,IsNever:()=>wR,IsNot:()=>PR,IsNull:()=>RR,IsNumber:()=>DR,IsObject:()=>AR,IsOptional:()=>VK,IsPromise:()=>NR,IsProperties:()=>t5,IsReadonly:()=>GK,IsRecord:()=>kR,IsRecursive:()=>XK,IsRef:()=>OR,IsRegExp:()=>LR,IsSchema:()=>Nr,IsString:()=>FR,IsSymbol:()=>MR,IsTemplateLiteral:()=>UR,IsThis:()=>BR,IsTransform:()=>$R,IsTuple:()=>jR,IsUint8Array:()=>WR,IsUndefined:()=>qR,IsUnion:()=>v_,IsUnionLiteral:()=>JK,IsUnknown:()=>zR,IsUnsafe:()=>HR,IsVoid:()=>GR,TypeGuardUnknownTypeError:()=>b_});var b_=class extends at{static{i(this,"TypeGuardUnknownTypeError")}},WK=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function sR(e){try{return new RegExp(e),!0}catch{return!1}}i(sR,"IsPattern");function y_(e){if(!_r(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}i(y_,"IsControlCharacterFree");function aR(e){return __(e)||Nr(e)}i(aR,"IsAdditionalProperties");function Fp(e){return an(e)||Ap(e)}i(Fp,"IsOptionalBigInt");function vr(e){return an(e)||no(e)}i(vr,"IsOptionalNumber");function __(e){return an(e)||la(e)}i(__,"IsOptionalBoolean");function pr(e){return an(e)||_r(e)}i(pr,"IsOptionalString");function zK(e){return an(e)||_r(e)&&y_(e)&&sR(e)}i(zK,"IsOptionalPattern");function HK(e){return an(e)||_r(e)&&y_(e)}i(HK,"IsOptionalFormat");function lR(e){return an(e)||Nr(e)}i(lR,"IsOptionalSchema");function GK(e){return mr(e)&&e[bs]==="Readonly"}i(GK,"IsReadonly");function VK(e){return mr(e)&&e[zn]==="Optional"}i(VK,"IsOptional");function cR(e){return Nt(e,"Any")&&pr(e.$id)}i(cR,"IsAny");function uR(e){return Nt(e,"Argument")&&no(e.index)}i(uR,"IsArgument");function fR(e){return Nt(e,"Array")&&e.type==="array"&&pr(e.$id)&&Nr(e.items)&&vr(e.minItems)&&vr(e.maxItems)&&__(e.uniqueItems)&&lR(e.contains)&&vr(e.minContains)&&vr(e.maxContains)}i(fR,"IsArray");function dR(e){return Nt(e,"AsyncIterator")&&e.type==="AsyncIterator"&&pr(e.$id)&&Nr(e.items)}i(dR,"IsAsyncIterator");function mR(e){return Nt(e,"BigInt")&&e.type==="bigint"&&pr(e.$id)&&Fp(e.exclusiveMaximum)&&Fp(e.exclusiveMinimum)&&Fp(e.maximum)&&Fp(e.minimum)&&Fp(e.multipleOf)}i(mR,"IsBigInt");function pR(e){return Nt(e,"Boolean")&&e.type==="boolean"&&pr(e.$id)}i(pR,"IsBoolean");function gR(e){return Nt(e,"Computed")&&_r(e.target)&&sn(e.parameters)&&e.parameters.every(t=>Nr(t))}i(gR,"IsComputed");function hR(e){return Nt(e,"Constructor")&&e.type==="Constructor"&&pr(e.$id)&&sn(e.parameters)&&e.parameters.every(t=>Nr(t))&&Nr(e.returns)}i(hR,"IsConstructor");function xR(e){return Nt(e,"Date")&&e.type==="Date"&&pr(e.$id)&&vr(e.exclusiveMaximumTimestamp)&&vr(e.exclusiveMinimumTimestamp)&&vr(e.maximumTimestamp)&&vr(e.minimumTimestamp)&&vr(e.multipleOfTimestamp)}i(xR,"IsDate");function bR(e){return Nt(e,"Function")&&e.type==="Function"&&pr(e.$id)&&sn(e.parameters)&&e.parameters.every(t=>Nr(t))&&Nr(e.returns)}i(bR,"IsFunction");function KK(e){return Nt(e,"Import")&&K2(e,"$defs")&&mr(e.$defs)&&t5(e.$defs)&&K2(e,"$ref")&&_r(e.$ref)&&e.$ref in e.$defs}i(KK,"IsImport");function yR(e){return Nt(e,"Integer")&&e.type==="integer"&&pr(e.$id)&&vr(e.exclusiveMaximum)&&vr(e.exclusiveMinimum)&&vr(e.maximum)&&vr(e.minimum)&&vr(e.multipleOf)}i(yR,"IsInteger");function t5(e){return mr(e)&&Object.entries(e).every(([t,r])=>y_(t)&&Nr(r))}i(t5,"IsProperties");function _R(e){return Nt(e,"Intersect")&&!(_r(e.type)&&e.type!=="object")&&sn(e.allOf)&&e.allOf.every(t=>Nr(t)&&!$R(t))&&pr(e.type)&&(__(e.unevaluatedProperties)||lR(e.unevaluatedProperties))&&pr(e.$id)}i(_R,"IsIntersect");function vR(e){return Nt(e,"Iterator")&&e.type==="Iterator"&&pr(e.$id)&&Nr(e.items)}i(vR,"IsIterator");function Nt(e,t){return mr(e)&&te in e&&e[te]===t}i(Nt,"IsKindOf");function TR(e){return Mp(e)&&_r(e.const)}i(TR,"IsLiteralString");function ER(e){return Mp(e)&&no(e.const)}i(ER,"IsLiteralNumber");function YK(e){return Mp(e)&&la(e.const)}i(YK,"IsLiteralBoolean");function Mp(e){return Nt(e,"Literal")&&pr(e.$id)&&CR(e.const)}i(Mp,"IsLiteral");function CR(e){return la(e)||no(e)||_r(e)}i(CR,"IsLiteralValue");function IR(e){return Nt(e,"MappedKey")&&sn(e.keys)&&e.keys.every(t=>no(t)||_r(t))}i(IR,"IsMappedKey");function SR(e){return Nt(e,"MappedResult")&&t5(e.properties)}i(SR,"IsMappedResult");function wR(e){return Nt(e,"Never")&&mr(e.not)&&Object.getOwnPropertyNames(e.not).length===0}i(wR,"IsNever");function PR(e){return Nt(e,"Not")&&Nr(e.not)}i(PR,"IsNot");function RR(e){return Nt(e,"Null")&&e.type==="null"&&pr(e.$id)}i(RR,"IsNull");function DR(e){return Nt(e,"Number")&&e.type==="number"&&pr(e.$id)&&vr(e.exclusiveMaximum)&&vr(e.exclusiveMinimum)&&vr(e.maximum)&&vr(e.minimum)&&vr(e.multipleOf)}i(DR,"IsNumber");function AR(e){return Nt(e,"Object")&&e.type==="object"&&pr(e.$id)&&t5(e.properties)&&aR(e.additionalProperties)&&vr(e.minProperties)&&vr(e.maxProperties)}i(AR,"IsObject");function NR(e){return Nt(e,"Promise")&&e.type==="Promise"&&pr(e.$id)&&Nr(e.item)}i(NR,"IsPromise");function kR(e){return Nt(e,"Record")&&e.type==="object"&&pr(e.$id)&&aR(e.additionalProperties)&&mr(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&sR(r[0])&&mr(t.patternProperties)&&Nr(t.patternProperties[r[0]])})(e)}i(kR,"IsRecord");function XK(e){return mr(e)&&Uo in e&&e[Uo]==="Recursive"}i(XK,"IsRecursive");function OR(e){return Nt(e,"Ref")&&pr(e.$id)&&_r(e.$ref)}i(OR,"IsRef");function LR(e){return Nt(e,"RegExp")&&pr(e.$id)&&_r(e.source)&&_r(e.flags)&&vr(e.maxLength)&&vr(e.minLength)}i(LR,"IsRegExp");function FR(e){return Nt(e,"String")&&e.type==="string"&&pr(e.$id)&&vr(e.minLength)&&vr(e.maxLength)&&zK(e.pattern)&&HK(e.format)}i(FR,"IsString");function MR(e){return Nt(e,"Symbol")&&e.type==="symbol"&&pr(e.$id)}i(MR,"IsSymbol");function UR(e){return Nt(e,"TemplateLiteral")&&e.type==="string"&&_r(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}i(UR,"IsTemplateLiteral");function BR(e){return Nt(e,"This")&&pr(e.$id)&&_r(e.$ref)}i(BR,"IsThis");function $R(e){return mr(e)&&$r in e}i($R,"IsTransform");function jR(e){return Nt(e,"Tuple")&&e.type==="array"&&pr(e.$id)&&no(e.minItems)&&no(e.maxItems)&&e.minItems===e.maxItems&&(an(e.items)&&an(e.additionalItems)&&e.minItems===0||sn(e.items)&&e.items.every(t=>Nr(t)))}i(jR,"IsTuple");function qR(e){return Nt(e,"Undefined")&&e.type==="undefined"&&pr(e.$id)}i(qR,"IsUndefined");function JK(e){return v_(e)&&e.anyOf.every(t=>TR(t)||ER(t))}i(JK,"IsUnionLiteral");function v_(e){return Nt(e,"Union")&&pr(e.$id)&&mr(e)&&sn(e.anyOf)&&e.anyOf.every(t=>Nr(t))}i(v_,"IsUnion");function WR(e){return Nt(e,"Uint8Array")&&e.type==="Uint8Array"&&pr(e.$id)&&vr(e.minByteLength)&&vr(e.maxByteLength)}i(WR,"IsUint8Array");function zR(e){return Nt(e,"Unknown")&&pr(e.$id)}i(zR,"IsUnknown");function HR(e){return Nt(e,"Unsafe")}i(HR,"IsUnsafe");function GR(e){return Nt(e,"Void")&&e.type==="void"&&pr(e.$id)}i(GR,"IsVoid");function VR(e){return mr(e)&&te in e&&_r(e[te])&&!WK.includes(e[te])}i(VR,"IsKind");function Nr(e){return mr(e)&&(cR(e)||uR(e)||fR(e)||pR(e)||mR(e)||dR(e)||gR(e)||hR(e)||xR(e)||bR(e)||yR(e)||_R(e)||vR(e)||Mp(e)||IR(e)||SR(e)||wR(e)||PR(e)||RR(e)||DR(e)||AR(e)||NR(e)||kR(e)||OR(e)||LR(e)||FR(e)||MR(e)||UR(e)||BR(e)||jR(e)||qR(e)||v_(e)||WR(e)||zR(e)||HR(e)||GR(e)||VR(e))}i(Nr,"IsSchema");var T_="(true|false)",Up="(0|[1-9][0-9]*)",E_="(.*)",ZK="(?!.*)",Nwe=`^${T_}$`,i0=`^${Up}$`,o0=`^${E_}$`,KR=`^${ZK}$`;var Is={};Qs(Is,{Clear:()=>eY,Delete:()=>tY,Entries:()=>QK,Get:()=>iY,Has:()=>rY,Set:()=>nY});var Gf=new Map;function QK(){return new Map(Gf)}i(QK,"Entries");function eY(){return Gf.clear()}i(eY,"Clear");function tY(e){return Gf.delete(e)}i(tY,"Delete");function rY(e){return Gf.has(e)}i(rY,"Has");function nY(e,t){Gf.set(e,t)}i(nY,"Set");function iY(e){return Gf.get(e)}i(iY,"Get");var vi={};Qs(vi,{Clear:()=>sY,Delete:()=>aY,Entries:()=>oY,Get:()=>uY,Has:()=>lY,Set:()=>cY});var Vf=new Map;function oY(){return new Map(Vf)}i(oY,"Entries");function sY(){return Vf.clear()}i(sY,"Clear");function aY(e){return Vf.delete(e)}i(aY,"Delete");function lY(e){return Vf.has(e)}i(lY,"Has");function cY(e,t){Vf.set(e,t)}i(cY,"Set");function uY(e){return Vf.get(e)}i(uY,"Get");function YR(e,t){return e.includes(t)}i(YR,"SetIncludes");function XR(e){return[...new Set(e)]}i(XR,"SetDistinct");function fY(e,t){return e.filter(r=>t.includes(r))}i(fY,"SetIntersect");function dY(e,t){return e.reduce((r,n)=>fY(r,n),t)}i(dY,"SetIntersectManyResolve");function JR(e){return e.length===1?e[0]:e.length>1?dY(e.slice(1),e[0]):[]}i(JR,"SetIntersectMany");function ZR(e){let t=[];for(let r of e)t.push(...r);return t}i(ZR,"SetUnionMany");function yl(e){return ie({[te]:"Any"},e)}i(yl,"Any");function Kf(e,t){return ie({[te]:"Array",type:"array",items:e},t)}i(Kf,"Array");function QR(e){return ie({[te]:"Argument",index:e})}i(QR,"Argument");function Yf(e,t){return ie({[te]:"AsyncIterator",type:"AsyncIterator",items:e},t)}i(Yf,"AsyncIterator");function Sr(e,t,r){return ie({[te]:"Computed",target:e,parameters:t},r)}i(Sr,"Computed");function mY(e,t){let{[t]:r,...n}=e;return n}i(mY,"DiscardKey");function Vr(e,t){return t.reduce((r,n)=>mY(r,n),e)}i(Vr,"Discard");function vt(e){return ie({[te]:"Never",not:{}},e)}i(vt,"Never");function Zt(e){return ie({[te]:"MappedResult",properties:e})}i(Zt,"MappedResult");function Xf(e,t,r){return ie({[te]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}i(Xf,"Constructor");function s0(e,t,r){return ie({[te]:"Function",type:"Function",parameters:e,returns:t},r)}i(s0,"Function");function Bp(e,t){return ie({[te]:"Union",anyOf:e},t)}i(Bp,"UnionCreate");function pY(e){return e.some(t=>Oi(t))}i(pY,"IsUnionOptional");function eD(e){return e.map(t=>Oi(t)?gY(t):t)}i(eD,"RemoveOptionalFromRest");function gY(e){return Vr(e,[zn])}i(gY,"RemoveOptionalFromType");function hY(e,t){return pY(e)?ri(Bp(eD(e),t)):Bp(eD(e),t)}i(hY,"ResolveUnion");function a0(e,t){return e.length===1?ie(e[0],t):e.length===0?vt(t):hY(e,t)}i(a0,"UnionEvaluated");function nr(e,t){return e.length===0?vt(t):e.length===1?ie(e[0],t):Bp(e,t)}i(nr,"Union");var r5=class extends at{static{i(this,"TemplateLiteralParserError")}};function xY(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}i(xY,"Unescape");function C_(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}i(C_,"IsNonEscaped");function ha(e,t){return C_(e,t,"(")}i(ha,"IsOpenParen");function $p(e,t){return C_(e,t,")")}i($p,"IsCloseParen");function tD(e,t){return C_(e,t,"|")}i(tD,"IsSeparator");function bY(e){if(!(ha(e,0)&&$p(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(ha(e,r)&&(t+=1),$p(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}i(bY,"IsGroup");function yY(e){return e.slice(1,e.length-1)}i(yY,"InGroup");function _Y(e){let t=0;for(let r=0;r<e.length;r++)if(ha(e,r)&&(t+=1),$p(e,r)&&(t-=1),tD(e,r)&&t===0)return!0;return!1}i(_Y,"IsPrecedenceOr");function vY(e){for(let t=0;t<e.length;t++)if(ha(e,t))return!0;return!1}i(vY,"IsPrecedenceAnd");function TY(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(ha(e,s)&&(t+=1),$p(e,s)&&(t-=1),tD(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Jf(a)),r=s+1}let o=e.slice(r);return o.length>0&&n.push(Jf(o)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}i(TY,"Or");function EY(e){function t(o,s){if(!ha(o,s))throw new r5("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<o.length;l++)if(ha(o,l)&&(a+=1),$p(o,l)&&(a-=1),a===0)return[s,l];throw new r5("TemplateLiteralParser: Unclosed group parens in expression")}i(t,"Group");function r(o,s){for(let a=s;a<o.length;a++)if(ha(o,a))return[s,a];return[s,o.length]}i(r,"Range");let n=[];for(let o=0;o<e.length;o++)if(ha(e,o)){let[s,a]=t(e,o),l=e.slice(s,a+1);n.push(Jf(l)),o=a}else{let[s,a]=r(e,o),l=e.slice(s,a);l.length>0&&n.push(Jf(l)),o=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}i(EY,"And");function Jf(e){return bY(e)?Jf(yY(e)):_Y(e)?TY(e):vY(e)?EY(e):{type:"const",const:xY(e)}}i(Jf,"TemplateLiteralParse");function Zf(e){return Jf(e.slice(1,e.length-1))}i(Zf,"TemplateLiteralParseExact");var I_=class extends at{static{i(this,"TemplateLiteralFiniteError")}};function CY(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}i(CY,"IsNumberExpression");function IY(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}i(IY,"IsBooleanExpression");function SY(e){return e.type==="const"&&e.const===".*"}i(SY,"IsStringExpression");function tu(e){return CY(e)||SY(e)?!1:IY(e)?!0:e.type==="and"?e.expr.every(t=>tu(t)):e.type==="or"?e.expr.every(t=>tu(t)):e.type==="const"?!0:(()=>{throw new I_("Unknown expression type")})()}i(tu,"IsTemplateLiteralExpressionFinite");function n5(e){let t=Zf(e.pattern);return tu(t)}i(n5,"IsTemplateLiteralFinite");var S_=class extends at{static{i(this,"TemplateLiteralGenerateError")}};function*rD(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of rD(e.slice(1)))yield`${t}${r}`}i(rD,"GenerateReduce");function*wY(e){return yield*rD(e.expr.map(t=>[...jp(t)]))}i(wY,"GenerateAnd");function*PY(e){for(let t of e.expr)yield*jp(t)}i(PY,"GenerateOr");function*RY(e){return yield e.const}i(RY,"GenerateConst");function*jp(e){return e.type==="and"?yield*wY(e):e.type==="or"?yield*PY(e):e.type==="const"?yield*RY(e):(()=>{throw new S_("Unknown expression")})()}i(jp,"TemplateLiteralExpressionGenerate");function Qf(e){let t=Zf(e.pattern);return tu(t)?[...jp(t)]:[]}i(Qf,"TemplateLiteralGenerate");function zt(e,t){return ie({[te]:"Literal",const:e,type:typeof e},t)}i(zt,"Literal");function i5(e){return ie({[te]:"Boolean",type:"boolean"},e)}i(i5,"Boolean");function ed(e){return ie({[te]:"BigInt",type:"bigint"},e)}i(ed,"BigInt");function Bo(e){return ie({[te]:"Number",type:"number"},e)}i(Bo,"Number");function Ti(e){return ie({[te]:"String",type:"string"},e)}i(Ti,"String");function*DY(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield i5():t==="number"?yield Bo():t==="bigint"?yield ed():t==="string"?yield Ti():yield(()=>{let r=t.split("|").map(n=>zt(n.trim()));return r.length===0?vt():r.length===1?r[0]:a0(r)})()}i(DY,"FromUnion");function*AY(e){if(e[1]!=="{"){let t=zt("$"),r=w_(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=DY(e.slice(2,t)),n=w_(e.slice(t+1));return yield*[...r,...n]}yield zt(e)}i(AY,"FromTerminal");function*w_(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=zt(e.slice(0,t)),n=AY(e.slice(t));return yield*[r,...n]}yield zt(e)}i(w_,"FromSyntax");function nD(e){return[...w_(e)]}i(nD,"TemplateLiteralSyntax");var P_=class extends at{static{i(this,"TemplateLiteralPatternError")}};function NY(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(NY,"Escape");function iD(e,t){return ao(e)?e.pattern.slice(1,e.pattern.length-1):Kt(e)?`(${e.anyOf.map(r=>iD(r,t)).join("|")})`:Cs(e)?`${t}${Up}`:Es(e)?`${t}${Up}`:Jc(e)?`${t}${Up}`:ma(e)?`${t}${E_}`:oo(e)?`${t}${NY(e.const.toString())}`:da(e)?`${t}${T_}`:(()=>{throw new P_(`Unexpected Kind '${e[te]}'`)})()}i(iD,"Visit");function R_(e){return`^${e.map(t=>iD(t,"")).join("")}$`}i(R_,"TemplateLiteralPattern");function ru(e){let r=Qf(e).map(n=>zt(n));return a0(r)}i(ru,"TemplateLiteralToUnion");function o5(e,t){let r=_r(e)?R_(nD(e)):R_(e);return ie({[te]:"TemplateLiteral",type:"string",pattern:r},t)}i(o5,"TemplateLiteral");function kY(e){return Qf(e).map(r=>r.toString())}i(kY,"FromTemplateLiteral");function OY(e){let t=[];for(let r of e)t.push(...Li(r));return t}i(OY,"FromUnion");function LY(e){return[e.toString()]}i(LY,"FromLiteral");function Li(e){return[...new Set(ao(e)?kY(e):Kt(e)?OY(e.anyOf):oo(e)?LY(e.const):Cs(e)?["[number]"]:Es(e)?["[number]"]:[])]}i(Li,"IndexPropertyKeys");function FY(e,t,r){let n={};for(let o of Object.getOwnPropertyNames(t))n[o]=_l(e,Li(t[o]),r);return n}i(FY,"FromProperties");function MY(e,t,r){return FY(e,t.properties,r)}i(MY,"FromMappedResult");function oD(e,t,r){let n=MY(e,t,r);return Zt(n)}i(oD,"IndexFromMappedResult");function aD(e,t){return e.map(r=>lD(r,t))}i(aD,"FromRest");function UY(e){return e.filter(t=>!xl(t))}i(UY,"FromIntersectRest");function BY(e,t){return s5(UY(aD(e,t)))}i(BY,"FromIntersect");function $Y(e){return e.some(t=>xl(t))?[]:e}i($Y,"FromUnionRest");function jY(e,t){return a0($Y(aD(e,t)))}i(jY,"FromUnion");function qY(e,t){return t in e?e[t]:t==="[number]"?a0(e):vt()}i(qY,"FromTuple");function WY(e,t){return t==="[number]"?e:vt()}i(WY,"FromArray");function zY(e,t){return t in e?e[t]:vt()}i(zY,"FromProperty");function lD(e,t){return Gr(e)?BY(e.allOf,t):Kt(e)?jY(e.anyOf,t):lo(e)?qY(e.items??[],t):ys(e)?WY(e.items,t):ln(e)?zY(e.properties,t):vt()}i(lD,"IndexFromPropertyKey");function qp(e,t){return t.map(r=>lD(e,r))}i(qp,"IndexFromPropertyKeys");function sD(e,t){return a0(qp(e,t))}i(sD,"FromSchema");function _l(e,t,r){if(Jr(e)||Jr(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!jr(e)||!jr(t))throw new at(n);return Sr("Index",[e,t])}return Ar(t)?oD(e,t,r):so(t)?cD(e,t,r):ie(jr(t)?sD(e,Li(t)):sD(e,t),r)}i(_l,"Index");function HY(e,t,r){return{[t]:_l(e,[t],Rr(r))}}i(HY,"MappedIndexPropertyKey");function GY(e,t,r){return t.reduce((n,o)=>({...n,...HY(e,o,r)}),{})}i(GY,"MappedIndexPropertyKeys");function VY(e,t,r){return GY(e,t.keys,r)}i(VY,"MappedIndexProperties");function cD(e,t,r){let n=VY(e,t,r);return Zt(n)}i(cD,"IndexFromMappedKey");function td(e,t){return ie({[te]:"Iterator",type:"Iterator",items:e},t)}i(td,"Iterator");function KY(e){let t=[];for(let r in e)Oi(e[r])||t.push(r);return t}i(KY,"RequiredKeys");function YY(e,t){let r=KY(e),n=r.length>0?{[te]:"Object",type:"object",properties:e,required:r}:{[te]:"Object",type:"object",properties:e};return ie(n,t)}i(YY,"_Object");var ir=YY;function a5(e,t){return ie({[te]:"Promise",type:"Promise",item:e},t)}i(a5,"Promise");function XY(e){return ie(Vr(e,[bs]))}i(XY,"RemoveReadonly");function JY(e){return ie({...e,[bs]:"Readonly"})}i(JY,"AddReadonly");function ZY(e,t){return t===!1?XY(e):JY(e)}i(ZY,"ReadonlyWithFlag");function Fi(e,t){let r=t??!0;return Ar(e)?uD(e,r):ZY(e,r)}i(Fi,"Readonly");function QY(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Fi(e[n],t);return r}i(QY,"FromProperties");function eX(e,t){return QY(e.properties,t)}i(eX,"FromMappedResult");function uD(e,t){let r=eX(e,t);return Zt(r)}i(uD,"ReadonlyFromMappedResult");function $o(e,t){return ie(e.length>0?{[te]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[te]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}i($o,"Tuple");function fD(e,t){return e in t?jo(e,t[e]):Zt(t)}i(fD,"FromMappedResult");function tX(e){return{[e]:zt(e)}}i(tX,"MappedKeyToKnownMappedResultProperties");function rX(e){let t={};for(let r of e)t[r]=zt(r);return t}i(rX,"MappedKeyToUnknownMappedResultProperties");function nX(e,t){return YR(t,e)?tX(e):rX(t)}i(nX,"MappedKeyToMappedResultProperties");function iX(e,t){let r=nX(e,t);return fD(e,r)}i(iX,"FromMappedKey");function Wp(e,t){return t.map(r=>jo(e,r))}i(Wp,"FromRest");function oX(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=jo(e,t[n]);return r}i(oX,"FromProperties");function jo(e,t){let r={...t};return Oi(t)?ri(jo(e,Vr(t,[zn]))):Hf(t)?Fi(jo(e,Vr(t,[bs]))):Ar(t)?fD(e,t.properties):so(t)?iX(e,t.keys):vs(t)?Xf(Wp(e,t.parameters),jo(e,t.returns),r):Ts(t)?s0(Wp(e,t.parameters),jo(e,t.returns),r):Xc(t)?Yf(jo(e,t.items),r):Zc(t)?td(jo(e,t.items),r):Gr(t)?ni(Wp(e,t.allOf),r):Kt(t)?nr(Wp(e,t.anyOf),r):lo(t)?$o(Wp(e,t.items??[]),r):ln(t)?ir(oX(e,t.properties),r):ys(t)?Kf(jo(e,t.items),r):Qc(t)?a5(jo(e,t.item),r):t}i(jo,"FromSchemaType");function sX(e,t){let r={};for(let n of e)r[n]=jo(n,t);return r}i(sX,"MappedFunctionReturnType");function dD(e,t,r){let n=jr(e)?Li(e):e,o=t({[te]:"MappedKey",keys:n}),s=sX(n,o);return ir(s,r)}i(dD,"Mapped");function aX(e){return ie(Vr(e,[zn]))}i(aX,"RemoveOptional");function lX(e){return ie({...e,[zn]:"Optional"})}i(lX,"AddOptional");function cX(e,t){return t===!1?aX(e):lX(e)}i(cX,"OptionalWithFlag");function ri(e,t){let r=t??!0;return Ar(e)?mD(e,r):cX(e,r)}i(ri,"Optional");function uX(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ri(e[n],t);return r}i(uX,"FromProperties");function fX(e,t){return uX(e.properties,t)}i(fX,"FromMappedResult");function mD(e,t){let r=fX(e,t);return Zt(r)}i(mD,"OptionalFromMappedResult");function zp(e,t={}){let r=e.every(o=>ln(o)),n=jr(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ie(t.unevaluatedProperties===!1||jr(t.unevaluatedProperties)||r?{...n,[te]:"Intersect",type:"object",allOf:e}:{...n,[te]:"Intersect",allOf:e},t)}i(zp,"IntersectCreate");function dX(e){return e.every(t=>Oi(t))}i(dX,"IsIntersectOptional");function mX(e){return Vr(e,[zn])}i(mX,"RemoveOptionalFromType");function pD(e){return e.map(t=>Oi(t)?mX(t):t)}i(pD,"RemoveOptionalFromRest");function pX(e,t){return dX(e)?ri(zp(pD(e),t)):zp(pD(e),t)}i(pX,"ResolveIntersect");function s5(e,t={}){if(e.length===1)return ie(e[0],t);if(e.length===0)return vt(t);if(e.some(r=>rr(r)))throw new Error("Cannot intersect transform types");return pX(e,t)}i(s5,"IntersectEvaluated");function ni(e,t){if(e.length===1)return ie(e[0],t);if(e.length===0)return vt(t);if(e.some(r=>rr(r)))throw new Error("Cannot intersect transform types");return zp(e,t)}i(ni,"Intersect");function qo(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new at("Ref: $ref must be a string");return ie({[te]:"Ref",$ref:t},r)}i(qo,"Ref");function gX(e,t){return Sr("Awaited",[Sr(e,t)])}i(gX,"FromComputed");function hX(e){return Sr("Awaited",[qo(e)])}i(hX,"FromRef");function xX(e){return ni(gD(e))}i(xX,"FromIntersect");function bX(e){return nr(gD(e))}i(bX,"FromUnion");function yX(e){return rd(e)}i(yX,"FromPromise");function gD(e){return e.map(t=>rd(t))}i(gD,"FromRest");function rd(e,t){return ie(_s(e)?gX(e.target,e.parameters):Gr(e)?xX(e.allOf):Kt(e)?bX(e.anyOf):Qc(e)?yX(e.item):Jr(e)?hX(e.$ref):e,t)}i(rd,"Awaited");function hD(e){let t=[];for(let r of e)t.push(Mi(r));return t}i(hD,"FromRest");function _X(e){let t=hD(e);return ZR(t)}i(_X,"FromIntersect");function vX(e){let t=hD(e);return JR(t)}i(vX,"FromUnion");function TX(e){return e.map((t,r)=>r.toString())}i(TX,"FromTuple");function EX(e){return["[number]"]}i(EX,"FromArray");function CX(e){return globalThis.Object.getOwnPropertyNames(e)}i(CX,"FromProperties");function IX(e){return D_?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}i(IX,"FromPatternProperties");function Mi(e){return Gr(e)?_X(e.allOf):Kt(e)?vX(e.anyOf):lo(e)?TX(e.items??[]):ys(e)?EX(e.items):ln(e)?CX(e.properties):eu(e)?IX(e.patternProperties):[]}i(Mi,"KeyOfPropertyKeys");var D_=!1;function xa(e){D_=!0;let t=Mi(e);return D_=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}i(xa,"KeyOfPattern");function SX(e,t){return Sr("KeyOf",[Sr(e,t)])}i(SX,"FromComputed");function wX(e){return Sr("KeyOf",[qo(e)])}i(wX,"FromRef");function PX(e,t){let r=Mi(e),n=RX(r),o=a0(n);return ie(o,t)}i(PX,"KeyOfFromType");function RX(e){return e.map(t=>t==="[number]"?Bo():zt(t))}i(RX,"KeyOfPropertyKeysToRest");function nd(e,t){return _s(e)?SX(e.target,e.parameters):Jr(e)?wX(e.$ref):Ar(e)?xD(e,t):PX(e,t)}i(nd,"KeyOf");function DX(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=nd(e[n],Rr(t));return r}i(DX,"FromProperties");function AX(e,t){return DX(e.properties,t)}i(AX,"FromMappedResult");function xD(e,t){let r=AX(e,t);return Zt(r)}i(xD,"KeyOfFromMappedResult");function l5(e){let t=Mi(e),r=qp(e,t);return t.map((n,o)=>[t[o],r[o]])}i(l5,"KeyOfPropertyEntries");function NX(e){let t=[];for(let r of e)t.push(...Mi(r));return XR(t)}i(NX,"CompositeKeys");function kX(e){return e.filter(t=>!xl(t))}i(kX,"FilterNever");function OX(e,t){let r=[];for(let n of e)r.push(...qp(n,[t]));return kX(r)}i(OX,"CompositeProperty");function LX(e,t){let r={};for(let n of t)r[n]=s5(OX(e,n));return r}i(LX,"CompositeProperties");function bD(e,t){let r=NX(e),n=LX(e,r);return ir(n,t)}i(bD,"Composite");function c5(e){return ie({[te]:"Date",type:"Date"},e)}i(c5,"Date");function u5(e){return ie({[te]:"Null",type:"null"},e)}i(u5,"Null");function f5(e){return ie({[te]:"Symbol",type:"symbol"},e)}i(f5,"Symbol");function d5(e){return ie({[te]:"Undefined",type:"undefined"},e)}i(d5,"Undefined");function m5(e){return ie({[te]:"Uint8Array",type:"Uint8Array"},e)}i(m5,"Uint8Array");function Ss(e){return ie({[te]:"Unknown"},e)}i(Ss,"Unknown");function FX(e){return e.map(t=>A_(t,!1))}i(FX,"FromArray");function MX(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Fi(A_(e[r],!1));return t}i(MX,"FromProperties");function p5(e,t){return t===!0?e:Fi(e)}i(p5,"ConditionalReadonly");function A_(e,t){return c_(e)?p5(yl(),t):f_(e)?p5(yl(),t):sn(e)?Fi($o(FX(e))):ca(e)?m5():Yc(e)?c5():mr(e)?p5(ir(MX(e)),t):u_(e)?p5(s0([],Ss()),t):an(e)?d5():d_(e)?u5():m_(e)?f5():Ap(e)?ed():no(e)?zt(e):la(e)?zt(e):_r(e)?zt(e):ir({})}i(A_,"FromValue");function yD(e,t){return ie(A_(e,!0),t)}i(yD,"Const");function _D(e,t){return vs(e)?$o(e.parameters,t):vt(t)}i(_D,"ConstructorParameters");function vD(e,t){if(an(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),o=[...new Set(r)].map(s=>zt(s));return nr(o,{...t,[Uo]:"Enum"})}i(vD,"Enum");var k_=class extends at{static{i(this,"ExtendsResolverError")}},oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(oe||(oe={}));function Wo(e){return e===oe.False?e:oe.True}i(Wo,"IntoBooleanResult");function id(e){throw new k_(e)}i(id,"Throw");function mn(e){return K.IsNever(e)||K.IsIntersect(e)||K.IsUnion(e)||K.IsUnknown(e)||K.IsAny(e)}i(mn,"IsStructuralRight");function pn(e,t){return K.IsNever(t)?PD(e,t):K.IsIntersect(t)?g5(e,t):K.IsUnion(t)?M_(e,t):K.IsUnknown(t)?ND(e,t):K.IsAny(t)?F_(e,t):id("StructuralRight")}i(pn,"StructuralRight");function F_(e,t){return oe.True}i(F_,"FromAnyRight");function UX(e,t){return K.IsIntersect(t)?g5(e,t):K.IsUnion(t)&&t.anyOf.some(r=>K.IsAny(r)||K.IsUnknown(r))?oe.True:K.IsUnion(t)?oe.Union:K.IsUnknown(t)||K.IsAny(t)?oe.True:oe.Union}i(UX,"FromAny");function BX(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)?oe.True:oe.False}i(BX,"FromArrayRight");function $X(e,t){return K.IsObject(t)&&h5(t)?oe.True:mn(t)?pn(e,t):K.IsArray(t)?Wo(gr(e.items,t.items)):oe.False}i($X,"FromArray");function jX(e,t){return mn(t)?pn(e,t):K.IsAsyncIterator(t)?Wo(gr(e.items,t.items)):oe.False}i(jX,"FromAsyncIterator");function qX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsBigInt(t)?oe.True:oe.False}i(qX,"FromBigInt");function SD(e,t){return K.IsLiteralBoolean(e)||K.IsBoolean(e)?oe.True:oe.False}i(SD,"FromBooleanRight");function WX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsBoolean(t)?oe.True:oe.False}i(WX,"FromBoolean");function zX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsConstructor(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Wo(gr(t.parameters[n],r))===oe.True)?Wo(gr(e.returns,t.returns)):oe.False:oe.False}i(zX,"FromConstructor");function HX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsDate(t)?oe.True:oe.False}i(HX,"FromDate");function GX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsFunction(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Wo(gr(t.parameters[n],r))===oe.True)?Wo(gr(e.returns,t.returns)):oe.False:oe.False}i(GX,"FromFunction");function wD(e,t){return K.IsLiteral(e)&&ti.IsNumber(e.const)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}i(wD,"FromIntegerRight");function VX(e,t){return K.IsInteger(t)||K.IsNumber(t)?oe.True:mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):oe.False}i(VX,"FromInteger");function g5(e,t){return t.allOf.every(r=>gr(e,r)===oe.True)?oe.True:oe.False}i(g5,"FromIntersectRight");function KX(e,t){return e.allOf.some(r=>gr(r,t)===oe.True)?oe.True:oe.False}i(KX,"FromIntersect");function YX(e,t){return mn(t)?pn(e,t):K.IsIterator(t)?Wo(gr(e.items,t.items)):oe.False}i(YX,"FromIterator");function XX(e,t){return K.IsLiteral(t)&&t.const===e.const?oe.True:mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsString(t)?AD(e,t):K.IsNumber(t)?RD(e,t):K.IsInteger(t)?wD(e,t):K.IsBoolean(t)?SD(e,t):oe.False}i(XX,"FromLiteral");function PD(e,t){return oe.False}i(PD,"FromNeverRight");function JX(e,t){return oe.True}i(JX,"FromNever");function TD(e){let[t,r]=[e,0];for(;K.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Ss()}i(TD,"UnwrapTNot");function ZX(e,t){return K.IsNot(e)?gr(TD(e),t):K.IsNot(t)?gr(e,TD(t)):id("Invalid fallthrough for Not")}i(ZX,"FromNot");function QX(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsNull(t)?oe.True:oe.False}i(QX,"FromNull");function RD(e,t){return K.IsLiteralNumber(e)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}i(RD,"FromNumberRight");function eJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsInteger(t)||K.IsNumber(t)?oe.True:oe.False}i(eJ,"FromNumber");function Ui(e,t){return Object.getOwnPropertyNames(e.properties).length===t}i(Ui,"IsObjectPropertyCount");function ED(e){return h5(e)}i(ED,"IsObjectStringLike");function CD(e){return Ui(e,0)||Ui(e,1)&&"description"in e.properties&&K.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(K.IsString(e.properties.description.anyOf[0])&&K.IsUndefined(e.properties.description.anyOf[1])||K.IsString(e.properties.description.anyOf[1])&&K.IsUndefined(e.properties.description.anyOf[0]))}i(CD,"IsObjectSymbolLike");function N_(e){return Ui(e,0)}i(N_,"IsObjectNumberLike");function ID(e){return Ui(e,0)}i(ID,"IsObjectBooleanLike");function tJ(e){return Ui(e,0)}i(tJ,"IsObjectBigIntLike");function rJ(e){return Ui(e,0)}i(rJ,"IsObjectDateLike");function nJ(e){return h5(e)}i(nJ,"IsObjectUint8ArrayLike");function iJ(e){let t=Bo();return Ui(e,0)||Ui(e,1)&&"length"in e.properties&&Wo(gr(e.properties.length,t))===oe.True}i(iJ,"IsObjectFunctionLike");function oJ(e){return Ui(e,0)}i(oJ,"IsObjectConstructorLike");function h5(e){let t=Bo();return Ui(e,0)||Ui(e,1)&&"length"in e.properties&&Wo(gr(e.properties.length,t))===oe.True}i(h5,"IsObjectArrayLike");function sJ(e){let t=s0([yl()],yl());return Ui(e,0)||Ui(e,1)&&"then"in e.properties&&Wo(gr(e.properties.then,t))===oe.True}i(sJ,"IsObjectPromiseLike");function DD(e,t){return gr(e,t)===oe.False||K.IsOptional(e)&&!K.IsOptional(t)?oe.False:oe.True}i(DD,"Property");function ii(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)||K.IsLiteralString(e)&&ED(t)||K.IsLiteralNumber(e)&&N_(t)||K.IsLiteralBoolean(e)&&ID(t)||K.IsSymbol(e)&&CD(t)||K.IsBigInt(e)&&tJ(t)||K.IsString(e)&&ED(t)||K.IsSymbol(e)&&CD(t)||K.IsNumber(e)&&N_(t)||K.IsInteger(e)&&N_(t)||K.IsBoolean(e)&&ID(t)||K.IsUint8Array(e)&&nJ(t)||K.IsDate(e)&&rJ(t)||K.IsConstructor(e)&&oJ(t)||K.IsFunction(e)&&iJ(t)?oe.True:K.IsRecord(e)&&K.IsString(O_(e))?t[Uo]==="Record"?oe.True:oe.False:K.IsRecord(e)&&K.IsNumber(O_(e))?Ui(t,0)?oe.True:oe.False:oe.False}i(ii,"FromObjectRight");function aJ(e,t){return mn(t)?pn(e,t):K.IsRecord(t)?zo(e,t):K.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!K.IsOptional(t.properties[r]))return oe.False;if(K.IsOptional(t.properties[r]))return oe.True;if(DD(e.properties[r],t.properties[r])===oe.False)return oe.False}return oe.True})():oe.False}i(aJ,"FromObject");function lJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)&&sJ(t)?oe.True:K.IsPromise(t)?Wo(gr(e.item,t.item)):oe.False}i(lJ,"FromPromise");function O_(e){return i0 in e.patternProperties?Bo():o0 in e.patternProperties?Ti():id("Unknown record key pattern")}i(O_,"RecordKey");function L_(e){return i0 in e.patternProperties?e.patternProperties[i0]:o0 in e.patternProperties?e.patternProperties[o0]:id("Unable to get record value schema")}i(L_,"RecordValue");function zo(e,t){let[r,n]=[O_(t),L_(t)];return K.IsLiteralString(e)&&K.IsNumber(r)&&Wo(gr(e,n))===oe.True?oe.True:K.IsUint8Array(e)&&K.IsNumber(r)||K.IsString(e)&&K.IsNumber(r)||K.IsArray(e)&&K.IsNumber(r)?gr(e,n):K.IsObject(e)?(()=>{for(let o of Object.getOwnPropertyNames(e.properties))if(DD(n,e.properties[o])===oe.False)return oe.False;return oe.True})():oe.False}i(zo,"FromRecordRight");function cJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?gr(L_(e),L_(t)):oe.False}i(cJ,"FromRecord");function uJ(e,t){let r=K.IsRegExp(e)?Ti():e,n=K.IsRegExp(t)?Ti():t;return gr(r,n)}i(uJ,"FromRegExp");function AD(e,t){return K.IsLiteral(e)&&ti.IsString(e.const)||K.IsString(e)?oe.True:oe.False}i(AD,"FromStringRight");function fJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsString(t)?oe.True:oe.False}i(fJ,"FromString");function dJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsSymbol(t)?oe.True:oe.False}i(dJ,"FromSymbol");function mJ(e,t){return K.IsTemplateLiteral(e)?gr(ru(e),t):K.IsTemplateLiteral(t)?gr(e,ru(t)):id("Invalid fallthrough for TemplateLiteral")}i(mJ,"FromTemplateLiteral");function pJ(e,t){return K.IsArray(t)&&e.items!==void 0&&e.items.every(r=>gr(r,t.items)===oe.True)}i(pJ,"IsArrayOfTuple");function gJ(e,t){return K.IsNever(e)?oe.True:K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:oe.False}i(gJ,"FromTupleRight");function hJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)&&h5(t)||K.IsArray(t)&&pJ(e,t)?oe.True:K.IsTuple(t)?ti.IsUndefined(e.items)&&!ti.IsUndefined(t.items)||!ti.IsUndefined(e.items)&&ti.IsUndefined(t.items)?oe.False:ti.IsUndefined(e.items)&&!ti.IsUndefined(t.items)||e.items.every((r,n)=>gr(r,t.items[n])===oe.True)?oe.True:oe.False:oe.False}i(hJ,"FromTuple");function xJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsUint8Array(t)?oe.True:oe.False}i(xJ,"FromUint8Array");function bJ(e,t){return mn(t)?pn(e,t):K.IsObject(t)?ii(e,t):K.IsRecord(t)?zo(e,t):K.IsVoid(t)?vJ(e,t):K.IsUndefined(t)?oe.True:oe.False}i(bJ,"FromUndefined");function M_(e,t){return t.anyOf.some(r=>gr(e,r)===oe.True)?oe.True:oe.False}i(M_,"FromUnionRight");function yJ(e,t){return e.anyOf.every(r=>gr(r,t)===oe.True)?oe.True:oe.False}i(yJ,"FromUnion");function ND(e,t){return oe.True}i(ND,"FromUnknownRight");function _J(e,t){return K.IsNever(t)?PD(e,t):K.IsIntersect(t)?g5(e,t):K.IsUnion(t)?M_(e,t):K.IsAny(t)?F_(e,t):K.IsString(t)?AD(e,t):K.IsNumber(t)?RD(e,t):K.IsInteger(t)?wD(e,t):K.IsBoolean(t)?SD(e,t):K.IsArray(t)?BX(e,t):K.IsTuple(t)?gJ(e,t):K.IsObject(t)?ii(e,t):K.IsUnknown(t)?oe.True:oe.False}i(_J,"FromUnknown");function vJ(e,t){return K.IsUndefined(e)||K.IsUndefined(e)?oe.True:oe.False}i(vJ,"FromVoidRight");function TJ(e,t){return K.IsIntersect(t)?g5(e,t):K.IsUnion(t)?M_(e,t):K.IsUnknown(t)?ND(e,t):K.IsAny(t)?F_(e,t):K.IsObject(t)?ii(e,t):K.IsVoid(t)?oe.True:oe.False}i(TJ,"FromVoid");function gr(e,t){return K.IsTemplateLiteral(e)||K.IsTemplateLiteral(t)?mJ(e,t):K.IsRegExp(e)||K.IsRegExp(t)?uJ(e,t):K.IsNot(e)||K.IsNot(t)?ZX(e,t):K.IsAny(e)?UX(e,t):K.IsArray(e)?$X(e,t):K.IsBigInt(e)?qX(e,t):K.IsBoolean(e)?WX(e,t):K.IsAsyncIterator(e)?jX(e,t):K.IsConstructor(e)?zX(e,t):K.IsDate(e)?HX(e,t):K.IsFunction(e)?GX(e,t):K.IsInteger(e)?VX(e,t):K.IsIntersect(e)?KX(e,t):K.IsIterator(e)?YX(e,t):K.IsLiteral(e)?XX(e,t):K.IsNever(e)?JX(e,t):K.IsNull(e)?QX(e,t):K.IsNumber(e)?eJ(e,t):K.IsObject(e)?aJ(e,t):K.IsRecord(e)?cJ(e,t):K.IsString(e)?fJ(e,t):K.IsSymbol(e)?dJ(e,t):K.IsTuple(e)?hJ(e,t):K.IsPromise(e)?lJ(e,t):K.IsUint8Array(e)?xJ(e,t):K.IsUndefined(e)?bJ(e,t):K.IsUnion(e)?yJ(e,t):K.IsUnknown(e)?_J(e,t):K.IsVoid(e)?TJ(e,t):id(`Unknown left type operand '${e[te]}'`)}i(gr,"Visit");function vl(e,t){return gr(e,t)}i(vl,"ExtendsCheck");function EJ(e,t,r,n,o){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=od(e[a],t,r,n,Rr(o));return s}i(EJ,"FromProperties");function CJ(e,t,r,n,o){return EJ(e.properties,t,r,n,o)}i(CJ,"FromMappedResult");function kD(e,t,r,n,o){let s=CJ(e,t,r,n,o);return Zt(s)}i(kD,"ExtendsFromMappedResult");function IJ(e,t,r,n){let o=vl(e,t);return o===oe.Union?nr([r,n]):o===oe.True?r:n}i(IJ,"ExtendsResolve");function od(e,t,r,n,o){return Ar(e)?kD(e,t,r,n,o):so(e)?ie(OD(e,t,r,n,o)):ie(IJ(e,t,r,n),o)}i(od,"Extends");function SJ(e,t,r,n,o){return{[e]:od(zt(e),t,r,n,Rr(o))}}i(SJ,"FromPropertyKey");function wJ(e,t,r,n,o){return e.reduce((s,a)=>({...s,...SJ(a,t,r,n,o)}),{})}i(wJ,"FromPropertyKeys");function PJ(e,t,r,n,o){return wJ(e.keys,t,r,n,o)}i(PJ,"FromMappedKey");function OD(e,t,r,n,o){let s=PJ(e,t,r,n,o);return Zt(s)}i(OD,"ExtendsFromMappedKey");function RJ(e){return e.allOf.every(t=>ba(t))}i(RJ,"Intersect");function DJ(e){return e.anyOf.some(t=>ba(t))}i(DJ,"Union");function AJ(e){return!ba(e.not)}i(AJ,"Not");function ba(e){return e[te]==="Intersect"?RJ(e):e[te]==="Union"?DJ(e):e[te]==="Not"?AJ(e):e[te]==="Undefined"}i(ba,"ExtendsUndefinedCheck");function LD(e,t){return sd(ru(e),t)}i(LD,"ExcludeFromTemplateLiteral");function NJ(e,t){let r=e.filter(n=>vl(n,t)===oe.False);return r.length===1?r[0]:nr(r)}i(NJ,"ExcludeRest");function sd(e,t,r={}){return ao(e)?ie(LD(e,t),r):Ar(e)?ie(FD(e,t),r):ie(Kt(e)?NJ(e.anyOf,t):vl(e,t)!==oe.False?vt():e,r)}i(sd,"Exclude");function kJ(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=sd(e[n],t);return r}i(kJ,"FromProperties");function OJ(e,t){return kJ(e.properties,t)}i(OJ,"FromMappedResult");function FD(e,t){let r=OJ(e,t);return Zt(r)}i(FD,"ExcludeFromMappedResult");function MD(e,t){return ad(ru(e),t)}i(MD,"ExtractFromTemplateLiteral");function LJ(e,t){let r=e.filter(n=>vl(n,t)!==oe.False);return r.length===1?r[0]:nr(r)}i(LJ,"ExtractRest");function ad(e,t,r){return ao(e)?ie(MD(e,t),r):Ar(e)?ie(UD(e,t),r):ie(Kt(e)?LJ(e.anyOf,t):vl(e,t)!==oe.False?e:vt(),r)}i(ad,"Extract");function FJ(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ad(e[n],t);return r}i(FJ,"FromProperties");function MJ(e,t){return FJ(e.properties,t)}i(MJ,"FromMappedResult");function UD(e,t){let r=MJ(e,t);return Zt(r)}i(UD,"ExtractFromMappedResult");function BD(e,t){return vs(e)?ie(e.returns,t):vt(t)}i(BD,"InstanceType");function x5(e){return Fi(ri(e))}i(x5,"ReadonlyOptional");function nu(e,t,r){return ie({[te]:"Record",type:"object",patternProperties:{[e]:t}},r)}i(nu,"RecordCreateFromPattern");function U_(e,t,r){let n={};for(let o of e)n[o]=t;return ir(n,{...r,[Uo]:"Record"})}i(U_,"RecordCreateFromKeys");function UJ(e,t,r){return n5(e)?U_(Li(e),t,r):nu(e.pattern,t,r)}i(UJ,"FromTemplateLiteralKey");function BJ(e,t,r){return U_(Li(nr(e)),t,r)}i(BJ,"FromUnionKey");function $J(e,t,r){return U_([e.toString()],t,r)}i($J,"FromLiteralKey");function jJ(e,t,r){return nu(e.source,t,r)}i(jJ,"FromRegExpKey");function qJ(e,t,r){let n=an(e.pattern)?o0:e.pattern;return nu(n,t,r)}i(qJ,"FromStringKey");function WJ(e,t,r){return nu(o0,t,r)}i(WJ,"FromAnyKey");function zJ(e,t,r){return nu(KR,t,r)}i(zJ,"FromNeverKey");function HJ(e,t,r){return ir({true:t,false:t},r)}i(HJ,"FromBooleanKey");function GJ(e,t,r){return nu(i0,t,r)}i(GJ,"FromIntegerKey");function VJ(e,t,r){return nu(i0,t,r)}i(VJ,"FromNumberKey");function b5(e,t,r={}){return Kt(e)?BJ(e.anyOf,t,r):ao(e)?UJ(e,t,r):oo(e)?$J(e.const,t,r):da(e)?HJ(e,t,r):Es(e)?GJ(e,t,r):Cs(e)?VJ(e,t,r):x_(e)?jJ(e,t,r):ma(e)?qJ(e,t,r):g_(e)?WJ(e,t,r):xl(e)?zJ(e,t,r):vt(r)}i(b5,"Record");function y5(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}i(y5,"RecordPattern");function $D(e){let t=y5(e);return t===o0?Ti():t===i0?Bo():Ti({pattern:t})}i($D,"RecordKey");function _5(e){return e.patternProperties[y5(e)]}i(_5,"RecordValue");function KJ(e,t){return t.parameters=Hp(e,t.parameters),t.returns=ws(e,t.returns),t}i(KJ,"FromConstructor");function YJ(e,t){return t.parameters=Hp(e,t.parameters),t.returns=ws(e,t.returns),t}i(YJ,"FromFunction");function XJ(e,t){return t.allOf=Hp(e,t.allOf),t}i(XJ,"FromIntersect");function JJ(e,t){return t.anyOf=Hp(e,t.anyOf),t}i(JJ,"FromUnion");function ZJ(e,t){return an(t.items)||(t.items=Hp(e,t.items)),t}i(ZJ,"FromTuple");function QJ(e,t){return t.items=ws(e,t.items),t}i(QJ,"FromArray");function eZ(e,t){return t.items=ws(e,t.items),t}i(eZ,"FromAsyncIterator");function tZ(e,t){return t.items=ws(e,t.items),t}i(tZ,"FromIterator");function rZ(e,t){return t.item=ws(e,t.item),t}i(rZ,"FromPromise");function nZ(e,t){let r=aZ(e,t.properties);return{...t,...ir(r)}}i(nZ,"FromObject");function iZ(e,t){let r=ws(e,$D(t)),n=ws(e,_5(t)),o=b5(r,n);return{...t,...o}}i(iZ,"FromRecord");function oZ(e,t){return t.index in e?e[t.index]:Ss()}i(oZ,"FromArgument");function sZ(e,t){let r=Hf(t),n=Oi(t),o=ws(e,t);return r&&n?x5(o):r&&!n?Fi(o):!r&&n?ri(o):o}i(sZ,"FromProperty");function aZ(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:sZ(e,t[n])}),{})}i(aZ,"FromProperties");function Hp(e,t){return t.map(r=>ws(e,r))}i(Hp,"FromTypes");function ws(e,t){return vs(t)?KJ(e,t):Ts(t)?YJ(e,t):Gr(t)?XJ(e,t):Kt(t)?JJ(e,t):lo(t)?ZJ(e,t):ys(t)?QJ(e,t):Xc(t)?eZ(e,t):Zc(t)?tZ(e,t):Qc(t)?rZ(e,t):ln(t)?nZ(e,t):eu(t)?iZ(e,t):h_(t)?oZ(e,t):t}i(ws,"FromType");function jD(e,t){return ws(t,Wf(e))}i(jD,"Instantiate");function qD(e){return ie({[te]:"Integer",type:"integer"},e)}i(qD,"Integer");function lZ(e,t,r){return{[e]:Ps(zt(e),t,Rr(r))}}i(lZ,"MappedIntrinsicPropertyKey");function cZ(e,t,r){return e.reduce((o,s)=>({...o,...lZ(s,t,r)}),{})}i(cZ,"MappedIntrinsicPropertyKeys");function uZ(e,t,r){return cZ(e.keys,t,r)}i(uZ,"MappedIntrinsicProperties");function WD(e,t,r){let n=uZ(e,t,r);return Zt(n)}i(WD,"IntrinsicFromMappedKey");function fZ(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}i(fZ,"ApplyUncapitalize");function dZ(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}i(dZ,"ApplyCapitalize");function mZ(e){return e.toUpperCase()}i(mZ,"ApplyUppercase");function pZ(e){return e.toLowerCase()}i(pZ,"ApplyLowercase");function gZ(e,t,r){let n=Zf(e.pattern);if(!tu(n))return{...e,pattern:zD(e.pattern,t)};let a=[...jp(n)].map(f=>zt(f)),l=HD(a,t),c=nr(l);return o5([c],r)}i(gZ,"FromTemplateLiteral");function zD(e,t){return typeof e=="string"?t==="Uncapitalize"?fZ(e):t==="Capitalize"?dZ(e):t==="Uppercase"?mZ(e):t==="Lowercase"?pZ(e):e:e.toString()}i(zD,"FromLiteralValue");function HD(e,t){return e.map(r=>Ps(r,t))}i(HD,"FromRest");function Ps(e,t,r={}){return so(e)?WD(e,t,r):ao(e)?gZ(e,t,r):Kt(e)?nr(HD(e.anyOf,t),r):oo(e)?zt(zD(e.const,t),r):ie(e,r)}i(Ps,"Intrinsic");function GD(e,t={}){return Ps(e,"Capitalize",t)}i(GD,"Capitalize");function VD(e,t={}){return Ps(e,"Lowercase",t)}i(VD,"Lowercase");function KD(e,t={}){return Ps(e,"Uncapitalize",t)}i(KD,"Uncapitalize");function YD(e,t={}){return Ps(e,"Uppercase",t)}i(YD,"Uppercase");function hZ(e,t,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Tl(e[o],t,Rr(r));return n}i(hZ,"FromProperties");function xZ(e,t,r){return hZ(e.properties,t,r)}i(xZ,"FromMappedResult");function XD(e,t,r){let n=xZ(e,t,r);return Zt(n)}i(XD,"OmitFromMappedResult");function bZ(e,t){return e.map(r=>B_(r,t))}i(bZ,"FromIntersect");function yZ(e,t){return e.map(r=>B_(r,t))}i(yZ,"FromUnion");function _Z(e,t){let{[t]:r,...n}=e;return n}i(_Z,"FromProperty");function vZ(e,t){return t.reduce((r,n)=>_Z(r,n),e)}i(vZ,"FromProperties");function TZ(e,t){let r=Vr(e,[$r,"$id","required","properties"]),n=vZ(e.properties,t);return ir(n,r)}i(TZ,"FromObject");function EZ(e){let t=e.reduce((r,n)=>e5(n)?[...r,zt(n)]:r,[]);return nr(t)}i(EZ,"UnionFromPropertyKeys");function B_(e,t){return Gr(e)?ni(bZ(e.allOf,t)):Kt(e)?nr(yZ(e.anyOf,t)):ln(e)?TZ(e,t):ir({})}i(B_,"OmitResolve");function Tl(e,t,r){let n=sn(t)?EZ(t):t,o=jr(t)?Li(t):t,s=Jr(e),a=Jr(t);return Ar(e)?XD(e,o,r):so(t)?JD(e,t,r):s&&a?Sr("Omit",[e,n],r):!s&&a?Sr("Omit",[e,n],r):s&&!a?Sr("Omit",[e,n],r):ie({...B_(e,o),...r})}i(Tl,"Omit");function CZ(e,t,r){return{[t]:Tl(e,[t],Rr(r))}}i(CZ,"FromPropertyKey");function IZ(e,t,r){return t.reduce((n,o)=>({...n,...CZ(e,o,r)}),{})}i(IZ,"FromPropertyKeys");function SZ(e,t,r){return IZ(e,t.keys,r)}i(SZ,"FromMappedKey");function JD(e,t,r){let n=SZ(e,t,r);return Zt(n)}i(JD,"OmitFromMappedKey");function wZ(e,t,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=El(e[o],t,Rr(r));return n}i(wZ,"FromProperties");function PZ(e,t,r){return wZ(e.properties,t,r)}i(PZ,"FromMappedResult");function ZD(e,t,r){let n=PZ(e,t,r);return Zt(n)}i(ZD,"PickFromMappedResult");function RZ(e,t){return e.map(r=>$_(r,t))}i(RZ,"FromIntersect");function DZ(e,t){return e.map(r=>$_(r,t))}i(DZ,"FromUnion");function AZ(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}i(AZ,"FromProperties");function NZ(e,t){let r=Vr(e,[$r,"$id","required","properties"]),n=AZ(e.properties,t);return ir(n,r)}i(NZ,"FromObject");function kZ(e){let t=e.reduce((r,n)=>e5(n)?[...r,zt(n)]:r,[]);return nr(t)}i(kZ,"UnionFromPropertyKeys");function $_(e,t){return Gr(e)?ni(RZ(e.allOf,t)):Kt(e)?nr(DZ(e.anyOf,t)):ln(e)?NZ(e,t):ir({})}i($_,"PickResolve");function El(e,t,r){let n=sn(t)?kZ(t):t,o=jr(t)?Li(t):t,s=Jr(e),a=Jr(t);return Ar(e)?ZD(e,o,r):so(t)?QD(e,t,r):s&&a?Sr("Pick",[e,n],r):!s&&a?Sr("Pick",[e,n],r):s&&!a?Sr("Pick",[e,n],r):ie({...$_(e,o),...r})}i(El,"Pick");function OZ(e,t,r){return{[t]:El(e,[t],Rr(r))}}i(OZ,"FromPropertyKey");function LZ(e,t,r){return t.reduce((n,o)=>({...n,...OZ(e,o,r)}),{})}i(LZ,"FromPropertyKeys");function FZ(e,t,r){return LZ(e,t.keys,r)}i(FZ,"FromMappedKey");function QD(e,t,r){let n=FZ(e,t,r);return Zt(n)}i(QD,"PickFromMappedKey");function MZ(e,t){return Sr("Partial",[Sr(e,t)])}i(MZ,"FromComputed");function UZ(e){return Sr("Partial",[qo(e)])}i(UZ,"FromRef");function BZ(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=ri(e[r]);return t}i(BZ,"FromProperties");function $Z(e){let t=Vr(e,[$r,"$id","required","properties"]),r=BZ(e.properties);return ir(r,t)}i($Z,"FromObject");function eA(e){return e.map(t=>tA(t))}i(eA,"FromRest");function tA(e){return _s(e)?MZ(e.target,e.parameters):Jr(e)?UZ(e.$ref):Gr(e)?ni(eA(e.allOf)):Kt(e)?nr(eA(e.anyOf)):ln(e)?$Z(e):Jc(e)||da(e)||Es(e)||oo(e)||Op(e)||Cs(e)||ma(e)||Lp(e)||pa(e)?e:ir({})}i(tA,"PartialResolve");function ld(e,t){return Ar(e)?rA(e,t):ie({...tA(e),...t})}i(ld,"Partial");function jZ(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ld(e[n],Rr(t));return r}i(jZ,"FromProperties");function qZ(e,t){return jZ(e.properties,t)}i(qZ,"FromMappedResult");function rA(e,t){let r=qZ(e,t);return Zt(r)}i(rA,"PartialFromMappedResult");function WZ(e,t){return Sr("Required",[Sr(e,t)])}i(WZ,"FromComputed");function zZ(e){return Sr("Required",[qo(e)])}i(zZ,"FromRef");function HZ(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Vr(e[r],[zn]);return t}i(HZ,"FromProperties");function GZ(e){let t=Vr(e,[$r,"$id","required","properties"]),r=HZ(e.properties);return ir(r,t)}i(GZ,"FromObject");function nA(e){return e.map(t=>iA(t))}i(nA,"FromRest");function iA(e){return _s(e)?WZ(e.target,e.parameters):Jr(e)?zZ(e.$ref):Gr(e)?ni(nA(e.allOf)):Kt(e)?nr(nA(e.anyOf)):ln(e)?GZ(e):Jc(e)||da(e)||Es(e)||oo(e)||Op(e)||Cs(e)||ma(e)||Lp(e)||pa(e)?e:ir({})}i(iA,"RequiredResolve");function cd(e,t){return Ar(e)?oA(e,t):ie({...iA(e),...t})}i(cd,"Required");function VZ(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=cd(e[n],t);return r}i(VZ,"FromProperties");function KZ(e,t){return VZ(e.properties,t)}i(KZ,"FromMappedResult");function oA(e,t){let r=KZ(e,t);return Zt(r)}i(oA,"RequiredFromMappedResult");function YZ(e,t){return t.map(r=>Jr(r)?j_(e,r.$ref):co(e,r))}i(YZ,"DereferenceParameters");function j_(e,t){return t in e?Jr(e[t])?j_(e,e[t].$ref):co(e,e[t]):vt()}i(j_,"Dereference");function XZ(e){return rd(e[0])}i(XZ,"FromAwaited");function JZ(e){return _l(e[0],e[1])}i(JZ,"FromIndex");function ZZ(e){return nd(e[0])}i(ZZ,"FromKeyOf");function QZ(e){return ld(e[0])}i(QZ,"FromPartial");function eQ(e){return Tl(e[0],e[1])}i(eQ,"FromOmit");function tQ(e){return El(e[0],e[1])}i(tQ,"FromPick");function rQ(e){return cd(e[0])}i(rQ,"FromRequired");function nQ(e,t,r){let n=YZ(e,r);return t==="Awaited"?XZ(n):t==="Index"?JZ(n):t==="KeyOf"?ZZ(n):t==="Partial"?QZ(n):t==="Omit"?eQ(n):t==="Pick"?tQ(n):t==="Required"?rQ(n):vt()}i(nQ,"FromComputed");function iQ(e,t){return Kf(co(e,t))}i(iQ,"FromArray");function oQ(e,t){return Yf(co(e,t))}i(oQ,"FromAsyncIterator");function sQ(e,t,r){return Xf(Gp(e,t),co(e,r))}i(sQ,"FromConstructor");function aQ(e,t,r){return s0(Gp(e,t),co(e,r))}i(aQ,"FromFunction");function lQ(e,t){return ni(Gp(e,t))}i(lQ,"FromIntersect");function cQ(e,t){return td(co(e,t))}i(cQ,"FromIterator");function uQ(e,t){return ir(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:co(e,t[n])}),{}))}i(uQ,"FromObject");function fQ(e,t){let[r,n]=[co(e,_5(t)),y5(t)],o=Wf(t);return o.patternProperties[n]=r,o}i(fQ,"FromRecord");function dQ(e,t){return Jr(t)?{...j_(e,t.$ref),[$r]:t[$r]}:t}i(dQ,"FromTransform");function mQ(e,t){return $o(Gp(e,t))}i(mQ,"FromTuple");function pQ(e,t){return nr(Gp(e,t))}i(pQ,"FromUnion");function Gp(e,t){return t.map(r=>co(e,r))}i(Gp,"FromTypes");function co(e,t){return Oi(t)?ie(co(e,Vr(t,[zn])),t):Hf(t)?ie(co(e,Vr(t,[bs])),t):rr(t)?ie(dQ(e,t),t):ys(t)?ie(iQ(e,t.items),t):Xc(t)?ie(oQ(e,t.items),t):_s(t)?ie(nQ(e,t.target,t.parameters)):vs(t)?ie(sQ(e,t.parameters,t.returns),t):Ts(t)?ie(aQ(e,t.parameters,t.returns),t):Gr(t)?ie(lQ(e,t.allOf),t):Zc(t)?ie(cQ(e,t.items),t):ln(t)?ie(uQ(e,t.properties),t):eu(t)?ie(fQ(e,t)):lo(t)?ie(mQ(e,t.items||[]),t):Kt(t)?ie(pQ(e,t.anyOf),t):t}i(co,"FromType");function gQ(e,t){return t in e?co(e,e[t]):vt()}i(gQ,"ComputeType");function sA(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:gQ(e,r)}),{})}i(sA,"ComputeModuleProperties");var q_=class{static{i(this,"TModule")}constructor(t){let r=sA(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ie(this.$defs[t],r)};return ie({[te]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function aA(e){return new q_(e)}i(aA,"Module");function lA(e,t){return ie({[te]:"Not",not:e},t)}i(lA,"Not");function cA(e,t){return Ts(e)?$o(e.parameters,t):vt()}i(cA,"Parameters");var hQ=0;function uA(e,t={}){an(t.$id)&&(t.$id=`T${hQ++}`);let r=Wf(e({[te]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ie({[Uo]:"Recursive",...r},t)}i(uA,"Recursive");function fA(e,t){let r=_r(e)?new globalThis.RegExp(e):e;return ie({[te]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}i(fA,"RegExp");function xQ(e){return Gr(e)?e.allOf:Kt(e)?e.anyOf:lo(e)?e.items??[]:[]}i(xQ,"RestResolve");function dA(e){return xQ(e)}i(dA,"Rest");function mA(e,t){return Ts(e)?ie(e.returns,t):vt(t)}i(mA,"ReturnType");var W_=class{static{i(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new z_(this.schema,t)}},z_=class{static{i(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:i(a=>r[$r].Encode(t(a)),"Encode"),Decode:i(a=>this.decode(r[$r].Decode(a)),"Decode")};return{...r,[$r]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[$r]:n}}Encode(t){return rr(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function pA(e){return new W_(e)}i(pA,"Transform");function gA(e={}){return ie({[te]:e[te]??"Unsafe"},e)}i(gA,"Unsafe");function hA(e){return ie({[te]:"Void",type:"void"},e)}i(hA,"Void");var H_={};Qs(H_,{Any:()=>yl,Argument:()=>QR,Array:()=>Kf,AsyncIterator:()=>Yf,Awaited:()=>rd,BigInt:()=>ed,Boolean:()=>i5,Capitalize:()=>GD,Composite:()=>bD,Const:()=>yD,Constructor:()=>Xf,ConstructorParameters:()=>_D,Date:()=>c5,Enum:()=>vD,Exclude:()=>sd,Extends:()=>od,Extract:()=>ad,Function:()=>s0,Index:()=>_l,InstanceType:()=>BD,Instantiate:()=>jD,Integer:()=>qD,Intersect:()=>ni,Iterator:()=>td,KeyOf:()=>nd,Literal:()=>zt,Lowercase:()=>VD,Mapped:()=>dD,Module:()=>aA,Never:()=>vt,Not:()=>lA,Null:()=>u5,Number:()=>Bo,Object:()=>ir,Omit:()=>Tl,Optional:()=>ri,Parameters:()=>cA,Partial:()=>ld,Pick:()=>El,Promise:()=>a5,Readonly:()=>Fi,ReadonlyOptional:()=>x5,Record:()=>b5,Recursive:()=>uA,Ref:()=>qo,RegExp:()=>fA,Required:()=>cd,Rest:()=>dA,ReturnType:()=>mA,String:()=>Ti,Symbol:()=>f5,TemplateLiteral:()=>o5,Transform:()=>pA,Tuple:()=>$o,Uint8Array:()=>m5,Uncapitalize:()=>KD,Undefined:()=>d5,Union:()=>nr,Unknown:()=>Ss,Unsafe:()=>gA,Uppercase:()=>YD,Void:()=>hA});var k=H_;var r$e=600*1e3,Vp={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",CopilotBase:"copilot-base",Unknown:"unknown"},n$e=new Set([Vp.O1Ga,Vp.O3Mini,Vp.O1Mini,Vp.Gemini20Pro,Vp.Gemini20Flash]);var bQ=k.Object({type:k.Union([k.Literal("chat"),k.Literal("embeddings"),k.Literal("completion")]),tokenizer:k.String(),family:k.String(),object:k.String(),supports:k.Optional(k.Object({tool_calls:k.Optional(k.Boolean()),parallel_tool_calls:k.Optional(k.Boolean()),streaming:k.Optional(k.Boolean()),vision:k.Optional(k.Boolean())})),limits:k.Optional(k.Object({max_inputs:k.Optional(k.Number()),max_prompt_tokens:k.Optional(k.Number()),max_output_tokens:k.Optional(k.Number()),max_context_window_tokens:k.Optional(k.Number())}))}),yQ=k.Object({id:k.String(),name:k.String(),version:k.String(),model_picker_enabled:k.Boolean(),is_chat_default:k.Optional(k.Boolean()),is_chat_fallback:k.Optional(k.Boolean()),capabilities:bQ,billing:k.Optional(k.Object({is_premium:k.Optional(k.Boolean()),multiplier:k.Optional(k.Number())})),object:k.String(),preview:k.Optional(k.Boolean()),isExperimental:k.Optional(k.Boolean()),policy:k.Optional(k.Object({state:k.String(),terms:k.String()}))}),xA=k.Object({data:k.Array(yQ)});function Kp(e){let t=Jt(e,Te.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}i(Kp,"getUserSelectedModelConfiguration");var ud=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{i(this,"CopilotPromptLoadFailure")}};var v5=yt(require("vscode"));async function T5(e){return await v5.default.workspace.fs.readFile(yA(e))}i(T5,"readFile");function bA(e){return yA(e).toString()}i(bA,"locateFile");function yA(e){let{extensionUri:t}=v5.default.extensions.getExtension("github.copilot");return v5.default.Uri.joinPath(t,"dist",e)}i(yA,"remoteUri");var fd=yt(kA());var P5=new Map;function Rs(e="o200k_base"){let t=P5.get(e);return t!==void 0||(t=P5.get("o200k_base"),t!==void 0)?t:new R5}i(Rs,"getTokenizer");async function LQ(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await T5(e),r=new Map,n=[];for(let o=0;o<t.length;o++){if(t[o]!==255||n.length===0){n.push(t[o]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}i(LQ,"parseTikTokenNoIndex");var r6=class e{constructor(t){this._tokenizer=t}static{i(this,"TTokenizer")}static async create(t){try{let r=(0,fd.createTokenizer)(await LQ(`resources/${t}.tiktoken.noindex`),(0,fd.getSpecialTokensByEncoder)(t),(0,fd.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new ud("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*o),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*o),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},n6=class{constructor(){this.hash=i(t=>{let r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);r=(r<<5)-r+o,r&=r&65535}return r},"hash")}static{i(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},FQ={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},t6=4,R5=class{constructor(t="o200k_base",r){this.languageId=r;this.tokenizerName=t}static{i(this,"ApproximateTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(r=>{let n=0;for(let o=0;o<r.length;o++)n=n*Math.pow(10,t6)+r.charCodeAt(o);return n})}detokenize(t){return t.map(r=>{let n=[],o=r.toString();for(;o.length>0;){let s=o.slice(-t6),a=String.fromCharCode(parseInt(s));n.unshift(a),o=o.slice(0,-t6)}return n.join("")}).join("")}tokenizeStrings(t){return t.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?FQ[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(t){return Math.ceil(t.length/this.getEffectiveTokenLength())}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,s)=>s)}}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,s)=>s)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}};async function OA(e){try{let t=await r6.create(e);P5.set(e,t)}catch{}}i(OA,"setTokenizer");var D5=(async()=>{P5.set("mock",new n6),await Promise.all([OA("cl100k_base"),OA("o200k_base")])})();function MQ(e){switch(e.errorType){case ee.ArrayContains:return"Expected array to contain at least one matching value";case ee.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case ee.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case ee.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case ee.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case ee.ArrayUniqueItems:return"Expected array elements to be unique";case ee.Array:return"Expected array";case ee.AsyncIterator:return"Expected AsyncIterator";case ee.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case ee.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case ee.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case ee.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case ee.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case ee.BigInt:return"Expected bigint";case ee.Boolean:return"Expected boolean";case ee.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case ee.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case ee.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case ee.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case ee.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case ee.Date:return"Expected Date";case ee.Function:return"Expected function";case ee.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case ee.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case ee.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case ee.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case ee.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case ee.Integer:return"Expected integer";case ee.IntersectUnevaluatedProperties:return"Unexpected property";case ee.Intersect:return"Expected all values to match";case ee.Iterator:return"Expected Iterator";case ee.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case ee.Never:return"Never";case ee.Not:return"Value should not match";case ee.Null:return"Expected null";case ee.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case ee.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case ee.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case ee.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case ee.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case ee.Number:return"Expected number";case ee.Object:return"Expected object";case ee.ObjectAdditionalProperties:return"Unexpected property";case ee.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case ee.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case ee.ObjectRequiredProperty:return"Expected required property";case ee.Promise:return"Expected Promise";case ee.RegExp:return"Expected string to match regular expression";case ee.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case ee.StringFormat:return`Expected string to match '${e.schema.format}' format`;case ee.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case ee.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case ee.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case ee.String:return"Expected string";case ee.Symbol:return"Expected symbol";case ee.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case ee.Tuple:return"Expected tuple";case ee.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case ee.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case ee.Uint8Array:return"Expected Uint8Array";case ee.Undefined:return"Expected undefined";case ee.Union:return"Expected union value";case ee.Void:return"Expected void";case ee.Kind:return`Expected kind '${e.schema[te]}'`;default:return"Unknown error type"}}i(MQ,"DefaultErrorFunction");var UQ=MQ;function LA(){return UQ}i(LA,"GetErrorFunction");var i6=class extends at{static{i(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function BQ(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new i6(e);return Qt(r,t)}i(BQ,"Resolve");function kn(e,t){return!Vt(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}i(kn,"Pushref");function Qt(e,t){return e[te]==="This"||e[te]==="Ref"?BQ(e,t):e}i(Qt,"Deref");var o6=class extends at{static{i(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},uo;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(uo||(uo={}));var dd=BigInt("14695981039346656037"),[$Q,jQ]=[BigInt("1099511628211"),BigInt("18446744073709551616")],qQ=Array.from({length:256}).map((e,t)=>BigInt(t)),FA=new Float64Array(1),MA=new DataView(FA.buffer),UA=new Uint8Array(FA.buffer);function*WQ(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}i(WQ,"NumberToBytes");function zQ(e){oi(uo.Array);for(let t of e)md(t)}i(zQ,"ArrayType");function HQ(e){oi(uo.Boolean),oi(e?1:0)}i(HQ,"BooleanType");function GQ(e){oi(uo.BigInt),MA.setBigInt64(0,e);for(let t of UA)oi(t)}i(GQ,"BigIntType");function VQ(e){oi(uo.Date),md(e.getTime())}i(VQ,"DateType");function KQ(e){oi(uo.Null)}i(KQ,"NullType");function YQ(e){oi(uo.Number),MA.setFloat64(0,e);for(let t of UA)oi(t)}i(YQ,"NumberType");function XQ(e){oi(uo.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())md(t),md(e[t])}i(XQ,"ObjectType");function JQ(e){oi(uo.String);for(let t=0;t<e.length;t++)for(let r of WQ(e.charCodeAt(t)))oi(r)}i(JQ,"StringType");function ZQ(e){oi(uo.Symbol),md(e.description)}i(ZQ,"SymbolType");function QQ(e){oi(uo.Uint8Array);for(let t=0;t<e.length;t++)oi(e[t])}i(QQ,"Uint8ArrayType");function eee(e){return oi(uo.Undefined)}i(eee,"UndefinedType");function md(e){if(st(e))return zQ(e);if(n0(e))return HQ(e);if(Wn(e))return GQ(e);if(_i(e))return VQ(e);if(ua(e))return KQ(e);if(He(e))return YQ(e);if(It(e))return XQ(e);if(Vt(e))return JQ(e);if(fa(e))return ZQ(e);if(zf(e))return QQ(e);if(Dr(e))return eee(e);throw new o6(e)}i(md,"Visit");function oi(e){dd=dd^qQ[e],dd=dd*$Q%jQ}i(oi,"FNV1A64");function Il(e){return dd=BigInt("14695981039346656037"),md(e),dd}i(Il,"Hash");var s6=class extends at{static{i(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function tee(e){return e[te]==="Any"||e[te]==="Unknown"}i(tee,"IsAnyOrUnknown");function Mt(e){return e!==void 0}i(Mt,"IsDefined");function ree(e,t,r){return!0}i(ree,"FromAny");function nee(e,t,r){return!0}i(nee,"FromArgument");function iee(e,t,r){if(!st(r)||Mt(e.minItems)&&!(r.length>=e.minItems)||Mt(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>On(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=Il(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Mt(e.contains)||He(e.minContains)||He(e.maxContains)))return!0;let n=Mt(e.contains)?e.contains:vt(),o=r.reduce((s,a)=>On(n,t,a)?s+1:s,0);return!(o===0||He(e.minContains)&&o<e.minContains||He(e.maxContains)&&o>e.maxContains)}i(iee,"FromArray");function oee(e,t,r){return X2(r)}i(oee,"FromAsyncIterator");function see(e,t,r){return!(!Wn(r)||Mt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Mt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Mt(e.maximum)&&!(r<=e.maximum)||Mt(e.minimum)&&!(r>=e.minimum)||Mt(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}i(see,"FromBigInt");function aee(e,t,r){return n0(r)}i(aee,"FromBoolean");function lee(e,t,r){return On(e.returns,t,r.prototype)}i(lee,"FromConstructor");function cee(e,t,r){return!(!_i(r)||Mt(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Mt(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Mt(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Mt(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Mt(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}i(cee,"FromDate");function uee(e,t,r){return hl(r)}i(uee,"FromFunction");function fee(e,t,r){let n=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];return On(o,[...t,...n],r)}i(fee,"FromImport");function dee(e,t,r){return!(!Q2(r)||Mt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Mt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Mt(e.maximum)&&!(r<=e.maximum)||Mt(e.minimum)&&!(r>=e.minimum)||Mt(e.multipleOf)&&r%e.multipleOf!==0)}i(dee,"FromInteger");function mee(e,t,r){let n=e.allOf.every(o=>On(o,t,r));if(e.unevaluatedProperties===!1){let o=new RegExp(xa(e)),s=Object.getOwnPropertyNames(r).every(a=>o.test(a));return n&&s}else if(jr(e.unevaluatedProperties)){let o=new RegExp(xa(e)),s=Object.getOwnPropertyNames(r).every(a=>o.test(a)||On(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}i(mee,"FromIntersect");function pee(e,t,r){return J2(r)}i(pee,"FromIterator");function gee(e,t,r){return r===e.const}i(gee,"FromLiteral");function hee(e,t,r){return!1}i(hee,"FromNever");function xee(e,t,r){return!On(e.not,t,r)}i(xee,"FromNot");function bee(e,t,r){return ua(r)}i(bee,"FromNull");function yee(e,t,r){return!(!Ir.IsNumberLike(r)||Mt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Mt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Mt(e.minimum)&&!(r>=e.minimum)||Mt(e.maximum)&&!(r<=e.maximum)||Mt(e.multipleOf)&&r%e.multipleOf!==0)}i(yee,"FromNumber");function _ee(e,t,r){if(!Ir.IsObjectLike(r)||Mt(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let o of n){let s=e.properties[o];if(e.required&&e.required.includes(o)){if(!On(s,t,r[o])||(ba(s)||tee(s))&&!(o in r))return!1}else if(Ir.IsExactOptionalProperty(r,o)&&!On(s,t,r[o]))return!1}if(e.additionalProperties===!1){let o=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&o.length===n.length?!0:o.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||On(e.additionalProperties,t,r[s])):!0}i(_ee,"FromObject");function vee(e,t,r){return Z2(r)}i(vee,"FromPromise");function Tee(e,t,r){if(!Ir.IsRecordLike(r)||Mt(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,o]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([f,u])=>s.test(f)?On(o,t,u):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([f,u])=>s.test(f)?!0:On(e.additionalProperties,t,u)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>s.test(f)):!0;return a&&l&&c}i(Tee,"FromRecord");function Eee(e,t,r){return On(Qt(e,t),t,r)}i(Eee,"FromRef");function Cee(e,t,r){let n=new RegExp(e.source,e.flags);return Mt(e.minLength)&&!(r.length>=e.minLength)||Mt(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}i(Cee,"FromRegExp");function Iee(e,t,r){return!Vt(r)||Mt(e.minLength)&&!(r.length>=e.minLength)||Mt(e.maxLength)&&!(r.length<=e.maxLength)||Mt(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Mt(e.format)?Is.Has(e.format)?Is.Get(e.format)(r):!1:!0}i(Iee,"FromString");function See(e,t,r){return fa(r)}i(See,"FromSymbol");function wee(e,t,r){return Vt(r)&&new RegExp(e.pattern).test(r)}i(wee,"FromTemplateLiteral");function Pee(e,t,r){return On(Qt(e,t),t,r)}i(Pee,"FromThis");function Ree(e,t,r){if(!st(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!On(e.items[n],t,r[n]))return!1;return!0}i(Ree,"FromTuple");function Dee(e,t,r){return Dr(r)}i(Dee,"FromUndefined");function Aee(e,t,r){return e.anyOf.some(n=>On(n,t,r))}i(Aee,"FromUnion");function Nee(e,t,r){return!(!zf(r)||Mt(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Mt(e.minByteLength)&&!(r.length>=e.minByteLength))}i(Nee,"FromUint8Array");function kee(e,t,r){return!0}i(kee,"FromUnknown");function Oee(e,t,r){return Ir.IsVoidLike(r)}i(Oee,"FromVoid");function Lee(e,t,r){return vi.Has(e[te])?vi.Get(e[te])(e,r):!1}i(Lee,"FromKind");function On(e,t,r){let n=Mt(e.$id)?kn(e,t):t,o=e;switch(o[te]){case"Any":return ree(o,n,r);case"Argument":return nee(o,n,r);case"Array":return iee(o,n,r);case"AsyncIterator":return oee(o,n,r);case"BigInt":return see(o,n,r);case"Boolean":return aee(o,n,r);case"Constructor":return lee(o,n,r);case"Date":return cee(o,n,r);case"Function":return uee(o,n,r);case"Import":return fee(o,n,r);case"Integer":return dee(o,n,r);case"Intersect":return mee(o,n,r);case"Iterator":return pee(o,n,r);case"Literal":return gee(o,n,r);case"Never":return hee(o,n,r);case"Not":return xee(o,n,r);case"Null":return bee(o,n,r);case"Number":return yee(o,n,r);case"Object":return _ee(o,n,r);case"Promise":return vee(o,n,r);case"Record":return Tee(o,n,r);case"Ref":return Eee(o,n,r);case"RegExp":return Cee(o,n,r);case"String":return Iee(o,n,r);case"Symbol":return See(o,n,r);case"TemplateLiteral":return wee(o,n,r);case"This":return Pee(o,n,r);case"Tuple":return Ree(o,n,r);case"Undefined":return Dee(o,n,r);case"Union":return Aee(o,n,r);case"Uint8Array":return Nee(o,n,r);case"Unknown":return kee(o,n,r);case"Void":return Oee(o,n,r);default:if(!vi.Has(o[te]))throw new s6(o);return Lee(o,n,r)}}i(On,"Visit");function wt(...e){return e.length===3?On(e[0],e[1],e[2]):On(e[0],[],e[1])}i(wt,"Check");var ee;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(ee||(ee={}));var a6=class extends at{static{i(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function ya(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}i(ya,"EscapeKey");function Ut(e){return e!==void 0}i(Ut,"IsDefined");var Sl=class{static{i(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function Pe(e,t,r,n,o=[]){return{type:e,schema:t,path:r,value:n,message:LA()({errorType:e,path:r,schema:t,value:n,errors:o}),errors:o}}i(Pe,"Create");function*Fee(e,t,r,n){}i(Fee,"FromAny");function*Mee(e,t,r,n){}i(Mee,"FromArgument");function*Uee(e,t,r,n){if(!st(n))return yield Pe(ee.Array,e,r,n);Ut(e.minItems)&&!(n.length>=e.minItems)&&(yield Pe(ee.ArrayMinItems,e,r,n)),Ut(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Pe(ee.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Ln(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=Il(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield Pe(ee.ArrayUniqueItems,e,r,n)),!(Ut(e.contains)||Ut(e.minContains)||Ut(e.maxContains)))return;let o=Ut(e.contains)?e.contains:vt(),s=n.reduce((a,l,c)=>Ln(o,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield Pe(ee.ArrayContains,e,r,n)),He(e.minContains)&&s<e.minContains&&(yield Pe(ee.ArrayMinContains,e,r,n)),He(e.maxContains)&&s>e.maxContains&&(yield Pe(ee.ArrayMaxContains,e,r,n))}i(Uee,"FromArray");function*Bee(e,t,r,n){X2(n)||(yield Pe(ee.AsyncIterator,e,r,n))}i(Bee,"FromAsyncIterator");function*$ee(e,t,r,n){if(!Wn(n))return yield Pe(ee.BigInt,e,r,n);Ut(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.BigIntExclusiveMaximum,e,r,n)),Ut(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.BigIntExclusiveMinimum,e,r,n)),Ut(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.BigIntMaximum,e,r,n)),Ut(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.BigIntMinimum,e,r,n)),Ut(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Pe(ee.BigIntMultipleOf,e,r,n))}i($ee,"FromBigInt");function*jee(e,t,r,n){n0(n)||(yield Pe(ee.Boolean,e,r,n))}i(jee,"FromBoolean");function*qee(e,t,r,n){yield*Ln(e.returns,t,r,n.prototype)}i(qee,"FromConstructor");function*Wee(e,t,r,n){if(!_i(n))return yield Pe(ee.Date,e,r,n);Ut(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Pe(ee.DateExclusiveMaximumTimestamp,e,r,n)),Ut(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Pe(ee.DateExclusiveMinimumTimestamp,e,r,n)),Ut(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Pe(ee.DateMaximumTimestamp,e,r,n)),Ut(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Pe(ee.DateMinimumTimestamp,e,r,n)),Ut(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Pe(ee.DateMultipleOfTimestamp,e,r,n))}i(Wee,"FromDate");function*zee(e,t,r,n){hl(n)||(yield Pe(ee.Function,e,r,n))}i(zee,"FromFunction");function*Hee(e,t,r,n){let o=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*Ln(s,[...t,...o],r,n)}i(Hee,"FromImport");function*Gee(e,t,r,n){if(!Q2(n))return yield Pe(ee.Integer,e,r,n);Ut(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.IntegerExclusiveMaximum,e,r,n)),Ut(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.IntegerExclusiveMinimum,e,r,n)),Ut(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.IntegerMaximum,e,r,n)),Ut(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.IntegerMinimum,e,r,n)),Ut(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.IntegerMultipleOf,e,r,n))}i(Gee,"FromInteger");function*Vee(e,t,r,n){let o=!1;for(let s of e.allOf)for(let a of Ln(s,t,r,n))o=!0,yield a;if(o)return yield Pe(ee.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(xa(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Pe(ee.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(xa(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=Ln(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}i(Vee,"FromIntersect");function*Kee(e,t,r,n){J2(n)||(yield Pe(ee.Iterator,e,r,n))}i(Kee,"FromIterator");function*Yee(e,t,r,n){n!==e.const&&(yield Pe(ee.Literal,e,r,n))}i(Yee,"FromLiteral");function*Xee(e,t,r,n){yield Pe(ee.Never,e,r,n)}i(Xee,"FromNever");function*Jee(e,t,r,n){Ln(e.not,t,r,n).next().done===!0&&(yield Pe(ee.Not,e,r,n))}i(Jee,"FromNot");function*Zee(e,t,r,n){ua(n)||(yield Pe(ee.Null,e,r,n))}i(Zee,"FromNull");function*Qee(e,t,r,n){if(!Ir.IsNumberLike(n))return yield Pe(ee.Number,e,r,n);Ut(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.NumberExclusiveMaximum,e,r,n)),Ut(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.NumberExclusiveMinimum,e,r,n)),Ut(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.NumberMaximum,e,r,n)),Ut(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.NumberMinimum,e,r,n)),Ut(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.NumberMultipleOf,e,r,n))}i(Qee,"FromNumber");function*ete(e,t,r,n){if(!Ir.IsObjectLike(n))return yield Pe(ee.Object,e,r,n);Ut(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Ut(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let o=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of o)a.includes(l)||(yield Pe(ee.ObjectRequiredProperty,e.properties[l],`${r}/${ya(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${ya(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*Ln(e.additionalProperties,t,`${r}/${ya(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*Ln(c,t,`${r}/${ya(l)}`,n[l]),ba(e)&&!(l in n)&&(yield Pe(ee.ObjectRequiredProperty,c,`${r}/${ya(l)}`,void 0))):Ir.IsExactOptionalProperty(n,l)&&(yield*Ln(c,t,`${r}/${ya(l)}`,n[l]))}}i(ete,"FromObject");function*tte(e,t,r,n){Z2(n)||(yield Pe(ee.Promise,e,r,n))}i(tte,"FromPromise");function*rte(e,t,r,n){if(!Ir.IsRecordLike(n))return yield Pe(ee.Object,e,r,n);Ut(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Ut(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let[o,s]=Object.entries(e.patternProperties)[0],a=new RegExp(o);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*Ln(s,t,`${r}/${ya(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*Ln(e.additionalProperties,t,`${r}/${ya(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${ya(l)}`,c)}}i(rte,"FromRecord");function*nte(e,t,r,n){yield*Ln(Qt(e,t),t,r,n)}i(nte,"FromRef");function*ite(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);if(Ut(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Ut(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield Pe(ee.RegExp,e,r,n)}i(ite,"FromRegExp");function*ote(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);Ut(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Ut(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),Vt(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))),Vt(e.format)&&(Is.Has(e.format)?Is.Get(e.format)(n)||(yield Pe(ee.StringFormat,e,r,n)):yield Pe(ee.StringFormatUnknown,e,r,n))}i(ote,"FromString");function*ste(e,t,r,n){fa(n)||(yield Pe(ee.Symbol,e,r,n))}i(ste,"FromSymbol");function*ate(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))}i(ate,"FromTemplateLiteral");function*lte(e,t,r,n){yield*Ln(Qt(e,t),t,r,n)}i(lte,"FromThis");function*cte(e,t,r,n){if(!st(n))return yield Pe(ee.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Pe(ee.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Pe(ee.TupleLength,e,r,n);if(e.items)for(let o=0;o<e.items.length;o++)yield*Ln(e.items[o],t,`${r}/${o}`,n[o])}i(cte,"FromTuple");function*ute(e,t,r,n){Dr(n)||(yield Pe(ee.Undefined,e,r,n))}i(ute,"FromUndefined");function*fte(e,t,r,n){if(wt(e,t,n))return;let o=e.anyOf.map(s=>new Sl(Ln(s,t,r,n)));yield Pe(ee.Union,e,r,n,o)}i(fte,"FromUnion");function*dte(e,t,r,n){if(!zf(n))return yield Pe(ee.Uint8Array,e,r,n);Ut(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Pe(ee.Uint8ArrayMaxByteLength,e,r,n)),Ut(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Pe(ee.Uint8ArrayMinByteLength,e,r,n))}i(dte,"FromUint8Array");function*mte(e,t,r,n){}i(mte,"FromUnknown");function*pte(e,t,r,n){Ir.IsVoidLike(n)||(yield Pe(ee.Void,e,r,n))}i(pte,"FromVoid");function*gte(e,t,r,n){vi.Get(e[te])(e,n)||(yield Pe(ee.Kind,e,r,n))}i(gte,"FromKind");function*Ln(e,t,r,n){let o=Ut(e.$id)?[...t,e]:t,s=e;switch(s[te]){case"Any":return yield*Fee(s,o,r,n);case"Argument":return yield*Mee(s,o,r,n);case"Array":return yield*Uee(s,o,r,n);case"AsyncIterator":return yield*Bee(s,o,r,n);case"BigInt":return yield*$ee(s,o,r,n);case"Boolean":return yield*jee(s,o,r,n);case"Constructor":return yield*qee(s,o,r,n);case"Date":return yield*Wee(s,o,r,n);case"Function":return yield*zee(s,o,r,n);case"Import":return yield*Hee(s,o,r,n);case"Integer":return yield*Gee(s,o,r,n);case"Intersect":return yield*Vee(s,o,r,n);case"Iterator":return yield*Kee(s,o,r,n);case"Literal":return yield*Yee(s,o,r,n);case"Never":return yield*Xee(s,o,r,n);case"Not":return yield*Jee(s,o,r,n);case"Null":return yield*Zee(s,o,r,n);case"Number":return yield*Qee(s,o,r,n);case"Object":return yield*ete(s,o,r,n);case"Promise":return yield*tte(s,o,r,n);case"Record":return yield*rte(s,o,r,n);case"Ref":return yield*nte(s,o,r,n);case"RegExp":return yield*ite(s,o,r,n);case"String":return yield*ote(s,o,r,n);case"Symbol":return yield*ste(s,o,r,n);case"TemplateLiteral":return yield*ate(s,o,r,n);case"This":return yield*lte(s,o,r,n);case"Tuple":return yield*cte(s,o,r,n);case"Undefined":return yield*ute(s,o,r,n);case"Union":return yield*fte(s,o,r,n);case"Uint8Array":return yield*dte(s,o,r,n);case"Unknown":return yield*mte(s,o,r,n);case"Void":return yield*pte(s,o,r,n);default:if(!vi.Has(s[te]))throw new a6(e);return yield*gte(s,o,r,n)}}i(Ln,"Visit");function u0(...e){let t=e.length===3?Ln(e[0],e[1],"",e[2]):Ln(e[0],[],"",e[1]);return new Sl(t)}i(u0,"Errors");var hte=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},$A=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},l6,A5,jA,c6=class extends at{static{i(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),l6.add(this),A5.set(this,void 0),hte(this,A5,t,"f"),this.error=r}Errors(){return new Sl($A(this,l6,"m",jA).call(this))}};A5=new WeakMap,l6=new WeakSet,jA=i(function*(){this.error&&(yield this.error),yield*$A(this,A5,"f")},"_AssertError_Iterator");function BA(e,t,r){if(!wt(e,t,r))throw new c6(u0(e,t,r))}i(BA,"AssertValue");function N5(...e){return e.length===3?BA(e[0],e[1],e[2]):BA(e[0],[],e[1])}i(N5,"Assert");function xte(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=er(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=er(e[r]);return t}i(xte,"FromObject");function bte(e){return e.map(t=>er(t))}i(bte,"FromArray");function yte(e){return e.slice()}i(yte,"FromTypedArray");function _te(e){return new Map(er([...e.entries()]))}i(_te,"FromMap");function vte(e){return new Set(er([...e.entries()]))}i(vte,"FromSet");function Tte(e){return new Date(e.toISOString())}i(Tte,"FromDate");function er(e){if(st(e))return bte(e);if(_i(e))return Tte(e);if(Mo(e))return yte(e);if(iR(e))return _te(e);if(oR(e))return vte(e);if(It(e))return xte(e);if(io(e))return e;throw new Error("ValueClone: Unable to clone value")}i(er,"Clone");var fo=class extends at{static{i(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function tr(e){return hl(e)?e():er(e)}i(tr,"FromDefault");function Ete(e,t){return ot(e,"default")?tr(e.default):{}}i(Ete,"FromAny");function Cte(e,t){return{}}i(Cte,"FromArgument");function Ite(e,t){if(e.uniqueItems===!0&&!ot(e,"default"))throw new fo(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!ot(e,"default"))throw new fo(e,"Array with the contains constraint requires a default value");return"default"in e?tr(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Bi(e.items,t)):[]}i(Ite,"FromArray");function Ste(e,t){return ot(e,"default")?tr(e.default):async function*(){}()}i(Ste,"FromAsyncIterator");function wte(e,t){return ot(e,"default")?tr(e.default):BigInt(0)}i(wte,"FromBigInt");function Pte(e,t){return ot(e,"default")?tr(e.default):!1}i(Pte,"FromBoolean");function Rte(e,t){if(ot(e,"default"))return tr(e.default);{let r=Bi(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,o]of Object.entries(r)){let s=this;s[n]=o}}}:class{}}}i(Rte,"FromConstructor");function Dte(e,t){return ot(e,"default")?tr(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}i(Dte,"FromDate");function Ate(e,t){return ot(e,"default")?tr(e.default):()=>Bi(e.returns,t)}i(Ate,"FromFunction");function Nte(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Bi(n,[...t,...r])}i(Nte,"FromImport");function kte(e,t){return ot(e,"default")?tr(e.default):e.minimum!==void 0?e.minimum:0}i(kte,"FromInteger");function Ote(e,t){if(ot(e,"default"))return tr(e.default);{let r=e.allOf.reduce((n,o)=>{let s=Bi(o,t);return typeof s=="object"?{...n,...s}:s},{});if(!wt(e,t,r))throw new fo(e,"Intersect produced invalid value. Consider using a default value.");return r}}i(Ote,"FromIntersect");function Lte(e,t){return ot(e,"default")?tr(e.default):function*(){}()}i(Lte,"FromIterator");function Fte(e,t){return ot(e,"default")?tr(e.default):e.const}i(Fte,"FromLiteral");function Mte(e,t){if(ot(e,"default"))return tr(e.default);throw new fo(e,"Never types cannot be created. Consider using a default value.")}i(Mte,"FromNever");function Ute(e,t){if(ot(e,"default"))return tr(e.default);throw new fo(e,"Not types must have a default value")}i(Ute,"FromNot");function Bte(e,t){return ot(e,"default")?tr(e.default):null}i(Bte,"FromNull");function $te(e,t){return ot(e,"default")?tr(e.default):e.minimum!==void 0?e.minimum:0}i($te,"FromNumber");function jte(e,t){if(ot(e,"default"))return tr(e.default);{let r=new Set(e.required),n={};for(let[o,s]of Object.entries(e.properties))r.has(o)&&(n[o]=Bi(s,t));return n}}i(jte,"FromObject");function qte(e,t){return ot(e,"default")?tr(e.default):Promise.resolve(Bi(e.item,t))}i(qte,"FromPromise");function Wte(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(ot(e,"default"))return tr(e.default);if(r===o0||r===i0)return{};{let o=r.slice(1,r.length-1).split("|"),s={};for(let a of o)s[a]=Bi(n,t);return s}}i(Wte,"FromRecord");function zte(e,t){return ot(e,"default")?tr(e.default):Bi(Qt(e,t),t)}i(zte,"FromRef");function Hte(e,t){if(ot(e,"default"))return tr(e.default);throw new fo(e,"RegExp types cannot be created. Consider using a default value.")}i(Hte,"FromRegExp");function Gte(e,t){if(e.pattern!==void 0){if(ot(e,"default"))return tr(e.default);throw new fo(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(ot(e,"default"))return tr(e.default);throw new fo(e,"String types with formats must specify a default value")}else return ot(e,"default")?tr(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}i(Gte,"FromString");function Vte(e,t){return ot(e,"default")?tr(e.default):"value"in e?Symbol.for(e.value):Symbol()}i(Vte,"FromSymbol");function Kte(e,t){if(ot(e,"default"))return tr(e.default);if(!n5(e))throw new fo(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Qf(e)[0]}i(Kte,"FromTemplateLiteral");function Yte(e,t){if(qA++>nre)throw new fo(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ot(e,"default")?tr(e.default):Bi(Qt(e,t),t)}i(Yte,"FromThis");function Xte(e,t){return ot(e,"default")?tr(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Bi(e.items[n],t))}i(Xte,"FromTuple");function Jte(e,t){if(ot(e,"default"))return tr(e.default)}i(Jte,"FromUndefined");function Zte(e,t){if(ot(e,"default"))return tr(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Bi(e.anyOf[0],t)}i(Zte,"FromUnion");function Qte(e,t){return ot(e,"default")?tr(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}i(Qte,"FromUint8Array");function ere(e,t){return ot(e,"default")?tr(e.default):{}}i(ere,"FromUnknown");function tre(e,t){if(ot(e,"default"))return tr(e.default)}i(tre,"FromVoid");function rre(e,t){if(ot(e,"default"))return tr(e.default);throw new Error("User defined types must specify a default value")}i(rre,"FromKind");function Bi(e,t){let r=kn(e,t),n=e;switch(n[te]){case"Any":return Ete(n,r);case"Argument":return Cte(n,r);case"Array":return Ite(n,r);case"AsyncIterator":return Ste(n,r);case"BigInt":return wte(n,r);case"Boolean":return Pte(n,r);case"Constructor":return Rte(n,r);case"Date":return Dte(n,r);case"Function":return Ate(n,r);case"Import":return Nte(n,r);case"Integer":return kte(n,r);case"Intersect":return Ote(n,r);case"Iterator":return Lte(n,r);case"Literal":return Fte(n,r);case"Never":return Mte(n,r);case"Not":return Ute(n,r);case"Null":return Bte(n,r);case"Number":return $te(n,r);case"Object":return jte(n,r);case"Promise":return qte(n,r);case"Record":return Wte(n,r);case"Ref":return zte(n,r);case"RegExp":return Hte(n,r);case"String":return Gte(n,r);case"Symbol":return Vte(n,r);case"TemplateLiteral":return Kte(n,r);case"This":return Yte(n,r);case"Tuple":return Xte(n,r);case"Undefined":return Jte(n,r);case"Union":return Zte(n,r);case"Uint8Array":return Qte(n,r);case"Unknown":return ere(n,r);case"Void":return tre(n,r);default:if(!vi.Has(n[te]))throw new fo(n,"Unknown type");return rre(n,r)}}i(Bi,"Visit");var nre=512,qA=0;function Ho(...e){return qA=0,e.length===2?Bi(e[0],e[1]):Bi(e[0],[])}i(Ho,"Create");var k5=class extends at{static{i(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function ire(e,t,r){if(e[te]==="Object"&&typeof r=="object"&&!ua(r)){let n=e,o=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[f,u])=>{let d=u[te]==="Literal"&&u.const===r[f]?l:0,p=wt(u,t,r[f])?a:0,m=o.includes(f)?a:0;return c+(d+p+m)},0)}else return wt(e,t,r)?1:0}i(ire,"ScoreUnion");function ore(e,t,r){let n=e.anyOf.map(a=>Qt(a,t)),[o,s]=[n[0],0];for(let a of n){let l=ire(a,t,r);l>s&&(o=a,s=l)}return o}i(ore,"SelectUnion");function sre(e,t,r){if("default"in e)return typeof r=="function"?e.default:er(e.default);{let n=ore(e,t,r);return Xp(n,t,r)}}i(sre,"CastUnion");function are(e,t,r){return wt(e,t,r)?er(r):Ho(e,t)}i(are,"DefaultClone");function lre(e,t,r){return wt(e,t,r)?r:Ho(e,t)}i(lre,"Default");function cre(e,t,r){if(wt(e,t,r))return er(r);let n=st(r)?er(r):Ho(e,t),o=He(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(He(e.maxItems)&&o.length>e.maxItems?o.slice(0,e.maxItems):o).map(c=>Ds(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!wt(e,t,l))throw new k5(e,"Array cast produced invalid data due to uniqueItems constraint");return l}i(cre,"FromArray");function ure(e,t,r){if(wt(e,t,r))return Ho(e,t);let n=new Set(e.returns.required||[]),o=i(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(o.prototype[s]=Ds(a,t,r.prototype[s]));return o}i(ure,"FromConstructor");function fre(e,t,r){let n=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];return Ds(o,[...t,...n],r)}i(fre,"FromImport");function dre(e,t,r){let n=Ho(e,t),o=It(n)&&It(r)?{...n,...r}:r;return wt(e,t,o)?o:Ho(e,t)}i(dre,"FromIntersect");function mre(e,t,r){throw new k5(e,"Never types cannot be cast")}i(mre,"FromNever");function pre(e,t,r){if(wt(e,t,r))return r;if(r===null||typeof r!="object")return Ho(e,t);let n=new Set(e.required||[]),o={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(o[s]=Ds(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(o[a]=Ds(e.additionalProperties,t,r[a]))}return o}i(pre,"FromObject");function gre(e,t,r){if(wt(e,t,r))return er(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Ho(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],o=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Ds(o,t,l);return s}i(gre,"FromRecord");function hre(e,t,r){return Ds(Qt(e,t),t,r)}i(hre,"FromRef");function xre(e,t,r){return Ds(Qt(e,t),t,r)}i(xre,"FromThis");function bre(e,t,r){return wt(e,t,r)?er(r):st(r)?e.items===void 0?[]:e.items.map((n,o)=>Ds(n,t,r[o])):Ho(e,t)}i(bre,"FromTuple");function yre(e,t,r){return wt(e,t,r)?er(r):sre(e,t,r)}i(yre,"FromUnion");function Ds(e,t,r){let n=Vt(e.$id)?kn(e,t):t,o=e;switch(e[te]){case"Array":return cre(o,n,r);case"Constructor":return ure(o,n,r);case"Import":return fre(o,n,r);case"Intersect":return dre(o,n,r);case"Never":return mre(o,n,r);case"Object":return pre(o,n,r);case"Record":return gre(o,n,r);case"Ref":return hre(o,n,r);case"This":return xre(o,n,r);case"Tuple":return bre(o,n,r);case"Union":return yre(o,n,r);case"Date":case"Symbol":case"Uint8Array":return are(e,t,r);default:return lre(o,n,r)}}i(Ds,"Visit");function Xp(...e){return e.length===3?Ds(e[0],e[1],e[2]):Ds(e[0],[],e[1])}i(Xp,"Cast");function _re(e){return bl(e)&&e[te]!=="Unsafe"}i(_re,"IsCheckable");function vre(e,t,r){return st(r)?r.map(n=>$i(e.items,t,n)):r}i(vre,"FromArray");function Tre(e,t,r){let n=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];return $i(o,[...t,...n],r)}i(Tre,"FromImport");function Ere(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>$i(l,t,er(r))).reduce((l,c)=>It(c)?{...l,...c}:c,{});if(!It(r)||!It(s)||!bl(n))return s;let a=Mi(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||wt(n,t,r[l])&&(s[l]=$i(n,t,r[l]));return s}i(Ere,"FromIntersect");function Cre(e,t,r){if(!It(r)||st(r))return r;let n=e.additionalProperties;for(let o of Object.getOwnPropertyNames(r)){if(ot(e.properties,o)){r[o]=$i(e.properties[o],t,r[o]);continue}if(bl(n)&&wt(n,t,r[o])){r[o]=$i(n,t,r[o]);continue}delete r[o]}return r}i(Cre,"FromObject");function Ire(e,t,r){if(!It(r))return r;let n=e.additionalProperties,o=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of o){if(l.test(c)){r[c]=$i(a,t,r[c]);continue}if(bl(n)&&wt(n,t,r[c])){r[c]=$i(n,t,r[c]);continue}delete r[c]}return r}i(Ire,"FromRecord");function Sre(e,t,r){return $i(Qt(e,t),t,r)}i(Sre,"FromRef");function wre(e,t,r){return $i(Qt(e,t),t,r)}i(wre,"FromThis");function Pre(e,t,r){if(!st(r))return r;if(Dr(e.items))return[];let n=Math.min(r.length,e.items.length);for(let o=0;o<n;o++)r[o]=$i(e.items[o],t,r[o]);return r.length>n?r.slice(0,n):r}i(Pre,"FromTuple");function Rre(e,t,r){for(let n of e.anyOf)if(_re(n)&&wt(n,t,r))return $i(n,t,r);return r}i(Rre,"FromUnion");function $i(e,t,r){let n=Vt(e.$id)?kn(e,t):t,o=e;switch(o[te]){case"Array":return vre(o,n,r);case"Import":return Tre(o,n,r);case"Intersect":return Ere(o,n,r);case"Object":return Cre(o,n,r);case"Record":return Ire(o,n,r);case"Ref":return Sre(o,n,r);case"This":return wre(o,n,r);case"Tuple":return Pre(o,n,r);case"Union":return Rre(o,n,r);default:return r}}i($i,"Visit");function O5(...e){return e.length===3?$i(e[0],e[1],e[2]):$i(e[0],[],e[1])}i(O5,"Clean");function L5(e){return Vt(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}i(L5,"IsStringNumeric");function Dre(e){return Wn(e)||n0(e)||He(e)}i(Dre,"IsValueToString");function Jp(e){return e===!0||He(e)&&e===1||Wn(e)&&e===BigInt("1")||Vt(e)&&(e.toLowerCase()==="true"||e==="1")}i(Jp,"IsValueTrue");function Zp(e){return e===!1||He(e)&&(e===0||Object.is(e,-0))||Wn(e)&&e===BigInt("0")||Vt(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}i(Zp,"IsValueFalse");function Are(e){return Vt(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}i(Are,"IsTimeStringWithTimeZone");function Nre(e){return Vt(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}i(Nre,"IsTimeStringWithoutTimeZone");function kre(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}i(kre,"IsDateTimeStringWithTimeZone");function Ore(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}i(Ore,"IsDateTimeStringWithoutTimeZone");function Lre(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}i(Lre,"IsDateString");function Fre(e,t){let r=zA(e);return r===t?r:e}i(Fre,"TryConvertLiteralString");function Mre(e,t){let r=HA(e);return r===t?r:e}i(Mre,"TryConvertLiteralNumber");function Ure(e,t){let r=WA(e);return r===t?r:e}i(Ure,"TryConvertLiteralBoolean");function Bre(e,t){return Vt(e.const)?Fre(t,e.const):He(e.const)?Mre(t,e.const):n0(e.const)?Ure(t,e.const):t}i(Bre,"TryConvertLiteral");function WA(e){return Jp(e)?!0:Zp(e)?!1:e}i(WA,"TryConvertBoolean");function $re(e){let t=i(r=>r.split(".")[0],"truncateInteger");return L5(e)?BigInt(t(e)):He(e)?BigInt(Math.trunc(e)):Zp(e)?BigInt(0):Jp(e)?BigInt(1):e}i($re,"TryConvertBigInt");function zA(e){return fa(e)&&e.description!==void 0?e.description.toString():Dre(e)?e.toString():e}i(zA,"TryConvertString");function HA(e){return L5(e)?parseFloat(e):Jp(e)?1:Zp(e)?0:e}i(HA,"TryConvertNumber");function jre(e){return L5(e)?parseInt(e):He(e)?Math.trunc(e):Jp(e)?1:Zp(e)?0:e}i(jre,"TryConvertInteger");function qre(e){return Vt(e)&&e.toLowerCase()==="null"?null:e}i(qre,"TryConvertNull");function Wre(e){return Vt(e)&&e==="undefined"?void 0:e}i(Wre,"TryConvertUndefined");function zre(e){return _i(e)?e:He(e)?new Date(e):Jp(e)?new Date(1):Zp(e)?new Date(0):L5(e)?new Date(parseInt(e)):Nre(e)?new Date(`1970-01-01T${e}.000Z`):Are(e)?new Date(`1970-01-01T${e}`):Ore(e)?new Date(`${e}.000Z`):kre(e)?new Date(e):Lre(e)?new Date(`${e}T00:00:00.000Z`):e}i(zre,"TryConvertDate");function Hre(e,t,r){return(st(r)?r:[r]).map(o=>As(e.items,t,o))}i(Hre,"FromArray");function Gre(e,t,r){return $re(r)}i(Gre,"FromBigInt");function Vre(e,t,r){return WA(r)}i(Vre,"FromBoolean");function Kre(e,t,r){return zre(r)}i(Kre,"FromDate");function Yre(e,t,r){let n=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];return As(o,[...t,...n],r)}i(Yre,"FromImport");function Xre(e,t,r){return jre(r)}i(Xre,"FromInteger");function Jre(e,t,r){return e.allOf.reduce((n,o)=>As(o,t,n),r)}i(Jre,"FromIntersect");function Zre(e,t,r){return Bre(e,r)}i(Zre,"FromLiteral");function Qre(e,t,r){return qre(r)}i(Qre,"FromNull");function ene(e,t,r){return HA(r)}i(ene,"FromNumber");function tne(e,t,r){if(!It(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))ot(r,n)&&(r[n]=As(e.properties[n],t,r[n]));return r}i(tne,"FromObject");function rne(e,t,r){if(!It(r))return r;let o=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[o];for(let[a,l]of Object.entries(r))r[a]=As(s,t,l);return r}i(rne,"FromRecord");function nne(e,t,r){return As(Qt(e,t),t,r)}i(nne,"FromRef");function ine(e,t,r){return zA(r)}i(ine,"FromString");function one(e,t,r){return Vt(r)||He(r)?Symbol(r):r}i(one,"FromSymbol");function sne(e,t,r){return As(Qt(e,t),t,r)}i(sne,"FromThis");function ane(e,t,r){return st(r)&&!Dr(e.items)?r.map((o,s)=>s<e.items.length?As(e.items[s],t,o):o):r}i(ane,"FromTuple");function lne(e,t,r){return Wre(r)}i(lne,"FromUndefined");function cne(e,t,r){for(let n of e.anyOf){let o=As(n,t,er(r));if(wt(n,t,o))return o}return r}i(cne,"FromUnion");function As(e,t,r){let n=kn(e,t),o=e;switch(e[te]){case"Array":return Hre(o,n,r);case"BigInt":return Gre(o,n,r);case"Boolean":return Vre(o,n,r);case"Date":return Kre(o,n,r);case"Import":return Yre(o,n,r);case"Integer":return Xre(o,n,r);case"Intersect":return Jre(o,n,r);case"Literal":return Zre(o,n,r);case"Null":return Qre(o,n,r);case"Number":return ene(o,n,r);case"Object":return tne(o,n,r);case"Record":return rne(o,n,r);case"Ref":return nne(o,n,r);case"String":return ine(o,n,r);case"Symbol":return one(o,n,r);case"This":return sne(o,n,r);case"Tuple":return ane(o,n,r);case"Undefined":return lne(o,n,r);case"Union":return cne(o,n,r);default:return r}}i(As,"Visit");function F5(...e){return e.length===3?As(e[0],e[1],e[2]):As(e[0],[],e[1])}i(F5,"Convert");var pd=class extends at{static{i(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},u6=class extends at{static{i(this,"TransformDecodeError")}constructor(t,r,n,o){super(o instanceof Error?o.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=o}};function qr(e,t,r){try{return rr(e)?e[$r].Decode(r):r}catch(n){throw new u6(e,t,r,n)}}i(qr,"Default");function une(e,t,r,n){return st(n)?qr(e,r,n.map((o,s)=>Ns(e.items,t,`${r}/${s}`,o))):qr(e,r,n)}i(une,"FromArray");function fne(e,t,r,n){if(!It(n)||io(n))return qr(e,r,n);let o=l5(e),s=o.map(u=>u[0]),a={...n};for(let[u,d]of o)u in a&&(a[u]=Ns(d,t,`${r}/${u}`,a[u]));if(!rr(e.unevaluatedProperties))return qr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,f={...a};for(let u of l)s.includes(u)||(f[u]=qr(c,`${r}/${u}`,f[u]));return qr(e,r,f)}i(fne,"FromIntersect");function dne(e,t,r,n){let o=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Ns(s,[...t,...o],r,n);return qr(e,r,a)}i(dne,"FromImport");function mne(e,t,r,n){return qr(e,r,Ns(e.not,t,r,n))}i(mne,"FromNot");function pne(e,t,r,n){if(!It(n))return qr(e,r,n);let o=Mi(e),s={...n};for(let f of o)ot(s,f)&&(Dr(s[f])&&(!pa(e.properties[f])||Ir.IsExactOptionalProperty(s,f))||(s[f]=Ns(e.properties[f],t,`${r}/${f}`,s[f])));if(!jr(e.additionalProperties))return qr(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let f of a)o.includes(f)||(c[f]=qr(l,`${r}/${f}`,c[f]));return qr(e,r,c)}i(pne,"FromObject");function gne(e,t,r,n){if(!It(n))return qr(e,r,n);let o=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(o),a={...n};for(let u of Object.getOwnPropertyNames(n))s.test(u)&&(a[u]=Ns(e.patternProperties[o],t,`${r}/${u}`,a[u]));if(!jr(e.additionalProperties))return qr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,f={...a};for(let u of l)s.test(u)||(f[u]=qr(c,`${r}/${u}`,f[u]));return qr(e,r,f)}i(gne,"FromRecord");function hne(e,t,r,n){let o=Qt(e,t);return qr(e,r,Ns(o,t,r,n))}i(hne,"FromRef");function xne(e,t,r,n){let o=Qt(e,t);return qr(e,r,Ns(o,t,r,n))}i(xne,"FromThis");function bne(e,t,r,n){return st(n)&&st(e.items)?qr(e,r,e.items.map((o,s)=>Ns(o,t,`${r}/${s}`,n[s]))):qr(e,r,n)}i(bne,"FromTuple");function yne(e,t,r,n){for(let o of e.anyOf){if(!wt(o,t,n))continue;let s=Ns(o,t,r,n);return qr(e,r,s)}return qr(e,r,n)}i(yne,"FromUnion");function Ns(e,t,r,n){let o=kn(e,t),s=e;switch(e[te]){case"Array":return une(s,o,r,n);case"Import":return dne(s,o,r,n);case"Intersect":return fne(s,o,r,n);case"Not":return mne(s,o,r,n);case"Object":return pne(s,o,r,n);case"Record":return gne(s,o,r,n);case"Ref":return hne(s,o,r,n);case"Symbol":return qr(s,r,n);case"This":return xne(s,o,r,n);case"Tuple":return bne(s,o,r,n);case"Union":return yne(s,o,r,n);default:return qr(s,r,n)}}i(Ns,"Visit");function gd(e,t,r){return Ns(e,t,"",r)}i(gd,"TransformDecode");var hd=class extends at{static{i(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},f6=class extends at{static{i(this,"TransformEncodeError")}constructor(t,r,n,o){super(`${o instanceof Error?o.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=o}};function Hn(e,t,r){try{return rr(e)?e[$r].Encode(r):r}catch(n){throw new f6(e,t,r,n)}}i(Hn,"Default");function _ne(e,t,r,n){let o=Hn(e,r,n);return st(o)?o.map((s,a)=>ks(e.items,t,`${r}/${a}`,s)):o}i(_ne,"FromArray");function vne(e,t,r,n){let o=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Hn(e,r,n);return ks(s,[...t,...o],r,a)}i(vne,"FromImport");function Tne(e,t,r,n){let o=Hn(e,r,n);if(!It(n)||io(n))return o;let s=l5(e),a=s.map(d=>d[0]),l={...o};for(let[d,p]of s)d in l&&(l[d]=ks(p,t,`${r}/${d}`,l[d]));if(!rr(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),f=e.unevaluatedProperties,u={...l};for(let d of c)a.includes(d)||(u[d]=Hn(f,`${r}/${d}`,u[d]));return u}i(Tne,"FromIntersect");function Ene(e,t,r,n){return Hn(e.not,r,Hn(e,r,n))}i(Ene,"FromNot");function Cne(e,t,r,n){let o=Hn(e,r,n);if(!It(o))return o;let s=Mi(e),a={...o};for(let u of s)ot(a,u)&&(Dr(a[u])&&(!pa(e.properties[u])||Ir.IsExactOptionalProperty(a,u))||(a[u]=ks(e.properties[u],t,`${r}/${u}`,a[u])));if(!jr(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,f={...a};for(let u of l)s.includes(u)||(f[u]=Hn(c,`${r}/${u}`,f[u]));return f}i(Cne,"FromObject");function Ine(e,t,r,n){let o=Hn(e,r,n);if(!It(n))return o;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...o};for(let d of Object.getOwnPropertyNames(n))a.test(d)&&(l[d]=ks(e.patternProperties[s],t,`${r}/${d}`,l[d]));if(!jr(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),f=e.additionalProperties,u={...l};for(let d of c)a.test(d)||(u[d]=Hn(f,`${r}/${d}`,u[d]));return u}i(Ine,"FromRecord");function Sne(e,t,r,n){let o=Qt(e,t),s=ks(o,t,r,n);return Hn(e,r,s)}i(Sne,"FromRef");function wne(e,t,r,n){let o=Qt(e,t),s=ks(o,t,r,n);return Hn(e,r,s)}i(wne,"FromThis");function Pne(e,t,r,n){let o=Hn(e,r,n);return st(e.items)?e.items.map((s,a)=>ks(s,t,`${r}/${a}`,o[a])):[]}i(Pne,"FromTuple");function Rne(e,t,r,n){for(let o of e.anyOf){if(!wt(o,t,n))continue;let s=ks(o,t,r,n);return Hn(e,r,s)}for(let o of e.anyOf){let s=ks(o,t,r,n);if(wt(e,t,s))return Hn(e,r,s)}return Hn(e,r,n)}i(Rne,"FromUnion");function ks(e,t,r,n){let o=kn(e,t),s=e;switch(e[te]){case"Array":return _ne(s,o,r,n);case"Import":return vne(s,o,r,n);case"Intersect":return Tne(s,o,r,n);case"Not":return Ene(s,o,r,n);case"Object":return Cne(s,o,r,n);case"Record":return Ine(s,o,r,n);case"Ref":return Sne(s,o,r,n);case"This":return wne(s,o,r,n);case"Tuple":return Pne(s,o,r,n);case"Union":return Rne(s,o,r,n);default:return Hn(s,r,n)}}i(ks,"Visit");function xd(e,t,r){return ks(e,t,"",r)}i(xd,"TransformEncode");function Dne(e,t){return rr(e)||In(e.items,t)}i(Dne,"FromArray");function Ane(e,t){return rr(e)||In(e.items,t)}i(Ane,"FromAsyncIterator");function Nne(e,t){return rr(e)||In(e.returns,t)||e.parameters.some(r=>In(r,t))}i(Nne,"FromConstructor");function kne(e,t){return rr(e)||In(e.returns,t)||e.parameters.some(r=>In(r,t))}i(kne,"FromFunction");function One(e,t){return rr(e)||rr(e.unevaluatedProperties)||e.allOf.some(r=>In(r,t))}i(One,"FromIntersect");function Lne(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((o,s)=>[...o,e.$defs[s]],[]),n=e.$defs[e.$ref];return rr(e)||In(n,[...r,...t])}i(Lne,"FromImport");function Fne(e,t){return rr(e)||In(e.items,t)}i(Fne,"FromIterator");function Mne(e,t){return rr(e)||In(e.not,t)}i(Mne,"FromNot");function Une(e,t){return rr(e)||Object.values(e.properties).some(r=>In(r,t))||jr(e.additionalProperties)&&In(e.additionalProperties,t)}i(Une,"FromObject");function Bne(e,t){return rr(e)||In(e.item,t)}i(Bne,"FromPromise");function $ne(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return rr(e)||In(n,t)||jr(e.additionalProperties)&&rr(e.additionalProperties)}i($ne,"FromRecord");function jne(e,t){return rr(e)?!0:In(Qt(e,t),t)}i(jne,"FromRef");function qne(e,t){return rr(e)?!0:In(Qt(e,t),t)}i(qne,"FromThis");function Wne(e,t){return rr(e)||!Dr(e.items)&&e.items.some(r=>In(r,t))}i(Wne,"FromTuple");function zne(e,t){return rr(e)||e.anyOf.some(r=>In(r,t))}i(zne,"FromUnion");function In(e,t){let r=kn(e,t),n=e;if(e.$id&&d6.has(e.$id))return!1;switch(e.$id&&d6.add(e.$id),e[te]){case"Array":return Dne(n,r);case"AsyncIterator":return Ane(n,r);case"Constructor":return Nne(n,r);case"Function":return kne(n,r);case"Import":return Lne(n,r);case"Intersect":return One(n,r);case"Iterator":return Fne(n,r);case"Not":return Mne(n,r);case"Object":return Une(n,r);case"Promise":return Bne(n,r);case"Record":return $ne(n,r);case"Ref":return jne(n,r);case"This":return qne(n,r);case"Tuple":return Wne(n,r);case"Union":return zne(n,r);default:return rr(e)}}i(In,"Visit");var d6=new Set;function _a(e,t){return d6.clear(),In(e,t)}i(_a,"HasTransform");function GA(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!wt(t,r,n))throw new pd(t,n,u0(t,r,n).First());return _a(t,r)?gd(t,r,n):n}i(GA,"Decode");function va(e,t){let r=ot(e,"default")?e.default:void 0,n=hl(r)?r():er(r);return Dr(t)?n:It(t)&&It(n)?Object.assign(n,t):t}i(va,"ValueOrDefault");function m6(e){return bl(e)&&"default"in e}i(m6,"HasDefaultProperty");function Hne(e,t,r){if(st(r)){for(let o=0;o<r.length;o++)r[o]=Ci(e.items,t,r[o]);return r}let n=va(e,r);if(!st(n))return n;for(let o=0;o<n.length;o++)n[o]=Ci(e.items,t,n[o]);return n}i(Hne,"FromArray");function Gne(e,t,r){return _i(r)?r:va(e,r)}i(Gne,"FromDate");function Vne(e,t,r){let n=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];return Ci(o,[...t,...n],r)}i(Vne,"FromImport");function Kne(e,t,r){let n=va(e,r);return e.allOf.reduce((o,s)=>{let a=Ci(s,t,n);return It(a)?{...o,...a}:a},{})}i(Kne,"FromIntersect");function Yne(e,t,r){let n=va(e,r);if(!It(n))return n;let o=Object.getOwnPropertyNames(e.properties);for(let s of o){let a=Ci(e.properties[s],t,n[s]);Dr(a)||(n[s]=Ci(e.properties[s],t,n[s]))}if(!m6(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))o.includes(s)||(n[s]=Ci(e.additionalProperties,t,n[s]));return n}i(Yne,"FromObject");function Xne(e,t,r){let n=va(e,r);if(!It(n))return n;let o=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&m6(a)&&(n[c]=Ci(a,t,n[c]));if(!m6(o))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=Ci(o,t,n[c]));return n}i(Xne,"FromRecord");function Jne(e,t,r){return Ci(Qt(e,t),t,va(e,r))}i(Jne,"FromRef");function Zne(e,t,r){return Ci(Qt(e,t),t,r)}i(Zne,"FromThis");function Qne(e,t,r){let n=va(e,r);if(!st(n)||Dr(e.items))return n;let[o,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<o.length&&(n[a]=Ci(o[a],t,n[a]));return n}i(Qne,"FromTuple");function eie(e,t,r){let n=va(e,r);for(let o of e.anyOf){let s=Ci(o,t,er(n));if(wt(o,t,s))return s}return n}i(eie,"FromUnion");function Ci(e,t,r){let n=kn(e,t),o=e;switch(o[te]){case"Array":return Hne(o,n,r);case"Date":return Gne(o,n,r);case"Import":return Vne(o,n,r);case"Intersect":return Kne(o,n,r);case"Object":return Yne(o,n,r);case"Record":return Xne(o,n,r);case"Ref":return Jne(o,n,r);case"This":return Zne(o,n,r);case"Tuple":return Qne(o,n,r);case"Union":return eie(o,n,r);default:return va(o,r)}}i(Ci,"Visit");function M5(...e){return e.length===3?Ci(e[0],e[1],e[2]):Ci(e[0],[],e[1])}i(M5,"Default");var Os={};Qs(Os,{Delete:()=>rie,Format:()=>Qp,Get:()=>iie,Has:()=>nie,Set:()=>tie,ValuePointerRootDeleteError:()=>B5,ValuePointerRootSetError:()=>U5});var U5=class extends at{static{i(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},B5=class extends at{static{i(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function VA(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}i(VA,"Escape");function*Qp(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield VA(e.slice(t,r))),t=n+1):r=n;yield VA(e.slice(t))}i(Qp,"Format");function tie(e,t,r){if(t==="")throw new U5(e,t,r);let[n,o,s]=[null,e,""];for(let a of Qp(t))o[a]===void 0&&(o[a]={}),n=o,o=o[a],s=a;n[s]=r}i(tie,"Set");function rie(e,t){if(t==="")throw new B5(e,t);let[r,n,o]=[null,e,""];for(let s of Qp(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],o=s}if(Array.isArray(r)){let s=parseInt(o);r.splice(s,1)}else delete r[o]}i(rie,"Delete");function nie(e,t){if(t==="")return!0;let[r,n,o]=[null,e,""];for(let s of Qp(t)){if(n[s]===void 0)return!1;r=n,n=n[s],o=s}return Object.getOwnPropertyNames(r).includes(o)}i(nie,"Has");function iie(e,t){if(t==="")return e;let r=e;for(let n of Qp(t)){if(r[n]===void 0)return;r=r[n]}return r}i(iie,"Get");function oie(e,t){if(!It(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(o=>iu(e[o],t[o]))}i(oie,"ObjectType");function sie(e,t){return _i(t)&&e.getTime()===t.getTime()}i(sie,"DateType");function aie(e,t){return!st(t)||e.length!==t.length?!1:e.every((r,n)=>iu(r,t[n]))}i(aie,"ArrayType");function lie(e,t){return!Mo(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>iu(r,t[n]))}i(lie,"TypedArrayType");function cie(e,t){return e===t}i(cie,"ValueType");function iu(e,t){if(_i(e))return sie(e,t);if(Mo(e))return lie(e,t);if(st(e))return aie(e,t);if(It(e))return oie(e,t);if(io(e))return cie(e,t);throw new Error("ValueEquals: Unable to compare value")}i(iu,"Equal");var uie=ir({type:zt("insert"),path:Ti(),value:Ss()}),fie=ir({type:zt("update"),path:Ti(),value:Ss()}),die=ir({type:zt("delete"),path:Ti()}),YA=nr([uie,fie,die]),$5=class extends at{static{i(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function j5(e,t){return{type:"update",path:e,value:t}}i(j5,"CreateUpdate");function XA(e,t){return{type:"insert",path:e,value:t}}i(XA,"CreateInsert");function JA(e){return{type:"delete",path:e}}i(JA,"CreateDelete");function KA(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new $5(e,"Cannot diff objects with symbols")}i(KA,"AssertDiffable");function*mie(e,t,r){if(KA(t),KA(r),!p_(r))return yield j5(e,r);let n=globalThis.Object.getOwnPropertyNames(t),o=globalThis.Object.getOwnPropertyNames(r);for(let s of o)ot(t,s)||(yield XA(`${e}/${s}`,r[s]));for(let s of n)ot(r,s)&&(iu(t,r)||(yield*q5(`${e}/${s}`,t[s],r[s])));for(let s of n)ot(r,s)||(yield JA(`${e}/${s}`))}i(mie,"ObjectType");function*pie(e,t,r){if(!st(r))return yield j5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*q5(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield XA(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield JA(`${e}/${n}`))}i(pie,"ArrayType");function*gie(e,t,r){if(!Mo(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield j5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*q5(`${e}/${n}`,t[n],r[n])}i(gie,"TypedArrayType");function*hie(e,t,r){t!==r&&(yield j5(e,r))}i(hie,"ValueType");function*q5(e,t,r){if(p_(t))return yield*mie(e,t,r);if(st(t))return yield*pie(e,t,r);if(Mo(t))return yield*gie(e,t,r);if(io(t))return yield*hie(e,t,r);throw new $5(t,"Unable to diff value")}i(q5,"Visit");function ZA(e,t){return[...q5("",e,t)]}i(ZA,"Diff");function xie(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}i(xie,"IsRootUpdate");function bie(e){return e.length===0}i(bie,"IsIdentity");function QA(e,t){if(xie(t))return er(t[0].value);if(bie(t))return er(e);let r=er(e);for(let n of t)switch(n.type){case"insert":{Os.Set(r,n.path,n.value);break}case"update":{Os.Set(r,n.path,n.value);break}case"delete":{Os.Delete(r,n.path);break}}return r}i(QA,"Patch");function eN(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],o=_a(t,r)?xd(t,r,n):n;if(!wt(t,r,o))throw new hd(t,o,u0(t,r,o).First());return o}i(eN,"Encode");function W5(e){return It(e)&&!st(e)}i(W5,"IsStandardObject");var z5=class extends at{static{i(this,"ValueMutateError")}constructor(t){super(t)}};function yie(e,t,r,n){if(!W5(r))Os.Set(e,t,er(n));else{let o=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of o)s.includes(a)||delete r[a];for(let a of s)o.includes(a)||(r[a]=null);for(let a of s)p6(e,`${t}/${a}`,r[a],n[a])}}i(yie,"ObjectType");function _ie(e,t,r,n){if(!st(r))Os.Set(e,t,er(n));else{for(let o=0;o<n.length;o++)p6(e,`${t}/${o}`,r[o],n[o]);r.splice(n.length)}}i(_ie,"ArrayType");function vie(e,t,r,n){if(Mo(r)&&r.length===n.length)for(let o=0;o<r.length;o++)r[o]=n[o];else Os.Set(e,t,er(n))}i(vie,"TypedArrayType");function Tie(e,t,r,n){r!==n&&Os.Set(e,t,n)}i(Tie,"ValueType");function p6(e,t,r,n){if(st(n))return _ie(e,t,r,n);if(Mo(n))return vie(e,t,r,n);if(W5(n))return yie(e,t,r,n);if(io(n))return Tie(e,t,r,n)}i(p6,"Visit");function tN(e){return Mo(e)||io(e)}i(tN,"IsNonMutableValue");function Eie(e,t){return W5(e)&&st(t)||st(e)&&W5(t)}i(Eie,"IsMismatchedValue");function rN(e,t){if(tN(e)||tN(t))throw new z5("Only object and array types can be mutated at the root level");if(Eie(e,t))throw new z5("Cannot assign due type mismatch of assignable values");p6(e,"",e,t)}i(rN,"Mutate");var H5=class extends at{static{i(this,"ParseError")}constructor(t){super(t)}},g6;(function(e){let t=new Map([["Assert",(s,a,l)=>(N5(s,a,l),l)],["Cast",(s,a,l)=>Xp(s,a,l)],["Clean",(s,a,l)=>O5(s,a,l)],["Clone",(s,a,l)=>er(l)],["Convert",(s,a,l)=>F5(s,a,l)],["Decode",(s,a,l)=>_a(s,a)?gd(s,a,l):l],["Default",(s,a,l)=>M5(s,a,l)],["Encode",(s,a,l)=>_a(s,a)?xd(s,a,l):l]]);function r(s){t.delete(s)}i(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}i(n,"Set"),e.Set=n;function o(s){return t.get(s)}i(o,"Get"),e.Get=o})(g6||(g6={}));var nN=["Clone","Clean","Default","Convert","Assert","Decode"];function Cie(e,t,r,n){return e.reduce((o,s)=>{let a=g6.Get(s);if(Dr(a))throw new H5(`Unable to find Parse operation '${s}'`);return a(t,r,o)},n)}i(Cie,"ParseValue");function iN(...e){let[t,r,n,o]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?st(e[0])?[e[0],e[1],[],e[2]]:[nN,e[0],e[1],e[2]]:e.length===2?[nN,e[0],[],e[1]]:(()=>{throw new H5("Invalid Arguments")})();return Cie(t,r,n,o)}i(iN,"Parse");var f0={};Qs(f0,{Assert:()=>N5,Cast:()=>Xp,Check:()=>wt,Clean:()=>O5,Clone:()=>er,Convert:()=>F5,Create:()=>Ho,Decode:()=>GA,Default:()=>M5,Diff:()=>ZA,Edit:()=>YA,Encode:()=>eN,Equal:()=>iu,Errors:()=>u0,Hash:()=>Il,Mutate:()=>rN,Parse:()=>iN,Patch:()=>QA,ValueErrorIterator:()=>Sl});var Iie="gpt-4o-copilot",d0=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Kr(this._ctx,n=>this.refreshAvailableModels(n))}static{i(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Iie}parseModelsResponse(t){try{return f0.Parse(xA,t)}catch(r){Ft.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",await this.fetch()}async fetch(){let t=await l_(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Ft.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}getTokenizerForModel(t){let n=this.getGenericCompletionModels().find(o=>o.modelId===t);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=Kp(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Ft.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let o=Jt(this._ctx,Te.DebugOverrideEngine)||Jt(this._ctx,Te.DebugOverrideEngineLegacy);if(o)return new wl(o,"override");let s=t?this._ctx.get(qe).customEngine(t):"",a=t?this._ctx.get(qe).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new wl(s,"exp"):new wl(n,"modelpicker"):s?new wl(s,"exp"):this.customModels.length>0?new wl(this.customModels[0],"custommodel"):new wl(r,"default")}},wl=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{i(this,"ModelRequestInfo")}get headers(){return{}}};function bd(e,t=void 0){let r=e.get(d0),n=r.getCurrentModelRequestInfo(t),o=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:o}}i(bd,"getEngineRequestInfo");var Zr=class{static{i(this,"FileSystem")}};var TN=yt(vN());function EN(e){if(e===void 0||e===0)return"";let t=e1(e);if(t==="github/github")return t;let r=Jie(e)?.toLowerCase();return r!==void 0?r:""}i(EN,"getDogFood");function e1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}i(e1,"tryGetGitHubNWO");function Jie(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}i(Jie,"tryGetADONWO");function yd(e,t){let r=aa(t);return Zie(e,r)}i(yd,"extractRepoInfoInBackground");var Zie=noe(Qie,1e4);async function Qie(e,t){let r=Gw(t);if(!r)return;let n=await toe(e,r);if(!n)return;let o=e.get(Zr),s=Nn(n,".git","config"),a;try{a=await o.readFileString(s)}catch{return}let l=roe(a)??"",c=eoe(l),f={uri:n};return c===void 0?{baseFolder:f,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:f,url:l,...c}}i(Qie,"extractRepoInfo");function eoe(e){let t;try{if(t=(0,TN.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}i(eoe,"parseRepoUrl");async function toe(e,t){let r=t+"_add_to_make_longer",n=e.get(Zr);for(;t!=="file:///"&&t.length<r.length;){let o=Nn(t,".git","config"),s=!1;try{await n.stat(o),s=!0}catch{s=!1}if(s)return t;r=t,t=aa(t)}}i(toe,"getRepoBaseUri");function roe(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,o=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let f=c.match(t)??c.match(r);if(f)a=f[1];else if(c.match(o))a=void 0;else{if(s&&a!=="origin")continue;{let u=c.match(n);if(u){if(s=u[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}i(roe,"getRepoUrlFromConfigText");var b6=class{static{i(this,"CompletedComputation")}constructor(t){this.result=t}};function noe(e,t){let r=new Gt(t),n=new Set;return(o,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(o,...s);return n.add(a),c.then(f=>{r.set(a,new b6(f)),n.delete(a)}),0}}i(noe,"computeInBackgroundAndMemoize");var t1=500,CN=8192-t1,IN=4,_d=10,SN=15,wN=35,ioe={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function r1(e){return e=e.toLowerCase(),ioe[e]??e}i(r1,"normalizeLanguageId");var y6=class{constructor(t){this.ctx=t;this.cache=new Gt(200)}static{i(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t,r){let n=t.stringify()+`
`+JSON.stringify(r),o=this.cache.get(n);return o||(o=new _6(()=>this.ctx.get(Bc).fetchExperiments(this.ctx,r,t.toHeaders()),1e3*60*60),this.cache.set(n,o)),o.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},_6=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{i(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function soe(e){return"uri"in e}i(soe,"isCompletionsFiltersInfo");var qe=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new y6(this.ctx)}static{i(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=Qe.createAndMarkAsIssued(),n=void 0){if(r instanceof n1)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let o=t&&soe(t)?yd(this.ctx,t.uri):void 0,s=e1(o)??"",a=EN(o)??"",l=t?.languageId??"",c=bd(this.ctx).modelId;n??=await this.ctx.get(Cr).getToken();let f=vS(n),u=n.getTokenValue("ft")??"",d=n.getTokenValue("ol")??"",p=n.getTokenValue("cml")??"",m=n.getTokenValue("tid")??"",g=n.endpoints,h={"X-Copilot-Repository":s,"X-Copilot-FileType":l,"X-Copilot-UserKind":f,"X-Copilot-Dogfood":a,"X-Copilot-Engine":c,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":d,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":m},b=this.getGranularityDirectory(),x=this.makeFilterSettings(h),y=b.extendFilters(x),T=await this.getExpConfig(y.newFilterSettings,g);b.update(x,+(T.variables.copilotbycallbuckets??NaN),+(T.variables.copilottimeperiodsizeinh??NaN));let _=b.extendFilters(x),I=_.newFilterSettings,w=await this.getExpConfig(I,g),j=new Promise(V=>setTimeout(V,e.upcomingDynamicFilterCheckDelayMs));for(let V of _.otherFilterSettingsToPrefetch)j=j.then(async()=>{await new Promise(G=>setTimeout(G,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(V,g)});return this.prepareForUpcomingFilters(I,g),new n1(r.properties,r.measurements,r.issuedTime,{filters:I,exp:w})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(dn).machineId;this.granularityDirectory=new w2(t,this.ctx.get(Fc))}return this.granularityDirectory}makeFilterSettings(t){return new $c({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t,r){try{return this.assignments.fetchExpConfig(t,r)}catch(n){return hs.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(t,r){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[n,o]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(n,o()),r)}stringify(){let t=this.assignments.getCachedExpConfig(new $c({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=A2(this.ctx),n=await this.getExpConfig(t,r);return{filters:t,exp:n}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??SN}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??_d}cppHeadersEnableSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(t){return t.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??CN+t1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(t){return t.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextPercent(t){return t.filtersAndExp.exp.variables.copilotworkspacecontextpercent??wN}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(t){return t.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(t){return t.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(t){return t.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}multilineAfterAcceptLines(t){return t.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(t){return t.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(t){return t.filtersAndExp.exp.variables.copilotcompletionsdelay??0}singleLineUnlessAccepted(t){return t.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}};var K5=yt(V5());var T6={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function m0(e){return e in T6&&e!=="csharp"&&e!=="java"&&e!=="php"&&e!=="c"&&e!=="cpp"}i(m0,"isSupportedLanguageId");function Y5(e){if(!(e in T6))throw new Error(`Unrecognized language: ${e}`);return T6[e]}i(Y5,"languageIdToWasmLanguage");var v6=new Map;async function aoe(e){let t;try{t=await T5(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new ud(`Could not load tree-sitter-${e}.wasm`,r):r}return K5.default.Language.load(t)}i(aoe,"loadWasmLanguage");function C6(e){let t=Y5(e);if(!v6.has(t)){let r=aoe(t);v6.set(t,r)}return v6.get(t)}i(C6,"getLanguage");var E6=class extends Error{static{i(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function ou(e,t){await K5.default.init({locateFile:i(s=>bA(s),"locateFile")});let r;try{r=new K5.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new E6(`Could not init Parse for language <${e}>`,s):s}let n=await C6(e);r.setLanguage(n);let o=r.parse(t);return r.delete(),o}i(ou,"parseTreeSitter");function PN(e){switch(Y5(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":case"cpp":return"}";case"ruby":return"end"}}i(PN,"getBlockCloseToken");function loe(e,t){let r=[];for(let n of e){if(!n[1]){let o=t.tree.getLanguage();n[1]=o.query(n[0])}r.push(...n[1].matches(t))}return r}i(loe,"innerQuery");var coe=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function RN(e){return loe([coe],e).length==1}i(RN,"queryPythonIsDocstring");var p0=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{i(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(o=>{n.push(o.dump(`${r}+- `,o.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let o=this.parent.dumpPath(t,r,!0),s=o.length-o.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return o+this.description+l}else{let o=n?`
${r}+- `:"";return t+this.description+o}}},si=class{constructor(t,r,n,o){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=o;this.statements=[]}static{i(this,"StatementTree")}static isSupported(t){return i1.languageIds.has(t)||o1.languageIds.has(t)||s1.languageIds.has(t)||a1.languageIds.has(t)||l1.languageIds.has(t)||c1.languageIds.has(t)||u1.languageIds.has(t)||f1.languageIds.has(t)}static create(t,r,n,o){if(i1.languageIds.has(t))return new i1(t,r,n,o);if(o1.languageIds.has(t))return new o1(t,r,n,o);if(s1.languageIds.has(t))return new s1(t,r,n,o);if(c1.languageIds.has(t))return new c1(t,r,n,o);if(a1.languageIds.has(t))return new a1(t,r,n,o);if(l1.languageIds.has(t))return new l1(t,r,n,o);if(u1.languageIds.has(t))return new u1(t,r,n,o);if(f1.languageIds.has(t))return new f1(t,r,n,o);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(o=>{let s=this.createNode(o.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(o=>o.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await ou(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,o=r[r.length-1].length;return{row:n,column:o}}dump(t=""){let r=[];return this.statements.forEach((n,o)=>{let s=`[${o}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},I6=class e extends p0{static{i(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},i1=class extends si{static{i(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new I6(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},S6=class e extends p0{static{i(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},o1=class extends si{static{i(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new S6(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},w6=class e extends p0{static{i(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},s1=class extends si{static{i(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new w6(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},P6=class e extends p0{static{i(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},a1=class extends si{static{i(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new P6(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},R6=class e extends p0{static{i(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},l1=class extends si{static{i(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(t){return new R6(t)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},D6=class e extends p0{static{i(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},c1=class extends si{static{i(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(t){return new D6(t)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},A6=class e extends p0{static{i(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},u1=class extends si{static{i(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(t){return new A6(t)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},N6=class e extends p0{static{i(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},f1=class extends si{static{i(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(t){return new N6(t)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};function uoe(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}i(uoe,"getProxyFromEnvironment");function foe(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}i(foe,"getRejectUnauthorizedFromEnvironment");var NHe=k.Object({proxy:k.Optional(k.String()),proxyStrictSSL:k.Optional(k.Boolean()),proxyAuthorization:k.Optional(k.String()),proxyKerberosServicePrincipal:k.Optional(k.String())});function DN(e){let t=uoe(e),r=X5({proxy:t,proxyStrictSSL:foe(e)}),n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}i(DN,"getHttpSettingsFromEnvironment");function X5(e){if(!e.proxy)return{...e,proxy:""};try{let{protocol:t,host:r,username:n,password:o,pathname:s,search:a,hash:l}=new URL(e.proxy);return{...e,proxy:`${t}//${r}${s}${a}${l}`,proxyAuthorization:e.proxyAuthorization||doe(n,o)}}catch{return{...e,proxy:""}}}i(X5,"normalizeHttpSettings");function doe(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}i(doe,"getAuth");var Voe=yt(d1());var su={};Qs(su,{activationEvents:()=>Uoe,badges:()=>Moe,browser:()=>Boe,bugs:()=>Roe,build:()=>Eoe,buildType:()=>Coe,categories:()=>Loe,contributes:()=>O6,default:()=>Goe,dependencies:()=>zoe,description:()=>voe,devDependencies:()=>Woe,displayName:()=>_oe,enabledApiProposals:()=>joe,engines:()=>Ooe,extensionPack:()=>koe,homepage:()=>woe,icon:()=>Aoe,keywords:()=>Foe,license:()=>Poe,main:()=>$oe,name:()=>yoe,overrides:()=>Hoe,preview:()=>Soe,pricing:()=>Noe,publisher:()=>Ioe,qna:()=>Doe,scripts:()=>qoe,version:()=>Toe});var yoe="copilot",_oe="GitHub Copilot",voe="Your AI pair programmer",Toe="1.350.0",Eoe="1705",Coe="prod",Ioe="GitHub",Soe=!1,woe="https://github.com/features/copilot?editor=vscode",Poe="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Roe={url:"https://github.com/microsoft/vscode/issues"},Doe="https://github.com/github-community/community/discussions/categories/copilot",Aoe="assets/Copilot-App-Icon.png",Noe="Trial",koe=["GitHub.copilot-chat","GitHub.copilot"],Ooe={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Loe=["AI","Chat","Programming Languages","Machine Learning"],Foe=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Moe=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],Uoe=["onStartupFinished"],Boe="./dist/web",$oe="./dist/extension",joe=["inlineCompletionsAdditions"],O6={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},qoe={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Woe={"@azure/identity":"^4.10.1","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.15.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.6.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.0",electron:"^28.1.4",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},zoe={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Hoe={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Goe={name:yoe,displayName:_oe,description:voe,version:Toe,build:Eoe,buildType:Coe,publisher:Ioe,preview:Soe,homepage:woe,license:Poe,bugs:Roe,qna:Doe,icon:Aoe,pricing:Noe,extensionPack:koe,engines:Ooe,categories:Loe,keywords:Foe,badges:Moe,activationEvents:Uoe,browser:Boe,main:$oe,enabledApiProposals:joe,contributes:O6,scripts:qoe,devDependencies:Woe,dependencies:zoe,overrides:Hoe};var Te={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",CompletionsDelay:"internal.completionsDelay",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",CompletionsDebounce:"internal.completionsDebounce",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};function qN(e){return["server","parsingandserver"].includes(e)}i(qN,"shouldDoServerTrimming");var au=class{static{i(this,"BlockModeConfig")}},Q5=class extends au{static{i(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let o=t.get(qe).overrideBlockMode(n);if(o)return jN(o,r);let s=t.get(qe).enableProgressiveReveal(n);return Jt(t,Te.AlwaysRequestMultiline)??s?jN("moremultiline",r):r=="ruby"?"parsing":m0(r)?"parsingandserver":"server"}};function Koe(e){return["parsing","parsingandserver","moremultiline"].includes(e)}i(Koe,"blockModeRequiresTreeSitter");function jN(e,t){return e==="moremultiline"&&si.isSupported(t)?e:Koe(e)&&!m0(t)?"server":e}i(jN,"toApplicableBlockMode");var Ls=class{static{i(this,"ConfigProvider")}};function Yoe(e){return e?.type==="object"&&"properties"in e}i(Yoe,"isContributesObject");function L6(e,t){let r=e,n=[];for(let o of t.split(".")){let s=[...n,o].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(o)}if(!(r===void 0||n.length>0))return r}i(L6,"getConfigKeyRecursively");function WN(e){if(Td.has(e))return Td.get(e);throw new Error(`Missing config default value: ${Hr}.${e}`)}i(WN,"getConfigDefaultForKey");function zN(e){return Td.get(e)}i(zN,"getOptionalConfigDefaultForKey");var Td=new Map([[Te.DebugOverrideCppHeadersEnableSwitch,!1],[Te.RelatedFilesVSCodeCSharp,!1],[Te.RelatedFilesVSCodeTypeScript,!1],[Te.RelatedFilesVSCode,!1],[Te.IncludeNeighboringFiles,!1],[Te.ExcludeRelatedFiles,!1],[Te.ContextProviders,[]],[Te.DebugUseEditorFetcher,null],[Te.DebugUseElectronFetcher,null],[Te.DebugOverrideLogLevels,{}],[Te.DebugSnippyOverrideUrl,""],[Te.FetchStrategy,"auto"],[Te.UseSubsetMatching,null],[Te.ContextProviderTimeBudget,void 0],[Te.DebugOverrideCapiUrl,""],[Te.DebugTestOverrideCapiUrl,""],[Te.DebugOverrideProxyUrl,""],[Te.DebugTestOverrideProxyUrl,""],[Te.DebugOverrideEngine,""],[Te.AlwaysRequestMultiline,void 0],[Te.ModelAlwaysTerminatesSingleline,void 0],[Te.TrimCompletionsAggressively,void 0],[Te.CompletionsDebounce,void 0],[Te.NESXTab,void 0],[Te.UseWorkspaceContextCoordinator,void 0],[Te.ShowWorkspaceContextDebugger,!1],[Te.CompletionsDelay,void 0],[Te.UseSplitContextPrompt,void 0],[Te.UseCompletionsComparisonPanel,!1],[Te.ComparisonPanelModelIds,["gpt-4o-copilot","chat-v6"]],[Te.ComparisonPanelRandomizedMode,!1],[Te.ShowEditorCompletions,void 0],[Te.EnableAutoCompletions,void 0],[Te.DelayCompletions,void 0],[Te.FilterCompletions,void 0]]);for(let e of Object.values(Te)){let t=O6.configuration[0],r=[],n=`${Hr}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let o=t.properties[r.join(".")];if(Yoe(o))r.length=0,t=o;else if(n.length==0&&o?.default!==void 0){if(Td.has(e))throw new Error(`Duplicate config default value ${Hr}.${e}`);Td.set(e,o.default)}}if(!Td.has(e))throw new Error(`Missing config default value ${Hr}.${e}`)}function Jt(e,t){return e.get(Ls).getConfig(t)}i(Jt,"getConfig");function HN(e){return e.get(Ls).dumpForTelemetry()}i(HN,"dumpForTelemetry");var Sn=class{constructor(){this.packageJson=su}static{i(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function P8(e){return e.get(Sn).isProduction()}i(P8,"isProduction");function GN(e){return e.get(Sn).getBuildType()==="dev"}i(GN,"isDevBuild");function m1(e){return e.get(Sn).getBuildType()}i(m1,"getBuildType");function VN(e){return e.get(Sn).getBuild()}i(VN,"getBuild");function p1(e){return e.get(Sn).getVersion()}i(p1,"getVersion");var dn=class{constructor(t,r,n="none",o="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=o}static{i(this,"EditorSession")}};function g0({name:e,version:t}){return`${e}/${t}`}i(g0,"formatNameAndVersion");var cr=class{static{i(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Uc="2025-05-01";function ll(e){let t=e.get(cr);return{"Editor-Version":g0(t.getEditorInfo()),"Editor-Plugin-Version":g0(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":p1(e)}}i(ll,"editorVersionHeaders");var KN="Iv1.b507a08c87ecfe98",Ed=class{static{i(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??KN}};var ji=class{static{i(this,"TelemetryUserConfig")}constructor(t,r,n,o){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=o??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Kr(t,r=>{let n=r.getTokenValue("rt")==="1",o=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=o)})}};var e4=yt(yp()),t4=yt(jc());var Xoe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Joe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let o=n.match(Xoe),s={filename:"",function:""};o&&(s.function=o[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(o[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),o[5]&&o[5]!==":0"&&(s.lineno=o[5].slice(1)),o[6]&&o[5]!==":0"&&(s.colno=o[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}i(Joe,"buildExceptionDetail");function Zoe(e,t){let r=e.get(cr),n=r.getEditorInfo(),o=e.get(ji),s={"#editor":n.devName??n.name,"#editor_version":g0({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":g0(r.getEditorPluginInfo()),"#session_id":e.get(dn).sessionId,"#machine_id":e.get(dn).machineId,"#architecture":t4.arch(),"#os_platform":t4.platform(),...t};return o.trackingId&&(s.user=o.trackingId,s["#tracking_id"]=o.trackingId),s}i(Zoe,"buildContext");function XN(e,t){let r=e.get(Sn),n=e.get(cr).getEditorInfo(),o=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Zoe(e,{"#node_version":o}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let u=Joe(c);s.exception_detail.unshift(u),a.unshift([c,u]),l+=1,c=c.cause}let f=[];for(let[u,d]of a)if(d.stacktrace&&d.stacktrace.length>0){f.push(`${d.type}: ${u.code??""}`);let p=[...d.stacktrace].reverse();for(let m of p)if(m.filename?.startsWith("/github-copilot/"))return s;for(let m of p)if(m.in_app){f.push(`${m.filename?.replace(/^\.\//,"")}:${m.lineno}:${m.colno}`);break}f.push(`${p[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,e4.SHA256)(e4.enc.Utf16.parse(f.join(`
`))).toString()),s}i(XN,"buildPayload");var g1=class{static{i(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,o){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};var lu=class{constructor(t=5){this.perTenMinutes=t;this.cache=new Gt}static{i(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};var mo=class{constructor(){this.promises=new Set}static{i(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var QN=yt(jc()),ek=yt(Lf());function h1(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}i(h1,"redactPaths");var ese=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),tse=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function M6(e){if(ese.has(e))return e;for(let t of tse)if(t.test(e))return e;return h1(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}i(M6,"redactMessage");function r4(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(r4,"escapeForRegExp");var rse=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+r4((0,QN.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function F6(e){return e.replace(rse,"~")}i(F6,"redactHomeDir");var tk="[\\\\/]?([^:)]*)(?=:\\d)",JN=new RegExp(r4(ek.sep),"g"),ZN=new RegExp(r4("".replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+tk,"gi");function U6(e,t,r=!1,n=[]){let o=new Error(t(e));o.name=e.name,typeof e.syscall=="string"&&(o.syscall=e.syscall),typeof e.code=="string"&&(o.code=e.code),typeof e.errno=="number"&&(o.errno=e.errno),o.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){o.stack=o.toString();for(let l of a)if(ZN.test(l))o.stack+=`
${h1(l.replace(ZN,(c,f)=>"./"+f.replace(JN,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))o.stack+=`
${h1(l)}`;else{let c=!1;for(let{prefix:f,path:u}of n){let d=new RegExp(r4(u.replace(/[\\/]$/,""))+tk,"gi");if(d.test(l)){o.stack+=`
${h1(l.replace(d,(p,m)=>f+m.replace(JN,"/")))}`,c=!0;break}}if(c)continue;r?o.stack+=`
${F6(l)}`:o.stack+=`
    at [redacted]:0:0`}}else r&&s&&(o.stack=F6(s));return e.cause instanceof Error&&(o.cause=U6(e.cause,t,r,n)),o}i(U6,"cloneError");function rk(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}i(rk,"errorMessageWithoutPath");function nk(e,t){return U6(e,i(function(n){return F6(rk(n))},"prepareMessage"),!0,t)}i(nk,"prepareErrorForRestrictedTelemetry");function ik(e,t,r=!1){return U6(e,i(function(o){if(r)return M6(rk(o));let s="[redacted]";return typeof o.code=="string"&&(s=o.code+" "+s),typeof o.syscall=="string"?s=h1(o.syscall)+" "+s:"erroredSysCall"in o&&typeof o.erroredSysCall=="string"&&(s=o.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}i(ik,"redactError");var B6=class{static{i(this,"TypeCheck")}constructor(t,r,n,o){this.schema=t,this.references=r,this.checkFunc=n,this.code=o,this.hasTransform=_a(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return u0(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new pd(this.schema,t,this.Errors(t).First());return this.hasTransform?gd(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?xd(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new hd(this.schema,t,this.Errors(t).First());return r}},Ta;(function(e){function t(s){return s===36}i(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}i(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}i(n,"IsAlpha"),e.IsAlpha=n;function o(s){return s>=48&&s<=57}i(o,"IsNumeric"),e.IsNumeric=o})(Ta||(Ta={}));var n4;(function(e){function t(s){return s.length===0?!1:Ta.IsNumeric(s.charCodeAt(0))}i(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(Ta.IsAlpha(l)||Ta.IsNumeric(l)||Ta.DollarSign(l)||Ta.IsUnderscore(l)))return!1}return!0}i(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}i(n,"EscapeHyphen");function o(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}i(o,"Encode"),e.Encode=o})(n4||(n4={}));var $6;(function(e){function t(r){let n=[];for(let o=0;o<r.length;o++){let s=r.charCodeAt(o);Ta.IsNumeric(s)||Ta.IsAlpha(s)?n.push(r.charAt(o)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}i(t,"Encode"),e.Encode=t})($6||($6={}));var j6;(function(e){function t(r){return r.replace(/'/g,"\\'")}i(t,"Escape"),e.Escape=t})(j6||(j6={}));var q6=class extends at{static{i(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},i4=class extends at{static{i(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},cu;(function(e){function t(a,l,c){return Ir.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${n4.Encode(a,l)} !== undefined ? ${c} : true)`}i(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Ir.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}i(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Ir.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}i(n,"IsRecordLike"),e.IsRecordLike=n;function o(a){return Ir.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}i(o,"IsNumberLike"),e.IsNumberLike=o;function s(a){return Ir.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}i(s,"IsVoidLike"),e.IsVoidLike=s})(cu||(cu={}));var Pl;(function(e){function t(F){return F[te]==="Any"||F[te]==="Unknown"}i(t,"IsAnyOrUnknown");function*r(F,ne,$){yield"true"}i(r,"FromAny");function*n(F,ne,$){yield"true"}i(n,"FromArgument");function*o(F,ne,$){yield`Array.isArray(${$})`;let[ge,le]=[he("value","any"),he("acc","number")];He(F.maxItems)&&(yield`${$}.length <= ${F.maxItems}`),He(F.minItems)&&(yield`${$}.length >= ${F.minItems}`);let q=B(F.items,ne,"value");if(yield`${$}.every((${ge}) => ${q})`,Nr(F.contains)||He(F.minContains)||He(F.maxContains)){let re=Nr(F.contains)?F.contains:vt(),xe=B(re,ne,"value"),ue=He(F.minContains)?[`(count >= ${F.minContains})`]:[],de=He(F.maxContains)?[`(count <= ${F.maxContains})`]:[],Ee=`const count = value.reduce((${le}, ${ge}) => ${xe} ? acc + 1 : acc, 0)`,we=["(count > 0)",...ue,...de].join(" && ");yield`((${ge}) => { ${Ee}; return ${we}})(${$})`}F.uniqueItems===!0&&(yield`((${ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${$})`)}i(o,"FromArray");function*s(F,ne,$){yield`(typeof value === 'object' && Symbol.asyncIterator in ${$})`}i(s,"FromAsyncIterator");function*a(F,ne,$){yield`(typeof ${$} === 'bigint')`,Wn(F.exclusiveMaximum)&&(yield`${$} < BigInt(${F.exclusiveMaximum})`),Wn(F.exclusiveMinimum)&&(yield`${$} > BigInt(${F.exclusiveMinimum})`),Wn(F.maximum)&&(yield`${$} <= BigInt(${F.maximum})`),Wn(F.minimum)&&(yield`${$} >= BigInt(${F.minimum})`),Wn(F.multipleOf)&&(yield`(${$} % BigInt(${F.multipleOf})) === 0`)}i(a,"FromBigInt");function*l(F,ne,$){yield`(typeof ${$} === 'boolean')`}i(l,"FromBoolean");function*c(F,ne,$){yield*O(F.returns,ne,`${$}.prototype`)}i(c,"FromConstructor");function*f(F,ne,$){yield`(${$} instanceof Date) && Number.isFinite(${$}.getTime())`,He(F.exclusiveMaximumTimestamp)&&(yield`${$}.getTime() < ${F.exclusiveMaximumTimestamp}`),He(F.exclusiveMinimumTimestamp)&&(yield`${$}.getTime() > ${F.exclusiveMinimumTimestamp}`),He(F.maximumTimestamp)&&(yield`${$}.getTime() <= ${F.maximumTimestamp}`),He(F.minimumTimestamp)&&(yield`${$}.getTime() >= ${F.minimumTimestamp}`),He(F.multipleOfTimestamp)&&(yield`(${$}.getTime() % ${F.multipleOfTimestamp}) === 0`)}i(f,"FromDate");function*u(F,ne,$){yield`(typeof ${$} === 'function')`}i(u,"FromFunction");function*d(F,ne,$){let ge=globalThis.Object.getOwnPropertyNames(F.$defs).reduce((le,q)=>[...le,F.$defs[q]],[]);yield*O(qo(F.$ref),[...ne,...ge],$)}i(d,"FromImport");function*p(F,ne,$){yield`Number.isInteger(${$})`,He(F.exclusiveMaximum)&&(yield`${$} < ${F.exclusiveMaximum}`),He(F.exclusiveMinimum)&&(yield`${$} > ${F.exclusiveMinimum}`),He(F.maximum)&&(yield`${$} <= ${F.maximum}`),He(F.minimum)&&(yield`${$} >= ${F.minimum}`),He(F.multipleOf)&&(yield`(${$} % ${F.multipleOf}) === 0`)}i(p,"FromInteger");function*m(F,ne,$){let ge=F.allOf.map(le=>B(le,ne,$)).join(" && ");if(F.unevaluatedProperties===!1){let le=ae(`${new RegExp(xa(F))};`),q=`Object.getOwnPropertyNames(${$}).every(key => ${le}.test(key))`;yield`(${ge} && ${q})`}else if(Nr(F.unevaluatedProperties)){let le=ae(`${new RegExp(xa(F))};`),q=`Object.getOwnPropertyNames(${$}).every(key => ${le}.test(key) || ${B(F.unevaluatedProperties,ne,`${$}[key]`)})`;yield`(${ge} && ${q})`}else yield`(${ge})`}i(m,"FromIntersect");function*g(F,ne,$){yield`(typeof value === 'object' && Symbol.iterator in ${$})`}i(g,"FromIterator");function*h(F,ne,$){typeof F.const=="number"||typeof F.const=="boolean"?yield`(${$} === ${F.const})`:yield`(${$} === '${j6.Escape(F.const)}')`}i(h,"FromLiteral");function*b(F,ne,$){yield"false"}i(b,"FromNever");function*x(F,ne,$){yield`(!${B(F.not,ne,$)})`}i(x,"FromNot");function*y(F,ne,$){yield`(${$} === null)`}i(y,"FromNull");function*T(F,ne,$){yield cu.IsNumberLike($),He(F.exclusiveMaximum)&&(yield`${$} < ${F.exclusiveMaximum}`),He(F.exclusiveMinimum)&&(yield`${$} > ${F.exclusiveMinimum}`),He(F.maximum)&&(yield`${$} <= ${F.maximum}`),He(F.minimum)&&(yield`${$} >= ${F.minimum}`),He(F.multipleOf)&&(yield`(${$} % ${F.multipleOf}) === 0`)}i(T,"FromNumber");function*_(F,ne,$){yield cu.IsObjectLike($),He(F.minProperties)&&(yield`Object.getOwnPropertyNames(${$}).length >= ${F.minProperties}`),He(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${$}).length <= ${F.maxProperties}`);let ge=Object.getOwnPropertyNames(F.properties);for(let le of ge){let q=n4.Encode($,le),re=F.properties[le];if(F.required&&F.required.includes(le))yield*O(re,ne,q),(ba(re)||t(re))&&(yield`('${le}' in ${$})`);else{let xe=B(re,ne,q);yield cu.IsExactOptionalProperty($,le,xe)}}if(F.additionalProperties===!1)if(F.required&&F.required.length===ge.length)yield`Object.getOwnPropertyNames(${$}).length === ${ge.length}`;else{let le=`[${ge.map(q=>`'${q}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${$}).every(key => ${le}.includes(key))`}if(typeof F.additionalProperties=="object"){let le=B(F.additionalProperties,ne,`${$}[key]`),q=`[${ge.map(re=>`'${re}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${$}).every(key => ${q}.includes(key) || ${le}))`}}i(_,"FromObject");function*I(F,ne,$){yield`${$} instanceof Promise`}i(I,"FromPromise");function*w(F,ne,$){yield cu.IsRecordLike($),He(F.minProperties)&&(yield`Object.getOwnPropertyNames(${$}).length >= ${F.minProperties}`),He(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${$}).length <= ${F.maxProperties}`);let[ge,le]=Object.entries(F.patternProperties)[0],q=ae(`${new RegExp(ge)}`),re=B(le,ne,"value"),xe=Nr(F.additionalProperties)?B(F.additionalProperties,ne,$):F.additionalProperties===!1?"false":"true",ue=`(${q}.test(key) ? ${re} : ${xe})`;yield`(Object.entries(${$}).every(([key, value]) => ${ue}))`}i(w,"FromRecord");function*j(F,ne,$){let ge=Qt(F,ne);if(M.functions.has(F.$ref))return yield`${H(F.$ref)}(${$})`;yield*O(ge,ne,$)}i(j,"FromRef");function*V(F,ne,$){let ge=ae(`${new RegExp(F.source,F.flags)};`);yield`(typeof ${$} === 'string')`,He(F.maxLength)&&(yield`${$}.length <= ${F.maxLength}`),He(F.minLength)&&(yield`${$}.length >= ${F.minLength}`),yield`${ge}.test(${$})`}i(V,"FromRegExp");function*G(F,ne,$){yield`(typeof ${$} === 'string')`,He(F.maxLength)&&(yield`${$}.length <= ${F.maxLength}`),He(F.minLength)&&(yield`${$}.length >= ${F.minLength}`),F.pattern!==void 0&&(yield`${ae(`${new RegExp(F.pattern)};`)}.test(${$})`),F.format!==void 0&&(yield`format('${F.format}', ${$})`)}i(G,"FromString");function*Y(F,ne,$){yield`(typeof ${$} === 'symbol')`}i(Y,"FromSymbol");function*A(F,ne,$){yield`(typeof ${$} === 'string')`,yield`${ae(`${new RegExp(F.pattern)};`)}.test(${$})`}i(A,"FromTemplateLiteral");function*P(F,ne,$){yield`${H(F.$ref)}(${$})`}i(P,"FromThis");function*z(F,ne,$){if(yield`Array.isArray(${$})`,F.items===void 0)return yield`${$}.length === 0`;yield`(${$}.length === ${F.maxItems})`;for(let ge=0;ge<F.items.length;ge++)yield`${B(F.items[ge],ne,`${$}[${ge}]`)}`}i(z,"FromTuple");function*N(F,ne,$){yield`${$} === undefined`}i(N,"FromUndefined");function*E(F,ne,$){yield`(${F.anyOf.map(le=>B(le,ne,$)).join(" || ")})`}i(E,"FromUnion");function*v(F,ne,$){yield`${$} instanceof Uint8Array`,He(F.maxByteLength)&&(yield`(${$}.length <= ${F.maxByteLength})`),He(F.minByteLength)&&(yield`(${$}.length >= ${F.minByteLength})`)}i(v,"FromUint8Array");function*R(F,ne,$){yield"true"}i(R,"FromUnknown");function*S(F,ne,$){yield cu.IsVoidLike($)}i(S,"FromVoid");function*D(F,ne,$){let ge=M.instances.size;M.instances.set(ge,F),yield`kind('${F[te]}', ${ge}, ${$})`}i(D,"FromKind");function*O(F,ne,$,ge=!0){let le=Vt(F.$id)?[...ne,F]:ne,q=F;if(ge&&Vt(F.$id)){let re=H(F.$id);if(M.functions.has(re))return yield`${re}(${$})`;{M.functions.set(re,"<deferred>");let xe=ye(re,F,ne,"value",!1);return M.functions.set(re,xe),yield`${re}(${$})`}}switch(q[te]){case"Any":return yield*r(q,le,$);case"Argument":return yield*n(q,le,$);case"Array":return yield*o(q,le,$);case"AsyncIterator":return yield*s(q,le,$);case"BigInt":return yield*a(q,le,$);case"Boolean":return yield*l(q,le,$);case"Constructor":return yield*c(q,le,$);case"Date":return yield*f(q,le,$);case"Function":return yield*u(q,le,$);case"Import":return yield*d(q,le,$);case"Integer":return yield*p(q,le,$);case"Intersect":return yield*m(q,le,$);case"Iterator":return yield*g(q,le,$);case"Literal":return yield*h(q,le,$);case"Never":return yield*b(q,le,$);case"Not":return yield*x(q,le,$);case"Null":return yield*y(q,le,$);case"Number":return yield*T(q,le,$);case"Object":return yield*_(q,le,$);case"Promise":return yield*I(q,le,$);case"Record":return yield*w(q,le,$);case"Ref":return yield*j(q,le,$);case"RegExp":return yield*V(q,le,$);case"String":return yield*G(q,le,$);case"Symbol":return yield*Y(q,le,$);case"TemplateLiteral":return yield*A(q,le,$);case"This":return yield*P(q,le,$);case"Tuple":return yield*z(q,le,$);case"Undefined":return yield*N(q,le,$);case"Union":return yield*E(q,le,$);case"Uint8Array":return yield*v(q,le,$);case"Unknown":return yield*R(q,le,$);case"Void":return yield*S(q,le,$);default:if(!vi.Has(q[te]))throw new q6(F);return yield*D(q,le,$)}}i(O,"Visit");let M={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function B(F,ne,$,ge=!0){return`(${[...O(F,ne,$,ge)].join(" && ")})`}i(B,"CreateExpression");function H(F){return`check_${$6.Encode(F)}`}i(H,"CreateFunctionName");function ae(F){let ne=`local_${M.variables.size}`;return M.variables.set(ne,`const ${ne} = ${F}`),ne}i(ae,"CreateVariable");function ye(F,ne,$,ge,le=!0){let[q,re]=[`
`,Ee=>"".padStart(Ee," ")],xe=he("value","any"),ue=Ue("boolean"),de=[...O(ne,$,ge,le)].map(Ee=>`${re(4)}${Ee}`).join(` &&${q}`);return`function ${F}(${xe})${ue} {${q}${re(2)}return (${q}${de}${q}${re(2)})
}`}i(ye,"CreateFunction");function he(F,ne){let $=M.language==="typescript"?`: ${ne}`:"";return`${F}${$}`}i(he,"CreateParameter");function Ue(F){return M.language==="typescript"?`: ${F}`:""}i(Ue,"CreateReturns");function Ge(F,ne,$){let ge=ye("check",F,ne,"value"),le=he("value","any"),q=Ue("boolean"),re=[...M.functions.values()],xe=[...M.variables.values()],ue=Vt(F.$id)?`return function check(${le})${q} {
  return ${H(F.$id)}(value)
}`:`return ${ge}`;return[...xe,...re,ue].join(`
`)}i(Ge,"Build");function Ve(...F){let ne={language:"javascript"},[$,ge,le]=F.length===2&&st(F[1])?[F[0],F[1],ne]:F.length===2&&!st(F[1])?[F[0],[],F[1]]:F.length===3?[F[0],F[1],F[2]]:F.length===1?[F[0],[],ne]:[null,[],ne];if(M.language=le.language,M.variables.clear(),M.functions.clear(),M.instances.clear(),!Nr($))throw new i4($);for(let q of ge)if(!Nr(q))throw new i4(q);return Ge($,ge,le)}i(Ve,"Code"),e.Code=Ve;function Ze(F,ne=[]){let $=Ve(F,ne,{language:"javascript"}),ge=globalThis.Function("kind","format","hash",$),le=new Map(M.instances);function q(de,Ee,we){if(!vi.Has(de)||!le.has(Ee))return!1;let ke=vi.Get(de),je=le.get(Ee);return ke(je,we)}i(q,"typeRegistryFunction");function re(de,Ee){return Is.Has(de)?Is.Get(de)(Ee):!1}i(re,"formatRegistryFunction");function xe(de){return Il(de)}i(xe,"hashFunction");let ue=ge(q,re,xe);return new B6(F,ne,ue,$)}i(Ze,"Compile"),e.Compile=Ze})(Pl||(Pl={}));var X4=yt(yp());var Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));function ok(e,t=0){return(Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]).toLowerCase()}i(ok,"unsafeStringify");var W6,nse=new Uint8Array(16);function z6(){if(!W6){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");W6=crypto.getRandomValues.bind(crypto)}return W6(nse)}i(z6,"rng");var ise=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H6={randomUUID:ise};function ose(e,t,r){if(H6.randomUUID&&!t&&!e)return H6.randomUUID();e=e||{};let n=e.random??e.rng?.()??z6();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[r+o]=n[o];return t}return ok(n)}i(ose,"v4");var Ii=ose;var J4=yt(ui());function Kd(e){return e===1}i(Kd,"isRestricted");var r0e=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],O1=8192,n0e=21;var Us=class{static{i(this,"TelemetryReporters")}getReporter(t,r=0){return Kd(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(Q4(t))return this.reporterRestricted;if(kf(t))return new g1}getFTReporter(t){if(AF(t))return this.reporterFT;if(kf(t))return new g1}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(t.map(r=>r?.dispose()))}},i0e=k.Object({},{additionalProperties:k.String()}),o0e=k.Object({meanLogProb:k.Optional(k.Number()),meanAlternativeLogProb:k.Optional(k.Number())},{additionalProperties:k.Number()}),s0e=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function a0e(e){return s0e.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}i(a0e,"isOomError");function l0e(e){return v8(e)?"network":a0e(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}i(l0e,"getErrorType");var Qe=class e{static{i(this,"TelemetryData")}static{this.validateTelemetryProperties=Pl.Compile(i0e)}static{this.validateTelemetryMeasurements=Pl.Compile(o0e)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},bn())}extendedBy(t,r){let n={...this.properties,...t},o={...this.measurements,...r},s=new e(n,o,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=bn())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(qe).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=g0(t.get(cr).getEditorInfo()),this.properties.editor_plugin_version=g0(t.get(cr).getEditorPluginInfo());let r=t.get(dn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${p1(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(cr);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=g0(n.getEditorInfo());let o=t.get(on);this.properties.fetcher=o.name;let s=t.get(Ls).getHttpSettings();this.properties.proxy_enabled=s.proxy?"true":"false",this.properties.proxy_auth=s.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=s.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(t){let r=HN(t);r["copilot.build"]=VN(t),r["copilot.buildType"]=m1(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(Kd(t))return r;let n={};for(let o in r)e.keysToRemoveFromStandardTelemetryHack.includes(o)||(n[o]=r[o]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let o=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[o]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let o=t[n],s=o?.length??0;if(s>O1){let a=0,l=0;for(;s>0&&l<n0e;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let f=a+O1;s<O1&&(f=a+s),r[c]=o.slice(a,f),s-=O1,a+=O1}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=f0e(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(kf(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Bs(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Kd(r)&&Bs(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,o){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(o),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,NF(t))}},n1=class e extends Qe{static{i(this,"TelemetryWithExp")}constructor(t,r,n,o){super(t,r,n),this.filtersAndExp=o}extendedBy(t,r){let n={...this.properties,...t},o={...this.measurements,...r},s=new e(n,o,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}extendWithExpTelemetry(){return this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new $c({}),exp:hs.createEmptyConfig()})}};function L1(e,t,r,n){e.get(Us).getReporter(e,t)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}i(L1,"sendTelemetryEvent");function c0e(e,t,r,n){e.get(Us).getReporter(e,t)?.sendTelemetryErrorEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}i(c0e,"sendTelemetryErrorEvent");function u0e(e,t,r,n){e.get(Us).getFTReporter(e)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}i(u0e,"sendFTTelemetryEvent");function Z4(e){return{promptCharLen:e.prefix.length+(e.context?.reduce((t,r)=>t+r.length,0)??0),promptSuffixCharLen:e.suffix.length}}i(Z4,"telemetrizePromptLength");function bn(){return performance.now()}i(bn,"now");function f0e(e){return Math.floor(e/1e3)}i(f0e,"nowSeconds");function Q4(e){return e.get(ji).optedIn}i(Q4,"shouldSendRestricted");function AF(e){return e.get(ji).ftFlag!==""}i(AF,"shouldSendFinetuningTelemetry");function Se(e,t,r,n){return e.get(mo).register(d0e(e,t,bn(),r?.extendedBy(),n))}i(Se,"telemetry");async function d0e(e,t,r,n,o=0){let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,o??!1,"IncludeExp",r),(!Kd(o)||Q4(e))&&L1(e,o,t,s),Kd(o)&&r0e.includes(t)&&AF(e)&&u0e(e,o,t,s)}i(d0e,"_telemetry");function T2(e,t){return e.get(mo).register(m0e(e,t,bn()))}i(T2,"telemetryExpProblem");async function m0e(e,t,r){let n="expProblem",o=Qe.createAndMarkAsIssued(t,{});await o.makeReadyForSending(e,0,"SkipExp",r),L1(e,0,n,o)}i(m0e,"_telemetryExpProblem");function _v(e,t,r,n){let o={...r,...NF(e)};L1(e,0,t,{properties:o,measurements:n})}i(_v,"telemetryRaw");function NF(e){let t=e.get(cr),r={unique_id:Ii(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:g0(t.getEditorInfo())},n=e.get(ji);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}i(NF,"createRequiredProperties");var yv=class extends Error{static{i(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,X4.SHA256)(X4.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Oo(e,t,r,n,o){return e.get(mo).register(kF(e,t,bn(),r,{...n},o))}i(Oo,"telemetryException");async function kF(e,t,r,n,o,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||e0(a)||a instanceof ol||a instanceof J4.ConnectionError||a instanceof J4.ResponseError)return}else{if(a=new yv(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let h=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(h[0]??"")&&h.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(h[0]??"")&&h.shift(),a.stack=`${a}
${h.join(`
`)}`}}let l=e.get(cr).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let f=Q4(e),u=ik(a,c,f),d=l0e(a),p=d==="exception",m=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...o});if(await m.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let h of s.exception_detail)h.value&&(f?h.value=M6(h.value):h.value="[redacted]");if(s??=XN(e,u),s.context={...s.context,"copilot_event.unique_id":m.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(m.properties.errno=s.rollup_id),s.created_at=new Date(m.issuedTime).toISOString(),f){let h=nk(a,c),b=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:h.stack||h.toString(),message:h.message,...o});s.rollup_id!=="auto"&&(b.properties.errno=s.rollup_id),await b.makeReadyForSending(e,1,"IncludeExp",r),b.properties.unique_id=m.properties.unique_id,m.properties.restricted_unique_id=b.properties.unique_id,L1(e,1,`error.${d}`,b)}let g=s.rollup_id==="auto"?a.stack??"":s.rollup_id;p&&!e.get(lu).isThrottled(g)&&(m.properties.failbot_payload=JSON.stringify(s)),L1(e,0,`error.${d}`,m)}i(kF,"_telemetryException");function Ia(e,t,r,n){let o=i(async(...s)=>{try{await t(...s)}catch(a){await kF(e,a,bn(),r,n)}},"wrapped");return(...s)=>e.get(mo).register(o(...s))}i(Ia,"telemetryCatch");function Bs(e,t,r,n){return e.get(mo).register(p0e(e,t,bn(),r?.extendedBy(),n))}i(Bs,"telemetryError");async function p0e(e,t,r,n,o=0){if(Kd(o)&&!Q4(e))return;let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,o,"IncludeExp",r),c0e(e,o,t,s)}i(p0e,"_telemetryError");function OF(e,t,r,n,o){let s=Qe.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:o.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Se(e,"engine.completion",s,1)}i(OF,"logEngineCompletion");function LF(e,t,r){let n={promptJson:JSON.stringify({prefix:t.prefix,context:t.context}),promptSuffixJson:JSON.stringify(t.suffix)};if(t.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=t.context,n["request.option.extra"]=JSON.stringify(s)}let o=r.extendedBy(n);return Se(e,"engine.prompt",o,1)}i(LF,"logEnginePrompt");var FF=yt(ui()),pKe=k.Object({accessToken:k.Optional(k.String({minLength:1})),handle:k.Optional(k.String({minLength:1})),githubAppId:k.Optional(k.String({minLength:1}))}),h0e;(r=>(r.method="github/didChangeAuth",r.type=new FF.ProtocolNotificationType(r.method)))(h0e||={});var MF=yt(ui()),x0e;(r=>(r.method="copilot/ipCodeCitation",r.type=new MF.NotificationType(r.method)))(x0e||={});var UF=yt(ui()),b0e;(r=>(r.method="context/update",r.type=new UF.ProtocolRequestType(r.method)))(b0e||={});var or=yt(ui()),y0e=k.String(),_0e=k.Object({uri:y0e}),gu=k.Intersect([_0e,k.Object({version:k.Optional(k.Integer())})]),TKe=k.Required(gu),Ul=k.Object({line:k.Integer({minimum:0}),character:k.Integer({minimum:0})}),BF=k.Object({start:Ul,end:Ul}),vv=k.Union([k.Integer(),k.String()]),EKe=k.Object({isCancellationRequested:k.Boolean(),onCancellationRequested:k.Any()});var $F=yt(ui()),v0e;(r=>(r.method="textDocument/didFocus",r.type=new $F.ProtocolNotificationType(r.method)))(v0e||={});var T0e=k.Object({didChangeFeatureFlags:k.Boolean(),fetch:k.Boolean(),ipCodeCitation:k.Boolean(),redirectedTelemetry:k.Boolean(),related:k.Boolean(),token:k.Boolean(),watchedFiles:k.Boolean(),showPanelMessage:k.Boolean()}),E0e=k.Object({name:k.String(),version:k.String(),readableName:k.Optional(k.String())}),jF=k.Object({name:k.String(),version:k.Optional(k.String()),readableName:k.Optional(k.String())}),PKe=k.Object({editorInfo:k.Optional(jF),editorPluginInfo:k.Optional(jF),relatedPluginInfo:k.Optional(k.Array(E0e)),copilotIntegrationId:k.Optional(k.String()),copilotCapabilities:k.Optional(k.Partial(T0e)),githubAppId:k.Optional(k.String())});var F1=yt(ui());var qF=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(qF||{}),C0e=k.Enum(qF),I0e=k.Object({triggerKind:C0e,selectedCompletionInfo:k.Optional(k.Object({text:k.String(),range:BF,tooltipSignature:k.Optional(k.String())}))}),WF=k.Object({textDocument:gu,position:Ul,formattingOptions:k.Optional(k.Object({tabSize:k.Optional(k.Union([k.Integer({minimum:1}),k.String()])),insertSpaces:k.Optional(k.Union([k.Boolean(),k.String()]))})),context:I0e,data:k.Optional(k.Unknown())}),S0e;(r=>(r.method="textDocument/inlineCompletion",r.type=new F1.ProtocolRequestType(r.method)))(S0e||={});var zF=k.Object({command:k.Object({arguments:k.Tuple([k.String({minLength:1})])})}),kKe=k.Object({item:zF}),w0e;(r=>(r.method="textDocument/didShowCompletion",r.type=new F1.ProtocolNotificationType(r.method)))(w0e||={});var OKe=k.Object({item:zF,acceptedLength:k.Integer({minimum:1})}),P0e;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new F1.ProtocolNotificationType(r.method)))(P0e||={});var HF=yt(ui()),R0e;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new HF.ProtocolRequestType(r.method)))(R0e||={});var GF=yt(ui()),$Ke=k.Object({textDocument:gu,position:Ul}),D0e=k.Object({command:k.Object({arguments:k.Tuple([k.String({minLength:1})])})}),jKe=k.Object({item:D0e}),A0e;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new GF.ProtocolNotificationType(r.method)))(A0e||={});var ex=yt(ui());var VKe=k.Object({textDocument:gu,position:Ul,partialResultToken:k.Optional(vv),workDoneToken:k.Optional(vv)}),N0e;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new ex.ProtocolRequestType(n.method),n.partialResult=new ex.ProgressType))(N0e||={});var VF=yt(ui()),k0e;(r=>(r.method="copilot/related",r.type=new VF.ProtocolRequestType(r.method)))(k0e||={});var KF=yt(ui()),O0e;(r=>(r.method="statusNotification",r.type=new KF.ProtocolNotificationType(r.method)))(O0e||={});var YF=yt(d1());var Bl=class{static{i(this,"CopilotTokenNotifier")}#e=new YF.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.emit("CopilotToken",t)}emit(t,...r){return this.#e.emit(t,...r)}on(t,r,n){let o=Ia(t,n,`event.${r}`);return this.#e.on(r,o),or.Disposable.create(()=>this.#e.off(r,o))}};function Kr(e,t){return e.get(Bl).on(e,"CopilotToken",t)}i(Kr,"onCopilotToken");function XF(e,t){return e.get(Bl).emitToken(t)}i(XF,"emitCopilotToken");function N2(e){return e.get(Bl).lastToken}i(N2,"getLastCopilotToken");var tx=class{constructor(t){this.userInfo=t}static{i(this,"CopilotUserInfoWrapper")}get sku(){return this.userInfo?.access_type_sku}get isFreeUser(){return this.sku==="free_limited_copilot"}get copilotPlan(){if(this.isFreeUser)return"free";let t=this.userInfo?.copilot_plan;switch(t){case"individual":case"individual_pro":case"business":case"enterprise":return t;default:return"individual"}}get quotaInfo(){return{quota_snapshots:this.userInfo?.quota_snapshots,quota_reset_date:this.userInfo?.quota_reset_date}}get raw(){return this.userInfo}};var Sa=class{static{i(this,"UrlOpener")}};var L0e=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],JF="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",ZF="https://gh.io/copilot-network-errors",v0=class{constructor(){this.notifiedErrorCodes=[]}static{i(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&L0e.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new _t("certificates").error(t,`${JF} Please visit ${ZF} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(ki).showWarningMessage(JF,n).then(o=>{if(o?.title===n.title)return t.get(Sa).open(ZF)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Tv=class extends sa{static{i(this,"ProxiedResponseError")}constructor(t){super(t,`HTTP ${t.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function hu(e,t,r,n={}){n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...ml()?{}:ll(e),...n.headers}};let o=await e.get(on).fetch(new URL(r,t.apiUrl).href,n);if(o.status>=500)throw new sa(o);if(!o.headers.get("x-github-request-id"))throw new Tv(o);return o}i(hu,"apiFetch");var wa=new _t("auth"),tM=60;function M1(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:t}}i(M1,"fillGitHubUrls");function QF(){return Math.floor(Date.now()/1e3)}i(QF,"nowSeconds");async function rM(e,t){let r=Qe.createAndMarkAsIssued({},{});Se(e,"auth.new_login");let n=await F0e(e,t),o=await n.json(),s=o.user_notification;if(eM(e,s,t),n.status===401){let u="Failed to get copilot token due to 401 status. Please sign out and try again.";return wa.info(e,u),Bs(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:u,envelope:o}}if(!n.ok||!o.token){wa.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),Bs(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let u=o.error_details;return u?.notification_id!=="not_signed_up"&&eM(e,u,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:o,...u}}let a=o.expires_at;o.expires_at=QF()+o.refresh_in+tM;let l=await M0e(e,t),c;l.ok&&(c=await l.json());let f=new Ev(o,c);return XF(e,f),Se(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:o.expires_at,expires_at:a,current_time:QF()})),{kind:"success",copilotToken:f}}i(rM,"authFromGitHubSession");async function F0e(e,t){let r={"X-GitHub-Api-Version":"2024-12-15"},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await hu(e,t,n,{timeout:12e4,headers:r})}catch(o){throw e.get(v0).notifyUser(e,o),o}}i(F0e,"fetchCopilotToken");async function M0e(e,t){let r={"X-GitHub-Api-Version":Uc},n=t.devOverride?.copilotUserInfoUrl??"copilot_internal/user";try{return await hu(e,t,n,{timeout:12e4,headers:r})}catch(o){throw e.get(v0).notifyUser(e,o),o}}i(M0e,"fetchCopilotUserInfo");function eM(e,t,r){t&&e.get(ki).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let o=n?.title===t.title,s=o||n?.title==="Dismiss";if(o){let a=e.get(cr).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(Sa).open(l)}t.notification_id&&s&&await U0e(e,t.notification_id,r)}).catch(n=>{wa.exception(e,n,"copilotToken.notification")})}i(eM,"notifyUser");async function U0e(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",o=await hu(e,r,n,{method:"POST",body:JSON.stringify({notification_id:t})});(!o||!o.ok)&&wa.error(e,`Failed to send notification result to GitHub: ${o?.status} ${o?.statusText}`)}i(U0e,"sendNotificationResultToGitHub");var Ev=class{constructor(t,r){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token),this.userInfo=new tx(r)}static{i(this,"CopilotToken")}get endpoints(){return this.envelope.endpoints??zc}needsRefresh(){return(this.envelope.expires_at-tM)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return x8(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,o=(t??"").split(":")[0].split(";");for(let s of o){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};function Ra(e,t){return e||t}i(Ra,"_pureAssign");function Bn(e,t){return e[t]}i(Bn,"_pureRef");var Gi=void 0,yn=null,Mv="",cx="function",B1="object",Pa="prototype",Lv="__proto__",xu="undefined",ox="constructor",Uv="Symbol",B0e="_polyfill",Xd="length",sx="name",fi="call",ux="toString",Ko=Ra(Object),Bv=Bn(Ko,Pa),lM=Ra(String),Zd=Bn(lM,Pa),fx=Ra(Math),cM=Ra(Array),dx=Bn(cM,Pa),$l=Bn(dx,"slice");function Un(e,t){try{return{v:e.apply(this,t)}}catch(r){return{e:r}}}i(Un,"safe");function $0e(e,t){var r=Un(e);return r.e?t:r.v}i($0e,"safeGet");var Cv;function mx(e){return function(t){return typeof t===e}}i(mx,"_createIs");function uM(e){var t="[object "+e+"]";return function(r){return!!(r&&px(r)===t)}}i(uM,"_createObjIs");function px(e){return Bv[ux].call(e)}i(px,"objToString");function sr(e){return typeof e===xu||e===xu}i(sr,"isUndefined");function j0e(e){return!gx(e)}i(j0e,"isStrictUndefined");function Oe(e){return e===yn||sr(e)}i(Oe,"isNullOrUndefined");function q0e(e){return e===yn||!gx(e)}i(q0e,"isStrictNullOrUndefined");function gx(e){return!!e||e!==Gi}i(gx,"isDefined");function W0e(e){return!Cv&&(Cv=["string","number","boolean",xu,"symbol","bigint"]),e!==B1&&Cv.indexOf(e)!==-1}i(W0e,"isPrimitiveType");var Yt=mx("string"),dt=mx(cx);function di(e){return!e&&Oe(e)?!1:!!e&&typeof e===B1}i(di,"isObject");var et=Bn(cM,"isArray"),fM=uM("Date"),Da=mx("number"),$1=mx("boolean");var j1=uM("Error");function xo(e){return!!(e&&e.then&&dt(e.then))}i(xo,"isPromiseLike");function jl(e){return!(!e||$0e(function(){return!(e&&0+e)},!e))}i(jl,"isTruthy");var hx=Bn(Ko,"getOwnPropertyDescriptor");function Vi(e,t){return!!e&&Bv.hasOwnProperty[fi](e,t)}i(Vi,"objHasOwnProperty");var T0=Ra(Bn(Ko,"hasOwn"),z0e);function z0e(e,t){return Vi(e,t)||!!hx(e,t)}i(z0e,"polyObjHasOwn");function gt(e,t,r){if(e&&di(e)){for(var n in e)if(T0(e,n)&&t[fi](r||e,n,e[n])===-1)break}}i(gt,"objForEachKey");var rx={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function H0e(e){var t={};if(t[rx.c]=!0,t[rx.e]=!0,e.l){t.get=function(){return e.l.v};var r=hx(e.l,"v");r&&r.set&&(t.set=function(n){e.l.v=n})}return gt(e,function(n,o){t[rx[n]]=j0e(o)?t[rx[n]]:o}),t}i(H0e,"_createProp");var ho=Bn(Ko,"defineProperty"),dM=Bn(Ko,"defineProperties");function dr(e,t,r){return ho(e,t,H0e(r))}i(dr,"objDefine");function mM(e,t,r,n,o){var s={};return gt(e,function(a,l){ax(s,a,t?l:a),ax(s,l,r?l:a)}),n?n(s):s}i(mM,"_createKeyValueMap");function ax(e,t,r,n){ho(e,t,{value:r,enumerable:!0,writable:!1})}i(ax,"_assignMapValue");var _n=Ra(lM),G0e="[object Error]";function Je(e,t){var r=Mv,n=Bv[ux][fi](e);n===G0e&&(e={stack:_n(e.stack),message:_n(e.message),name:_n(e.name)});try{r=JSON.stringify(e,yn,t?typeof t=="number"?t:4:Gi),r=(r?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):yn)||_n(e)}catch(o){r=" - "+Je(o,t)}return n+": "+r}i(Je,"dumpObj");function Ki(e){throw new Error(e)}i(Ki,"throwError");function mi(e){throw new TypeError(e)}i(mi,"throwTypeError");var pM=Bn(Ko,"freeze");function V0e(e){return e}i(V0e,"_doNothing");function K0e(e){return e[Lv]||yn}i(K0e,"_getProto");var Qd=Bn(Ko,"assign"),Yo=Bn(Ko,"keys");function bu(e){return pM&&gt(e,function(t,r){(et(r)||di(r))&&bu(r)}),bo(e)}i(bu,"objDeepFreeze");var bo=Ra(pM,V0e);var Fv=Ra(Bn(Ko,"getPrototypeOf"),K0e);function gM(e){return mM(e,1,0,bo)}i(gM,"createEnum");function Y0e(e){return mM(e,0,0,bo)}i(Y0e,"createEnumKeyMap");function X0e(e){var t={};return gt(e,function(r,n){ax(t,r,n[1]),ax(t,n[0],n[1])}),bo(t)}i(X0e,"createSimpleMap");function hM(e){return X0e(e)}i(hM,"createTypeMap");var xM=Y0e({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),nM="__tsUtils$gblCfg",Iv;function bM(){var e;return typeof globalThis!==xu&&(e=globalThis),!e&&typeof self!==xu&&(e=self),!e&&typeof window!==xu&&(e=window),!e&&typeof global!==xu&&(e=global),e}i(bM,"_getGlobalValue");function yM(){if(!Iv){var e=Un(bM).v||{};Iv=e[nM]=e[nM]||{}}return Iv}i(yM,"_getGlobalConfig");var em=xx;function xx(e,t,r){var n=t?t[e]:yn;return function(o){var s=(o?o[e]:yn)||n;if(s||r){var a=arguments;return(s||r).apply(o,s?$l[fi](a,1):a)}mi('"'+_n(e)+'" not defined for '+Je(o))}}i(xx,"_unwrapFunctionWithPoly");function J0e(e){return function(t){return t[e]}}i(J0e,"_unwrapProp");var _M=Bn(fx,"min"),yu=Bn(fx,"max"),iM=em("slice",Zd),Xo=em("substring",Zd),vM=xx("substr",Zd,Z0e);function Z0e(e,t,r){return Oe(e)&&mi("Invalid "+Je(e)),r<0?Mv:(t=t||0,t<0&&(t=yu(t+e[Xd],0)),sr(r)?iM(e,t):iM(e,t,t+r))}i(Z0e,"polyStrSubstr");function $v(e,t){return Xo(e,0,t)}i($v,"strLeft");var oM="_urid",Sv;function Q0e(){if(!Sv){var e=yM();Sv=e.gblSym=e.gblSym||{k:{},s:{}}}return Sv}i(Q0e,"_globalSymbolRegistry");var nx;function jv(e){var t={description:_n(e),toString:i(function(){return Uv+"("+e+")"},"toString")};return t[B0e]=!0,t}i(jv,"polyNewSymbol");function eae(e){var t=Q0e();if(!T0(t.k,e)){var r=jv(e),n=Yo(t.s).length;r[oM]=function(){return n+"_"+r[ux]()},t.k[e]=r,t.s[r[oM]()]=_n(e)}return t.k[e]}i(eae,"polySymbolFor");function tae(e){!nx&&(nx={});var t,r=xM[e];return r&&(t=nx[r]=nx[r]||jv(Uv+"."+r)),t}i(tae,"polyGetKnownSymbol");var Mn;function _u(){Mn=yM()}i(_u,"_initTestHooks");function TM(e){var t={};return!Mn&&_u(),t.b=Mn.lzy,ho(t,"v",{configurable:!0,get:i(function(){var r=e();return Mn.lzy||ho(t,"v",{value:r}),t.b=Mn.lzy,r},"get")}),t}i(TM,"getLazy");function Jo(e){return ho({toJSON:i(function(){return e},"toJSON")},"v",{value:e})}i(Jo,"createCachedValue");var EM="window",U1;function bx(e,t){var r;return function(){return!Mn&&_u(),(!r||Mn.lzy)&&(r=Jo(Un(e,t).v)),r.v}}i(bx,"_getGlobalInstFn");function yo(e){return!Mn&&_u(),(!U1||e===!1||Mn.lzy)&&(U1=Jo(Un(bM).v||yn)),U1.v}i(yo,"getGlobal");function Or(e,t){var r;if(!U1||t===!1?r=yo(t):r=U1.v,r&&r[e])return r[e];if(e===EM)try{return window}catch{}return yn}i(Or,"getInst");function qv(){return!!_o()}i(qv,"hasDocument");var _o=bx(Or,["document"]);function CM(){return!!Yi()}i(CM,"hasWindow");var Yi=bx(Or,[EM]);function Wv(){return!!Zo()}i(Wv,"hasNavigator");var Zo=bx(Or,["navigator"]);var IM=bx(function(){return!!Un(function(){return process&&(process.versions||{}).node}).v});var Jd,wv;function yx(){return Jd=Jo(Un(Or,[Uv]).v),Jd}i(yx,"_initSymbol");function rae(e){var t=(Mn.lzy?0:Jd)||yx();return t.v?t.v[e]:Gi}i(rae,"_getSymbolKey");function SM(){return!!nae()}i(SM,"hasSymbol");function nae(){return!Mn&&_u(),((Mn.lzy?0:Jd)||yx()).v}i(nae,"getSymbol");function q1(e,t){var r=xM[e];!Mn&&_u();var n=(Mn.lzy?0:Jd)||yx();return n.v?n.v[r||e]:t?Gi:tae(e)}i(q1,"getKnownSymbol");function tm(e,t){!Mn&&_u();var r=(Mn.lzy?0:Jd)||yx();return r.v?r.v(e):t?yn:jv(e)}i(tm,"newSymbol");function _x(e){return!Mn&&_u(),wv=(Mn.lzy?0:wv)||Jo(Un(rae,["for"]).v),(wv.v||eae)(e)}i(_x,"symbolFor");function lx(e){return!!e&&dt(e.next)}i(lx,"isIterator");function zv(e){return!q0e(e)&&dt(e[q1(3)])}i(zv,"isIterable");var ix;function vx(e,t,r){if(e&&(lx(e)||(!ix&&(ix=Jo(q1(3))),e=e[ix.v]?e[ix.v]():yn),lx(e))){var n=Gi,o=Gi;try{for(var s=0;!(o=e.next()).done&&t[fi](r||e,o.value,s,e)!==-1;)s++}catch(a){n={e:a},e.throw&&(o=yn,e.throw(n))}finally{try{o&&!o.done&&e.return&&e.return(o)}finally{if(n)throw n.e}}}}i(vx,"iterForOf");function Yd(e,t,r){return e.apply(t,r)}i(Yd,"fnApply");function Aa(e,t){return!sr(t)&&e&&(et(t)?Yd(e.push,e,t):lx(t)||zv(t)?vx(t,function(r){e.push(r)}):e.push(t)),e}i(Aa,"arrAppend");function Ne(e,t,r){if(e)for(var n=e[Xd]>>>0,o=0;o<n&&!(o in e&&t[fi](r||e,e[o],o,e)===-1);o++);}i(Ne,"arrForEach");var cn=em("indexOf",dx);var vu=em("map",dx);function rm(e,t,r){return((e?e.slice:yn)||$l).apply(e,$l[fi](arguments,1))}i(rm,"arrSlice");var Hv=em("reduce",dx);var E0=Ra(Bn(Ko,"create"),iae);function iae(e){if(!e)return{};var t=typeof e;t!==B1&&t!==cx&&mi("Prototype must be an Object or function: "+Je(e));function r(){}return i(r,"tempFunc"),r[Pa]=e,new r}i(iae,"polyObjCreate");var Pv;function wM(e,t){var r=Ko.setPrototypeOf||function(n,o){var s;!Pv&&(Pv=Jo((s={},s[Lv]=[],s instanceof Array))),Pv.v?n[Lv]=o:gt(o,function(a,l){return n[a]=l})};return r(e,t)}i(wM,"objSetPrototypeOf");function oae(e,t,r){Un(dr,[t,sx,{v:e,c:!0,e:!1}]),t=wM(t,r);function n(){this[ox]=t,Un(dr,[this,sx,{v:e,c:!0,e:!1}])}return i(n,"__"),t[Pa]=r===yn?E0(r):(n[Pa]=r[Pa],new n),t}i(oae,"_createCustomError");function sM(e,t){t&&(e[sx]=t)}i(sM,"_setName");function Gv(e,t,r){var n=r||Error,o=n[Pa][sx],s=Error.captureStackTrace;return oae(e,function(){var a=this,l=arguments;try{Un(sM,[n,e]);var c=Yd(n,a,$l[fi](l))||a;if(c!==a){var f=Fv(a);f!==Fv(c)&&wM(c,f)}return s&&s(c,a[ox]),t&&t(c,l),c}finally{Un(sM,[n,o])}},n)}i(Gv,"createCustomError");function vo(){return(Date.now||sae)()}i(vo,"utcNow");function sae(){return new Date().getTime()}i(sae,"polyUtcNow");function aae(e){return i(function(r){return Oe(r)&&mi("strTrim called ["+Je(r)+"]"),r&&r.replace&&(r=r.replace(e,Mv)),r},"_doTrim")}i(aae,"_createTrimFn");var lae=aae(/^\s+|(?=\s)\s+$/g);var xr=xx("trim",Zd,lae);var Na=Bn(fx,"floor");var Rv,Dv,Av;function Xn(e){if(!e||typeof e!==B1)return!1;Av||(Av=CM()?Yi():!0);var t=!1;if(e!==Av){Dv||(Rv=Function[Pa][ux],Dv=Rv[fi](Ko));try{var r=Fv(e);t=!r,t||(Vi(r,ox)&&(r=r[ox]),t=!!(r&&typeof r===cx&&Rv[fi](r)===Dv))}catch{}}return t}i(Xn,"isPlainObject");function cae(e){return e.value&&RM(e),!0}i(cae,"_defaultDeepCopyHandler");var aM=[mae,RM,gae,pae];function uae(e,t,r,n){var o;return Ne(e,function(s){if(s.k===t)return o=s,-1}),o||(o={k:t,v:t},e.push(o),n(o)),o.v}i(uae,"_getSetVisited");function Vv(e,t,r,n){var o=r.handler,s=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:s},l=typeof t,c=!1,f=t===yn;f||(t&&l===B1?c=Xn(t):f=W0e(l));var u={type:l,isPrim:f,isPlain:c,value:t,result:t,path:s,origin:r.src,copy:i(function(d,p){return Vv(e,d,p?a:r,p)},"copy"),copyTo:i(function(d,p){return PM(e,d,p,a)},"copyTo")};return u.isPrim?o&&o[fi](r,u)?u.result:t:uae(e,t,s,function(d){dr(u,"result",{g:i(function(){return d.v},"g"),s:i(function(g){d.v=g},"s")});for(var p=0,m=o;!(m||(p<aM.length?aM[p++]:cae))[fi](r,u);)m=yn})}i(Vv,"_deepCopy");function PM(e,t,r,n){if(!Oe(r))for(var o in r)t[o]=Vv(e,r[o],n,o);return t}i(PM,"_copyProps");function fae(e,t,r){var n={handler:r,src:t,path:[]};return PM([],e,t,n)}i(fae,"objCopyProps");function dae(e,t){var r={handler:t,src:e};return Vv([],e,r)}i(dae,"objDeepCopy");function mae(e){var t=e.value;if(et(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1}i(mae,"arrayDeepCopyHandler");function pae(e){var t=e.value;return fM(t)?(e.result=new Date(t.getTime()),!0):!1}i(pae,"dateDeepCopyHandler");function gae(e){return e.type===cx}i(gae,"functionDeepCopyHandler");function RM(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}i(RM,"plainObjDeepCopyHandler");function hae(e,t){return Ne(t,function(r){fae(e,r)}),e}i(hae,"_doExtend");function Kv(e,t,r,n,o,s,a){return hae(dae(e)||{},$l[fi](arguments))}i(Kv,"deepExtend");var Yv=J0e(Xd);var DM=Bn(fx,"round");var W1=xx("endsWith",Zd,xae);function xae(e,t,r){Yt(e)||mi("'"+Je(e)+"' is not a string");var n=Yt(t)?t:_n(t),o=!sr(r)&&r<e[Xd]?r:e[Xd];return Xo(e,o-n[Xd],o)===n}i(xae,"polyStrEndsWith");var C0=em("indexOf",Zd);var Nv="ref",kv="unref",Ov="hasRef",bae="enabled";function yae(e,t,r){var n=!0,o=e?t(yn):yn,s;function a(){return n=!1,o&&o[kv]&&o[kv](),s}i(a,"_unref");function l(){o&&r(o),o=yn}i(l,"_cancel");function c(){return o=t(o),n||a(),s}i(c,"_refresh");function f(u){!u&&o&&l(),u&&!o&&c()}return i(f,"_setEnabled"),s={cancel:l,refresh:c},s[Ov]=function(){return o&&o[Ov]?o[Ov]():n},s[Nv]=function(){return n=!0,o&&o[Nv]&&o[Nv](),s},s[kv]=a,s=ho(s,bae,{get:i(function(){return!!o},"get"),set:f}),{h:s,dn:i(function(){o=yn},"dn")}}i(yae,"_createTimerHandler");function AM(e,t,r){var n=et(t),o=n?t.length:0,s=(o>0?t[0]:n?Gi:t)||setTimeout,a=(o>1?t[1]:Gi)||clearTimeout,l=r[0];r[0]=function(){c.dn(),Yd(l,Gi,$l[fi](arguments))};var c=yae(e,function(f){if(f){if(f.refresh)return f.refresh(),f;Yd(a,Gi,[f])}return Yd(s,Gi,r)},function(f){Yd(a,Gi,[f])});return c.h}i(AM,"_createTimeoutWith");function To(e,t){return AM(!0,Gi,$l[fi](arguments))}i(To,"scheduleTimeout");function NM(e,t){return AM(!1,Gi,$l[fi](arguments))}i(NM,"createTimeout");var Tu=gM,Xv=hM;var $s=Tu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var js="toLowerCase",Be="length",nm="warnToConsole",ka="throwInternal",I0="watch",ql="apply",Tt="push",S0="splice",Lr="logger",Oa="cancel",La="initialize",w0="identifier",im="removeNotificationListener",om="addNotificationListener",Xi="isInitialized",Eu="value",z1="getNotifyMgr",Wl="getPlugin",Eo="name",wn="processNext",Tx="getProcessTelContext",zl="enabled",Jv="stopPollingInternalLogs",Qo="unload",H1="onComplete",Ex="version",Cx="loggingLevelConsole",P0="createNew",Co="teardown",sm="messageId",R0="message",Ji="diagLog",Hl="_doTeardown",Cu="update",Io="getNext",Gl="setNextPlugin",G1="userAgent",qs="split",Ws="replace",Fa="type",Zv="evtName",Iu="status",Qv="getAllResponseHeaders",V1="isChildEvt",Vl="data",Su="getCtx",zs="setCtx",eT="itemsReceived",am="urlString",Ix="headers",wu="timeout",Sx="traceFlags";var tT;function kM(e,t){tT||(tT=Gv("AggregationError",function(n,o){o[Be]>1&&(n.errors=o[1])}));var r=e||"One or more errors occurred.";throw Ne(t,function(n,o){r+=`
`.concat(o," > ").concat(Je(n))}),new tT(r,t||[])}i(kM,"throwAggregationError");var wx="function",K1="object",Y1="undefined",Ma="prototype";var lm=Object,rT=lm[Ma];var cXe=(yo()||{}).Symbol,uXe=(yo()||{}).Reflect;var OM="hasOwnProperty",vae=i(function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)rT[OM].call(t,o)&&(e[o]=t[o])}return e},"__objAssignFnImpl"),es=Qd||vae,nT=i(function(e,t){return nT=lm.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n[OM](o)&&(r[o]=n[o])},nT(e,t)},"extendStaticsFn");function D0(e,t){typeof t!==wx&&t!==null&&mi("Class extends value "+String(t)+" is not a constructor or null"),nT(e,t);function r(){this.constructor=e}i(r,"__"),e[Ma]=t===null?E0(t):(r[Ma]=t[Ma],new r)}i(D0,"__extendsFn");function Px(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}i(Px,"__spreadArrayFn");var Rx;var kx="constructor",Ua="prototype",Ox="function",Lx="_dynInstFuncs",sT="_isDynProxy",cm="_dynClass",Tae="_dynCls$",aT="_dynInstChk",X1=aT,BM="_dfOpts",LM="_unknown_",uT="__proto__",Dx="_dyn"+uT,FM="__dynProto$Gbl",iT="_dynInstProto",Ax="useBaseInst",lT="setInstFuncs",fT=Object,J1=fT.getPrototypeOf,MM=fT.getOwnPropertyNames,UM=yo(),cT=UM[FM]||(UM[FM]={o:(Rx={},Rx[lT]=!0,Rx[Ax]=!0,Rx),n:1e3});function Nx(e){return e&&(e===fT[Ua]||e===Array[Ua])}i(Nx,"_isObjectOrArrayPrototype");function dT(e){return Nx(e)||e===Function[Ua]}i(dT,"_isObjectArrayOrFunctionPrototype");function Pu(e){var t;if(e){if(J1)return J1(e);var r=e[uT]||e[Ua]||(e[kx]?e[kx][Ua]:null);t=e[Dx]||r,Vi(e,Dx)||(delete e[iT],t=e[Dx]=e[iT]||e[Dx],e[iT]=r)}return t}i(Pu,"_getObjProto");function Fx(e,t){var r=[];if(MM)r=MM(e);else for(var n in e)typeof n=="string"&&Vi(e,n)&&r.push(n);if(r&&r.length>0)for(var o=0;o<r.length;o++)t(r[o])}i(Fx,"_forEachProp");function mT(e,t,r){return t!==kx&&typeof e[t]===Ox&&(r||Vi(e,t))&&t!==uT&&t!==Ua}i(mT,"_isDynamicCandidate");function Mx(e){mi("DynamicProto: "+e)}i(Mx,"_throwTypeError");function Eae(e){var t=E0(null);return Fx(e,function(r){!t[r]&&mT(e,r,!1)&&(t[r]=e[r])}),t}i(Eae,"_getInstanceFuncs");function pT(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}i(pT,"_hasVisited");function Cae(e,t,r,n){function o(c,f,u){var d=f[u];if(d[sT]&&n){var p=c[Lx]||{};p[X1]!==!1&&(d=(p[f[cm]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}i(o,"_instFuncProxy");var s=E0(null);Fx(r,function(c){s[c]=o(t,r,c)});for(var a=Pu(e),l=[];a&&!dT(a)&&!pT(l,a);)Fx(a,function(c){!s[c]&&mT(a,c,!J1)&&(s[c]=o(t,a,c))}),l.push(a),a=Pu(a);return s}i(Cae,"_getBaseFuncs");function Iae(e,t,r,n){var o=null;if(e&&Vi(r,cm)){var s=e[Lx]||E0(null);if(o=(s[r[cm]]||E0(null))[t],o||Mx("Missing ["+t+"] "+Ox),!o[aT]&&s[X1]!==!1){for(var a=!Vi(e,t),l=Pu(e),c=[];a&&l&&!dT(l)&&!pT(c,l);){var f=l[t];if(f){a=f===n;break}c.push(l),l=Pu(l)}try{a&&(e[t]=o),o[aT]=1}catch{s[X1]=!1}}}return o}i(Iae,"_getInstFunc");function Sae(e,t,r){var n=t[e];return n===r&&(n=Pu(t)[e]),typeof n!==Ox&&Mx("["+e+"] is not a "+Ox),n}i(Sae,"_getProtoFunc");function wae(e,t,r,n,o){function s(c,f){var u=i(function(){var d=Iae(this,f,c,u)||Sae(f,c,u);return d.apply(this,arguments)},"dynProtoProxy");return u[sT]=1,u}if(i(s,"_createDynamicPrototype"),!Nx(e)){var a=r[Lx]=r[Lx]||E0(null);if(!Nx(a)){var l=a[t]=a[t]||E0(null);a[X1]!==!1&&(a[X1]=!!o),Nx(l)||Fx(r,function(c){mT(r,c,!1)&&r[c]!==n[c]&&(l[c]=r[c],delete r[c],(!Vi(e,c)||e[c]&&!e[c][sT])&&(e[c]=s(e,c)))})}}}i(wae,"_populatePrototype");function Pae(e,t){if(J1){for(var r=[],n=Pu(t);n&&!dT(n)&&!pT(r,n);){if(n===e)return!0;r.push(n),n=Pu(n)}return!1}return!0}i(Pae,"_checkPrototype");function oT(e,t){return Vi(e,Ua)?e.name||t||LM:((e||{})[kx]||{}).name||t||LM}i(oT,"_getObjName");function Er(e,t,r,n){Vi(e,Ua)||Mx("theClass is an invalid class definition.");var o=e[Ua];Pae(o,t)||Mx("["+oT(e)+"] not in hierarchy of ["+oT(t)+"]");var s=null;Vi(o,cm)?s=o[cm]:(s=Tae+oT(e,"_")+"$"+cT.n,cT.n++,o[cm]=s);var a=Er[BM],l=!!a[Ax];l&&n&&n[Ax]!==void 0&&(l=!!n[Ax]);var c=Eae(t),f=Cae(o,t,c,l);r(t,f);var u=!!J1&&!!a[lT];u&&n&&(u=!!n[lT]),wae(o,s,t,c,u!==!1)}i(Er,"dynamicProto");Er[BM]=cT.o;var Bx="Promise";var TT="rejected";function So(e,t){return WM(e,function(r){return t?t({status:"fulfilled",rejected:!1,value:r}):r},function(r){return t?t({status:TT,rejected:!0,reason:r}):r})}i(So,"doAwaitResponse");function WM(e,t,r,n){var o=e;try{if(xo(e))(t||r)&&(o=e.then(t,r));else try{t&&(o=t(e))}catch(s){if(r)o=r(s);else throw s}}finally{n&&Rae(o,n)}return o}i(WM,"doAwait");function Rae(e,t){var r=e;return t&&(xo(e)?e.finally?r=e.finally(t):r=e.then(function(n){return t(),n},function(n){throw t(),n}):t()),r}i(Rae,"doFinally");var gT,hT,xT,$M=!1;function Dae(e,t,r,n){gT=gT||{toString:i(function(){return"[[PromiseState]]"},"toString")},hT=hT||{toString:i(function(){return"[[PromiseResult]]"},"toString")},xT=xT||{toString:i(function(){return"[[PromiseIsHandled]]"},"toString")};var o={};o[gT]={get:t},o[hT]={get:r},o[xT]={get:n},dM(e,o)}i(Dae,"_addDebugState$1");var zM=["pending","resolving","resolved",TT],jM="dispatchEvent",Ux;function Aae(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}i(Aae,"_hasInitEventFn");function Nae(e,t,r,n){var o=_o();!Ux&&(Ux=Jo(!!Un(Aae,[o]).v));var s=Ux.v?o.createEvent("Event"):n?new Event(t):{};if(r&&r(s),Ux.v&&s.initEvent(t,!1,!0),s&&e[jM])e[jM](s);else{var a=e["on"+t];if(a)a(s);else{var l=Or("console");l&&(l.error||l.log)(t,Je(s))}}}i(Nae,"emitEvent");var HM="unhandledRejection",kae=HM.toLowerCase(),Z1=[],Oae=0,Lae=10;var bT;function qM(e){return dt(e)?e.toString():Je(e)}i(qM,"dumpFnObj");function GM(e,t,r){var n=rm(arguments,3),o=0,s=!1,a,l=[],c=Oae++,f=Z1.length>0?Z1[Z1.length-1]:void 0,u=!1,d=null,p;function m(I,w){try{Z1.push(c),u=!0,d&&d.cancel(),d=null;var j=e(function(V,G){l.push(function(){try{var Y=o===2?I:w,A=sr(Y)?a:dt(Y)?Y(a):Y;xo(A)?A.then(V,G):Y?V(A):o===3?G(A):V(A)}catch(P){G(P)}}),s&&x()},n);return j}finally{Z1.pop()}}i(m,"_then");function g(I){return m(void 0,I)}i(g,"_catch");function h(I){var w=I,j=I;return dt(I)&&(w=i(function(V){return I&&I(),V},"thenFinally"),j=i(function(V){throw I&&I(),V},"catchFinally")),m(w,j)}i(h,"_finally");function b(){return zM[o]}i(b,"_strState");function x(){if(l.length>0){var I=l.slice();l=[],u=!0,d&&d.cancel(),d=null,t(I)}}i(x,"_processQueue");function y(I,w){return function(j){if(o===w){if(I===2&&xo(j)){o=1,j.then(y(2,1),y(3,1));return}o=I,s=!0,a=j,x(),!u&&I===3&&!d&&(d=To(T,Lae))}}}i(y,"_createSettleIfFn");function T(){if(!u)if(u=!0,IM())process.emit(HM,a,p);else{var I=Yi()||yo();!bT&&(bT=Jo(Un(Or,[Bx+"RejectionEvent"]).v)),Nae(I,kae,function(w){return dr(w,"promise",{g:i(function(){return p},"g")}),w.reason=a,w},!!bT.v)}}i(T,"_notifyUnhandledRejection"),p={then:m,catch:g,finally:h},ho(p,"state",{get:b}),$M&&Dae(p,b,function(){return px(a)},function(){return u}),SM()&&(p[q1(11)]="IPromise");function _(){return"IPromise"+($M?"["+c+(sr(f)?"":":"+f)+"]":"")+" "+b()+(s?" - "+qM(a):"")}return i(_,"_toString"),p.toString=_,i(function(){dt(r)||mi(Bx+": executor is not a function - "+qM(r));var w=y(3,0);try{r.call(p,y(2,0),w)}catch(j){w(j)}},"_initialize")(),p}i(GM,"_createPromise");function Fae(e){return function(t){var r=rm(arguments,1);return e(function(n,o){try{var s=[],a=1;vx(t,function(l,c){l&&(a++,WM(l,function(f){s[c]=f,--a===0&&n(s)},o))}),a--,a===0&&n(s)}catch(l){o(l)}},r)}}i(Fae,"_createAllPromise");function Mae(e){return Jo(function(t){var r=rm(arguments,1);return e(function(n,o){var s=[],a=1;function l(c,f){a++,So(c,function(u){u.rejected?s[f]={status:TT,reason:u.reason}:s[f]={status:"fulfilled",value:u.value},--a===0&&n(s)})}i(l,"processItem");try{et(t)?Ne(t,l):zv(t)?vx(t,l):mi("Input is not an iterable"),a--,a===0&&n(s)}catch(c){o(c)}},r)})}i(Mae,"_createAllSettledPromise");function VM(e){Ne(e,function(t){try{t()}catch{}})}i(VM,"syncItemProcessor");function Uae(e){var t=Da(e)?e:0;return function(r){To(function(){VM(r)},t)}}i(Uae,"timeoutItemProcessor");function KM(e,t){return GM(KM,Uae(t),e,t)}i(KM,"createAsyncPromise");var yT;function Bae(e,t){!yT&&(yT=Jo(Un(Or,[Bx]).v||null));var r=yT.v;if(!r)return KM(e);dt(e)||mi(Bx+": executor is not a function - "+Je(e));var n=0;function o(){return zM[n]}i(o,"_strState");var s=new r(function(a,l){function c(u){n=2,a(u)}i(c,"_resolve");function f(u){n=3,l(u)}i(f,"_reject"),e(c,f)});return ho(s,"state",{get:o}),s}i(Bae,"createNativePromise");var _T;function Q1(e){return GM(Q1,VM,e)}i(Q1,"createSyncPromise");function YM(e,t){return!_T&&(_T=Mae(Q1)),_T.v(e,t)}i(YM,"createSyncAllSettledPromise");var vT;function A0(e,t){return!vT&&(vT=Jo(Bae)),vT.v.call(this,e,t)}i(A0,"createPromise");var XM=Fae(A0);var BXe=q1(11);var wo=void 0,bt="",Ru="channels",en="core",$x="createPerfMgr",eg="disabled",Ba="extensionConfig",Du="extensions",Zi="processTelemetry",Au="priority",um="eventsSent",Kl="eventsDiscarded",fm="eventsSendRequest",N0="perfEvent",jx="offlineEventsStored",qx="offlineBatchSent",Wx="offlineBatchDrop",dm="getPerfMgr",zx="domain",Hx="path",JM="Not dynamic - ";var $ae="getPrototypeOf",jae=/-([a-z])/g,qae=/([^\w\d_$])/g,Wae=/^(\d+[\w\d_$])/,VXe=Object[$ae];function Yl(e){return!Oe(e)}i(Yl,"isNotNullOrUndefined");function tg(e){var t=e;return t&&Yt(t)&&(t=t[Ws](jae,function(r,n){return n.toUpperCase()}),t=t[Ws](qae,"_"),t=t[Ws](Wae,function(r,n){return"_"+n})),t}i(tg,"normalizeJsName");function Pn(e,t){return e&&t?C0(e,t)!==-1:!1}i(Pn,"strContains");function Xl(e){return e&&e.toISOString()||""}i(Xl,"toISOString");function un(e){return j1(e)?e[Eo]:bt}i(un,"getExceptionName");function k0(e,t,r,n,o){var s=r;return e&&(s=e[t],s!==r&&(!o||o(s))&&(!n||n(r))&&(s=r,e[t]=s)),s}i(k0,"setValue");function ET(e,t,r){var n;return e?(n=e[t],!n&&Oe(n)&&(n=sr(r)?{}:r,e[t]=n)):n=sr(r)?{}:r,n}i(ET,"getSetValue");function zae(e,t){var r=null,n=null;return dt(e)?r=e:n=e,function(){var o=arguments;if(r&&(n=r()),n)return n[t][ql](n,o)}}i(zae,"_createProxyFunction");function Nu(e,t,r,n,o){e&&t&&r&&(o!==!1||sr(e[t]))&&(e[t]=zae(r,n))}i(Nu,"proxyFunctionAs");function ku(e,t,r,n){return e&&t&&di(e)&&et(r)&&Ne(r,function(o){Yt(o)&&Nu(e,o,t,o,n)}),e}i(ku,"proxyFunctions");function CT(e){return function(){function t(){var r=this;e&&gt(e,function(n,o){r[n]=o})}return i(t,"class_1"),t}()}i(CT,"createClassFromInterface");function Vx(e){return e&&Qd&&(e=lm(Qd({},e))),e}i(Vx,"optimizeObject");function Kx(e,t,r,n,o,s){var a=arguments,l=a[0]||{},c=a[Be],f=!1,u=1;for(c>0&&$1(l)&&(f=l,l=a[u]||{},u++),di(l)||(l={});u<c;u++){var d=a[u],p=et(d),m=di(d);for(var g in d){var h=p&&g in d||m&&T0(d,g);if(h){var b=d[g],x=void 0;if(f&&b&&((x=et(b))||Xn(b))){var y=l[g];x?et(y)||(y=[]):Xn(y)||(y={}),b=Kx(f,y,b)}b!==void 0&&(l[g]=b)}}}return l}i(Kx,"objExtend");function mm(e){try{return e.responseText}catch{}return null}i(mm,"getResponseText");function rg(e,t){return e?"XDomainRequest,Response:"+mm(e)||"":t}i(rg,"formatErrorMessageXdr");function Ou(e,t){return e?"XMLHttpRequest,Status:"+e[Iu]+",Response:"+mm(e)||e.response||"":t}i(Ou,"formatErrorMessageXhr");function Yx(e,t){return t&&(Da(t)?e=[t].concat(e):et(t)&&(e=t.concat(e))),e}i(Yx,"prependTransports");var Hae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ZM="withCredentials",Gae="timeout";function IT(e,t,r,n,o,s){n===void 0&&(n=!1),o===void 0&&(o=!1);function a(c,f,u){try{c[f]=u}catch{}}i(a,"_wrapSetXhrProp");var l=new XMLHttpRequest;return n&&a(l,Hae,n),r&&a(l,ZM,r),l.open(e,t,!o),r&&a(l,ZM,r),!o&&s&&a(l,Gae,s),l}i(IT,"openXhr");function QM(e){var t={};if(Yt(e)){var r=xr(e)[qs](/[\r\n]+/);Ne(r,function(n){if(n){var o=n.indexOf(": ");if(o!==-1){var s=xr(n.substring(0,o))[js](),a=xr(n.substring(o+1));t[s]=a}else t[xr(n)]=1}})}return t}i(QM,"convertAllHeadersToMap");function Gx(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r);n&&(e[r]=xr(n))}return e}i(Gx,"_appendHeader");var Vae="kill-duration",Kae="kill-duration-seconds",Yae="time-delta-millis";function ng(e,t){var r={};return e[Qv]?r=QM(e[Qv]()):t&&(r=Gx(r,e,Yae),r=Gx(r,e,Vae),r=Gx(r,e,Kae)),r}i(ng,"_getAllResponseHeaders");var Xae="documentMode",Jae="location",Zae="console",tU="JSON",Qae="crypto",ele="msCrypto";var RT="msie",DT="trident/",rU="XMLHttpRequest",ST=null,wT=null,tle=!1,pm=null,PT=null;function nU(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[Ma];n&&(r=t in n)}}catch{}if(!r)try{var o=new e;r=!sr(o[t])}catch{}}return r}i(nU,"_hasProperty");function ig(e){if(e&&tle){var t=Or("__mockLocation");if(t)return t}return typeof location===K1&&location?location:Or(Jae)}i(ig,"getLocation");function AT(){return typeof console!==Y1?console:Or(Zae)}i(AT,"getConsole");function Jl(){return!!(typeof JSON===K1&&JSON||Or(tU)!==null)}i(Jl,"hasJSON");function Si(){return Jl()?JSON||Or(tU):null}i(Si,"getJSON");function NT(){return Or(Qae)}i(NT,"getCrypto");function kT(){return Or(ele)}i(kT,"getMsCrypto");function gm(){var e=Zo();if(e&&(e[G1]!==wT||ST===null)){wT=e[G1];var t=(wT||bt)[js]();ST=Pn(t,RT)||Pn(t,DT)}return ST}i(gm,"isIE");function OT(e){if(e===void 0&&(e=null),!e){var t=Zo()||{};e=t?(t.userAgent||bt)[js]():bt}var r=(e||bt)[js]();if(Pn(r,RT)){var n=_o()||{};return yu(parseInt(r[qs](RT)[1]),n[Xae]||0)}else if(Pn(r,DT)){var o=parseInt(r[qs](DT)[1]);if(o)return o+4}return null}i(OT,"getIEVersion");function Zl(e){return(PT===null||e===!1)&&(PT=Wv()&&!!Zo().sendBeacon),PT}i(Zl,"isBeaconsSupported");function og(e){var t=!1;try{t=!!Or("fetch");var r=Or("Request");t&&e&&r&&(t=nU(r,"keepalive"))}catch{}return t}i(og,"isFetchSupported");function LT(){return pm===null&&(pm=typeof XDomainRequest!==Y1,pm&&Xx()&&(pm=pm&&!nU(Or(rU),"withCredentials"))),pm}i(LT,"useXDomainRequest");function Xx(){var e=!1;try{var t=Or(rU);e=!!t}catch{}return e}i(Xx,"isXhrSupported");var oU=4294967296,Lu=4294967295,sU=123456789,aU=987654321,lU=!1,sg=sU,ag=aU;function rle(e){e<0&&(e>>>=0),sg=sU+e&Lu,ag=aU-e&Lu,lU=!0}i(rle,"_mwcSeed");function nle(){try{var e=vo()&2147483647;rle((Math.random()*oU^e)+e)}catch{}}i(nle,"_autoSeedMwc");function iU(e){var t=0,r=NT()||kT();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&Lu),t===0&&gm()&&(lU||nle(),t=ile()&Lu),t===0&&(t=Na(oU*Math.random()|0)),e||(t>>>=0),t}i(iU,"random32");function ile(e){ag=36969*(ag&65535)+(ag>>16)&Lu,sg=18e3*(sg&65535)+(sg>>16)&Lu;var t=(ag<<16)+(sg&65535)>>>0&Lu|0;return e||(t>>>=0),t}i(ile,"mwcRandom32");function cU(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=iU()>>>0,n=0,o=bt;o[Be]<e;)n++,o+=t.charAt(r&63),r>>>=6,n===5&&(r=(iU()<<2&4294967295|r&3)>>>0,n=0);return o}i(cU,"newId");var uU="3.3.6",ole="."+cU(6),sle=0;function fU(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}i(fU,"_canAcceptData");function ale(e,t){var r=t[e.id];if(!r){r={};try{fU(t)&&dr(t,e.id,{e:!1,v:r})}catch{}}return r}i(ale,"_getCache");function Po(e,t){return t===void 0&&(t=!1),tg(e+sle+++(t?"."+uU:bt)+ole)}i(Po,"createUniqueNamespace");function Jx(e){var t={id:Po("_aiData-"+(e||bt)+"."+uU),accept:i(function(r){return fU(r)},"accept"),get:i(function(r,n,o,s){var a=r[t.id];return a?a[tg(n)]:(s&&(a=ale(t,r),a[tg(n)]=o),o)},"get"),kill:i(function(r,n){if(r&&r[n])try{delete r[n]}catch{}},"kill")};return t}i(Jx,"createElmNodeData");function Zx(e){return e&&di(e)&&(e.isVal||e.fb||T0(e,"v")||T0(e,"mrg")||T0(e,"ref")||e.set)}i(Zx,"_isConfigDefaults");function dU(e,t,r){var n,o=r.dfVal||gx;if(t&&r.fb){var s=r.fb;et(s)||(s=[s]);for(var a=0;a<s[Be];a++){var l=s[a],c=t[l];if(o(c)?n=c:e&&(c=e.cfg[l],o(c)&&(n=c),e.set(e.cfg,_n(l),c)),o(n))break}}return!o(n)&&o(r.v)&&(n=r.v),n}i(dU,"_getDefault");function FT(e,t,r){var n=r;if(r&&Zx(r)&&(n=dU(e,t,r)),n){Zx(n)&&(n=FT(e,t,n));var o;et(n)?(o=[],o[Be]=n[Be]):Xn(n)&&(o={}),o&&(gt(n,function(s,a){a&&Zx(a)&&(a=FT(e,t,a)),o[s]=a}),n=o)}return n}i(FT,"_resolveDefaultValue");function lg(e,t,r,n){var o,s,a,l=n,c,f,u,d;Zx(l)?(o=l.isVal,s=l.set,u=l.rdOnly,d=l.blkVal,c=l.mrg,f=l.ref,!f&&sr(f)&&(f=!!c),a=dU(e,t,l)):a=n,d&&e.blkVal(t,r);var p,m=!0,g=t[r];(g||!Oe(g))&&(p=g,m=!1,o&&p!==a&&!o(p)&&(p=a,m=!0),s&&(p=s(p,a,t),m=p===a)),m?a?p=FT(e,t,a):p=a:(Xn(p)||et(a))&&c&&a&&(Xn(a)||et(a))&&gt(a,function(h,b){lg(e,p,h,b)}),e.set(t,r,p),f&&e.ref(t,r),u&&e.rdOnly(t,r)}i(lg,"_applyDefaultValue");var O0=_x("[[ai_dynCfg_1]]"),mU=_x("[[ai_blkDynCfg_1]]"),lle=_x("[[ai_frcDynCfg_1]]");function MT(e){if(e){var t;if(et(e)?(t=[],t[Be]=e[Be]):Xn(e)&&(t={}),t)return gt(e,function(r,n){t[r]=MT(n)}),t}return e}i(MT,"_cfgDeepCopy");function pU(e){if(e){var t=e[O0]||e;if(t.cfg&&(t.cfg===e||t.cfg[O0]===t))return t}return null}i(pU,"getDynamicConfigHandler");function gU(e){if(e&&(Xn(e)||et(e)))try{e[mU]=!0}catch{}return e}i(gU,"blockDynamicConversion");function Qx(e,t,r){var n=!1;return r&&!e[t.blkVal]&&(n=r[lle],!n&&!r[mU]&&(n=Xn(r)||et(r))),n}i(Qx,"_canMakeDynamic");function e3(e){mi("InvalidAccess:"+e)}i(e3,"throwInvalidAccess");var cle=["push","pop","shift","unshift","splice"],hm=i(function(e,t,r,n){e&&e[ka](3,108,"".concat(r," [").concat(t,"] failed - ")+Je(n))},"_throwDynamicError");function ule(e,t,r){et(t)&&Ne(cle,function(n){var o=t[n];t[n]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=o[ql](this,s);return cg(e,t,r,"Patching"),l}})}i(ule,"_patchArray");function t3(e,t){var r=hx(e,t);return r&&r.get}i(t3,"_getOwnPropGetter");function fle(e,t,r,n){var o={n:r,h:[],trk:i(function(f){f&&f.fn&&(cn(o.h,f)===-1&&o.h[Tt](f),e.trk(f,o))},"trk"),clr:i(function(f){var u=cn(o.h,f);u!==-1&&o.h[S0](u,1)},"clr")},s=!0,a=!1;function l(){s&&(a=a||Qx(l,e,n),n&&!n[O0]&&a&&(n=cg(e,n,r,"Converting")),s=!1);var f=e.act;return f&&o.trk(f),n}i(l,"_getProperty"),l[e.prop]={chng:i(function(){e.add(o)},"chng")};function c(f){if(n!==f){l[e.ro]&&!e.upd&&e3("["+r+"] is read-only:"+Je(t)),s&&(a=a||Qx(l,e,n),s=!1);var u=a&&l[e.rf];if(a)if(u){gt(n,function(p){n[p]=f?f[p]:wo});try{gt(f,function(p,m){ug(e,n,p,m)}),f=n}catch(p){hm((e.hdlr||{})[Lr],r,"Assigning",p),a=!1}}else n&&n[O0]&&gt(n,function(p){var m=t3(n,p);if(m){var g=m[e.prop];g&&g.chng()}});if(f!==n){var d=f&&Qx(l,e,f);!u&&d&&(f=cg(e,f,r,"Converting")),n=f,a=d}e.add(o)}}i(c,"_setProperty"),dr(t,o.n,{g:l,s:c})}i(fle,"_createDynamicProperty");function ug(e,t,r,n){if(t){var o=t3(t,r),s=o&&!!o[e.prop];s?t[r]=n:fle(e,t,r,n)}return t}i(ug,"_setDynamicProperty");function r3(e,t,r,n){if(t){var o=t3(t,r),s=o&&!!o[e.prop],a=n&&n[0],l=n&&n[1],c=n&&n[2];if(!s){if(c)try{gU(t)}catch(f){hm((e.hdlr||{})[Lr],r,"Blocking",f)}try{ug(e,t,r,t[r]),o=t3(t,r)}catch(f){hm((e.hdlr||{})[Lr],r,"State",f)}}a&&(o[e.rf]=a),l&&(o[e.ro]=l),c&&(o[e.blkVal]=!0)}return t}i(r3,"_setDynamicPropertyState");function cg(e,t,r,n){try{gt(t,function(o,s){ug(e,t,o,s)}),t[O0]||(ho(t,O0,{get:i(function(){return e.hdlr},"get")}),ule(e,t,r))}catch(o){hm((e.hdlr||{})[Lr],r,n,o)}return t}i(cg,"_makeDynamicObject");var fg="[[ai_",dg="]]";function hU(e){var t=tm(fg+"get"+e.uid+dg),r=tm(fg+"ro"+e.uid+dg),n=tm(fg+"rf"+e.uid+dg),o=tm(fg+"blkVal"+e.uid+dg),s=tm(fg+"dtl"+e.uid+dg),a=null,l=null,c;function f(m,g){var h=c.act;try{c.act=m,m&&m[s]&&(Ne(m[s],function(x){x.clr(m)}),m[s]=[]),g({cfg:e.cfg,set:e.set.bind(e),setDf:e.setDf.bind(e),ref:e.ref.bind(e),rdOnly:e.rdOnly.bind(e)})}catch(x){var b=e[Lr];throw b&&b[ka](1,107,Je(x)),x}finally{c.act=h||null}}i(f,"_useHandler");function u(){if(a){var m=a;a=null,l&&l[Oa](),l=null;var g=[];if(Ne(m,function(h){if(h&&(h[s]&&(Ne(h[s],function(b){b.clr(h)}),h[s]=null),h.fn))try{f(h,h.fn)}catch(b){g[Tt](b)}}),a)try{u()}catch(h){g[Tt](h)}g[Be]>0&&kM("Watcher error(s): ",g)}}i(u,"_notifyWatchers");function d(m){if(m&&m.h[Be]>0){a||(a=[]),l||(l=To(function(){l=null,u()},0));for(var g=0;g<m.h[Be];g++){var h=m.h[g];h&&cn(a,h)===-1&&a[Tt](h)}}}i(d,"_addWatcher");function p(m,g){if(m){var h=m[s]=m[s]||[];cn(h,g)===-1&&h[Tt](g)}}return i(p,"_trackHandler"),c={prop:t,ro:r,rf:n,blkVal:o,hdlr:e,add:d,notify:u,use:f,trk:p},c}i(hU,"_createState");function dle(e,t){var r={fn:t,rm:i(function(){r.fn=null,e=null,t=null},"rm")};return dr(r,"toJSON",{v:i(function(){return"WatcherHandler"+(r.fn?"":"[X]")},"v")}),e.use(r,t),r}i(dle,"_createAndUseHandler");function mle(e,t,r){var n=pU(t);if(n)return n;var o=Po("dyncfg",!0),s=t&&r!==!1?t:MT(t),a;function l(){a.notify()}i(l,"_notifyWatchers");function c(b,x,y){try{b=ug(a,b,x,y)}catch(T){hm(e,x,"Setting value",T)}return b[x]}i(c,"_setValue");function f(b){return dle(a,b)}i(f,"_watch");function u(b,x){a.use(null,function(y){var T=a.upd;try{sr(x)||(a.upd=x),b(y)}finally{a.upd=T}})}i(u,"_block");function d(b,x){var y;return r3(a,b,x,(y={},y[0]=!0,y))[x]}i(d,"_ref");function p(b,x){var y;return r3(a,b,x,(y={},y[1]=!0,y))[x]}i(p,"_rdOnly");function m(b,x){var y;return r3(a,b,x,(y={},y[2]=!0,y))[x]}i(m,"_blkPropValue");function g(b,x){return x&&gt(x,function(y,T){lg(h,b,y,T)}),b}i(g,"_applyDefaults");var h={uid:null,cfg:s,logger:e,notify:l,set:c,setDf:g,watch:f,ref:d,rdOnly:p,blkVal:m,_block:u};return dr(h,"uid",{c:!1,e:!1,w:!1,v:o}),a=hU(h),cg(a,s,"config","Creating"),h}i(mle,"_createDynamicHandler");function ple(e,t){e?(e[nm](t),e[ka](2,108,t)):e3(t)}i(ple,"_logInvalidAccess");function vn(e,t,r,n){var o=mle(r,e||{},n);return t&&o.setDf(o.cfg,t),o}i(vn,"createDynamicConfig");function ts(e,t,r){var n=e[O0]||e;return n.cfg&&(n.cfg===e||n.cfg[O0]===n)?n[I0](t):(ple(r,JM+Je(e)),vn(e,null,r)[I0](t))}i(ts,"onConfigChange");function $a(e,t){if(e&&e[Qo])return e[Qo](t)}i($a,"runTargetUnload");function n3(e,t,r){var n;return r||(n=A0(function(o){r=o})),e&&Yv(e)>0?So($a(e[0],t),function(){n3(rm(e,1),t,r)}):r(),n}i(n3,"doUnloadAll");var xU=500,UT="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function gle(e,t,r){return!e&&Oe(e)?t:$1(e)?e:_n(e)[js]()==="true"}i(gle,"_stringToBoolOrDefault");function BT(e){return{mrg:!0,v:e}}i(BT,"cfgDfMerge");function xm(e,t,r){return{fb:r,isVal:e,v:t}}i(xm,"cfgDfValidate");function rs(e,t){return{fb:t,set:gle,v:!!e}}i(rs,"cfgDfBoolean");var $T=[um,Kl,fm,N0],o3=null,i3;function hle(e,t){return function(){var r=arguments,n=jT(t);if(n){var o=n.listener;o&&o[e]&&o[e][ql](o,r)}}}i(hle,"_listenerProxyFunc");function xle(){var e=Or("Microsoft");return e&&(o3=e.ApplicationInsights),o3}i(xle,"_getExtensionNamespace");function jT(e){var t=o3;return!t&&e.disableDbgExt!==!0&&(t=o3||xle()),t?t.ChromeDbgExt:null}i(jT,"getDebugExt");function bU(e){if(!i3){i3={};for(var t=0;t<$T[Be];t++)i3[$T[t]]=hle($T[t],e)}return i3}i(bU,"getDebugListener");var bm,_U="warnToConsole",ble="AI (Internal): ",yle="AI: ",_le="AITR_",vle={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Tle=(bm={},bm[0]=null,bm[1]="errorToConsole",bm[2]=_U,bm[3]="debugToConsole",bm);function yU(e){return e?'"'+e[Ws](/\"/g,bt)+'"':bt}i(yU,"_sanitizeDiagnosticText");function qT(e,t){var r=AT();if(r){var n="log";r[e]&&(n=e),dt(r[n])&&r[n](t)}}i(qT,"_logToConsole");var mg=function(){function e(t,r,n,o){n===void 0&&(n=!1);var s=this;s[sm]=t,s[R0]=(n?yle:ble)+t;var a=bt;Jl()&&(a=Si().stringify(o));var l=(r?" message:"+yU(r):bt)+(o?" props:"+yU(a):bt);s[R0]+=l}return i(e,"_InternalLogMessage"),e.dataType="MessageData",e}();function Fu(e,t){return(e||{})[Lr]||new ym(t)}i(Fu,"safeGetLogger");var ym=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},o,s,a,l,c;Er(e,this,function(f){c=d(t||{}),f.consoleLoggingLevel=function(){return o},f[ka]=function(g,h,b,x,y){y===void 0&&(y=!1);var T=new mg(h,b,y,x);if(l)throw Je(T);var _=Tle[g]||_U;if(sr(T[R0]))m("throw"+(g===1?"Critical":"Warning"),T);else{if(y){var I=+T[sm];!n[I]&&o>=g&&(f[_](T[R0]),n[I]=!0)}else o>=g&&f[_](T[R0]);u(g,T)}},f.debugToConsole=function(g){qT("debug",g),m("warning",g)},f[nm]=function(g){qT("warn",g),m("warning",g)},f.errorToConsole=function(g){qT("error",g),m("error",g)},f.resetInternalMessageCount=function(){r=0,n={}},f.logInternalMessage=u,f[Qo]=function(g){c&&c.rm(),c=null};function u(g,h){if(!p()){var b=!0,x=_le+h[sm];if(n[x]?b=!1:n[x]=!0,b&&(g<=s&&(f.queue[Tt](h),r++,m(g===1?"error":"warn",h)),r===a)){var y="Internal events throttle limit per PageView reached for this app.",T=new mg(23,y,!1);f.queue[Tt](T),g===1?f.errorToConsole(y):f[nm](y)}}}i(u,"_logInternalMessage");function d(g){return ts(vn(g,vle,f).cfg,function(h){var b=h.cfg;o=b[Cx],s=b.loggingLevelTelemetry,a=b.maxMessageLimit,l=b.enableDebug})}i(d,"_setDefaultsFromConfig");function p(){return r>=a}i(p,"_areInternalMessagesThrottled");function m(g,h){var b=jT(t||{});b&&b[Ji]&&b[Ji](g,h)}i(m,"_debugExtMsg")})}return i(e,"DiagnosticLogger"),e.__ieDyn=1,e}();function vU(e){return e||new ym}i(vU,"_getLogger");function Ce(e,t,r,n,o,s){s===void 0&&(s=!1),vU(e)[ka](t,r,n,o,s)}i(Ce,"_throwInternal");function ja(e,t){vU(e)[nm](t)}i(ja,"_warnToConsole");var WT,Mu,TU="toGMTString",EU="toUTCString",VT="cookie",zT="expires",CU="isCookieUseDisabled",GT="disableCookiesUsage",IU="_ckMgr",s3=null,HT=null,SU=null,L0,wU={},PU={},Ele=(WT={cookieCfg:BT((Mu={},Mu[zx]={fb:"cookieDomain",dfVal:Yl},Mu.path={fb:"cookiePath",dfVal:Yl},Mu.enabled=wo,Mu.ignoreCookies=wo,Mu.blockedCookies=wo,Mu)),cookieDomain:wo,cookiePath:wo},WT[GT]=wo,WT);function KT(){!L0&&(L0=TM(function(){return _o()}))}i(KT,"_getDoc");function a3(e){return e?e.isEnabled():!0}i(a3,"_isMgrEnabled");function OU(e,t){return t&&e&&et(e.ignoreCookies)?cn(e.ignoreCookies,t)!==-1:!1}i(OU,"_isIgnoredCookie");function Cle(e,t){return t&&e&&et(e.blockedCookies)&&cn(e.blockedCookies,t)!==-1?!0:OU(e,t)}i(Cle,"_isBlockedCookie");function RU(e,t){var r=t[zl];if(Oe(r)){var n=void 0;sr(e[CU])||(n=!e[CU]),sr(e[GT])||(n=!e[GT]),r=n}return r}i(RU,"_isCfgEnabled");function LU(e,t){var r,n,o,s,a,l,c,f;e=vn(e||PU,null,t).cfg,s=ts(e,function(d){d.setDf(d.cfg,Ele),r=d.ref(d.cfg,"cookieCfg"),n=r[Hx]||"/",o=r[zx],a=RU(e,r)!==!1,l=r.getCookie||Ile,c=r.setCookie||kU,f=r.delCookie||kU},t);var u={isEnabled:i(function(){var d=RU(e,r)!==!1&&a&&DU(t),p=PU[IU];return d&&p&&u!==p&&(d=a3(p)),d},"isEnabled"),setEnabled:i(function(d){a=d!==!1,r[zl]=d},"setEnabled"),set:i(function(d,p,m,g,h){var b=!1;if(a3(u)&&!Cle(r,d)){var x={},y=xr(p||bt),T=C0(y,";");if(T!==-1&&(y=xr($v(p,T)),x=FU(Xo(p,T+1))),k0(x,zx,g||o,jl,sr),!Oe(m)){var _=gm();if(sr(x[zT])){var I=vo(),w=I+m*1e3;if(w>0){var j=new Date;j.setTime(w),k0(x,zT,AU(j,_?TU:EU)||AU(j,_?TU:EU)||bt,jl)}}_||k0(x,"max-age",bt+m,null,sr)}var V=ig();V&&V.protocol==="https:"&&(k0(x,"secure",null,null,sr),HT===null&&(HT=!Sle((Zo()||{})[G1])),HT&&k0(x,"SameSite","None",null,sr)),k0(x,Hx,h||n,null,sr),c(d,NU(y,x)),b=!0}return b},"set"),get:i(function(d){var p=bt;return a3(u)&&!OU(r,d)&&(p=l(d)),p},"get"),del:i(function(d,p){var m=!1;return a3(u)&&(m=u.purge(d,p)),m},"del"),purge:i(function(d,p){var m,g=!1;if(DU(t)){var h=(m={},m[Hx]=p||"/",m[zT]="Thu, 01 Jan 1970 00:00:01 GMT",m);gm()||(h["max-age"]="0"),f(d,NU(bt,h)),g=!0}return g},"purge"),unload:i(function(d){s&&s.rm(),s=null},"unload")};return u[IU]=u,u}i(LU,"createCookieMgr");function DU(e){if(s3===null){s3=!1,!L0&&KT();try{var t=L0.v||{};s3=t[VT]!==void 0}catch(r){Ce(e,2,68,"Cannot access document.cookie - "+un(r),{exception:Je(r)})}}return s3}i(DU,"areCookiesSupported");function FU(e){var t={};if(e&&e[Be]){var r=xr(e)[qs](";");Ne(r,function(n){if(n=xr(n||bt),n){var o=C0(n,"=");o===-1?t[n]=null:t[xr($v(n,o))]=xr(Xo(n,o+1))}})}return t}i(FU,"_extractParts");function AU(e,t){return dt(e[t])?e[t]():null}i(AU,"_formatDate");function NU(e,t){var r=e||bt;return gt(t,function(n,o){r+="; "+n+(Oe(o)?bt:"="+o)}),r}i(NU,"_formatCookieValue");function Ile(e){var t=bt;if(!L0&&KT(),L0.v){var r=L0.v[VT]||bt;SU!==r&&(wU=FU(r),SU=r),t=xr(wU[e]||bt)}return t}i(Ile,"_getCookieValue");function kU(e,t){!L0&&KT(),L0.v&&(L0.v[VT]=e+"="+t)}i(kU,"_setCookieValue");function Sle(e){return Yt(e)?!!(Pn(e,"CPU iPhone OS 12")||Pn(e,"iPad; CPU OS 12")||Pn(e,"Macintosh; Intel Mac OS X 10_14")&&Pn(e,"Version/")&&Pn(e,"Safari")||Pn(e,"Macintosh; Intel Mac OS X 10_14")&&W1(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Pn(e,"Chrome/5")||Pn(e,"Chrome/6")||Pn(e,"UnrealEngine")&&!Pn(e,"Chrome")||Pn(e,"UCBrowser/12")||Pn(e,"UCBrowser/11")):!1}i(Sle,"uaDisallowsSameSiteNone");var wle={perfEvtsSendAll:!1};function Ple(e){e.h=null;var t=e.cb;e.cb=[],Ne(t,function(r){Un(r.fn,[r.arg])})}i(Ple,"_runScheduledListeners");function Ql(e,t,r,n){Ne(e,function(o){o&&o[t]&&(r?(r.cb[Tt]({fn:n,arg:o}),r.h=r.h||To(Ple,0,r)):Un(n,[o]))})}i(Ql,"_runListeners");var MU=function(){function e(t){this.listeners=[];var r,n,o=[],s={h:null,cb:[]},a=vn(t,wle);n=a[I0](function(l){r=!!l.cfg.perfEvtsSendAll}),Er(e,this,function(l){dr(l,"listeners",{g:i(function(){return o},"g")}),l[om]=function(c){o[Tt](c)},l[im]=function(c){for(var f=cn(o,c);f>-1;)o[S0](f,1),f=cn(o,c)},l[um]=function(c){Ql(o,um,s,function(f){f[um](c)})},l[Kl]=function(c,f){Ql(o,Kl,s,function(u){u[Kl](c,f)})},l[fm]=function(c,f){Ql(o,fm,f?s:null,function(u){u[fm](c,f)})},l[N0]=function(c){c&&(r||!c[V1]())&&Ql(o,N0,null,function(f){c.isAsync?To(function(){return f[N0](c)},0):f[N0](c)})},l[jx]=function(c){c&&c[Be]&&Ql(o,jx,s,function(f){f[jx](c)})},l[qx]=function(c){c&&c[Vl]&&Ql(o,qx,s,function(f){f[qx](c)})},l[Wx]=function(c,f){if(c>0){var u=f||0;Ql(o,Wx,s,function(d){d[Wx](c,u)})}},l[Qo]=function(c){var f=i(function(){n&&n.rm(),n=null,o=[],s.h&&s.h[Oa](),s.h=null,s.cb=[]},"_finishUnload"),u;if(Ql(o,"unload",null,function(d){var p=d[Qo](c);p&&(u||(u=[]),u[Tt](p))}),u)return A0(function(d){return So(XM(u),function(){f(),d()})});f()}})}return i(e,"NotificationManager"),e.__ieDyn=1,e}();var _m="ctx",XT="ParentContextKey",pg="ChildrenContextKey",Rle=null,l3=function(){function e(t,r,n){var o=this;if(o.start=vo(),o[Eo]=t,o.isAsync=n,o[V1]=function(){return!1},dt(r)){var s;dr(o,"payload",{g:i(function(){return!s&&dt(r)&&(s=r(),r=null),s},"g")})}o[Su]=function(a){return a?a===e[XT]||a===e[pg]?o[a]:(o[_m]||{})[a]:null},o[zs]=function(a,l){if(a)if(a===e[XT])o[a]||(o[V1]=function(){return!0}),o[a]=l;else if(a===e[pg])o[a]=l;else{var c=o[_m]=o[_m]||{};c[a]=l}},o.complete=function(){var a=0,l=o[Su](e[pg]);if(et(l))for(var c=0;c<l[Be];c++){var f=l[c];f&&(a+=f.time)}o.time=vo()-o.start,o.exTime=o.time-a,o.complete=function(){}}}return i(e,"PerfEvent"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var UU=function(){function e(t){this.ctx={},Er(e,this,function(r){r.create=function(n,o,s){return new l3(n,o,s)},r.fire=function(n){n&&(n.complete(),t&&dt(t[N0])&&t[N0](n))},r[zs]=function(n,o){if(n){var s=r[_m]=r[_m]||{};s[n]=o}},r[Su]=function(n){return(r[_m]||{})[n]}})}return i(e,"PerfManager"),e.__ieDyn=1,e}();var YT="CoreUtils.doPerf";function c3(e,t,r,n,o){if(e){var s=e;if(s[dm]&&(s=s[dm]()),s){var a=void 0,l=s[Su](YT);try{if(a=s.create(t(),n,o),a){if(l&&a[zs]&&(a[zs](l3[XT],l),l[Su]&&l[zs])){var c=l[Su](l3[pg]);c||(c=[],l[zs](l3[pg],c)),c[Tt](a)}return s[zs](YT,a),r(a)}}catch(f){a&&a[zs]&&a[zs]("exception",f)}finally{a&&s.fire(a),s[zs](YT,l)}}}return r()}i(c3,"doPerf");function BU(){return Rle}i(BU,"getGblPerfMgr");var Dle="00000000000000000000000000000000",Ale="0000000000000000";function $U(e,t,r){return e&&e[Be]===t&&e!==r?!!e.match(/^[\da-f]*$/i):!1}i($U,"_isValid");function JT(e){return $U(e,32,Dle)}i(JT,"isValidTraceId");function ZT(e){return $U(e,16,Ale)}i(ZT,"isValidSpanId");var Nle=Jx("plugin");function qa(e){return Nle.get(e,"state",{},!0)}i(qa,"_getPluginState");function QT(e,t){for(var r=[],n=null,o=e[Io](),s;o;){var a=o[Wl]();if(a){n&&n[Gl]&&a[Zi]&&n[Gl](a),s=qa(a);var l=!!s[Xi];a[Xi]&&(l=a[Xi]()),l||r[Tt](a),n=a,o=o[Io]()}}Ne(r,function(c){var f=e[en]();c[La](e.getCfg(),f,t,e[Io]()),s=qa(c),!c[en]&&!s[en]&&(s[en]=f),s[Xi]=!0,delete s[Co]})}i(QT,"initializePlugins");function u3(e){return e.sort(function(t,r){var n=0;if(r){var o=r[Zi];t[Zi]?n=o?t[Au]-r[Au]:1:o&&(n=-1)}else n=t?1:-1;return n})}i(u3,"sortPlugins");function jU(e){var t={};return{getName:i(function(){return t[Eo]},"getName"),setName:i(function(r){e&&e.setName(r),t[Eo]=r},"setName"),getTraceId:i(function(){return t.traceId},"getTraceId"),setTraceId:i(function(r){e&&e.setTraceId(r),JT(r)&&(t.traceId=r)},"setTraceId"),getSpanId:i(function(){return t.spanId},"getSpanId"),setSpanId:i(function(r){e&&e.setSpanId(r),ZT(r)&&(t.spanId=r)},"setSpanId"),getTraceFlags:i(function(){return t[Sx]},"getTraceFlags"),setTraceFlags:i(function(r){e&&e.setTraceFlags(r),t[Sx]=r},"setTraceFlags")}}i(jU,"createDistributedTraceContext");var kle="TelemetryPluginChain",qU="_hasRun",WU="_getTelCtx",zU=0;function Ole(e,t,r){for(;e;){if(e[Wl]()===r)return e;e=e[Io]()}return ec([r],t.config||{},t)}i(Ole,"_getNextProxyStart");function eE(e,t,r,n){var o=null,s=[];t||(t=vn({},null,r[Lr])),n!==null&&(o=n?Ole(e,r,n):e);var a={_next:c,ctx:{core:i(function(){return r},"core"),diagLog:i(function(){return Fu(r,t.cfg)},"diagLog"),getCfg:i(function(){return t.cfg},"getCfg"),getExtCfg:u,getConfig:d,hasNext:i(function(){return!!o},"hasNext"),getNext:i(function(){return o},"getNext"),setNext:i(function(m){o=m},"setNext"),iterate:p,onComplete:l}};function l(m,g){for(var h=[],b=2;b<arguments.length;b++)h[b-2]=arguments[b];m&&s[Tt]({func:m,self:sr(g)?a.ctx:g,args:h})}i(l,"_addOnComplete");function c(){var m=o;if(o=m?m[Io]():null,!m){var g=s;g&&g[Be]>0&&(Ne(g,function(h){try{h.func.call(h.self,h.args)}catch(b){Ce(r[Lr],2,73,"Unexpected Exception during onComplete - "+Je(b))}}),s=[])}return m}i(c,"_moveNext");function f(m,g){var h=null,b=t.cfg;if(b&&m){var x=b[Ba];!x&&g&&(x={}),b[Ba]=x,x=t.ref(b,Ba),x&&(h=x[m],!h&&g&&(h={}),x[m]=h,h=t.ref(x,m))}return h}i(f,"_getExtCfg");function u(m,g){var h=f(m,!0);return g&&gt(g,function(b,x){if(Oe(h[b])){var y=t.cfg[b];(y||!Oe(y))&&(h[b]=y)}lg(t,h,b,x)}),t.setDf(h,g)}i(u,"_resolveExtCfg");function d(m,g,h){h===void 0&&(h=!1);var b,x=f(m,!1),y=t.cfg;return x&&(x[g]||!Oe(x[g]))?b=x[g]:(y[g]||!Oe(y[g]))&&(b=y[g]),b||!Oe(b)?b:h}i(d,"_getConfig");function p(m){for(var g;g=a._next();){var h=g[Wl]();h&&m(h)}}return i(p,"_iterateChain"),a}i(eE,"_createInternalContext");function Hs(e,t,r,n){var o=vn(t),s=eE(e,o,r,n),a=s.ctx;function l(f){var u=s._next();return u&&u[Zi](f,a),!u}i(l,"_processNext");function c(f,u){return f===void 0&&(f=null),et(f)&&(f=ec(f,o.cfg,r,u)),Hs(f||a[Io](),o.cfg,r,u)}return i(c,"_createNew"),a[wn]=l,a[P0]=c,a}i(Hs,"createProcessTelemetryContext");function vm(e,t,r){var n=vn(t.config),o=eE(e,n,t,r),s=o.ctx;function a(c){var f=o._next();return f&&f[Qo](s,c),!f}i(a,"_processNext");function l(c,f){return c===void 0&&(c=null),et(c)&&(c=ec(c,n.cfg,t,f)),vm(c||s[Io](),t,f)}return i(l,"_createNew"),s[wn]=a,s[P0]=l,s}i(vm,"createProcessTelemetryUnloadContext");function gg(e,t,r){var n=vn(t.config),o=eE(e,n,t,r),s=o.ctx;function a(c){return s.iterate(function(f){dt(f[Cu])&&f[Cu](s,c)})}i(a,"_processNext");function l(c,f){return c===void 0&&(c=null),et(c)&&(c=ec(c,n.cfg,t,f)),gg(c||s[Io](),t,f)}return i(l,"_createNew"),s[wn]=a,s[P0]=l,s}i(gg,"createProcessTelemetryUpdateContext");function ec(e,t,r,n){var o=null,s=!n;if(et(e)&&e[Be]>0){var a=null;Ne(e,function(l){if(!s&&n===l&&(s=!0),s&&l&&dt(l[Zi])){var c=Lle(l,t,r);o||(o=c),a&&a._setNext(c),a=c}})}return n&&!o?ec([n],t,r):o}i(ec,"createTelemetryProxyChain");function Lle(e,t,r){var n=null,o=dt(e[Zi]),s=dt(e[Gl]),a;e?a=e[w0]+"-"+e[Au]+"-"+zU++:a="Unknown-0-"+zU++;var l={getPlugin:i(function(){return e},"getPlugin"),getNext:i(function(){return n},"getNext"),processTelemetry:u,unload:d,update:p,_id:a,_setNext:i(function(m){n=m},"_setNext")};function c(){var m;return e&&dt(e[WU])&&(m=e[WU]()),m||(m=Hs(l,t,r)),m}i(c,"_getTelCtx");function f(m,g,h,b,x){var y=!1,T=e?e[w0]:kle,_=m[qU];return _||(_=m[qU]={}),m.setNext(n),e&&c3(m[en](),function(){return T+":"+h},function(){_[a]=!0;try{var I=n?n._id:bt;I&&(_[I]=!1),y=g(m)}catch(j){var w=n?_[n._id]:!0;w&&(y=!0),(!n||!w)&&Ce(m[Ji](),1,73,"Plugin ["+T+"] failed during "+h+" - "+Je(j)+", run flags: "+Je(_))}},b,x),y}i(f,"_processChain");function u(m,g){g=g||c();function h(b){if(!e||!o)return!1;var x=qa(e);return x[Co]||x[eg]?!1:(s&&e[Gl](n),e[Zi](m,b),!0)}i(h,"_callProcessTelemetry"),f(g,h,"processTelemetry",function(){return{item:m}},!m.sync)||g[wn](m)}i(u,"_processTelemetry");function d(m,g){function h(){var b=!1;if(e){var x=qa(e),y=e[en]||x[en];e&&(!y||y===m.core())&&!x[Co]&&(x[en]=null,x[Co]=!0,x[Xi]=!1,e[Co]&&e[Co](m,g)===!0&&(b=!0))}return b}i(h,"_callTeardown"),f(m,h,"unload",function(){},g.isAsync)||m[wn](g)}i(d,"_unloadPlugin");function p(m,g){function h(){var b=!1;if(e){var x=qa(e),y=e[en]||x[en];e&&(!y||y===m.core())&&!x[Co]&&e[Cu]&&e[Cu](m,g)===!0&&(b=!0)}return b}i(h,"_callUpdate"),f(m,h,"update",function(){},!1)||m[wn](g)}return i(p,"_updatePlugin"),bo(l)}i(Lle,"createTelemetryPluginProxy");var Fle=function(){function e(t,r,n,o){var s=this,a=Hs(t,r,n,o);ku(s,a,Yo(a))}return i(e,"ProcessTelemetryContext"),e}();function f3(){var e=[];function t(n){n&&e[Tt](n)}i(t,"_addHandler");function r(n,o){Ne(e,function(s){try{s(n,o)}catch(a){Ce(n[Ji](),2,73,"Unexpected error calling unload handler - "+Je(a))}}),e=[]}return i(r,"_runHandlers"),{add:t,run:r}}i(f3,"createUnloadHandlerContainer");var d3,m3;function p3(){var e=[];function t(n){var o=e;e=[],Ne(o,function(s){try{(s.rm||s.remove).call(s)}catch(a){Ce(n,2,73,"Unloading:"+Je(a))}}),d3&&o[Be]>d3&&(m3?m3("doUnload",o):Ce(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}i(t,"_doUnload");function r(n){n&&(Aa(e,n),d3&&e[Be]>d3&&(m3?m3("Add",e):Ce(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return i(r,"_addHook"),{run:t,add:r}}i(p3,"createUnloadHookContainer");var tE,tc="getPlugin",Mle=(tE={},tE[Ba]={isVal:Yl,v:{}},tE),hg=function(){function e(){var t=this,r,n,o,s,a;f(),Er(e,t,function(u){u[La]=function(d,p,m,g){c(d,p,g),r=!0},u[Co]=function(d,p){var m=u[en];if(!m||d&&m!==d[en]())return;var g,h=!1,b=d||vm(null,m,o&&o[tc]?o[tc]():o),x=p||{reason:0,isAsync:!1};function y(){h||(h=!0,s.run(b,p),a.run(b[Ji]()),g===!0&&b[wn](x),f())}return i(y,"_unloadCallback"),!u[Hl]||u[Hl](b,x,y)!==!0?y():g=!0,g},u[Cu]=function(d,p){var m=u[en];if(!m||d&&m!==d[en]())return;var g,h=!1,b=d||gg(null,m,o&&o[tc]?o[tc]():o),x=p||{reason:0};function y(){h||(h=!0,c(b.getCfg(),b.core(),b[Io]()))}return i(y,"_updateCallback"),!u._doUpdate||u._doUpdate(b,x,y)!==!0?y():g=!0,g},Nu(u,"_addUnloadCb",function(){return s},"add"),Nu(u,"_addHook",function(){return a},"add"),dr(u,"_unloadHooks",{g:i(function(){return a},"g")})}),t[Ji]=function(u){return l(u)[Ji]()},t[Xi]=function(){return r},t.setInitialized=function(u){r=u},t[Gl]=function(u){o=u},t[wn]=function(u,d){d?d[wn](u):o&&dt(o[Zi])&&o[Zi](u,null)},t._getTelCtx=l;function l(u){u===void 0&&(u=null);var d=u;if(!d){var p=n||Hs(null,{},t[en]);o&&o[tc]?d=p[P0](null,o[tc]):d=p[P0](null,o)}return d}i(l,"_getTelCtx");function c(u,d,p){vn(u,Mle,Fu(d)),!p&&d&&(p=d[Tx]()[Io]());var m=o;o&&o[tc]&&(m=o[tc]()),t[en]=d,n=Hs(p,u,d,m)}i(c,"_setDefaults");function f(){r=!1,t[en]=null,n=null,o=null,a=p3(),s=f3()}i(f,"_initDefaults")}return i(e,"BaseTelemetryPlugin"),e.__ieDyn=1,e}();function Ule(e,t,r){var n={id:t,fn:r};Aa(e,n);var o={remove:i(function(){Ne(e,function(s,a){if(s.id===n.id)return e[S0](a,1),-1})},"remove")};return o}i(Ule,"_addInitializer");function Ble(e,t,r){for(var n=!1,o=e[Be],s=0;s<o;++s){var a=e[s];if(a)try{if(a.fn[ql](null,[t])===!1){n=!0;break}}catch(l){Ce(r,2,64,"Telemetry initializer failed: "+un(l),{exception:Je(l)},!0)}}return!n}i(Ble,"_runInitializers");var HU=function(e){D0(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,o;s(),Er(t,r,function(a,l){a.addTelemetryInitializer=function(c){return Ule(o,n++,c)},a[Zi]=function(c,f){Ble(o,c,f?f[Ji]():a[Ji]())&&a[wn](c,f)},a[Hl]=function(){s()}});function s(){n=0,o=[]}return i(s,"_initDefaults"),r}return i(t,"TelemetryInitializerPlugin"),t.__ieDyn=1,t}(hg);var rc,YU="Plugins must provide initialize method",$le="_notificationManager",GU="SDK is still unloading...",jle="SDK is not initialized",qle=100,Wle=5e4,rE=bu((rc={cookieCfg:{}},rc[Du]={rdOnly:!0,ref:!0,v:[]},rc[Ru]={rdOnly:!0,ref:!0,v:[]},rc[Ba]={ref:!0,v:{}},rc[$x]=wo,rc.loggingLevelConsole=0,rc.diagnosticLogInterval=wo,rc));function zle(e,t){return new UU(t)}i(zle,"_createPerfManager");function Hle(e,t,r){var n=[],o=[],s={};return Ne(r,function(a){(Oe(a)||Oe(a[La]))&&Ki(YU);var l=a[Au],c=a[w0];a&&l&&(Oe(s[l])?s[l]=c:ja(e,"Two extensions have same priority #"+l+" - "+s[l]+", "+c)),!l||l<t?n[Tt](a):o[Tt](a)}),{core:n,channels:o}}i(Hle,"_validateExtensions");function VU(e,t){var r=!1;return Ne(t,function(n){if(n===e)return r=!0,-1}),r}i(VU,"_isPluginPresent");function nE(e,t,r,n){r&&gt(r,function(o,s){n&&Xn(s)&&Xn(t[o])&&nE(e,t[o],s,n),n&&Xn(s)&&Xn(t[o])?nE(e,t[o],s,n):e.set(t,o,s)})}i(nE,"_deepMergeConfig");function KU(e,t){var r=null,n=-1;return Ne(e,function(o,s){if(o.w===t)return r=o,n=s,-1}),{i:n,l:r}}i(KU,"_findWatcher");function Gle(e,t){var r=KU(e,t).l;return r||(r={w:t,rm:i(function(){var n=KU(e,t);n.i!==-1&&e[S0](n.i,1)},"rm")},e[Tt](r)),r}i(Gle,"_addDelayedCfgListener");function Vle(e,t,r){Ne(t,function(n){var o=ts(e,n.w,r);delete n.w,n.rm=function(){o.rm()}})}i(Vle,"_registerDelayedCfgListener");function Kle(e,t,r,n){return t.add(e[I0](function(o){var s=o.cfg.disableDbgExt;s===!0&&n&&(r[im](n),n=null),r&&!n&&s!==!0&&(n=bU(o.cfg),r[om](n))})),n}i(Kle,"_initDebugListener");function Yle(e){return dr({rm:i(function(){e.rm()},"rm")},"toJSON",{v:i(function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"},"v")})}i(Yle,"_createUnloadHook");var iE=function(){function e(){var t,r,n,o,s,a,l,c,f,u,d,p,m,g,h,b,x,y,T,_,I,w,j,V,G,Y,A,P,z,N,E,v,R;Er(e,this,function(S){H(),S._getDbgPlgTargets=function(){return[j,o]},S[Xi]=function(){return r},S.activeStatus=function(){return Y},S._setPendingStatus=function(){Y=3},S[La]=function(q,re,xe,ue){m&&Ki(GU),S[Xi]()&&Ki("Core cannot be initialized more than once"),t=vn(q,rE,xe||S[Lr],!1),q=t.cfg,le(t[I0](function(we){var ke=we.cfg,je=Y===3;if(!je){P=ke.initInMemoMaxSize||qle;var Ke=ke.instrumentationKey,tt=ke.endpointUrl;if(Oe(Ke)){I=null,Y=$s.INACTIVE;var rt="Please provide instrumentation key";r?(Ce(n,1,100,rt),O()):Ki(rt);return}var lt=[];if(xo(Ke)?(lt[Tt](Ke),I=null):I=Ke,xo(tt)?(lt[Tt](tt),A=null):A=tt,lt[Be]){z=!1,Y=3;var L=Yl(ke.initTimeOut)?ke.initTimeOut:Wle,Z=YM(lt);N=To(function(){N=null,z||D()},L),So(Z,function(pe){try{if(z)return;if(!pe.rejected){var De=pe[Eu];if(De&&De[Be]){var Me=De[0];if(I=Me&&Me[Eu],De[Be]>1){var $e=De[1];A=$e&&$e[Eu]}}I&&(q.instrumentationKey=I,q.endpointUrl=A)}D()}catch{z||D()}})}else D();var fe=we.ref(we.cfg,Ba);gt(fe,function(pe){we.ref(fe,pe)})}})),s=ue,T=Kle(t,y,s&&S[z1](),T),F(),S[Lr]=xe;var de=q[Du];if(u=[],u[Tt].apply(u,Px(Px([],re,!1),de,!1)),d=q[Ru],ye(null),(!p||p[Be]===0)&&Ki("No "+Ru+" available"),d&&d[Be]>1){var Ee=S[Wl]("TeeChannelController");(!Ee||!Ee.plugin)&&Ce(n,1,28,"TeeChannel required")}Vle(q,w,n),w=null,r=!0,Y===$s.ACTIVE&&O()},S.getChannels=function(){var q=[];return p&&Ne(p,function(re){q[Tt](re)}),bo(q)},S.track=function(q){c3(S[dm](),function(){return"AppInsightsCore:track"},function(){q===null&&(ge(q),Ki("Invalid telemetry item")),!q[Eo]&&Oe(q[Eo])&&(ge(q),Ki("telemetry name required")),q.iKey=q.iKey||I,q.time=q.time||Xl(new Date),q.ver=q.ver||"4.0",!m&&S[Xi]()&&Y===$s.ACTIVE?ae()[wn](q):Y!==$s.INACTIVE&&o[Be]<=P&&o[Tt](q)},function(){return{item:q}},!q.sync)},S[Tx]=ae,S[z1]=function(){return s||(s=new MU(t.cfg),S[$le]=s),s},S[om]=function(q){S.getNotifyMgr()[om](q)},S[im]=function(q){s&&s[im](q)},S.getCookieMgr=function(){return c||(c=LU(t.cfg,S[Lr])),c},S.setCookieMgr=function(q){c!==q&&($a(c,!1),c=q)},S[dm]=function(){return a||l||BU()},S.setPerfMgr=function(q){a=q},S.eventCnt=function(){return o[Be]},S.releaseQueue=function(){if(r&&o[Be]>0){var q=o;o=[],Y===2?Ne(q,function(re){re.iKey=re.iKey||I,ae()[wn](re)}):Ce(n,2,20,"core init status is not active")}},S.pollInternalLogs=function(q){return h=q||null,R=!1,E&&E[Oa](),M(!0)};function D(){z=!0,Oe(I)?(Y=$s.INACTIVE,Ce(n,1,112,"ikey can't be resolved from promises")):Y=$s.ACTIVE,O()}i(D,"_setStatus");function O(){r&&(S.releaseQueue(),S.pollInternalLogs())}i(O,"_releaseQueues");function M(q){if((!E||!E[zl])&&!R){var re=q||n&&n.queue[Be]>0;re&&(v||(v=!0,le(t[I0](function(xe){var ue=xe.cfg.diagnosticLogInterval;(!ue||!(ue>0))&&(ue=1e4);var de=!1;E&&(de=E[zl],E[Oa]()),E=NM(Ve,ue),E.unref(),E[zl]=de}))),E[zl]=!0)}return E}i(M,"_startLogPoller"),S[Jv]=function(){R=!0,E&&E[Oa](),Ve()},ku(S,function(){return g},["addTelemetryInitializer"]),S[Qo]=function(q,re,xe){q===void 0&&(q=!0),r||Ki(jle),m&&Ki(GU);var ue={reason:50,isAsync:q,flushComplete:!1},de;q&&!re&&(de=A0(function(ke){re=ke}));var Ee=vm(Ue(),S);Ee[H1](function(){y.run(S[Lr]),n3([c,s,n],q,function(){H(),re&&re(ue)})},S);function we(ke){ue.flushComplete=ke,m=!0,x.run(Ee,ue),S[Jv](),Ee[wn](ue)}return i(we,"_doUnload"),Ve(),Ze(q,we,6,xe)||we(!1),de},S[Wl]=he,S.addPlugin=function(q,re,xe,ue){if(!q){ue&&ue(!1),$(YU);return}var de=he(q[w0]);if(de&&!re){ue&&ue(!1),$("Plugin ["+q[w0]+"] is already loaded!");return}var Ee={reason:16};function we(Ke){u[Tt](q),Ee.added=[q],ye(Ee),ue&&ue(!0)}if(i(we,"_addPlugin"),de){var ke=[de.plugin],je={reason:2,isAsync:!!xe};Ge(ke,je,function(Ke){Ke?(Ee.removed=ke,Ee.reason|=32,we(!0)):ue&&ue(!1)})}else we(!1)},S.updateCfg=function(q,re){re===void 0&&(re=!0);var xe;if(S[Xi]()){xe={reason:1,cfg:t.cfg,oldCfg:Kv({},t.cfg),newConfig:Kv({},q),merge:re},q=xe.newConfig;var ue=t.cfg;q[Du]=ue[Du],q[Ru]=ue[Ru]}t._block(function(de){var Ee=de.cfg;nE(de,Ee,q,re),re||gt(Ee,function(we){T0(q,we)||de.set(Ee,we,wo)}),de.setDf(Ee,rE)},!0),t.notify(),xe&&ne(xe)},S.evtNamespace=function(){return b},S.flush=Ze,S.getTraceCtx=function(q){return _||(_=jU()),_},S.setTraceCtx=function(q){_=q||null},S.addUnloadHook=le,Nu(S,"addUnloadCb",function(){return x},"add"),S.onCfgChange=function(q){var re;return r?re=ts(t.cfg,q,S[Lr]):re=Gle(w,q),Yle(re)},S.getWParam=function(){return qv()||t.cfg.enableWParam?0:-1};function B(){var q={};V=[];var re=i(function(xe){xe&&Ne(xe,function(ue){if(ue[w0]&&ue[Ex]&&!q[ue.identifier]){var de=ue[w0]+"="+ue[Ex];V[Tt](de),q[ue.identifier]=ue}})},"_addPluginVersions");re(p),d&&Ne(d,function(xe){re(xe)}),re(u)}i(B,"_setPluginVersions");function H(){r=!1,t=vn({},rE,S[Lr]),t.cfg[Cx]=1,dr(S,"config",{g:i(function(){return t.cfg},"g"),s:i(function(re){S.updateCfg(re,!1)},"s")}),dr(S,"pluginVersionStringArr",{g:i(function(){return V||B(),V},"g")}),dr(S,"pluginVersionString",{g:i(function(){return G||(V||B(),G=V.join(";")),G||bt},"g")}),dr(S,"logger",{g:i(function(){return n||(n=new ym(t.cfg),t[Lr]=n),n},"g"),s:i(function(re){t[Lr]=re,n!==re&&($a(n,!1),n=re)},"s")}),S[Lr]=new ym(t.cfg),j=[];var q=S.config[Du]||[];q.splice(0,q[Be]),Aa(q,j),g=new HU,o=[],$a(s,!1),s=null,a=null,l=null,$a(c,!1),c=null,f=null,u=[],d=null,p=null,m=!1,h=null,b=Po("AIBaseCore",!0),x=f3(),_=null,I=null,y=p3(),w=[],G=null,V=null,R=!1,E=null,v=!1,Y=0,A=null,P=null,z=!1,N=null}i(H,"_initDefaults");function ae(){var q=Hs(Ue(),t.cfg,S);return q[H1](M),q}i(ae,"_createTelCtx");function ye(q){var re=Hle(S[Lr],xU,u);f=null,G=null,V=null,p=(d||[])[0]||[],p=u3(Aa(p,re[Ru]));var xe=Aa(u3(re[en]),p);j=bo(xe);var ue=S.config[Du]||[];ue.splice(0,ue[Be]),Aa(ue,j);var de=ae();p&&p[Be]>0&&QT(de[P0](p),xe),QT(de,xe),q&&ne(q)}i(ye,"_initPluginChain");function he(q){var re=null,xe=null,ue=[];return Ne(j,function(de){if(de[w0]===q&&de!==g)return xe=de,-1;de.getChannel&&ue[Tt](de)}),!xe&&ue[Be]>0&&Ne(ue,function(de){if(xe=de.getChannel(q),!xe)return-1}),xe&&(re={plugin:xe,setEnabled:i(function(de){qa(xe)[eg]=!de},"setEnabled"),isEnabled:i(function(){var de=qa(xe);return!de[Co]&&!de[eg]},"isEnabled"),remove:i(function(de,Ee){de===void 0&&(de=!0);var we=[xe],ke={reason:1,isAsync:de};Ge(we,ke,function(je){je&&ye({reason:32,removed:we}),Ee&&Ee(je)})},"remove")}),re}i(he,"_getPlugin");function Ue(){if(!f){var q=(j||[]).slice();cn(q,g)===-1&&q[Tt](g),f=ec(u3(q),t.cfg,S)}return f}i(Ue,"_getPluginChain");function Ge(q,re,xe){if(q&&q[Be]>0){var ue=ec(q,t.cfg,S),de=vm(ue,S);de[H1](function(){var Ee=!1,we=[];Ne(u,function(je,Ke){VU(je,q)?Ee=!0:we[Tt](je)}),u=we,G=null,V=null;var ke=[];d&&(Ne(d,function(je,Ke){var tt=[];Ne(je,function(rt){VU(rt,q)?Ee=!0:tt[Tt](rt)}),ke[Tt](tt)}),d=ke),xe&&xe(Ee),M()}),de[wn](re)}else xe(!1)}i(Ge,"_removePlugins");function Ve(){if(n&&n.queue){var q=n.queue.slice(0);n.queue[Be]=0,Ne(q,function(re){var xe={name:h||"InternalMessageId: "+re[sm],iKey:I,time:Xl(new Date),baseType:mg.dataType,baseData:{message:re[R0]}};S.track(xe)})}}i(Ve,"_flushInternalLogs");function Ze(q,re,xe,ue){var de=1,Ee=!1,we=null;ue=ue||5e3;function ke(){de--,Ee&&de===0&&(we&&we[Oa](),we=null,re&&re(Ee),re=null)}if(i(ke,"doCallback"),p&&p[Be]>0){var je=ae()[P0](p);je.iterate(function(Ke){if(Ke.flush){de++;var tt=!1;Ke.flush(q,function(){tt=!0,ke()},xe)||tt||(q&&we==null?we=To(function(){we=null,ke()},ue):ke())}})}return Ee=!0,ke(),!0}i(Ze,"_flushChannels");function F(){var q;le(t[I0](function(re){var xe=re.cfg.enablePerfMgr;if(xe){var ue=re.cfg[$x];(q!==ue||!q)&&(ue||(ue=zle),ET(re.cfg,$x,ue),q=ue,l=null),!a&&!l&&dt(ue)&&(l=ue(S,S[z1]()))}else l=null,q=null}))}i(F,"_initPerfManager");function ne(q){var re=gg(Ue(),S);re[H1](M),(!S._updateHook||S._updateHook(re,q)!==!0)&&re[wn](q)}i(ne,"_doUpdate");function $(q){var re=S[Lr];re?(Ce(re,2,73,q),M()):Ki(q)}i($,"_logOrThrowError");function ge(q){var re=S[z1]();re&&re[Kl]([q],2)}i(ge,"_notifyInvalidEvent");function le(q){y.add(q)}i(le,"_addUnloadHook")})}return i(e,"AppInsightsCore"),e.__ieDyn=1,e}();function xg(e,t){try{if(e&&e!==""){var r=Si().parse(e);if(r&&r[eT]&&r[eT]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[Be])return r}}catch(n){Ce(t,1,43,"Cannot parse the response. "+(n[Eo]||Je(n)),{response:e})}return null}i(xg,"parseResponse");var F0="",Xle="NoResponseBody",XU="&"+Xle+"=true",oE="POST",sE=function(){function e(){var t=0,r,n,o,s,a,l,c,f,u,d,p,m,g,h;Er(e,this,function(b,x){var y=!0;z(),b[La]=function(N,E){o=E,n&&Ce(o,1,28,"Sender is already initialized"),b.SetConfig(N),n=!0},b._getDbgPlgTargets=function(){return[n,s,l,r]},b.SetConfig=function(N){try{if(a=N.senderOnCompleteCallBack||{},l=!!N.disableCredentials,c=N.fetchCredentials,s=!!N.isOneDs,r=!!N.enableSendPromise,u=!!N.disableXhr,d=!!N.disableBeacon,p=!!N.disableBeaconSync,h=N.timeWrapper,g=!!N.addNoResponse,m=!!N.disableFetchKeepAlive,f={sendPOST:Y},s||(y=!1),l){var E=ig();E&&E.protocol&&E.protocol[js]()==="file:"&&(y=!1)}return!0}catch{}return!1},b.getSyncFetchPayload=function(){return t},b.getSenderInst=function(N,E){return N&&N[Be]?w(N,E):null},b.getFallbackInst=function(){return f},b[Hl]=function(N,E){z()};function T(N,E){j(E,200,{},N)}i(T,"_onSuccess");function _(N,E){Ce(o,2,26,"Failed to send telemetry.",{message:N}),j(E,400,{})}i(_,"_onError");function I(N){_("No endpoint url is provided for the batch",N)}i(I,"_onNoPayloadUrl");function w(N,E){for(var v=0,R=null,S=0;R==null&&S<N[Be];)v=N[S],!u&&v===1?LT()?R=P:Xx()&&(R=Y):v===2&&og(E)&&(!E||!m)?R=A:v===3&&Zl()&&(E?!p:!d)&&(R=G),S++;return R?{_transport:v,_isSync:E,sendPOST:R}:null}i(w,"_getSenderInterface");function j(N,E,v,R){try{N&&N(E,v,R)}catch{}}i(j,"_doOnComplete");function V(N,E){var v=Zo(),R=N[am];if(!R)return I(E),!0;R=N[am]+(g?XU:F0);var S=N[Vl],D=s?S:new Blob([S],{type:"text/plain;charset=UTF-8"}),O=v.sendBeacon(R,D);return O}i(V,"_doBeaconSend");function G(N,E,v){var R=N[Vl];try{if(R)if(V(N,E))T(F0,E);else{var S=a&&a.beaconOnRetry;S&&dt(S)?S(N,E,V):(f&&f.sendPOST(N,E,!0),Ce(o,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(D){s&&ja(o,"Failed to send telemetry using sendBeacon API. Ex:"+Je(D)),j(E,s?0:400,{},F0)}}i(G,"_beaconSender");function Y(N,E,v){var R,S,D,O=N[Ix]||{};!v&&r&&(R=A0(function(ae,ye){S=ae,D=ye})),s&&v&&N.disableXhrSync&&(v=!1);var M=N[am];if(!M){I(E),S&&S(!1);return}var B=IT(oE,M,y,!0,v,N[wu]);s||B.setRequestHeader("Content-type","application/json"),Ne(Yo(O),function(ae){B.setRequestHeader(ae,O[ae])}),B.onreadystatechange=function(){s||(H(B),B.readyState===4&&S&&S(!0))},B.onload=function(){s&&H(B)};function H(ae){var ye=a&&a.xhrOnComplete,he=ye&&dt(ye);if(he)ye(ae,E,N);else{var Ue=mm(ae);j(E,ae[Iu],ng(ae,s),Ue)}}return i(H,"_doOnReadyFunc"),B.onerror=function(ae){j(E,s?B[Iu]:400,ng(B,s),s?F0:Ou(B)),D&&D(ae)},B.ontimeout=function(){j(E,s?B[Iu]:500,ng(B,s),s?F0:Ou(B)),S&&S(!1)},B.send(N[Vl]),R}i(Y,"_xhrSender");function A(N,E,v){var R,S=N[am],D=N[Vl],O=s?D:new Blob([D],{type:"application/json"}),M,B,H,ae=new Headers,ye=D[Be],he=!1,Ue=!1,Ge=N[Ix]||{},Ve=(R={method:oE,body:O},R[UT]=!0,R);N.headers&&Yo(N.headers)[Be]>0&&(Ne(Yo(Ge),function($){ae.append($,Ge[$])}),Ve[Ix]=ae),c?Ve.credentials=c:y&&s&&(Ve.credentials="include"),v&&(Ve.keepalive=!0,t+=ye,s?N._sendReason===2&&(he=!0,g&&(S+=XU)):he=!0);var Ze=new Request(S,Ve);try{Ze[UT]=!0}catch{}if(!v&&r&&(M=A0(function($,ge){B=$,H=ge})),!S){I(E),B&&B(!1);return}function F($){j(E,s?0:400,{},s?F0:$)}i(F,"_handleError");function ne($,ge,le){var q=$[Iu],re=a.fetchOnComplete;re&&dt(re)?re($,E,le||F0,ge):j(E,q,{},le||F0)}i(ne,"_onFetchComplete");try{So(fetch(s?S:Ze,s?Ve:null),function($){if(v&&(t-=ye,ye=0),!Ue)if(Ue=!0,$.rejected)F($.reason&&$.reason[R0]),H&&H($.reason);else{var ge=$[Eu];try{!s&&!ge.ok?(F(ge.statusText),B&&B(!1)):s&&!ge.body?(ne(ge,null,F0),B&&B(!0)):So(ge.text(),function(le){ne(ge,N,le[Eu]),B&&B(!0)})}catch(le){F(Je(le)),H&&H(le)}}})}catch($){Ue||(F(Je($)),H&&H($))}return he&&!Ue&&(Ue=!0,j(E,200,{}),B&&B(!0)),s&&!Ue&&N[wu]>0&&h&&h.set(function(){Ue||(Ue=!0,j(E,500,{}),B&&B(!0))},N[wu]),M}i(A,"_doFetchSender");function P(N,E,v){var R=Yi(),S=new XDomainRequest,D=N[Vl];S.onload=function(){var ae=mm(S),ye=a&&a.xdrOnComplete;ye&&dt(ye)?ye(S,E,N):j(E,200,{},ae)},S.onerror=function(){j(E,400,{},s?F0:rg(S))},S.ontimeout=function(){j(E,500,{})},S.onprogress=function(){};var O=R&&R.location&&R.location.protocol||"",M=N[am];if(!M){I(E);return}if(!s&&M.lastIndexOf(O,0)!==0){var B="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Ce(o,2,40,". "+B),_(B,E);return}var H=s?M:M[Ws](/^(https?:)/,"");S.open(oE,H),N[wu]&&(S[wu]=N[wu]),S.send(D),s&&v?h&&h.set(function(){S.send(D)},0):S.send(D)}i(P,"_xdrSender");function z(){t=0,n=!1,r=!1,o=null,s=null,a=null,l=null,c=null,f=null,u=!1,d=!1,p=!1,m=!1,g=!1,h=null}i(z,"_initDefaults")})}return i(e,"SenderPostManager"),e.__ieDyn=1,e}();var nB="on",JU="attachEvent",ZU="addEventListener",QU="detachEvent",eB="removeEventListener",aE="events";var Det=Po("aiEvtPageHide"),Aet=Po("aiEvtPageShow"),Jle=/\.[\.]+/g,Zle=/[\.]+$/,Qle=1,g3=Jx("events"),ece=/^([^.]*)(?:\.(.+)|)/;function tB(e){return e&&e[Ws]?e[Ws](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,bt):e}i(tB,"_normalizeNamespace");function lE(e,t){if(t){var r=bt;et(t)?(r=bt,Ne(t,function(o){o=tB(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=tB(t),r&&(r[0]!=="."&&(r="."+r),e=(e||bt)+r)}var n=ece.exec(e||bt)||[];return{type:n[1],ns:(n[2]||bt).replace(Jle,".").replace(Zle,bt)[qs](".").sort().join(".")}}i(lE,"_getEvtNamespace");function iB(e,t,r){r===void 0&&(r=!0);var n=g3.get(e,aE,{},r),o=n[t];return o||(o=n[t]=[]),o}i(iB,"_getRegisteredEvents");function oB(e,t,r,n){e&&t&&t[Fa]&&(e[eB]?e[eB](t[Fa],r,n):e[QU]&&e[QU](nB+t[Fa],r))}i(oB,"_doDetach");function tce(e,t,r,n){var o=!1;return e&&t&&t[Fa]&&r&&(e[ZU]?(e[ZU](t[Fa],r,n),o=!0):e[JU]&&(e[JU](nB+t[Fa],r),o=!0)),o}i(tce,"_doAttach");function rB(e,t,r,n){for(var o=t[Be];o--;){var s=t[o];s&&(!r.ns||r.ns===s[Zv].ns)&&(!n||n(s))&&(oB(e,s[Zv],s.handler,s.capture),t[S0](o,1))}}i(rB,"_doUnregister");function rce(e,t,r){if(t[Fa])rB(e,iB(e,t[Fa]),t,r);else{var n=g3.get(e,aE,{});gt(n,function(o,s){rB(e,s,t,r)}),Yo(n)[Be]===0&&g3.kill(e,aE)}}i(rce,"_unregisterEvents");function bg(e,t){var r;return t?(et(t)?r=[e].concat(t):r=[e,t],r=lE("xx",r).ns[qs](".")):r=e,r}i(bg,"mergeEvtNamespace");function h3(e,t,r,n,o){o===void 0&&(o=!1);var s=!1;if(e)try{var a=lE(t,n);if(s=tce(e,a,r,o),s&&g3.accept(e)){var l={guid:Qle++,evtName:a,handler:r,capture:o};iB(e,a.type)[Tt](l)}}catch{}return s}i(h3,"eventOn");function cE(e,t,r,n,o){if(o===void 0&&(o=!1),e)try{var s=lE(t,n),a=!1;rce(e,s,function(l){return s.ns&&!r||l.handler===r?(a=!0,!0):!1}),a||oB(e,s,r,o)}catch{}}i(cE,"eventOff");var yg="sampleRate",_g="ProcessLegacy",x3="http.method",Uu="https://dc.services.visualstudio.com",M0="/v2/track",pi="not_specified";var b3=Xv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var Bu="split",mt="length",$u="toLowerCase",nc="ingestionendpoint",ic="toString",uE="removeItem",Tm="message",sB="count";var vg="stringify",Tg="pathname",ju="match";var gi="name";var Jn="properties",hi="measurements",Eg="sizeInBytes",Cg="typeName",Em="exceptions",qu="severityLevel",y3="problemGroup",Wu="parsedStack",Ig="hasFullStack",Sg="assembly",U0="fileName",zu="line",Cm="aiDataContract",Hu="duration";function fE(e,t,r){var n=t[mt],o=aB(e,t);if(o[mt]!==n){for(var s=0,a=o;r[a]!==void 0;)s++,a=Xo(o,0,147)+lB(s);o=a}return o}i(fE,"dataSanitizeKeyAndAddUniqueness");function aB(e,t){var r;return t&&(t=xr(_n(t)),t[mt]>150&&(r=Xo(t,0,150),Ce(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),r||t}i(aB,"dataSanitizeKey");function Pr(e,t,r){r===void 0&&(r=1024);var n;return t&&(r=r||1024,t=xr(_n(t)),t[mt]>r&&(n=Xo(t,0,r),Ce(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}i(Pr,"dataSanitizeString");function Gu(e,t){return pE(e,t,2048,66)}i(Gu,"dataSanitizeUrl");function wg(e,t){var r;return t&&t[mt]>32768&&(r=Xo(t,0,32768),Ce(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}i(wg,"dataSanitizeMessage");function dE(e,t){var r;if(t){var n=""+t;n[mt]>32768&&(r=Xo(n,0,32768),Ce(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}i(dE,"dataSanitizeException");function wi(e,t){if(t){var r={};gt(t,function(n,o){if(di(o)&&Jl())try{o=Si()[vg](o)}catch(s){Ce(e,2,49,"custom property is not valid",{exception:s},!0)}o=Pr(e,o,8192),n=fE(e,n,r),r[n]=o}),t=r}return t}i(wi,"dataSanitizeProperties");function Pi(e,t){if(t){var r={};gt(t,function(n,o){n=fE(e,n,r),r[n]=o}),t=r}return t}i(Pi,"dataSanitizeMeasurements");function mE(e,t){return t&&pE(e,t,128,69)[ic]()}i(mE,"dataSanitizeId");function pE(e,t,r,n){var o;return t&&(t=xr(_n(t)),t[mt]>r&&(o=Xo(t,0,r),Ce(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0))),o||t}i(pE,"dataSanitizeInput");function lB(e){var t="00"+e;return vM(t,t[mt]-3)}i(lB,"dsPadNumber");var cB=_o()||{},uB=0,nce=[null,null,null,null,null];function fB(e){var t=uB,r=nce,n=r[t];return cB.createElement?r[t]||(n=r[t]=cB.createElement("a")):n={host:ice(e,!0)},n.href=e,t++,t>=r[mt]&&(t=0),uB=t,n}i(fB,"urlParseUrl");function ice(e,t){var r=dB(e,t)||"";if(r){var n=r[ju](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>3&&Yt(n[2])&&n[2][mt]>0)return n[2]+(n[3]||"")}return r}i(ice,"urlParseHost");function dB(e,t){var r=null;if(e){var n=e[ju](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>2&&Yt(n[2])&&n[2][mt]>0&&(r=n[2]||"",t&&n[mt]>2)){var o=(n[1]||"")[$u](),s=n[3]||"";(o==="http"&&s===":80"||o==="https"&&s===":443")&&(s=""),r+=s}}return r}i(dB,"urlParseFullHost");var oce=[Uu+M0,"https://breeze.aimon.applicationinsights.io"+M0,"https://dc-int.services.visualstudio.com"+M0];function _3(e){return cn(oce,e[$u]())!==-1}i(_3,"isInternalApplicationInsightsEndpoint");function mB(e,t,r,n){var o,s=n,a=n;if(t&&t[mt]>0){var l=fB(t);if(o=l.host,!s)if(l[Tg]!=null){var c=l.pathname[mt]===0?"/":l[Tg];c.charAt(0)!=="/"&&(c="/"+c),a=l[Tg],s=Pr(e,r?r+" "+c:c)}else s=Pr(e,t)}else o=n,s=n;return{target:o,name:s,data:a}}i(mB,"AjaxHelperParseDependencyPath");var v3=Tu({LocalStorage:0,SessionStorage:1}),irt=Tu({AI:0,AI_AND_W3C:1,W3C:2}),ort=Tu({Normal:1,Critical:2});var Im=void 0,pB="";function gB(e){try{if(Oe(yo()))return null;var t=new Date()[ic](),r=Or(e===v3.LocalStorage?"localStorage":"sessionStorage"),n=pB+t;r.setItem(n,t);var o=r.getItem(n)!==t;if(r[uE](n),!o)return r}catch{}return null}i(gB,"_getVerifiedStorageObject");function gE(){return T3()?gB(v3.SessionStorage):null}i(gE,"_getSessionStorageObject");function hE(e){pB=e||""}i(hE,"utlSetStoragePrefix");function T3(e){return(e||Im===void 0)&&(Im=!!gB(v3.SessionStorage)),Im}i(T3,"utlCanUseSessionStorage");function xE(e,t){var r=gE();if(r!==null)try{return r.getItem(t)}catch(n){Im=!1,Ce(e,2,2,"Browser failed read of session storage. "+un(n),{exception:Je(n)})}return null}i(xE,"utlGetSessionStorage");function bE(e,t,r){var n=gE();if(n!==null)try{return n.setItem(t,r),!0}catch(o){Im=!1,Ce(e,2,4,"Browser failed write to session storage. "+un(o),{exception:Je(o)})}return!1}i(bE,"utlSetSessionStorage");function yE(e,t){var r=gE();if(r!==null)try{return r[uE](t),!0}catch(n){Im=!1,Ce(e,2,6,"Browser failed removal of session storage item. "+un(n),{exception:Je(n)})}return!1}i(yE,"utlRemoveSessionStorage");var sce=";",ace="=";function Pg(e){if(!e)return{};var t=e[Bu](sce),r=Hv(t,function(o,s){var a=s[Bu](ace);if(a[mt]===2){var l=a[0][$u](),c=a[1];o[l]=c}return o},{});if(Yo(r)[mt]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[nc]=r[nc]||"https://"+n+"dc."+r.endpointsuffix}r[nc]=r[nc]||Uu,W1(r[nc],"/")&&(r[nc]=r[nc].slice(0,-1))}return r}i(Pg,"parseConnectionString");var _E=function(){function e(t,r,n){var o=this,s=this;s.ver=1,s.sampleRate=100,s.tags={},s[gi]=Pr(t,n)||pi,s.data=r,s.time=Xl(new Date),s[Cm]={time:1,iKey:1,name:1,sampleRate:i(function(){return o.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return i(e,"Envelope"),e}();var Wa=function(){function e(t,r,n,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var s=this;s.ver=2,s[gi]=Pr(t,r)||pi,s[Jn]=wi(t,n),s[hi]=Pi(t,o)}return i(e,"Event"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();var lce=58,cce=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,uce=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,fce=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,dce=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,mce=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,pce=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,gce=/([^\(\s\n]+):([0-9]+)$/,hB="<no_method>",Sm="error",ns="stack",TE="stackDetails",xB="errorSrc",EE="message",vB="description",bB=[{re:uce,len:5,m:1,fn:2,ln:3,col:4},{chk:xce,pre:hce,re:fce,len:4,m:1,fn:2,ln:3},{re:dce,len:3,m:1,fn:2,hdl:_B},{re:mce,len:2,fn:1,hdl:_B}];function hce(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}i(hce,"_scrubAnonymous");function xce(e){return C0(e,"[native")<0}i(xce,"_ignoreNative");function CE(e,t){var r=e;return r&&!Yt(r)&&(JSON&&JSON[vg]?(r=JSON[vg](e),t&&(!r||r==="{}")&&(dt(e[ic])?r=e[ic]():r=""+e)):r=""+e+" - (Missing JSON.stringify)"),r||""}i(CE,"_stringify");function TB(e,t){var r=e;return e&&(r&&!Yt(r)&&(r=e[EE]||e[vB]||r),r&&!Yt(r)&&(r=CE(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&C0(r||"",t)===-1&&(r=t+": "+r),r||""}i(TB,"_formatMessage");function bce(e){try{if(di(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}i(bce,"_isExceptionDetailsInternal");function yce(e){try{if(di(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}i(yce,"_isExceptionInternal");function yB(e){return e&&e.src&&Yt(e.src)&&e.obj&&et(e.obj)}i(yB,"_isStackDetails");function Vu(e){var t=e||"";Yt(t)||(Yt(t[ns])?t=t[ns]:t=""+t);var r=t[Bu](`
`);return{src:t,obj:r}}i(Vu,"_convertStackObj");function _ce(e){for(var t=[],r=e[Bu](`
`),n=0;n<r[mt];n++){var o=r[n];r[n+1]&&(o+="@"+r[n+1],n++),t.push(o)}return{src:e,obj:t}}i(_ce,"_getOperaStack");function EB(e){var t=null;if(e)try{if(e[ns])t=Vu(e[ns]);else if(e[Sm]&&e[Sm][ns])t=Vu(e[Sm][ns]);else if(e.exception&&e.exception[ns])t=Vu(e.exception[ns]);else if(yB(e))t=e;else if(yB(e[TE]))t=e[TE];else if(Yi()&&Yi().opera&&e[EE])t=_ce(e[Tm]);else if(e.reason&&e.reason[ns])t=Vu(e.reason[ns]);else if(Yt(e))t=Vu(e);else{var r=e[EE]||e[vB]||"";Yt(e[xB])&&(r&&(r+=`
`),r+=" from "+e[xB]),r&&(t=Vu(r))}}catch(n){t=Vu(n)}return t||{src:"",obj:null}}i(EB,"_getStackFromErrorObj");function vce(e){var t="";return e&&(e.obj?t=e.obj.join(`
`):t=e.src||""),t}i(vce,"_formatStackTrace");function Tce(e){var t,r=e.obj;if(r&&r[mt]>0){t=[];var n=0,o=!1,s=0;Ne(r,function(h){if(o||Sce(h)){var b=_n(h);o=!0;var x=wce(b,n);x&&(s+=x[Eg],t.push(x),n++)}});var a=32*1024;if(s>a)for(var l=0,c=t[mt]-1,f=0,u=l,d=c;l<c;){var p=t[l][Eg],m=t[c][Eg];if(f+=p+m,f>a){var g=d-u+1;t.splice(u,g);break}u=l,d=c,l++,c--}}return t}i(Tce,"_parseStack");function E3(e){var t="";if(e&&(t=e.typeName||e[gi]||"",!t))try{var r=/function (.{1,200})\(/,n=r.exec(e.constructor[ic]());t=n&&n[mt]>1?n[1]:""}catch{}return t}i(E3,"_getErrorType");function vE(e){if(e)try{if(!Yt(e)){var t=E3(e),r=CE(e,!1);return(!r||r==="{}")&&(e[Sm]&&(e=e[Sm],t=E3(e)),r=CE(e,!0)),C0(r,t)!==0&&t!=="String"?t+":"+r:r}}catch{}return""+(e||"")}i(vE,"_formatErrorCode");var Ku=function(){function e(t,r,n,o,s,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var l=this;l.ver=2,yce(r)?(l[Em]=r[Em]||[],l[Jn]=r[Jn],l[hi]=r[hi],r[qu]&&(l[qu]=r[qu]),r.id&&(l.id=r.id,r[Jn].id=r.id),r[y3]&&(l[y3]=r[y3]),Oe(r.isManual)||(l.isManual=r.isManual)):(n||(n={}),a&&(n.id=a),l[Em]=[CB(t,r,n)],l[Jn]=wi(t,n),l[hi]=Pi(t,o),s&&(l[qu]=s),a&&(l.id=a))}return i(e,"Exception"),e.CreateAutoException=function(t,r,n,o,s,a,l,c){var f=E3(s||a||t);return{message:TB(t,f),url:r,lineNumber:n,columnNumber:o,error:vE(s||a||t),evt:vE(a||t),typeName:f,stackDetails:EB(l||s||a),errorSrc:c}},e.CreateFromInterface=function(t,r,n,o){var s=r[Em]&&vu(r[Em],function(l){return Ice(t,l)}),a=new e(t,es(es({},r),{exceptions:s}),n,o);return a},e.prototype.toInterface=function(){var t=this,r=t.exceptions,n=t.properties,o=t.measurements,s=t.severityLevel,a=t.problemGroup,l=t.id,c=t.isManual,f=r instanceof Array&&vu(r,function(u){return u.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:s,properties:n,measurements:o,problemGroup:a,id:l,isManual:c}},e.CreateSimpleException=function(t,r,n,o,s,a){var l;return{exceptions:[(l={},l[Ig]=!0,l.message=t,l.stack=s,l.typeName=r,l)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=vE,e}();var Ece=bo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function Cce(){var e=this,t=et(e[Wu])&&vu(e[Wu],function(n){return Rce(n)}),r={id:e.id,outerId:e.outerId,typeName:e[Cg],message:e[Tm],hasFullStack:e[Ig],stack:e[ns],parsedStack:t||void 0};return r}i(Cce,"_toInterface");function CB(e,t,r){var n,o,s,a,l,c,f,u;if(bce(t))a=t[Cg],l=t[Tm],f=t[ns],u=t[Wu]||[],c=t[Ig];else{var d=t,p=d&&d.evt;j1(d)||(d=d[Sm]||p||d),a=Pr(e,E3(d))||pi,l=wg(e,TB(t||d,a))||pi;var m=t[TE]||EB(t);u=Tce(m),et(u)&&vu(u,function(g){g[Sg]=Pr(e,g[Sg]),g[U0]=Pr(e,g[U0])}),f=dE(e,vce(m)),c=et(u)&&u[mt]>0,r&&(r[Cg]=r[Cg]||a)}return n={},n[Cm]=Ece,n.id=o,n.outerId=s,n.typeName=a,n.message=l,n[Ig]=c,n.stack=f,n.parsedStack=u,n.toInterface=Cce,n}i(CB,"_createExceptionDetails");function Ice(e,t){var r=et(t[Wu])&&vu(t[Wu],function(o){return Pce(o)})||t[Wu],n=CB(e,es(es({},t),{parsedStack:r}));return n}i(Ice,"_createExDetailsFromInterface");function IB(e,t){var r=t[ju](pce);if(r&&r[mt]>=4)e[U0]=r[1],e[zu]=parseInt(r[2]);else{var n=t[ju](gce);n&&n[mt]>=3?(e[U0]=n[1],e[zu]=parseInt(n[2])):e[U0]=t}}i(IB,"_parseFilename");function _B(e,t,r){var n=e[U0];t.fn&&r&&r[mt]>t.fn&&(t.ln&&r[mt]>t.ln?(n=xr(r[t.fn]||""),e[zu]=parseInt(xr(r[t.ln]||""))||0):n=xr(r[t.fn]||"")),n&&IB(e,n)}i(_B,"_handleFilename");function Sce(e){var t=!1;if(e&&Yt(e)){var r=xr(e);r&&(t=cce.test(r))}return t}i(Sce,"_isStackFrame");var SB=bo({level:1,method:1,assembly:0,fileName:0,line:0});function wce(e,t){var r,n;if(e&&Yt(e)&&xr(e)){n=(r={},r[Cm]=SB,r.level=t,r.assembly=xr(e),r.method=hB,r.fileName="",r.line=0,r.sizeInBytes=0,r);for(var o=0;o<bB[mt];){var s=bB[o];if(s.chk&&!s.chk(e))break;s.pre&&(e=s.pre(e));var a=e[ju](s.re);if(a&&a[mt]>=s.len){s.m&&(n.method=xr(a[s.m]||hB)),s.hdl?s.hdl(n,s,a):s.fn&&(s.ln?(n[U0]=xr(a[s.fn]||""),n[zu]=parseInt(xr(a[s.ln]||""))||0):IB(n,a[s.fn]||""));break}o++}}return wB(n)}i(wce,"_extractStackFrame");function Pce(e){var t,r=(t={},t[Cm]=SB,t.level=e.level,t.method=e.method,t.assembly=e[Sg],t.fileName=e[U0],t.line=e[zu],t.sizeInBytes=0,t);return wB(r)}i(Pce,"_stackFrameFromInterface");function wB(e){var t=lce;return e&&(t+=e.method[mt],t+=e.assembly[mt],t+=e.fileName[mt],t+=e.level.toString()[mt],t+=e.line.toString()[mt],e[Eg]=t),e}i(wB,"_populateFrameSizeInBytes");function Rce(e){return{level:e.level,method:e.method,assembly:e[Sg],fileName:e[U0],line:e[zu]}}i(Rce,"_parsedFrameToInterface");var PB=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return i(e,"DataPoint"),e}();var za=function(){function e(t,r,n,o,s,a,l,c,f){this.aiDataContract={ver:1,metrics:1,properties:0};var u=this;u.ver=2;var d=new PB;d[sB]=o>0?o:void 0,d.max=isNaN(a)||a===null?void 0:a,d.min=isNaN(s)||s===null?void 0:s,d[gi]=Pr(t,r)||pi,d.value=n,d.stdDev=isNaN(l)||l===null?void 0:l,u.metrics=[d],u[Jn]=wi(t,c),u[hi]=Pi(t,f)}return i(e,"Metric"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();var Rg="";function C3(e){(isNaN(e)||e<0)&&(e=0),e=DM(e);var t=Rg+e%1e3,r=Rg+Na(e/1e3)%60,n=Rg+Na(e/(1e3*60))%60,o=Rg+Na(e/(1e3*60*60))%24,s=Na(e/(1e3*60*60*24));return t=t[mt]===1?"00"+t:t[mt]===2?"0"+t:t,r=r[mt]<2?"0"+r:r,n=n[mt]<2?"0"+n:n,o=o[mt]<2?"0"+o:o,(s>0?s+".":Rg)+o+":"+n+":"+r+"."+t}i(C3,"msToTimeSpan");var Yu=function(){function e(t,r,n,o,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=mE(t,l),c.url=Gu(t,n),c[gi]=Pr(t,r)||pi,isNaN(o)||(c[Hu]=C3(o)),c[Jn]=wi(t,s),c[hi]=Pi(t,a)}return i(e,"PageView"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}();var Xu=function(){function e(t,r,n,o,s,a,l,c,f,u,d,p){f===void 0&&(f="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=r,m[Hu]=C3(s),m.success=a,m.resultCode=l+"",m.type=Pr(t,f);var g=mB(t,n,c,o);m.data=Gu(t,o)||g.data,m.target=Pr(t,g.target),u&&(m.target="".concat(m.target," | ").concat(u)),m[gi]=Pr(t,g[gi]),m[Jn]=wi(t,d),m[hi]=Pi(t,p)}return i(e,"RemoteDependencyData"),e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();var Ju=function(){function e(t,r,n,o,s){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,r=r||pi,a[Tm]=wg(t,r),a[Jn]=wi(t,o),a[hi]=Pi(t,s),n&&(a[qu]=n)}return i(e,"Trace"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();var Zu=function(){function e(t,r,n,o,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Gu(t,n),c[gi]=Pr(t,r)||pi,c[Jn]=wi(t,s),c[hi]=Pi(t,a),l&&(c.domProcessing=l.domProcessing,c[Hu]=l[Hu],c.networkConnect=l.networkConnect,c.perfTotal=l.perfTotal,c.receivedResponse=l.receivedResponse,c.sentRequest=l.sentRequest)}return i(e,"PageViewPerformance"),e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();var Ha=function(){function e(t,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=r}return i(e,"Data"),e}();function sc(e){var t="ai."+e+".";return function(r){return t+r}}i(sc,"_aiNameFunc");var Dg=sc("application"),Rn=sc("device"),I3=sc("location"),wm=sc("operation"),IE=sc("session"),oc=sc("user"),Qu=sc("cloud"),Ag=sc("internal"),Ng=function(e){D0(t,e);function t(){return e.call(this)||this}return i(t,"ContextTagKeys"),t}(CT({applicationVersion:Dg("ver"),applicationBuild:Dg("build"),applicationTypeId:Dg("typeId"),applicationId:Dg("applicationId"),applicationLayer:Dg("layer"),deviceId:Rn("id"),deviceIp:Rn("ip"),deviceLanguage:Rn("language"),deviceLocale:Rn("locale"),deviceModel:Rn("model"),deviceFriendlyName:Rn("friendlyName"),deviceNetwork:Rn("network"),deviceNetworkName:Rn("networkName"),deviceOEMName:Rn("oemName"),deviceOS:Rn("os"),deviceOSVersion:Rn("osVersion"),deviceRoleInstance:Rn("roleInstance"),deviceRoleName:Rn("roleName"),deviceScreenResolution:Rn("screenResolution"),deviceType:Rn("type"),deviceMachineName:Rn("machineName"),deviceVMName:Rn("vmName"),deviceBrowser:Rn("browser"),deviceBrowserVersion:Rn("browserVersion"),locationIp:I3("ip"),locationCountry:I3("country"),locationProvince:I3("province"),locationCity:I3("city"),operationId:wm("id"),operationName:wm("name"),operationParentId:wm("parentId"),operationRootId:wm("rootId"),operationSyntheticSource:wm("syntheticSource"),operationCorrelationVector:wm("correlationVector"),sessionId:IE("id"),sessionIsFirst:IE("isFirst"),sessionIsNew:IE("isNew"),userAccountAcquisitionDate:oc("accountAcquisitionDate"),userAccountId:oc("accountId"),userAgent:oc("userAgent"),userId:oc("id"),userStoreRegion:oc("storeRegion"),userAuthUserId:oc("authUserId"),userAnonymousUserAcquisitionDate:oc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:oc("authUserAcquisitionDate"),cloudName:Qu("name"),cloudRole:Qu("role"),cloudRoleVer:Qu("roleVer"),cloudRoleInstance:Qu("roleInstance"),cloudEnvironment:Qu("environment"),cloudLocation:Qu("location"),cloudDeploymentUnit:Qu("deploymentUnit"),internalNodeName:Ag("nodeName"),internalSdkVersion:Ag("sdkVersion"),internalAgentVersion:Ag("agentVersion"),internalSnippet:Ag("snippet"),internalSdkSrc:Ag("sdkSrc")}));var Tn=new Ng;function RB(e,t){cE(e,null,null,t)}i(RB,"_disableEvents");function SE(e){var t=_o(),r=Zo(),n=!1,o=[],s=1;r&&!Oe(r.onLine)&&!r.onLine&&(s=2);var a=0,l=p(),c=bg(Po("OfflineListener"),e);try{if(u(Yi())&&(n=!0),t){var f=t.body||t;f.ononline&&u(f)&&(n=!0)}}catch{n=!1}function u(T){var _=!1;return T&&(_=h3(T,"online",h,c),_&&h3(T,"offline",b,c)),_}i(u,"_enableEvents");function d(){return l}i(d,"_isOnline");function p(){return!(a===2||s===2)}i(p,"calCurrentState");function m(){var T=p();l!==T&&(l=T,Ne(o,function(_){var I={isOnline:l,rState:s,uState:a};try{_(I)}catch{}}))}i(m,"listnerNoticeCheck");function g(T){a=T,m()}i(g,"setOnlineState");function h(){s=1,m()}i(h,"_setOnline");function b(){s=2,m()}i(b,"_setOffline");function x(){var T=Yi();if(T&&n){if(RB(T,c),t){var _=t.body||t;sr(_.ononline)||RB(_,c)}n=!1}}i(x,"_unload");function y(T){return o.push(T),{rm:i(function(){var _=o.indexOf(T);if(_>-1)return o.splice(_,1)},"rm")}}return i(y,"addListener"),{isOnline:d,isListening:i(function(){return n},"isListening"),unload:x,addListener:y,setOnlineState:g}}i(SE,"createOfflineListener");var S3="AppInsightsChannelPlugin";var ac="duration";var En="tags",w3="deviceType",Qi="data",B0="name",ef="traceID",ht="length",lc="stringify",cc="measurements",is="dataType",uc="envelopeType",Ga="toString",Va="enqueue",Ka="count",os="push",kg="emitLineDelimitedJson",fc="clear",Pm="markAsSent",tf="clearSent",Og="bufferOverride",Rm="BUFFER_KEY",Ya="SENT_BUFFER_KEY",dc="concat",Dm="MAX_BUFFER_SIZE",Am="triggerSend",Zn="diagLog",P3="initialize",Nm="_sender",km="endpointUrl",Om="instrumentationKey",R3="customHeaders",wE="maxBatchSizeInBytes",D3="onunloadDisableBeacon",A3="isBeaconApiDisabled",PE="alwaysUseXhrOverride",RE="enableSessionStorageBuffer",Gs="_buffer",DE="onunloadDisableFetch",AE="disableSendBeaconSplit",Lg="getSenderInst",mc="_onError",N3="_onPartialSuccess",Fg="_onSuccess",k3="itemsReceived",O3="itemsAccepted",L3="baseType",Lm="sampleRate",DB="getHashCodeScore";var NE="baseType",zr="baseData",$n="properties",AB="true";function fn(e,t,r){return k0(e,t,r,jl)}i(fn,"_setValueIf");function Dce(e,t,r){var n=r[En]=r[En]||{},o=t.ext=t.ext||{},s=t[En]=t[En]||[],a=o.user;a&&(fn(n,Tn.userAuthUserId,a.authId),fn(n,Tn.userId,a.id||a.localId));var l=o.app;l&&fn(n,Tn.sessionId,l.sesId);var c=o.device;c&&(fn(n,Tn.deviceId,c.id||c.localId),fn(n,Tn[w3],c.deviceClass),fn(n,Tn.deviceIp,c.ip),fn(n,Tn.deviceModel,c.model),fn(n,Tn[w3],c[w3]));var f=t.ext.web;if(f){fn(n,Tn.deviceLanguage,f.browserLang),fn(n,Tn.deviceBrowserVersion,f.browserVer),fn(n,Tn.deviceBrowser,f.browser);var u=r[Qi]=r[Qi]||{},d=u[zr]=u[zr]||{},p=d[$n]=d[$n]||{};fn(p,"domain",f.domain),fn(p,"isManual",f.isManual?AB:null),fn(p,"screenRes",f.screenRes),fn(p,"userConsent",f.userConsent?AB:null)}var m=o.os;m&&(fn(n,Tn.deviceOS,m[B0]),fn(n,Tn.deviceOSVersion,m.osVer));var g=o.trace;g&&(fn(n,Tn.operationParentId,g.parentID),fn(n,Tn.operationName,Pr(e,g[B0])),fn(n,Tn.operationId,g[ef]));for(var h={},b=s[ht]-1;b>=0;b--){var x=s[b];gt(x,function(T,_){h[T]=_}),s.splice(b,1)}gt(s,function(T,_){h[T]=_});var y=es(es({},n),h);y[Tn.internalSdkVersion]||(y[Tn.internalSdkVersion]=Pr(e,"javascript:".concat(Ace.Version),64)),r[En]=Vx(y)}i(Dce,"_extractPartAExtensions");function pc(e,t,r){Oe(e)||gt(e,function(n,o){Da(o)?r[n]=o:Yt(o)?t[n]=o:Jl()&&(t[n]=Si()[lc](o))})}i(pc,"_extractPropsAndMeasurements");function rf(e,t){Oe(e)||gt(e,function(r,n){e[r]=n||t})}i(rf,"_convertPropsUndefinedToCustomDefinedValue");function nf(e,t,r,n){var o=new _E(e,n,t);fn(o,"sampleRate",r[yg]),(r[zr]||{}).startTime&&(o.time=Xl(r[zr].startTime)),o.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return o[B0]=o[B0].replace("{0}",s),Dce(e,r,o),r[En]=r[En]||[],Vx(o)}i(nf,"_createEnvelope");function of(e,t){Oe(t[zr])&&Ce(e,1,46,"telemetryItem.baseData cannot be null.")}i(of,"EnvelopeCreatorInit");var Ace={Version:"3.3.6"};function NB(e,t,r){of(e,t);var n=t[zr][cc]||{},o=t[zr][$n]||{};pc(t[Qi],o,n),Oe(r)||rf(o,r);var s=t[zr];if(Oe(s))return ja(e,"Invalid input for dependency data"),null;var a=s[$n]&&s[$n][x3]?s[$n][x3]:"GET",l=new Xu(e,s.id,s.target,s[B0],s[ac],s.success,s.responseCode,a,s.type,s.correlationContext,o,n),c=new Ha(Xu[is],l);return nf(e,Xu[uc],t,c)}i(NB,"DependencyEnvelopeCreator");function kE(e,t,r){of(e,t);var n={},o={};t[NE]!==Wa[is]&&(n.baseTypeSource=t[NE]),t[NE]===Wa[is]?(n=t[zr][$n]||{},o=t[zr][cc]||{}):t[zr]&&pc(t[zr],n,o),pc(t[Qi],n,o),Oe(r)||rf(n,r);var s=t[zr][B0],a=new Wa(e,s,n,o),l=new Ha(Wa[is],a);return nf(e,Wa[uc],t,l)}i(kE,"EventEnvelopeCreator");function kB(e,t,r){of(e,t);var n=t[zr][cc]||{},o=t[zr][$n]||{};pc(t[Qi],o,n),Oe(r)||rf(o,r);var s=t[zr],a=Ku.CreateFromInterface(e,s,o,n),l=new Ha(Ku[is],a);return nf(e,Ku[uc],t,l)}i(kB,"ExceptionEnvelopeCreator");function OB(e,t,r){of(e,t);var n=t[zr],o=n[$n]||{},s=n[cc]||{};pc(t[Qi],o,s),Oe(r)||rf(o,r);var a=new za(e,n[B0],n.average,n.sampleCount,n.min,n.max,n.stdDev,o,s),l=new Ha(za[is],a);return nf(e,za[uc],t,l)}i(OB,"MetricEnvelopeCreator");function LB(e,t,r){of(e,t);var n,o=t[zr];!Oe(o)&&!Oe(o[$n])&&!Oe(o[$n][ac])?(n=o[$n][ac],delete o[$n][ac]):!Oe(t[Qi])&&!Oe(t[Qi][ac])&&(n=t[Qi][ac],delete t[Qi][ac]);var s=t[zr],a;((t.ext||{}).trace||{})[ef]&&(a=t.ext.trace[ef]);var l=s.id||a,c=s[B0],f=s.uri,u=s[$n]||{},d=s[cc]||{};if(Oe(s.refUri)||(u.refUri=s.refUri),Oe(s.pageType)||(u.pageType=s.pageType),Oe(s.isLoggedIn)||(u.isLoggedIn=s.isLoggedIn[Ga]()),!Oe(s[$n])){var p=s[$n];gt(p,function(h,b){u[h]=b})}pc(t[Qi],u,d),Oe(r)||rf(u,r);var m=new Yu(e,c,f,n,u,d,l),g=new Ha(Yu[is],m);return nf(e,Yu[uc],t,g)}i(LB,"PageViewEnvelopeCreator");function FB(e,t,r){of(e,t);var n=t[zr],o=n[B0],s=n.uri||n.url,a=n[$n]||{},l=n[cc]||{};pc(t[Qi],a,l),Oe(r)||rf(a,r);var c=new Zu(e,o,s,void 0,a,l,n),f=new Ha(Zu[is],c);return nf(e,Zu[uc],t,f)}i(FB,"PageViewPerformanceEnvelopeCreator");function MB(e,t,r){of(e,t);var n=t[zr].message,o=t[zr].severityLevel,s=t[zr][$n]||{},a=t[zr][cc]||{};pc(t[Qi],s,a),Oe(r)||rf(s,r);var l=new Ju(e,n,o,s,a),c=new Ha(Ju[is],l);return nf(e,Ju[uc],t,c)}i(MB,"TraceEnvelopeCreator");var UB=function(){function e(t,r){var n=[],o=!1,s=r.maxRetryCnt;this._get=function(){return n},this._set=function(a){return n=a,n},Er(e,this,function(a){a[Va]=function(l){if(a[Ka]()>=r.eventsLimitInMem){o||(Ce(t,2,105,"Maximum in-memory buffer size reached: "+a[Ka](),!0),o=!0);return}l.cnt=l.cnt||0,!(!Oe(s)&&l.cnt>s)&&n[os](l)},a[Ka]=function(){return n[ht]},a.size=function(){for(var l=n[ht],c=0;c<n[ht];c++)l+=n[c].item[ht];return r[kg]||(l+=2),l},a[fc]=function(){n=[],o=!1},a.getItems=function(){return n.slice(0)},a.batchPayloads=function(l){if(l&&l[ht]>0){var c=[];Ne(l,function(u){c[os](u.item)});var f=r[kg]?c.join(`
`):"["+c.join(",")+"]";return f}return null},a.createNew=function(l,c,f){var u=n.slice(0);l=l||t,c=c||{};var d=f?new OE(l,c):new F3(l,c);return Ne(u,function(p){d[Va](p)}),d}})}return i(e,"BaseSendBuffer"),e.__ieDyn=1,e}(),F3=function(e){D0(t,e);function t(r,n){var o=e.call(this,r,n)||this;return Er(t,o,function(s,a){s[Pm]=function(l){a[fc]()},s[tf]=function(l){}}),o}return i(t,"ArraySendBuffer"),t.__ieDyn=1,t}(UB);var Nce=["AI_buffer","AI_sentBuffer"],OE=function(e){D0(t,e);function t(n,o){var s=e.call(this,n,o)||this,a=!1,l=o?.namePrefix,c=o[Og]||{getItem:xE,setItem:bE},f=c.getItem,u=c.setItem,d=o.maxRetryCnt;return Er(t,s,function(p,m){var g=_(t[Rm]),h=_(t[Ya]),b=j(),x=h[dc](b),y=p._set(g[dc](x));y[ht]>t[Dm]&&(y[ht]=t[Dm]),w(t[Ya],[]),w(t[Rm],y),p[Va]=function(G){if(p[Ka]()>=t[Dm]){a||(Ce(n,2,67,"Maximum buffer size reached: "+p[Ka](),!0),a=!0);return}G.cnt=G.cnt||0,!(!Oe(d)&&G.cnt>d)&&(m[Va](G),w(t[Rm],p._get()))},p[fc]=function(){m[fc](),w(t[Rm],p._get()),w(t[Ya],[]),a=!1},p[Pm]=function(G){w(t[Rm],p._set(T(G,p._get())));var Y=_(t[Ya]);Y instanceof Array&&G instanceof Array&&(Y=Y[dc](G),Y[ht]>t[Dm]&&(Ce(n,1,67,"Sent buffer reached its maximum size: "+Y[ht],!0),Y[ht]=t[Dm]),w(t[Ya],Y))},p[tf]=function(G){var Y=_(t[Ya]);Y=T(G,Y),w(t[Ya],Y)},p.createNew=function(G,Y,A){A=!!A;var P=p._get().slice(0),z=_(t[Ya]).slice(0);G=G||n,Y=Y||{},p[fc]();var N=A?new t(G,Y):new F3(G,Y);return Ne(P,function(E){N[Va](E)}),A&&N[Pm](z),N};function T(G,Y){var A=[],P=[];return Ne(G,function(z){P[os](z.item)}),Ne(Y,function(z){!dt(z)&&cn(P,z.item)===-1&&A[os](z)}),A}i(T,"_removePayloadsFromBuffer");function _(G){var Y=G;return Y=l?l+"_"+Y:Y,I(Y)}i(_,"_getBuffer");function I(G){try{var Y=f(n,G);if(Y){var A=Si().parse(Y);if(Yt(A)&&(A=Si().parse(A)),A&&et(A))return A}}catch(P){Ce(n,1,42," storage key: "+G+", "+un(P),{exception:Je(P)})}return[]}i(I,"_getBufferBase");function w(G,Y){var A=G;try{A=l?l+"_"+A:A;var P=JSON[lc](Y);u(n,A,P)}catch(z){u(n,A,JSON[lc]([])),Ce(n,2,41," storage key: "+A+", "+un(z)+". Buffer cleared",{exception:Je(z)})}}i(w,"_setBuffer");function j(){var G=[];try{return Ne(Nce,function(Y){var A=V(Y);if(G=G[dc](A),l){var P=l+"_"+Y,z=V(P);G=G[dc](z)}}),G}catch(Y){Ce(n,2,41,"Transfer events from previous buffers: "+un(Y)+". previous Buffer items can not be removed",{exception:Je(Y)})}return[]}i(j,"_getPreviousEvents");function V(G){try{var Y=I(G),A=[];return Ne(Y,function(P){var z={item:P,cnt:0};A[os](z)}),yE(n,G),A}catch{}return[]}i(V,"_getItemsFromPreviousKey")}),s}i(t,"SessionStorageSendBuffer");var r;return r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(UB);var BB=function(){function e(t){Er(e,this,function(r){r.serialize=function(a){var l=n(a,"root");try{return Si()[lc](l)}catch(c){Ce(t,1,48,c&&dt(c[Ga])?c[Ga]():"Error serializing object",null,!0)}};function n(a,l){var c="__aiCircularRefCheck",f={};if(!a)return Ce(t,1,48,"cannot serialize object because it is null or undefined",{name:l},!0),f;if(a[c])return Ce(t,2,50,"Circular reference detected while serializing object",{name:l},!0),f;if(!a.aiDataContract){if(l==="measurements")f=s(a,"number",l);else if(l==="properties")f=s(a,"string",l);else if(l==="tags")f=s(a,"string",l);else if(et(a))f=o(a,l);else{Ce(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Si()[lc](a),f=a}catch(u){Ce(t,1,48,u&&dt(u[Ga])?u[Ga]():"Error serializing object",null,!0)}}return f}return a[c]=!0,gt(a.aiDataContract,function(u,d){var p=dt(d)?d()&1:d&1,m=dt(d)?d()&4:d&4,g=d&2,h=a[u]!==void 0,b=di(a[u])&&a[u]!==null;if(p&&!h&&!g)Ce(t,1,24,"Missing required field specification. The field is required but not present on source",{field:u,name:l});else if(!m){var x=void 0;b?g?x=o(a[u],u):x=n(a[u],u):x=a[u],x!==void 0&&(f[u]=x)}}),delete a[c],f}i(n,"_serializeObject");function o(a,l){var c;if(a)if(!et(a))Ce(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var f=0;f<a[ht];f++){var u=a[f],d=n(u,l+"["+f+"]");c[os](d)}}return c}i(o,"_serializeArray");function s(a,l,c){var f;return a&&(f={},gt(a,function(u,d){if(l==="string")d===void 0?f[u]="undefined":d===null?f[u]="null":d[Ga]?f[u]=d[Ga]():f[u]="invalid field: toString() is not defined.";else if(l==="number")if(d===void 0)f[u]="undefined";else if(d===null)f[u]="null";else{var p=parseFloat(d);f[u]=p}else f[u]="invalid field: "+c+" is of unknown type.",Ce(t,1,f[u],null,!0)})),f}i(s,"_serializeStringMap")})}return i(e,"Serializer"),e.__ieDyn=1,e}();var kce=8,$B=function(){function e(){}return i(e,"HashCodeScoreGenerator"),e.prototype.getHashCodeScore=function(t){var r=this.getHashCode(t)/e.INT_MAX_VALUE;return r*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[ht]<kce;)t=t[dc](t);for(var r=5381,n=0;n<t[ht];++n)r=(r<<5)+r+t.charCodeAt(n),r=r&r;return Math.abs(r)},e.INT_MAX_VALUE=2147483647,e}();var jB=function(){function e(){var t=this,r=new $B,n=new Ng;t.getSamplingScore=function(o){var s=0;return o[En]&&o[En][n.userId]?s=r.getHashCodeScore(o[En][n.userId]):o.ext&&o.ext.user&&o.ext.user.id?s=r[DB](o.ext.user.id):o[En]&&o[En][n.operationId]?s=r.getHashCodeScore(o[En][n.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[ef]?s=r.getHashCodeScore(o.ext.telemetryTrace[ef]):s=Math.random()*100,s}}return i(e,"SamplingScoreGenerator"),e}();var qB=function(){function e(t,r){this.INT_MAX_VALUE=2147483647;var n=r||Fu(null);(t>100||t<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[Lm]=t,this.samplingScoreGenerator=new jB}return i(e,"Sample"),e.prototype.isSampledIn=function(t){var r=this[Lm],n=!1;return r==null||r>=100||t.baseType===za[is]?!0:(n=this.samplingScoreGenerator.getSamplingScore(t)<r,n)},e}();var Fr,Xa,$0=void 0,WB="",Oce=65e3;function zB(e){try{return e.responseText}catch{}return null}i(zB,"_getResponseText");function Lce(e){return e&&e.sendPOST}i(Lce,"isOverrideFn");var HB=bu((Fr={endpointUrl:xm(jl,Uu+M0)},Fr[kg]=rs(),Fr.maxBatchInterval=15e3,Fr[wE]=102400,Fr.disableTelemetry=rs(),Fr[RE]=rs(!0),Fr.isRetryDisabled=rs(),Fr[A3]=rs(!0),Fr[AE]=rs(!0),Fr.disableXhr=rs(),Fr[DE]=rs(),Fr[D3]=rs(),Fr[Om]=$0,Fr.namePrefix=$0,Fr.samplingPercentage=xm(Fce,100),Fr[R3]=$0,Fr.convertUndefined=$0,Fr.eventsLimitInMem=1e4,Fr[Og]=!1,Fr.httpXHROverride={isVal:Lce,v:$0},Fr[PE]=rs(),Fr.transports=$0,Fr.retryCodes=$0,Fr.maxRetryCnt={isVal:Da,v:10},Fr));function Fce(e){return!isNaN(e)&&e>0&&e<=100}i(Fce,"_chkSampling");var Mce=(Xa={},Xa[Wa.dataType]=kE,Xa[Ju.dataType]=MB,Xa[Yu.dataType]=LB,Xa[Zu.dataType]=FB,Xa[Ku.dataType]=kB,Xa[za.dataType]=OB,Xa[Xu.dataType]=NB,Xa),LE=function(e){D0(t,e);function t(){var r=e.call(this)||this;r.priority=1001,r.identifier=S3;var n,o,s,a,l,c,f,u,d=0,p,m,g,h,b,x,y,T,_,I,w,j,V,G,Y,A,P,z,N,E,v,R,S,D,O,M,B;return Er(t,r,function(H,ae){Re(),H.pause=function(){pe(),a=!0},H.resume=function(){a&&(a=!1,o=null,we(),fe())},H.flush=function(W,X,se){if(W===void 0&&(W=!0),!a){pe();try{return H[Am](W,null,se||1)}catch(me){Ce(H[Zn](),1,22,"flush failed, telemetry will not be collected: "+un(me),{exception:Je(me)})}}},H.onunloadFlush=function(){if(!a)if(y||E)try{return H[Am](!0,Ke,2)}catch(W){Ce(H[Zn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+un(W),{exception:Je(W)})}else H.flush(!1)},H.addHeader=function(W,X){u[W]=X},H[P3]=function(W,X,se,me){H.isInitialized()&&Ce(H[Zn](),1,28,"Sender is already initialized"),ae[P3](W,X,se,me);var be=H.identifier;c=new BB(X.logger),n=0,o=null,s=0,H[Nm]=null,f=0;var ve=H[Zn]();g=bg(Po("Sender"),X.evtNamespace&&X.evtNamespace()),m=SE(g),H._addHook(ts(W,function(Ae){var Ye=Ae.cfg;Ye.storagePrefix&&hE(Ye.storagePrefix);var ut=Hs(null,Ye,X),Ie=ut.getExtCfg(be,HB),kt=Ie[km];if(h&&kt===h){var St=Ye[km];St&&St!==kt&&(Ie[km]=St)}xo(Ie[Om])&&(Ie[Om]=Ye[Om]),dr(H,"_senderConfig",{g:i(function(){return Ie},"g")}),b!==Ie[km]&&(h=b=Ie[km]),X.activeStatus()===$s.PENDING?H.pause():X.activeStatus()===$s.ACTIVE&&H.resume(),I&&I!==Ie[R3]&&Ne(I,function(it){delete u[it.header]}),x=Ie[wE],y=(Ie[D3]===!1||Ie[A3]===!1)&&Zl(),T=Ie[D3]===!1&&Zl(),_=Ie[A3]===!1&&Zl(),E=Ie[PE],v=!!Ie.disableXhr,B=Ie.retryCodes;var nt=Ie[Og],ft=!!Ie[RE]&&(!!nt||T3()),Rt=Ie.namePrefix,Bt=ft!==A||ft&&z!==Rt||ft&&P!==nt;if(H[Gs]){if(Bt)try{H[Gs]=H[Gs].createNew(ve,Ie,ft)}catch(it){Ce(H[Zn](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+un(it),{exception:Je(it)})}we()}else H[Gs]=ft?new OE(ve,Ie):new F3(ve,Ie);z=Rt,A=ft,P=nt,R=!Ie[DE]&&og(!0),O=!!Ie[AE],H._sample=new qB(Ie.samplingPercentage,ve),j=Ie[Om],!xo(j)&&!We(j,Ye)&&Ce(ve,1,100,"Invalid Instrumentation key "+j),I=Ie[R3],Yt(h)&&!_3(h)&&I&&I[ht]>0?Ne(I,function(it){r.addHeader(it.header,it.value)}):I=null,N=Ie.enableSendPromise;var Ht=he();M?M.SetConfig(Ht):(M=new sE,M[P3](Ht,ve));var Ot=Ie.httpXHROverride,Lt=null,Dt=null,Xt=Yx([3,1,2],Ie.transports);Lt=M&&M[Lg](Xt,!1);var $t=M&&M.getFallbackInst();S=i(function(it,Ct){return ue($t,it,Ct)},"_xhrSend"),D=i(function(it,Ct){return ue($t,it,Ct,!1)},"_fallbackSend"),Lt=E?Ot:Lt||Ot||$t,H[Nm]=function(it,Ct){return ue(Lt,it,Ct)},R&&(p=lt);var jt=Yx([3,1],Ie.unloadTransports);R||(jt=jt.filter(function(it){return it!==2})),Dt=M&&M[Lg](jt,!0),Dt=E?Ot:Dt||Ot,(E||Ie.unloadTransports||!p)&&Dt&&(p=i(function(it,Ct){return ue(Dt,it,Ct)},"_syncUnloadSender")),p||(p=S),w=Ie.disableTelemetry,V=Ie.convertUndefined||$0,G=Ie.isRetryDisabled,Y=Ie.maxBatchInterval}))},H.processTelemetry=function(W,X){X=H._getTelCtx(X);var se=X[Zn]();try{var me=ne(W,se);if(!me)return;var be=$(W,se);if(!be)return;var ve=c.serialize(be),Ae=H[Gs];we(ve);var Ye={item:ve,cnt:0};Ae[Va](Ye),fe()}catch(ut){Ce(se,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+un(ut),{exception:Je(ut)})}H.processNext(W,X)},H.isCompletelyIdle=function(){return!a&&d===0&&H._buffer[Ka]()===0},H.getOfflineListener=function(){return m},H._xhrReadyStateChange=function(W,X,se){if(!rt(X))return Ue(W,X,se)},H[Am]=function(W,X,se){W===void 0&&(W=!0);var me;if(!a)try{var be=H[Gs];if(w)be[fc]();else{if(be[Ka]()>0){var ve=be.getItems();$e(se||0,W),X?me=X.call(H,ve,W):me=H[Nm](ve,W)}s=+new Date}pe()}catch(Ye){var Ae=OT();(!Ae||Ae>9)&&Ce(H[Zn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+un(Ye),{exception:Je(Ye)})}return me},H.getOfflineSupport=function(){return{getUrl:i(function(){return h},"getUrl"),createPayload:q,serialize:ge,batch:le,shouldProcess:i(function(W){return!!ne(W)},"shouldProcess")}},H._doTeardown=function(W,X){H.onunloadFlush(),$a(m,!1),Re()},H[mc]=function(W,X,se){if(!rt(W))return Ge(W,X,se)},H[N3]=function(W,X){if(!rt(W))return Ve(W,X)},H[Fg]=function(W,X){if(!rt(W))return Ze(W,X)},H._xdrOnLoad=function(W,X){if(!rt(X))return ye(W,X)};function ye(W,X){var se=zB(W);if(W&&(se+""=="200"||se===""))n=0,H[Fg](X,0);else{var me=xg(se);me&&me[k3]&&me[k3]>me[O3]&&!G?H[N3](X,me):H[mc](X,rg(W))}}i(ye,"_xdrOnLoad");function he(){try{var W={xdrOnComplete:i(function(se,me,be){var ve=F(be);if(ve)return ye(se,ve)},"xdrOnComplete"),fetchOnComplete:i(function(se,me,be,ve){var Ae=F(ve);if(Ae)return ke(se.status,Ae,se.url,Ae[ht],se.statusText,be||"")},"fetchOnComplete"),xhrOnComplete:i(function(se,me,be){var ve=F(be);if(ve)return Ue(se,ve,ve[ht])},"xhrOnComplete"),beaconOnRetry:i(function(se,me,be){return tt(se,me,be)},"beaconOnRetry")},X={enableSendPromise:N,isOneDs:!1,disableCredentials:!1,disableXhr:v,disableBeacon:!_,disableBeaconSync:!T,senderOnCompleteCallBack:W};return X}catch{}return null}i(he,"_getSendPostMgrConfig");function Ue(W,X,se){W.readyState===4&&ke(W.status,X,W.responseURL,se,Ou(W),zB(W)||W.response)}i(Ue,"_xhrReadyStateChange");function Ge(W,X,se){Ce(H[Zn](),2,26,"Failed to send telemetry.",{message:X}),H._buffer&&H._buffer[tf](W)}i(Ge,"_onError");function Ve(W,X){for(var se=[],me=[],be=X.errors.reverse(),ve=0,Ae=be;ve<Ae.length;ve++){var Ye=Ae[ve],ut=W.splice(Ye.index,1)[0];De(Ye.statusCode)?me[os](ut):se[os](ut)}W[ht]>0&&H[Fg](W,X[O3]),se[ht]>0&&H[mc](se,Ou(null,["partial success",X[O3],"of",X.itemsReceived].join(" "))),me[ht]>0&&(L(me),Ce(H[Zn](),2,40,"Partial success. Delivered: "+W[ht]+", Failed: "+se[ht]+". Will retry to send "+me[ht]+" our of "+X[k3]+" items"))}i(Ve,"_onPartialSuccess");function Ze(W,X){H._buffer&&H._buffer[tf](W)}i(Ze,"_onSuccess");function F(W){try{if(W){var X=W,se=X.oriPayload;return se&&se[ht]?se:null}}catch{}return null}i(F,"_getPayloadArr");function ne(W,X){if(w)return!1;if(!W)return X&&Ce(X,1,7,"Cannot send empty telemetry"),!1;if(W.baseData&&!W[L3])return X&&Ce(X,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(W[L3]||(W[L3]="EventData"),!H[Nm])return X&&Ce(X,1,28,"Sender was not initialized"),!1;if(re(W))W[yg]=H._sample[Lm];else return X&&Ce(X,2,33,"Telemetry item was sampled out and not sent",{SampleRate:H._sample[Lm]}),!1;return!0}i(ne,"_validate");function $(W,X){var se=W.iKey||j,me=t.constructEnvelope(W,se,X,V);if(!me){Ce(X,1,47,"Unable to create an AppInsights envelope");return}var be=!1;if(W[En]&&W[En][_g]&&(Ne(W[En][_g],function(ve){try{ve&&ve(me)===!1&&(be=!0,ja(X,"Telemetry processor check returns false"))}catch(Ae){Ce(X,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+un(Ae),{exception:Je(Ae)},!0)}}),delete W[En][_g]),!be)return me}i($,"_getEnvelope");function ge(W){var X=WB,se=H[Zn]();try{var me=ne(W,se),be=null;me&&(be=$(W,se)),be&&(X=c.serialize(be))}catch{}return X}i(ge,"_serialize");function le(W){var X=WB;return W&&W[ht]&&(X="["+W.join(",")+"]"),X}i(le,"_batch");function q(W){var X=Ee();return{urlString:h,data:W,headers:X}}i(q,"_createPayload");function re(W){return H._sample.isSampledIn(W)}i(re,"_isSampledIn");function xe(W,X,se,me){X===200&&W?H._onSuccess(W,W[ht]):me&&H[mc](W,me)}i(xe,"_getOnComplete");function ue(W,X,se,me){me===void 0&&(me=!0);var be=i(function(Ye,ut,Ie){return xe(X,Ye,ut,Ie)},"onComplete"),ve=de(X),Ae=W&&W.sendPOST;return Ae&&ve?(me&&H._buffer[Pm](X),Ae(ve,be,!se)):null}i(ue,"_doSend");function de(W){if(et(W)&&W[ht]>0){var X=H[Gs].batchPayloads(W),se=Ee(),me={data:X,urlString:h,headers:se,disableXhrSync:v,disableFetchKeepAlive:!R,oriPayload:W};return me}return null}i(de,"_getPayload");function Ee(){try{var W=u||{};return _3(h)&&(W[b3[6]]=b3[7]),W}catch{}return null}i(Ee,"_getHeaders");function we(W){var X=W?W[ht]:0;return H[Gs].size()+X>x?((!m||m.isOnline())&&H[Am](!0,null,10),!0):!1}i(we,"_checkMaxSize");function ke(W,X,se,me,be,ve){var Ae=null;if(H._appId||(Ae=xg(ve),Ae&&Ae.appId&&(H._appId=Ae.appId)),(W<200||W>=300)&&W!==0){if((W===301||W===307||W===308)&&!je(se)){H[mc](X,be);return}if(m&&!m.isOnline()){if(!G){var Ye=10;L(X,Ye),Ce(H[Zn](),2,40,". Offline - Response Code: ".concat(W,". Offline status: ").concat(!m.isOnline(),". Will retry to send ").concat(X.length," items."))}return}!G&&De(W)?(L(X),Ce(H[Zn](),2,40,". Response code "+W+". Will retry to send "+X[ht]+" items.")):H[mc](X,be)}else je(se),W===206?(Ae||(Ae=xg(ve)),Ae&&!G?H[N3](X,Ae):H[mc](X,be)):(n=0,H[Fg](X,me))}i(ke,"_checkResponsStatus");function je(W){return f>=10?!1:!Oe(W)&&W!==""&&W!==h?(h=W,++f,!0):!1}i(je,"_checkAndUpdateEndPointUrl");function Ke(W,X){if(p)p(W,!1);else{var se=M&&M[Lg]([3],!0);return ue(se,W,X)}}i(Ke,"_doUnloadSend");function tt(W,X,se){var me=W,be=me&&me.oriPayload;if(O)D&&D(be,!0),Ce(H[Zn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ve=[],Ae=0;Ae<be[ht];Ae++){var Ye=be[Ae],ut=[Ye],Ie=de(ut);se(Ie,X)?H._onSuccess(ut,ut[ht]):ve[os](Ye)}ve[ht]>0&&(D&&D(ve,!0),Ce(H[Zn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}i(tt,"_onBeaconRetry");function rt(W){try{if(W&&W[ht])return Yt(W[0])}catch{}return null}i(rt,"_isStringArr");function lt(W,X){var se=null;if(et(W)){for(var me=W[ht],be=0;be<W[ht];be++)me+=W[be].item[ht];var ve=M.getSyncFetchPayload();ve+me<=Oce?se=2:Zl()?se=3:(se=1,Ce(H[Zn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ae=M&&M[Lg]([se],!0);return ue(Ae,W,X)}return null}i(lt,"_fetchKeepAliveSender");function L(W,X){if(X===void 0&&(X=1),!(!W||W[ht]===0)){var se=H[Gs];se[tf](W),n++;for(var me=0,be=W;me<be.length;me++){var ve=be[me];ve.cnt=ve.cnt||0,ve.cnt++,se[Va](ve)}Z(X),fe()}}i(L,"_resendPayload");function Z(W){var X=10,se;if(n<=1)se=X;else{var me=(Math.pow(2,n)-1)/2,be=Na(Math.random()*me*X)+1;be=W*be,se=yu(_M(be,3600),X)}var ve=vo()+se*1e3;o=ve}i(Z,"_setRetryTime");function fe(){if(!l&&!a){var W=o?yu(0,o-vo()):0,X=yu(Y,W);l=To(function(){l=null,H[Am](!0,null,1)},X)}}i(fe,"_setupTimer");function pe(){l&&l.cancel(),l=null,o=null}i(pe,"_clearScheduledTimer");function De(W){return Oe(B)?W===401||W===408||W===429||W===500||W===502||W===503||W===504:B[ht]&&B.indexOf(W)>-1}i(De,"_isRetriable");function Me(){var W="getNotifyMgr";return H.core[W]?H.core[W]():H.core._notificationManager}i(Me,"_getNotifyMgr");function $e(W,X){var se=Me();if(se&&se.eventsSendRequest)try{se.eventsSendRequest(W,X)}catch(me){Ce(H[Zn](),1,74,"send request notification failed: "+un(me),{exception:Je(me)})}}i($e,"_notifySendRequest");function We(W,X){var se=X.disableInstrumentationKeyValidation,me=Oe(se)?!1:se;if(me)return!0;var be="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ve=new RegExp(be);return ve.test(W)}i(We,"_validateInstrumentationKey");function Re(){H[Nm]=null,H[Gs]=null,H._appId=null,H._sample=null,u={},m=null,n=0,o=null,s=null,a=!1,l=null,c=null,f=0,d=0,p=null,g=null,h=null,b=null,x=0,y=!1,I=null,w=!1,j=null,V=$0,G=!1,A=null,z=$0,v=!1,R=!1,O=!1,S=null,D=null,M=null,dr(H,"_senderConfig",{g:i(function(){return Kx({},HB)},"g")})}i(Re,"_initDefaults")}),r}return i(t,"Sender"),t.constructEnvelope=function(r,n,o,s){var a;n!==r.iKey&&!Oe(n)?a=es(es({},r),{iKey:n}):a=r;var l=Mce[a.baseType]||kE;return l(o,a,s)},t}(hg);var sf="instrumentationKey",Mg="connectionString",Fm="endpointUrl",Mm="userOverrideEndpointUrl";var Um,FE=void 0,Uce=(Um={diagnosticLogInterval:xm(Bce,1e4)},Um[Mg]=FE,Um.endpointUrl=FE,Um[sf]=FE,Um.extensionConfig={},Um);function Bce(e){return e&&e>0}i(Bce,"_chkDiagLevel");var GB=function(){function e(t){var r=new iE,n;(Oe(t)||Oe(t[sf])&&Oe(t[Mg]))&&Ki("Invalid input configuration"),Er(e,this,function(s){dr(s,"config",{g:i(function(){return n},"g")}),a(),s.initialize=a,s.track=o,ku(s,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function a(){var l=vn(t||{},Uce);n=l.cfg,r.addUnloadHook(ts(l,function(){var c=n[Mg];if(xo(c)){var f=Q1(function(m,g){So(c,function(h){var b=h.value,x=n[sf];if(!h.rejected&&b){n[Mg]=b;var y=Pg(b);x=y.instrumentationkey||x}m(x)})}),u=Q1(function(m,g){So(c,function(h){var b=h.value,x=n[Fm];if(!h.rejected&&b){var y=Pg(b),T=y.ingestionendpoint;x=T?T+M0:x}m(x)})});n[sf]=f,n[Fm]=n[Mm]||u}if(Yt(c)){var d=Pg(c),p=d.ingestionendpoint;n[Fm]=n[Mm]?n[Mm]:p+M0,n[sf]=d.instrumentationkey||n[sf]}n[Fm]=n[Mm]?n[Mm]:n[Fm]})),r.initialize(n,[new LE])}i(a,"_initialize")});function o(s){s&&(s.baseData=s.baseData||{},s.baseType=s.baseType||"EventData"),r.track(s)}i(o,"_track")}return i(e,"ApplicationInsights"),e.__ieDyn=1,e}();var Ro=yt(jc());var Bm=class{constructor(t,r,n,o,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=i(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:i((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let o={method:"POST",headers:n,body:t.data};this.ctx.get(on).fetch(t.urlString,o).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{Ft.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new GB({instrumentationKey:o,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[S3]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=$ce(t),this.commonProperties=jce(t),this.#e=Kr(t,this.onCopilotToken)}static{i(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let o=this.qualifyEventName(t);this.client.track({name:o,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:o,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function $ce(e){let t={},r=e.get(dn);t["ai.session.id"]=r.sessionId;let n=e.get(ji);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Ro.type()} ${Ro.release()}`,t["ai.device.osArchitecture"]=Ro.arch(),t["ai.device.osPlatform"]=Ro.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Sn).getVersion(),t}i($ce,"getTags");function jce(e){let t={};t.common_os=Ro.platform(),t.common_platformversion=Ro.release(),t.common_arch=Ro.arch(),t.common_cpu=Array.from(new Set(Ro.cpus().map(n=>n.model))).join();let r=e.get(dn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}i(jce,"getCommonProperties");var qce="7d7048df-6dd0-4048-bb23-b716c1461f8f",Wce="3fdd7f28-937a-48c8-9a21-ba337db23bd1",zce="f0000000-0000-0000-0000-000000000000";function VB(e){return new URL(e).hostname==="github.com"?zc.telemetry:e.replace("://","://copilot-telemetry-service.")}i(VB,"getEndpointForServerUrl");var j0=class{constructor(t,r){this.ctx=t;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=VB(this.serverUrl);this.shuttingDown=new Set;Kr(t,n=>this.updateServiceEndpoints(n.endpoints))}static{i(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(t){let r=this.ctx;this._enabled=t;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},t)){let o=r.get(Us);o.setReporter(new Bm(r,this.namespace,n,qce)),o.setRestrictedReporter(new Bm(r,this.namespace,n,Wce)),o.setFTReporter(new Bm(r,this.namespace,n,zce,!0))}}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let t=this.ctx.get(Us).deactivate().finally(()=>{this.shuttingDown.delete(t)});this.shuttingDown.add(t)}updateSessionConfig(t){t?.serverUrl&&t.serverUrl!==this.serverUrl&&(this.serverUrl=t.serverUrl,this.rootUrl=VB(t.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(t){this.rootUrl=t.telemetry,this.isInitialized&&this.initialize(this._enabled)}};var Mr=class{static{i(this,"StatusReporter")}#e=0;#t="Normal";#i;#r;#n=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#r&&!this.#n||(this.#t=t,this.#i=r,this.#r=n,this.#n=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#r};this.didChange(t)}};var Cr=class{constructor(t=!1){this.primed=t}static{i(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},ss=class extends ol{constructor(r){super(r.message??"");this.result=r}static{i(this,"TokenResultError")}},M3=class extends Cr{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{i(this,"CopilotTokenManagerFromGitHubSession")}async fetchCopilotToken(){let r=await this.getGitHubSession();if(!r)throw new ss({reason:"NotSignedIn"});if(!r.accessToken)throw new ss({reason:"HTTP401"});let n=await rM(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new ss(n);let o=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw o.code=`CopilotToken.${n.reason}`,o}return n.copilotToken}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if(GN(this.ctx))throw r;wa.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotToken().then(n=>this.tokenPromise!==r?n:(this.token=n,this.tokenPromise=void 0,this.ctx.get(Mr).forceNormal(),this.token),n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let o=this.ctx.get(Mr);if(n instanceof ss)switch(n.result.reason){case"NotSignedIn":o.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":o.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":o.setError(n.message||"No access to Copilot found.");break}else o.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Se(this.ctx,"auth.reset_token_"+r),wa.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):wa.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}};var q0=class{static{i(this,"CitationManager")}};var Hce={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},Ug=class{constructor(){this.capabilities={...Hce}}static{i(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};function ME(e,t){let r=$m(e,t);return r===-1?void 0:e[r]}i(ME,"findLastMonotonous");function $m(e,t,r=0,n=e.length){let o=r,s=n;for(;o<s;){let a=Math.floor((o+s)/2);t(e[a])?o=a+1:s=a}return o-1}i($m,"findLastIdxMonotonous");function U3(e,t,r=0,n=e.length){let o=r,s=n;for(;o<s;){let a=Math.floor((o+s)/2);t(e[a])?s=a:o=a+1}return o}i(U3,"findFirstIdxMonotonousOrArrLen");var KB=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{i(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=$m(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};var UE=class{static{i(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?B3.isErrorNoTelemetry(t)?new B3(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},YB=new UE;function af(e){YB.onUnexpectedError(e)}i(af,"onBugIndicatingError");function qm(e){Gce(e)||YB.onUnexpectedError(e)}i(qm,"onUnexpectedError");var BE="Canceled";function Gce(e){return e instanceof jm?!0:e instanceof Error&&e.name===BE&&e.message===BE}i(Gce,"isCancellationError");var jm=class extends Error{static{i(this,"CancellationError")}constructor(){super(BE),this.name=this.message}};var B3=class e extends Error{static{i(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Dn=class e extends Error{static{i(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};var JB;(l=>{function e(c){return c<0}l.isLessThan=e,i(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,i(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,i(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,i(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(JB||={});function ZB(e,t){return(r,n)=>t(e(r),e(n))}i(ZB,"compareBy");var QB=i((e,t)=>e-t,"numberComparator");var XB=class e{constructor(t){this.iterate=t}static{i(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(o=>((n||JB.isGreaterThan(t(o,r)))&&(n=!1,r=o),!0)),r}};function n$(e,t){let r=Object.create(null);for(let n of e){let o=t(n),s=r[o];s||(s=r[o]=[]),s.push(n)}return r}i(n$,"groupBy");var t$,r$,e$=class{constructor(t,r){this.toKey=r;this._map=new Map;this[t$]="SetWithKey";for(let n of t)this.add(n)}static{i(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(r$=Symbol.iterator,t$=Symbol.toStringTag,r$)](){return this.values()}};function $E(e,t){let r=this,n=!1,o;return function(){if(n)return o;if(n=!0,t)try{o=e.apply(r,arguments)}finally{t()}else o=e.apply(r,arguments);return o}}i($E,"createSingleCallFunction");var jE;(T=>{function e(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}T.is=e,i(e,"is");let t=Object.freeze([]);function r(){return t}T.empty=r,i(r,"empty");function*n(_){yield _}T.single=n,i(n,"single");function o(_){return e(_)?_:n(_)}T.wrap=o,i(o,"wrap");function s(_){return _||t}T.from=s,i(s,"from");function*a(_){for(let I=_.length-1;I>=0;I--)yield _[I]}T.reverse=a,i(a,"reverse");function l(_){return!_||_[Symbol.iterator]().next().done===!0}T.isEmpty=l,i(l,"isEmpty");function c(_){return _[Symbol.iterator]().next().value}T.first=c,i(c,"first");function f(_,I){let w=0;for(let j of _)if(I(j,w++))return!0;return!1}T.some=f,i(f,"some");function u(_,I){for(let w of _)if(I(w))return w}T.find=u,i(u,"find");function*d(_,I){for(let w of _)I(w)&&(yield w)}T.filter=d,i(d,"filter");function*p(_,I){let w=0;for(let j of _)yield I(j,w++)}T.map=p,i(p,"map");function*m(_,I){let w=0;for(let j of _)yield*I(j,w++)}T.flatMap=m,i(m,"flatMap");function*g(..._){for(let I of _)yield*I}T.concat=g,i(g,"concat");function h(_,I,w){let j=w;for(let V of _)j=I(j,V);return j}T.reduce=h,i(h,"reduce");function*b(_,I,w=_.length){for(I<-_.length&&(I=0),I<0&&(I+=_.length),w<0?w+=_.length:w>_.length&&(w=_.length);I<w;I++)yield _[I]}T.slice=b,i(b,"slice");function x(_,I=Number.POSITIVE_INFINITY){let w=[];if(I===0)return[w,_];let j=_[Symbol.iterator]();for(let V=0;V<I;V++){let G=j.next();if(G.done)return[w,T.empty()];w.push(G.value)}return[w,{[Symbol.iterator](){return j}}]}T.consume=x,i(x,"consume");async function y(_){let I=[];for await(let w of _)I.push(w);return Promise.resolve(I)}T.asyncToArray=y,i(y,"asyncToArray")})(jE||={});var qE=class{constructor(t,r){this.uri=t;this.value=r}static{i(this,"ResourceMapEntry")}};function Kce(e){return Array.isArray(e)}i(Kce,"isEntries");var s$,$3=class e{constructor(t,r){this[s$]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Kce(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,o]of t)this.set(n,o)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{i(this,"ResourceMap")}static{this.defaultToKey=i(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new qE(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,o]of this.map)t(o.value,o.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(s$=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},a$,i$=class{constructor(t,r){this[a$]="ResourceSet";!t||typeof t=="function"?this._map=new $3(t):(this._map=new $3(r),t.forEach(this.add,this))}static{i(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,o)=>t.call(r,o,o,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(a$=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var l$,o$=class{constructor(){this[l$]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{i(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let o=this._map.get(t);if(o)o.value=r,n!==0&&this.touch(o,n);else{switch(o={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(t,o),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,o=this._head;for(;o;){if(r?t.bind(r)(o.value,o.key,this):t(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let t=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return o}values(){let t=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return o}entries(){let t=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return o}[(l$=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,o=t.previous;t===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,o=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};var j3=class{constructor(){this.map=new Map}static{i(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Yce=!1,Wm=null;var c$=class e{constructor(){this.livingDisposables=new Map}static{i(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let o=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,o),o}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,f=[...this.livingDisposables.values()].filter(d=>d.source!==null&&!this.getRootParent(d,c).isSingleton);if(f.length===0)return;let u=new Set(f.map(d=>d.value));if(n=f.filter(d=>!(d.parent&&u.has(d.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function o(c){function f(d,p){for(;d.length>0&&p.some(m=>typeof m=="string"?m===d[0]:d[0].match(m));)d.shift()}i(f,"removePrefix");let u=c.source.split(`
`).map(d=>d.trim().replace("at ","")).filter(d=>d!=="");return f(u,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),u.reverse()}i(o,"getStackTracePath");let s=new j3;for(let c of n){let f=o(c);for(let u=0;u<=f.length;u++)s.add(f.slice(0,u).join(`
`),c)}n.sort(ZB(c=>c.idx,QB));let a="",l=0;for(let c of n.slice(0,t)){l++;let f=o(c),u=[];for(let d=0;d<f.length;d++){let p=f[d];p=`(shared with ${s.get(f.slice(0,d+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let g=s.get(f.slice(0,d).join(`
`)),h=n$([...g].map(b=>o(b)[d]),b=>b);delete h[f[d]];for(let[b,x]of Object.entries(h))u.unshift(`    - stacktraces of ${x.length} other leaks continue with ${b}`);u.unshift(p)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${u.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Xce(e){Wm=e}i(Xce,"setDisposableTracker");if(Yce){let e="__is_disposable_tracked__";Xce(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==Do.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==Do.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function zm(e){return Wm?.trackDisposable(e),e}i(zm,"trackDisposable");function Hm(e){Wm?.markAsDisposed(e)}i(Hm,"markAsDisposed");function WE(e,t){Wm?.setParent(e,t)}i(WE,"setParentOfDisposable");function Jce(e,t){if(Wm)for(let r of e)Wm.setParent(r,t)}i(Jce,"setParentOfDisposables");function u$(e){if(jE.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}i(u$,"dispose");function f$(...e){let t=Ja(()=>u$(e));return Jce(e,t),t}i(f$,"combinedDisposable");function Ja(e){let t=zm({dispose:$E(()=>{Hm(t),e()})});return t}i(Ja,"toDisposable");var W0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;zm(this)}static{i(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(Hm(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{u$(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return WE(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),WE(t,null))}},Do=class{constructor(){this._store=new W0;zm(this),WE(this._store,this)}static{i(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){Hm(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};var Bg=class extends Do{static{i(this,"ChatQuotaService")}constructor(t){super(),this._register(Kr(t,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(t){let r=t.get("x-quota-snapshot-premium_models")||t.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),o=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),c=n.get("rst"),f;c?f=new Date(c):(f=new Date,f.setMonth(f.getMonth()+1));let u=Math.max(0,o*(1-l/100));this._quotaInfo={quota:o,used:u,overageUsed:s,overageEnabled:a,resetDate:f}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(t){!t||!t.quota_snapshots||!t.quota_reset_date||(this._quotaInfo={overageEnabled:t.quota_snapshots.premium_interactions.overage_permitted,overageUsed:t.quota_snapshots.premium_interactions.overage_count,quota:t.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(t.quota_reset_date),used:Math.max(0,t.quota_snapshots.premium_interactions.entitlement*(1-t.quota_snapshots.premium_interactions.percent_remaining/100))})}};var d$=yt(d1());var q3="CompletionRequested",lf=class{constructor(t){this.ctx=t}static{i(this,"CompletionNotifier")}#e=new d$.default;notifyRequest(t,r,n,o,s){return this.#e.emit(q3,{completionId:r,completionState:t,telemetryData:n,cancellationToken:o,options:s})}onRequest(t){let r=Ia(this.ctx,t,`event.${q3}`);return this.#e.on(q3,r),or.Disposable.create(()=>this.#e.off(q3,r))}};var zE=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{i(this,"UnregisteredContextError")}},W3=class{constructor(){this.instances=new Map}static{i(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new zE(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};var cf={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var m$=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],p$={".php":[".blade"]},z3=Object.keys(cf).flatMap(e=>cf[e].extensions);var HE=yt(Lf());var Vm=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{i(this,"Language")}},$g=class{static{i(this,"LanguageDetection")}},GE=new Map,Gm=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(cf)){for(let n of t)GE.set(n,[...GE.get(n)??[],e]);for(let n of r??[])Gm.set(n,[...Gm.get(n)??[],e])}var VE=class extends $g{static{i(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=fl(t.uri),n=HE.extname(r).toLowerCase(),o=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,o),a=this.computeFullyQualifiedExtension(n,o);return s?new Vm(s.languageId,s.isGuess,a):new Vm(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(m$.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),o=HE.extname(n).toLowerCase();if(o.length>0&&z3.includes(o)&&this.isExtensionValidForTemplateLanguage(r,o))return o}return r}isExtensionValidForTemplateLanguage(t,r){let n=p$[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Gm.has(t))return{languageId:Gm.get(t)[0],isGuess:!1};let n=GE.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Gm.has(t))return{languageId:Gm.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},KE=class extends $g{constructor(r){super();this.delegate=r}static{i(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),o=n.languageId;return o==="c"||o==="cpp"?new Vm("cpp",n.isGuess,n.fileExtension):n}},YE=class extends $g{constructor(r){super();this.delegate=r}static{i(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Vm(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Zce=new KE(new YE(new VE));function H3({uri:e,languageId:t}){let r=Zce.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}i(H3,"detectLanguage");var G3=class e{static{i(this,"FullTextDocument")}constructor(t,r,n,o){this._uri=t,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let o=x$(n.range),s=this.offsetAt(o.start),a=this.offsetAt(o.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(o.start.line,0),c=Math.max(o.end.line,0),f=this._lineOffsets,u=g$(n.text,!1,s);if(c-l===u.length)for(let p=0,m=u.length;p<m;p++)f[p+l+1]=u[p];else u.length<1e4?f.splice(l+1,c-l,...u):this._lineOffsets=f=f.slice(0,l+1).concat(u,f.slice(c+1));let d=n.text.length-(a-s);if(d!==0)for(let p=l+1+u.length,m=f.length;p<m;p++)f[p]=f[p]+d}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=g$(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return{line:0,character:t};for(;n<o;){let a=Math.floor((n+o)/2);r[a]>t?o=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let o=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,o);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&h$(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},gc;(function(e){function t(o,s,a,l){return new G3(o,s,a,l)}i(t,"create"),e.create=t;function r(o,s,a){if(o instanceof G3)return o.update(s,a),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}i(r,"update"),e.update=r;function n(o,s){let a=o.getText(),l=XE(s.map(Qce),(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),c=0,f=[];for(let u of l){let d=o.offsetAt(u.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&f.push(a.substring(c,d)),u.newText.length&&f.push(u.newText),c=o.offsetAt(u.range.end)}return f.push(a.substr(c)),f.join("")}i(n,"applyEdits"),e.applyEdits=n})(gc||(gc={}));function XE(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),o=e.slice(r);XE(n,t),XE(o,t);let s=0,a=0,l=0;for(;s<n.length&&a<o.length;)t(n[s],o[a])<=0?e[l++]=n[s++]:e[l++]=o[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<o.length;)e[l++]=o[a++];return e}i(XE,"mergeSort");function g$(e,t,r=0){let n=t?[r]:[];for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);h$(s)&&(s===13&&o+1<e.length&&e.charCodeAt(o+1)===10&&o++,n.push(r+o+1))}return n}i(g$,"computeLineOffsets");function h$(e){return e===13||e===10}i(h$,"isEOL");function x$(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}i(x$,"getWellformedRange");function Qce(e){let t=x$(e.range);return t!==e.range?{newText:e.newText,range:t}:e}i(Qce,"getWellformedEdit");D1();var xi=class{static{i(this,"LocationFactory")}static{this.range=Tr.create.bind(Tr)}static{this.position=Kn.create.bind(Kn)}},uf=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{i(this,"CopilotTextDocument")}static withChanges(t,r,n){let o=gc.create(t.clientUri,t.clientLanguageId,n,t.getText());return gc.update(o,r,n),new e(t.uri,o,t.detectedLanguageId)}applyEdits(t){let r=gc.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return gc.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,o,s=H3({uri:t,languageId:r})){return new e(Fo(t),gc.create(t,r,n,o),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Tr.create(r,0,r+1,0),o=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Tr.create(Kn.create(r,0),Kn.create(r,o.length)),a=o.trim().length===0;return{text:o,range:s,isEmptyOrWhitespace:a}}};var jg={isBlocked:!1,reason:"VALID_FILE"},V3={isBlocked:!1,reason:"NO_MATCHING_POLICY"},b$={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},ff={all:"all",repo:"repo"},hc=new _t("contentExclusion");var K3=class{static{i(this,"PolicyEvaluator")}};var d0t=new _t("repository"),qg=class e{constructor(){this.data={}}static{i(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),o=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(o)).map(s=>s.slice(n.length,-o.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,o])=>(o.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},xc=class{static{i(this,"GitConfigLoader")}};var y$=yt(jc());var Y3=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{i(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return ul.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=ul.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,y$.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var X3=class{static{i(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(xc).getConfig(t,r);if(!n)return;let o=this.getRemotes(n),s=o.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(o.length)return o.find(a=>a.name==="origin")?.url??o[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new Y3(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var eue=100,JE=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{i(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},Za=class e{constructor(t){this.ctx=t;this.remoteResolver=new X3;this.cache=new Gt(eue)}static{i(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let o=await this.tryGetRepoForFolder(t);if(o)return this.updateCache(n,o),o;r=t,t=aa(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new JE(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Zr),o=Nn(r,".git");if((await n.stat(o)).type&1)return await this.getConfigLocationForGitfile(n,r,o);let a=Nn(o,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Wc(r,s[1]),l=Nn(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Nn(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let f=Nn(a,"commondir");a=Wc(a,(await t.readFileString(f)).trimEnd());let u=Nn(a,"config");return await t.stat(u),u}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};var df=i((e,t)=>{if(f0.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...f0.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");var J3=new WeakMap;function Z3(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",o=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&J3.has(e))return J3.get(e);switch(J3.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";o<r.length;n+=Z3(r[o++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();o<r.length;n+=r[o]+Z3(e[r[o++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();o<r.length;n+=r[o]+Z3(e.get(r[o++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return J3.set(e,n),n}i(Z3,"t");function Q3(e){return Z3(e,0)}i(Q3,"r");var ZE=new WeakMap;function _$(e,t,r=Q3(t)){let n,o,s=ZE.get(e);s||(ZE.set(e,s=[[],o=[],n=[]]),queueMicrotask(function(){let f,u=0;function d(p){for(;f=n[u++];f.r(p));}i(d,"o"),ZE.delete(e),e(o).then(function(p){if(p.length!==n.length)return d(new Error("loader value length mismatch"));for(;f=p[u++],u<=p.length;f instanceof Error?n[u-1].r(f):n[u-1].s(f));},d)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(f,u){c.s=f,c.r=u})}i(_$,"n");var v$=new WeakMap;function tue(e,t,r,n=Q3(r)){if(t||(t=v$.get(e)),t||v$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let o=_$(e,r,n);return t.set(n,o),o.catch(()=>t.delete(n)),o}i(tue,"n");function T$(e,t){return function(r,n){return tue(e,t,r,n)}}i(T$,"o");var W$=yt(L$(),1);var zg=i(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var cue={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Hg=i(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),uue=i(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),F$=i(e=>e.join(""),"rangesToString"),M$=i((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],o=[],s=r+1,a=!1,l=!1,c=!1,f=!1,u=r,d="";e:for(;s<e.length;){let h=e.charAt(s);if((h==="!"||h==="^")&&s===r+1){f=!0,s++;continue}if(h==="]"&&a&&!c){u=s+1;break}if(a=!0,h==="\\"&&!c){c=!0,s++;continue}if(h==="["&&!c){for(let[b,[x,y,T]]of Object.entries(cue))if(e.startsWith(b,s)){if(d)return["$.",!1,e.length-r,!0];s+=b.length,T?o.push(x):n.push(x),l=l||y;continue e}}if(c=!1,d){h>d?n.push(Hg(d)+"-"+Hg(h)):h===d&&n.push(Hg(h)),d="",s++;continue}if(e.startsWith("-]",s+1)){n.push(Hg(h+"-")),s+=2;continue}if(e.startsWith("-",s+1)){d=h,s+=2;continue}n.push(Hg(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!o.length)return["$.",!1,e.length-r,!0];if(o.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let h=n[0].length===2?n[0].slice(-1):n[0];return[uue(h),!1,u-r,!1]}let p="["+(f?"^":"")+F$(n)+"]",m="["+(f?"":"^")+F$(o)+"]";return[n.length&&o.length?"("+p+"|"+m+")":n.length?p:m,l,u-r,!0]},"parseClass");var bc=i((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var fue=new Set(["!","?","+","*","@"]),U$=i(e=>fue.has(e),"isExtglobType"),due="(?!(?:^|/)\\.\\.?(?:$|/))",eb="(?!\\.)",mue=new Set(["[","."]),pue=new Set(["..","."]),gue=new Set("().*{}+?[]^$\\!"),hue=i(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),tC="[^/]",B$=tC+"*?",$$=tC+"+?",Km=class e{static{i(this,"AST")}type;#e;#t;#i=!1;#r=[];#n;#o;#s;#l=!1;#a;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#n=r,this.#e=this.#n?this.#n.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#l&&this.#s.push(this),this.#o=this.#n?this.#n.#r.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#r)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#c=this.#r.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#l)return this;this.toString(),this.#l=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#n;for(;n;){for(let o=r.#o+1;!n.type&&o<n.#r.length;o++)for(let s of t.#r){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#r[o])}r=n,n=r.#n}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#n===this))throw new Error("invalid part: "+r);this.#r.push(r)}}toJSON(){let t=this.type===null?this.#r.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#r.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#l&&this.#n?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#n?.isStart())return!1;if(this.#o===0)return!0;let t=this.#n;for(let r=0;r<this.#o;r++){let n=t.#r[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#n?.type==="!")return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();let t=this.#n?this.#n.#r.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#r)r.copyIn(n);return r}static#u(t,r,n,o){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let m=n,g="";for(;m<t.length;){let h=t.charAt(m++);if(s||h==="\\"){s=!s,g+=h;continue}if(a){m===l+1?(h==="^"||h==="!")&&(c=!0):h==="]"&&!(m===l+2&&c)&&(a=!1),g+=h;continue}else if(h==="["){a=!0,l=m,c=!1,g+=h;continue}if(!o.noext&&U$(h)&&t.charAt(m)==="("){r.push(g),g="";let b=new e(h,r);m=e.#u(t,b,m,o),r.push(b);continue}g+=h}return r.push(g),m}let f=n+1,u=new e(null,r),d=[],p="";for(;f<t.length;){let m=t.charAt(f++);if(s||m==="\\"){s=!s,p+=m;continue}if(a){f===l+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(f===l+2&&c)&&(a=!1),p+=m;continue}else if(m==="["){a=!0,l=f,c=!1,p+=m;continue}if(U$(m)&&t.charAt(f)==="("){u.push(p),p="";let g=new e(m,u);u.push(g),f=e.#u(t,g,f,o);continue}if(m==="|"){u.push(p),p="",d.push(u),u=new e(null,r);continue}if(m===")")return p===""&&r.#r.length===0&&(r.#f=!0),u.push(p),p="",r.push(...d,u),f;p+=m}return r.type=null,r.#t=void 0,r.#r=[t.substring(n-1)],f}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,o,s]=this.toRegExpSource();if(!(o||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#a}toRegExpSource(t){let r=t??!!this.#a.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),f=this.#r.map(m=>{let[g,h,b,x]=typeof m=="string"?e.#p(m,this.#t,c):m.toRegExpSource(t);return this.#t=this.#t||b,this.#i=this.#i||x,g}).join(""),u="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&pue.has(this.#r[0]))){let g=mue,h=r&&g.has(f.charAt(0))||f.startsWith("\\.")&&g.has(f.charAt(2))||f.startsWith("\\.\\.")&&g.has(f.charAt(4)),b=!r&&!t&&g.has(f.charAt(0));u=h?due:b?eb:""}let d="";return this.isEnd()&&this.#e.#l&&this.#n?.type==="!"&&(d="(?:$|\\/)"),[u+f+d,bc(f),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",o=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#t=void 0,[c,bc(this.toString()),!1,!1]}let a=!n||t||r||!eb?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?eb:"")+$$;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?eb:"")+B$+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=o+s+c}return[l,bc(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#r.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,o,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#p(t,r,n=!1){let o=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(o){o=!1,s+=(gue.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":o=!0;continue}if(c==="["){let[f,u,d,p]=M$(t,l);if(d){s+=f,a=a||u,l+=d-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?s+=$$:s+=B$,r=!0;continue}if(c==="?"){s+=tC,r=!0;continue}s+=hue(c)}return[s,bc(t),!!r,a]}};var rC=i((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Qn=i((e,t,r={})=>(zg(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Ym(t,r).match(e)),"minimatch"),xue=/^\*+([^+@!?\*\[\(]*)$/,bue=i(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),yue=i(e=>t=>t.endsWith(e),"starDotExtTestDot"),_ue=i(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),vue=i(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Tue=/^\*+\.\*+$/,Eue=i(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Cue=i(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Iue=/^\.\*+$/,Sue=i(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),wue=/^\*+$/,Pue=i(e=>e.length!==0&&!e.startsWith("."),"starTest"),Rue=i(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),Due=/^\?+([^+@!?\*\[\(]*)?$/,Aue=i(([e,t=""])=>{let r=z$([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),Nue=i(([e,t=""])=>{let r=H$([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),kue=i(([e,t=""])=>{let r=H$([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Oue=i(([e,t=""])=>{let r=z$([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),z$=i(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),H$=i(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),G$=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",j$={win32:{sep:"\\"},posix:{sep:"/"}},Lue=G$==="win32"?j$.win32.sep:j$.posix.sep;Qn.sep=Lue;var ls=Symbol("globstar **");Qn.GLOBSTAR=ls;var Fue="[^/]",Mue=Fue+"*?",Uue="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Bue="(?:(?!(?:\\/|^)\\.).)*?",$ue=i((e,t={})=>r=>Qn(r,e,t),"filter");Qn.filter=$ue;var as=i((e,t={})=>Object.assign({},e,t),"ext"),jue=i(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Qn;let t=Qn;return Object.assign(i((n,o,s={})=>t(n,o,as(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{i(this,"Minimatch")}constructor(o,s={}){super(o,as(e,s))}static defaults(o){return t.defaults(as(e,o)).Minimatch}},AST:class extends t.AST{static{i(this,"AST")}constructor(o,s,a={}){super(o,s,as(e,a))}static fromGlob(o,s={}){return t.AST.fromGlob(o,as(e,s))}},unescape:i((n,o={})=>t.unescape(n,as(e,o)),"unescape"),escape:i((n,o={})=>t.escape(n,as(e,o)),"escape"),filter:i((n,o={})=>t.filter(n,as(e,o)),"filter"),defaults:i(n=>t.defaults(as(e,n)),"defaults"),makeRe:i((n,o={})=>t.makeRe(n,as(e,o)),"makeRe"),braceExpand:i((n,o={})=>t.braceExpand(n,as(e,o)),"braceExpand"),match:i((n,o,s={})=>t.match(n,o,as(e,s)),"match"),sep:t.sep,GLOBSTAR:ls})},"defaults");Qn.defaults=jue;var V$=i((e,t={})=>(zg(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,W$.default)(e)),"braceExpand");Qn.braceExpand=V$;var que=i((e,t={})=>new Ym(e,t).makeRe(),"makeRe");Qn.makeRe=que;var Wue=i((e,t,r={})=>{let n=new Ym(t,r);return e=e.filter(o=>n.match(o)),n.options.nonull&&!e.length&&e.push(t),e},"match");Qn.match=Wue;var q$=/[?*]|[+@!]\(.*?\)|\[|\]/,zue=i(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Ym=class{static{i(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){zg(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||G$,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let o=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!q$.test(s[2]))&&!q$.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(f)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,o),this.set=o.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let o=0;o<t[n].length;o++)t[n][o]==="**"&&(t[n][o]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o!==n&&r.splice(n,o-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,o)=>{let s=n[n.length-1];return o==="**"&&s==="**"?n:o===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(o),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let o=1;o<t.length-1;o++){let s=t[o];o===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(o,1),o--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let o=t[n-1];o&&o!=="."&&o!==".."&&o!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let o=-1;for(;(o=n.indexOf("**",o+1))!==-1;){let a=o;for(;n[a+1]==="**";)a++;a>o&&n.splice(o+1,a-o);let l=n[o+1],c=n[o+2],f=n[o+3];if(l!==".."||!c||c==="."||c===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(o,1);let u=n.slice(0);u[o]="**",t.push(u),o--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let o=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(o){t[r]=[],t[n]=o;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let o=0,s=0,a=[],l="";for(;o<t.length&&s<r.length;)if(t[o]===r[s])a.push(l==="b"?r[s]:t[o]),o++,s++;else if(n&&t[o]==="**"&&r[s]===t[o+1])a.push(t[o]),o++;else if(n&&r[s]==="**"&&t[o]===r[s+1])a.push(r[s]),s++;else if(t[o]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[o]),o++,s++}else if(r[s]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),o++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let o=0;o<t.length&&t.charAt(o)==="!";o++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let o=this.options;if(this.isWindows){let h=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!h&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),y=!x&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),T=b?3:h?0:void 0,_=y?3:x?0:void 0;if(typeof T=="number"&&typeof _=="number"){let[I,w]=[t[T],r[_]];I.toLowerCase()===w.toLowerCase()&&(r[_]=I,_>T?r=r.slice(_):T>_&&(t=t.slice(T)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,f=r.length;a<c&&l<f;a++,l++){this.debug("matchOne loop");var u=r[l],d=t[a];if(this.debug(r,u,d),u===!1)return!1;if(u===ls){this.debug("GLOBSTAR",[r,u,d]);var p=a,m=l+1;if(m===f){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!o.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var g=t[p];if(this.debug(`
globstar while`,t,p,r,m,g),this.matchOne(t.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,c,g),!0;if(g==="."||g===".."||!o.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,m),p===c))}let h;if(typeof u=="string"?(h=d===u,this.debug("string match",u,d,h)):(h=u.test(d),this.debug("pattern match",u,d,h)),!h)return!1}if(a===c&&l===f)return!0;if(a===c)return n;if(l===f)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return V$(this.pattern,this.options)}parse(t){zg(t);let r=this.options;if(t==="**")return ls;if(t==="")return"";let n,o=null;(n=t.match(wue))?o=r.dot?Rue:Pue:(n=t.match(xue))?o=(r.nocase?r.dot?vue:_ue:r.dot?yue:bue)(n[1]):(n=t.match(Due))?o=(r.nocase?r.dot?Nue:Aue:r.dot?kue:Oue)(n):(n=t.match(Tue))?o=r.dot?Cue:Eue:(n=t.match(Iue))&&(o=Sue);let s=Km.fromGlob(t,this.options).toMMPattern();return o&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:o}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Mue:r.dot?Uue:Bue,o=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let f=c.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))o.add(d);return typeof u=="string"?zue(u):u===ls?ls:u._src});return f.forEach((u,d)=>{let p=f[d+1],m=f[d-1];u!==ls||m===ls||(m===void 0?p!==void 0&&p!==ls?f[d+1]="(?:\\/|"+n+"\\/)?"+p:f[d]=n:p===void 0?f[d-1]=m+"(?:\\/|"+n+")?":p!==ls&&(f[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,f[d+1]=ls))}),f.filter(u=>u!==ls).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...o].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let o=this.slashSplit(t);this.debug(this.pattern,"split",o);let s=this.set;this.debug(this.pattern,"set",s);let a=o[o.length-1];if(!a)for(let l=o.length-2;!a&&l>=0;l--)a=o[l];for(let l=0;l<s.length;l++){let c=s[l],f=o;if(n.matchBase&&c.length===1&&(f=[a]),this.matchOne(f,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Qn.defaults(t).Minimatch}};Qn.AST=Km;Qn.Minimatch=Ym;Qn.escape=rC;Qn.unescape=bc;var nC="contentExclusion",tb=class extends K3{static{i(this,"CopilotContentExclusion")}#e;#t=new Gt(1e4);#i=new Gt(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Wc(t).toString();let n=await this.getGitRepo({uri:t}),o=await this.#r(n?.url??ff.all);if(!o)return V3;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,o);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,o,r);if(l.isBlocked)return l}catch(n){return hc.exception(this.#e,n,`${nC}.evaluate`),b$}return jg}evaluateFilePathRules(t,r,n){let o=t;if(this.#t.has(o))return this.#t.get(o);let s=jg,a,l=S8(t.replace(r,""));e:for(let c of n)for(let f of c.paths)if(Qn(l,f,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=iC(c,"FILE_BLOCKED_PATH"),a=f;break e}return hc.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(o,s),s}evaluateTextBasedRules(t,r,n){let o=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||o.length===0&&s.length===0)return jg;let a=this.evaluateFileContent(o,s,n);return hc.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let o of t)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(a=>K$(a)).some(a=>a.test(n)))return iC(o,"FILE_BLOCKED_TEXT_BASED");for(let o of r)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(a=>K$(a)).some(a=>a.test(n)))return iC(o,"FILE_BLOCKED_TEXT_BASED");return jg}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Oo(this.#e,t,`${nC}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#r(t){if(this.#n?.length)return this.#n;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#n;setTestingRules(t){this.#n=t}#o=T$(async t=>{let r=await this.#e.get(Cr).getGitHubSession();if(!r)throw new ol("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",o=new URL(n,r.apiUrl),s=t.includes(ff.all);t.filter(f=>f!==ff.all).length>0&&o.searchParams.set("repos",t.filter(f=>f!==ff.all).join(",")),o.searchParams.set("scope",s?ff.all:ff.repo);let l=await hu(this.#e,r,o.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new sa(l)}return this.#s("fetch.success"),df(Yue,c).map(f=>f.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(Za).getRepo(aa(t));if(!n||!n?.remote)return;let o=n.remote.getUrlForApi();if(o)return{baseFolder:n.baseFolder,url:o}}#s(t,r,n){Se(this.#e,`${nC}.${t}`,Qe.createAndMarkAsIssued(r,n))}};function K$(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}i(K$,"stringToRegex");function iC(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}i(iC,"fileBlockedEvaluationResult");var Hue=k.Object({name:k.String(),type:k.String()}),Gue=k.Object({paths:k.Array(k.String()),ifNoneMatch:k.Optional(k.Array(k.String())),ifAnyMatch:k.Optional(k.Array(k.String())),source:Hue}),Vue=k.Array(Gue),Kue=k.Object({rules:Vue,last_updated_at:k.String(),scope:k.String()}),Yue=k.Array(Kue);var eo=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new tb(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=i(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Et).getTextDocumentValidation(t.document),n=r.status==="invalid",o=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,o)},"onDidChangeActiveTextEditor");this.ctx.get(Et).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Kr(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{i(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){if(!this.#e)return{isBlocked:!1};let o=[],s=i(async(c,f)=>{let u=Date.now(),d=await f.evaluate(t,r),p=Date.now();return o.push({key:c,result:d,elapsedMs:p-u}),d},"track"),l=(await Promise.all([s("contentExclusion.evaluate",this.#t)])).find(c=>c?.isBlocked)??{isBlocked:!1};try{for(let c of o)this.#i(c.key,t,c.result,c.elapsedMs)}catch(c){hc.error(this.ctx,"Error tracking telemetry",c)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Mr).setInactive(r??"Copilot is disabled"):this.ctx.get(Mr).clearInactive())}#i(t,r,n,o){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===V3.reason)return hc.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:o};return Se(this.ctx,t,Qe.createAndMarkAsIssued(l,c)),Se(this.ctx,t,Qe.createAndMarkAsIssued({...l,path:r},c),1),hc.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function mf(e,t,r){let n=await e.get(eo).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}i(mf,"isDocumentValid");var Et=class{constructor(t){this.ctx=t}static{i(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await mf(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=Fo(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return mf(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Zr).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Zr).readFileString(t)}getWorkspaceFolder(t){let r=Fo(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(Fo(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=Fo(t.uri);for(let n of this.getWorkspaceFolders()){let o=Fo(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(o))return r.slice(o.length)}return fl(r)}};var z0=class{constructor(t){this.ctx=t}static{i(this,"FileReader")}getRelativePath(t){return this.ctx.get(Et).getRelativePath(t)??fl(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Et).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await mf(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:uf.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Zr).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Zr).stat(t)).size/1024/1024}};var H0=class{constructor(){this.resolve=i(()=>{},"resolve");this.reject=i(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{i(this,"Deferred")}};function yc(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}i(yc,"delay");var oC=class{constructor(){this.observers=new Set}static{i(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},nb=class extends oC{static{i(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Ao=class{constructor(t){this.ctx=t;this.#e=new _t("AsyncCompletionManager");this.requests=new Gt(100);this.mostRecentRequestId=""}static{i(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(t,r){for(let[n,o]of this.requests)if(sC(t,r,o))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,o,s){this.#e.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new nb;return this.requests.set(t,{state:2,cancellationTokenSource:o,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#e.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:o,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#e.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,o,s){let a=this.ctx.get(qe).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,o)):(this.#e.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,o),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,o){o||(this.mostRecentRequestId=t);let s=!1,a=new H0,l=new Map,c=i(u=>()=>{let d=l.get(u);d!==void 0&&(d(),l.delete(u),!s&&l.size===0&&(s=!0,this.#e.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),f=i(u=>{if(sC(r,n,u)){if(u.state===0){let d=r.substring(u.prefix.length),{completionText:p}=u.choice;if(!p.startsWith(d)||p.length<=d.length){c(u.headerRequestId)();return}p=p.substring(d.length),u.choice.telemetryData.measurements.foundOffset=d.length,this.#e.debug(this.ctx,`[${t}] Found completion at offset ${d.length}: ${JSON.stringify(p)}`),a.resolve([{...u.choice,completionText:p},u.allChoicesPromise]),s=!0}}else this.cancelRequest(t,u),c(u.headerRequestId)()},"next");for(let[u,d]of this.requests)sC(r,n,d)?l.set(u,d.subject.subscribe({next:f,error:c(u),complete:c(u)})):this.cancelRequest(t,d);return a.promise.finally(()=>{for(let u of l.values())u()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function sC(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}i(sC,"isCandidate");var Vg=class{constructor(t){this.maxSize=t;this.root=new Gg;this.leafNodes=new Set}static{i(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:o}=this.findClosestNode(t);if(o.length>0){for(let[s,a]of n.children)if(s.startsWith(o)){let l=s.slice(0,o.length),c=new Gg;n.removeChild(s),n.addChild(l,c),c.addChild(s.slice(l.length),a),n=c,o=o.slice(l.length);break}if(o.length>0){let s=new Gg;n.addChild(o,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,o=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),o.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:o}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let o=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=o.edge+s;r.removeChild(s),o.node.removeChild(o.edge),o.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},Gg=class{constructor(){this._children=new Map;this._touched=performance.now()}static{i(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var G0=class{constructor(){this.cache=new Vg(100)}static{i(this,"CompletionsCache")}findAll(t,r){return this.cache.findAll(t).flatMap(({remainingKey:n,value:o})=>o.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(t,r,n){let o=this.cache.findAll(t);if(o.length>0&&o[0].remainingKey===""){let s=o[0].value.content;this.cache.set(t,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(t,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new Vg(100)}};var _c=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{i(this,"BlockTrimmer")}static isSupported(t){return si.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=g8(n,si.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(o){var s=o,a=!0}finally{h8(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var ib=class extends _c{constructor(r,n,o,s=3,a=7){super(r,n,o);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{i(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(r=>{let n=r.statementAt(this.stmtStartPos()),o=this.getContainingBlockOffset(n);return o=this.trimAtFirstBlankLine(o),n&&(o=this.trimAtStatementChange(n,o)),this.limitOffset&&this.lookAheadOffset&&(o===void 0||o>this.lookAheadOffset)?this.limitOffset:o})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let o=n.shift();if(this.completion.substring(0,o.index).trim()!=="")return o.index}return r}trimAtStatementChange(r,n){let o=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>o&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>o&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function Y$(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let o=g8(l,si.create(e.detectedLanguageId,r,0,r.length));await o.build();let s=o.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var f=c,u=!0}finally{h8(l,f,u)}}i(Y$,"getBlockPositionType");var Qa={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};function X$(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let o;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?o=.010230295672324606:o=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?o=.03086356292895467:o=.057128750867458604:e[5]>888.5000000000001?o=.07861602941396924:o=.030523262699070908:e[308]>1e-35?o=.048236117667577356:e[8]>370.50000000000006?o=-.05642125069212264:o=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?o=.03640661467213915:o=-.005889820723907028:e[31]>1e-35?o=-.0009007166998276938:e[9]>6.500000000000001?o=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?o=-.1215445089091064:o=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?o=-.061555513040777825:e[4]>60.50000000000001?o=-.07053475504569347:o=-.013733369453963092:o=-.06302097189114152:e[227]>1e-35?o=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?o=-.08466979526809346:e[10]>24.500000000000004?o=-.017092159721119944:e[92]>1e-35?o=.03592901452463749:o=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?o=-.03963116207386097:e[118]>1e-35?o=-.09483996283536394:e[217]>1e-35?o=-.03394542089519989:e[242]>1e-35?o=-.07985899422287938:o=.019706602160656964:e[9]>12.500000000000002?o=.014072998937735146:o=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?f=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?f=.044961338592245194:f=.003659599513761676:e[121]>1e-35?f=-.04057103630479994:f=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?f=-.0003708603406529278:f=.05331312264472391:f=.0006575958601218936:e[8]>319.50000000000006?f=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?f=-.0076053515916517005:f=.09116695486305336:f=-.07137458699162028:f=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?f=-.0308520802187302:f=.013156423968295541:e[115]>1e-35?f=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?f=.12264179915175587:f=-.021905727233873535:e[8]>799.5000000000001?f=-.04181869575935412:f=-.023695901673350575:e[222]>1e-35?f=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?f=-.06892116536821917:e[149]>1e-35?f=-.11194586444154514:e[133]>1e-35?f=-.04269583234000504:e[128]>1e-35?f=-.0644631966969502:e[8]>4968.500000000001?f=-.09650726096330133:f=-.004219129180139438:e[126]>1e-35?f=-.08038306745347751:e[5]>1809.5000000000002?f=.009265335288169993:e[9]>2.5000000000000004?f=.006447645462117438:f=-.021047132609551503;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?u=-.08436540015142402:e[8]>1861.5000000000002?u=-.01621425699342421:u=.01878613821895428:u=.031052879158242532:e[8]>319.50000000000006?u=-.031536619360997865:e[7]>3.5000000000000004?u=-.004510586962343298:u=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?u=.004757490541310808:e[9]>6.500000000000001?u=-.008842393772207996:e[31]>1e-35?u=.0010536183837006993:e[308]>1e-35?u=-.008145882815435419:e[2]>98.50000000000001?u=-.08404937622173021:e[276]>1e-35?u=.0020072791321856663:e[19]>1e-35?u=-.023031820639490178:u=-.04553314326377875:e[8]>2134.5000000000005?u=-.02244583113572251:e[134]>1e-35?u=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?u=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?u=-.00447733056482096:u=-.10191061664873849:u=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?u=-.07570059131536411:e[243]>1e-35?u=-.040983393346598646:e[3]>9.500000000000002?u=.014763759061483812:e[92]>1e-35?u=.05136368898963024:u=-.008162398981149495:e[127]>1e-35?u=.013999119696708346:e[23]>1e-35?e[20]>1e-35?u=.14138985500120907:u=.008668274102844162:e[284]>1e-35?u=.06356484011042893:u=-.024781304572706303;let d;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?d=.014387526569215037:e[8]>2266.5000000000005?d=-.1397298649743087:d=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?d=.0029819092211896296:e[218]>1e-35?d=.08450459375645737:d=.031646488019280654:d=-.03544960151460596:e[9]>9.500000000000002?d=-.026002317735915183:e[7]>1.5000000000000002?d=.005074258810794793:d=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?d=.023269218675640847:e[148]>1e-35?d=.03812942399144545:e[115]>1e-35?d=.10512283476967227:d=-.02607307479736138:e[227]>1e-35?d=-.036576708299046294:e[101]>1e-35?d=.027948683650881864:e[149]>1e-35?d=-.08195628451594297:e[50]>1e-35?d=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?d=-.06860333850762075:e[225]>1e-35?d=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?d=.028599705845427533:d=-.010746719511640914:e[0]>4877.500000000001?d=-.07251187886096228:d=-.021299712241446785:e[118]>1e-35?d=-.11902023760964736:d=15874469526809387e-21:e[8]>267.50000000000006?d=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?d=.09614842415142123:d=.006049073167176467:e[189]>1e-35?d=.05562696451900713:d=-.006257541923837303;let p;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?p=-.10069846585436666:p=-.010577995535809317:e[146]>1e-35?p=-.008877238274428668:e[280]>1e-35?p=.10076055897012692:e[6]>70.50000000000001?p=-.020603523042565547:e[7]>1.5000000000000002?p=.02819095420813202:p=-.1223354167911277:p=-.025073583348334844:e[8]>416.50000000000006?p=.01718560189149466:e[230]>1e-35?p=.12281803224342265:p=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.13070568109867683:e[4]>63.50000000000001?p=-.027221825262496814:p=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?p=-.00605574271293711:p=.04739407327741249:p=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?p=.1252215087035768:p=.003905888677601057:e[52]>1e-35?p=.045466299731038815:e[2]>100.50000000000001?p=-.07815624550168065:e[308]>1e-35?p=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?p=-.03538265083203445:e[18]>1e-35?p=.1591211669800727:p=.015151475408241136:e[8]>557.5000000000001?p=-.04225569725456342:p=-.022455546324243267:e[308]>1e-35?p=.01325441736085826:e[197]>1e-35?p=.03752194600682512:e[225]>1e-35?p=.06583712394533976:p=-.005205289866839043;let m;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?m=.010264022580774884:m=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?m=-.0936747137352166:e[0]>384.50000000000006?m=.019846244507320695:m=-.0751102554077272:m=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?m=.11654906890054273:m=.0346250587613322:e[4]>39.50000000000001?m=-.08568002378645614:e[9]>16.500000000000004?m=-.12010535752923689:m=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?m=-.12056431231412057:e[131]>1e-35?m=.03652965550568472:m=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?m=-.10141481732178981:m=-.003936457893178248:e[31]>1e-35?m=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?m=.12972828769588213:m=-.003137412232297087:e[2]>100.50000000000001?m=-.0730872929087944:e[308]>1e-35?m=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?m=.07934620723812878:m=-.018598568353702116:m=-.030635505446410763:e[128]>1e-35?m=-.06962290453843294:e[84]>1e-35?m=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?m=-.034938657503885584:m=.016339322898966915:e[197]>1e-35?m=.03358907965870046:e[18]>1e-35?m=-.01754013791515288:m=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let h;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?h=.03507251990078782:e[2]>14.500000000000002?h=.004905698363309292:e[8]>2421.5000000000005?h=-.10306119951984316:h=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?h=-.08503171085833393:h=.015130974593044409:h=-.024425267075198206:h=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?h=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?h=.09908783187786288:h=-.06920877329925636:e[8]>241.50000000000003?h=-.016756131804203496:e[9]>33.50000000000001?h=.04903179955263626:e[217]>1e-35?h=-.047416847619291644:h=-.0017200891991431119:e[39]>1e-35?h=-.10389927604977028:e[134]>1e-35?h=-.050480365434872866:e[178]>1e-35?h=-.05167855791556937:e[8]>2134.5000000000005?h=-.01663197335585307:e[242]>1e-35?h=-.05361323756615453:e[118]>1e-35?h=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?h=-.0016544848369620534:h=.04494144460483587:h=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?h=.051166688553608355:h=-.06623908820705383:e[84]>1e-35?h=-.12990936092409747:e[306]>1e-35?h=-.07020596855118943:e[49]>1e-35?h=.06272964802556856:e[192]>1e-35?h=.06540204627162581:h=.008277910531592885;let b;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?b=.003325460510319164:b=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?b=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?b=.0697359767152808:e[230]>1e-35?b=.06513506845651572:b=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?b=.013616385013146277:b=.04171540100223404:b=-.04360396575094823:e[212]>1e-35?b=.025945477945627522:b=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?b=-.07856453318384411:b=-.014803893522351739:e[39]>1e-35?b=-.09185452630751932:e[149]>1e-35?b=-.07122426086157027:e[134]>1e-35?b=-.04231052091434186:e[227]>1e-35?b=-.029815824273994197:e[50]>1e-35?b=-.15736496271211153:e[222]>1e-35?b=-.02360285356956629:e[128]>1e-35?b=-.03922080193836443:e[136]>1e-35?b=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?b=-.0029736170756835783:b=-.06482902102259112:e[84]>1e-35?b=-.11340924635708383:e[94]>1e-35?b=-.03635703457792193:e[118]>1e-35?b=-.058181913914186034:e[126]>1e-35?b=-.062030576241517366:e[116]>1e-35?b=-.045086301850604006:e[25]>1e-35?b=-.031665223656767286:e[203]>1e-35?b=-.009444685731407691:b=.0112265153772187;let x;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?x=.022717227245241684:x=-.049700413274686266:x=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?x=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?x=-.12263724050601095:x=.0070743478891288035:e[288]>1e-35?x=-.050439138582109:x=.0255701593657891:x=-.005812703740580558:e[6]>49.50000000000001?x=-.008542694147899113:x=.035147383686665:x=-.0960461939274094:e[32]>1e-35?x=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?x=-.01800870272656664:x=-.07817304234604389:e[30]>1e-35?x=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?x=.08778416018479411:x=-.026563982720830256:x=-.05296139548112329:e[50]>1e-35?x=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?x=-.036572140520852024:e[183]>1e-35?x=-.10766853736801459:x=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?x=.09513215942486053:x=-.03641865277445567:e[10]>59.50000000000001?x=.03177172388687933:e[39]>1e-35?x=-.10234241303898953:e[243]>1e-35?x=-.02966738115984321:e[190]>1e-35?x=-.04312785336449181:e[118]>1e-35?x=-.05808521194081524:x=.006720381600740378;let y;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?y=-.046284053681928526:e[210]>1e-35?y=49778070699847876e-21:e[13]>1e-35?y=.03328070054739309:e[128]>1e-35?y=-.054790214922938896:e[126]>1e-35?y=-.08524792218532945:y=.014414055975542446:e[1]>38.50000000000001?y=-.07287851335872973:y=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?y=-.12459748864088374:y=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?y=.13044981041138526:e[9]>71.50000000000001?y=-.056068402282406865:e[9]>12.500000000000002?y=.038957722962512764:y=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?y=-.0852126122372075:e[225]>1e-35?y=.10082066771689505:e[1]>161.50000000000003?y=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?y=-.010835400874777133:y=.004607419973807752:y=-.016989075258564062:y=.009205417251698097:e[23]>1e-35?e[20]>1e-35?y=.10184317139657878:e[0]>5724.500000000001?y=-.1163666496650542:e[1]>106.50000000000001?y=.1303850608190687:e[129]>1e-35?y=.10745031509534769:y=.006166901738036226:e[31]>1e-35?y=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?y=.005004582564506611:y=-.10481581731668346:e[19]>1e-35?y=-.009850706427306281:y=-.02608226348051303;let T;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?T=-.0024117174588695603:T=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?T=.04575380761203418:T=-.10025595041353463:e[15]>1e-35?T=.17705790384964004:T=.0073813837628615014:T=.07676373681392407:T=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?T=.07078572910026419:e[4]>23.500000000000004?T=.005513918674164821:T=.0206586476926392:e[0]>5269.500000000001?T=.07706773525822633:T=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?T=-.03204783603215824:T=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?T=-.0930246911392012:T=.011173087289703683:e[3]>24.500000000000004?T=.03281421918878597:T=.12449335091369843:e[204]>1e-35?T=.06634531187326123:T=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?T=-.041196758517013515:e[4]>7.500000000000001?T=-2942718111029724e-20:e[4]>6.500000000000001?T=.11953909558532852:T=.03188615019450534:e[122]>1e-35?T=-.0616037324662157:e[101]>1e-35?T=.027230889593349412:e[8]>4968.500000000001?T=-.1113986516540856:e[3]>2.5000000000000004?T=-.002045140426885727:e[129]>1e-35?T=.12641163374304432:T=.014909826232873194;let _;e[308]>1e-35?e[0]>7277.500000000001?_=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?_=-.040884836258675006:e[210]>1e-35?_=-.0003719413278428804:e[13]>1e-35?_=.030287610160818174:_=.011174130013595384:e[1]>38.50000000000001?_=-.0662442170185784:_=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?_=-.08092286307197555:_=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?_=-.1155211149523894:_=-.0032903546638958538:e[149]>1e-35?_=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?_=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?_=-.025416927789760076:_=.02777568919793122:_=-.10310351509769732:_=.013549608903688785:e[186]>1e-35?_=.08513865847420551:_=-.009306721292510369:e[31]>1e-35?_=.009780833952582307:e[23]>1e-35?_=.011143773934157629:e[210]>1e-35?_=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?_=-.04846287537743046:_=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?_=-.034224938681445764:e[8]>1641.5000000000002?_=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?_=-.027950103994861836:_=.14575930827829034:_=-.007124740389354946:e[10]>22.500000000000004?_=.013173304107866726:_=-.11119620042551365;let I;e[131]>1e-35?I=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?I=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?I=-.022305242912035072:I=.024792895826340516:I=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?I=.2080083584805785:I=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?I=.060783227455868206:I=-.056904865557409035:I=-.03278952553107572:e[192]>1e-35?I=.13117402617043625:I=.01647119888257836:I=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?I=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?I=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?I=-.11083976837572328:e[146]>1e-35?I=-.03359294484446772:I=-.0042815953591236475:e[190]>1e-35?I=-.09264239592903775:e[10]>1e-35?I=.022282638485105657:I=-.0205994057928458:e[5]>4918.500000000001?I=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?I=.08935072241972036:I=-.03781647876237494:I=.0062655753179671515:e[31]>1e-35?I=.008603500300349887:e[230]>1e-35?I=.03350056932774173:e[23]>1e-35?e[241]>1e-35?I=.10277555508503314:I=.0017901817172993888:e[2]>98.50000000000001?I=-.05920081229672715:I=-.015722173275739208;let w;e[13]>1e-35?e[118]>1e-35?w=.07957905150112207:e[1]>125.50000000000001?w=-.0662620579858685:e[145]>1e-35?w=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?w=-.0009597832580977798:w=-.081474760755753:e[212]>1e-35?w=.03637001492325179:w=.006912305498963309:e[32]>1e-35?w=-.03919900630910754:e[134]>1e-35?w=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?w=.06671440854602108:e[136]>1e-35?w=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?w=.026430947016830915:w=-.04075501264495112:e[9]>93.50000000000001?w=-.04353169430417609:e[50]>1e-35?w=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?w=.068392679163672:e[10]>1.5000000000000002?w=-.0209659792007492:w=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?w=.07254524592323175:w=-.0319087835282534:w=.00037444813327793425:w=-.025138768151370408:e[243]>1e-35?w=-.050010891710502096:e[94]>1e-35?w=-.0817513550778599:e[122]>1e-35?w=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?w=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?w=.1454877641381946:w=.053787998331240316:e[9]>33.50000000000001?w=.08602629796680285:w=-.03895127455803038:w=.008830878042315722;let j;e[131]>1e-35?j=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?j=.07473600489975568:e[0]>93.50000000000001?j=-.021596848506011502:j=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?j=.10264284346448256:j=.031042487183181262:j=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?j=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?j=.006271403149804702:j=-.030013637555715046:e[0]>4449.500000000001?j=-.06556876058654929:j=.06437994816903034:e[32]>1e-35?j=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?j=-.09349726304052086:e[210]>1e-35?j=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?j=-.029188394315052574:j=.017219308333820193:j=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?j=-.04428555753857688:j=.0001456106867817353:e[5]>213.50000000000003?j=.01740292726636365:j=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?j=.03410288911259329:e[121]>1e-35?j=-.06056527462120627:e[8]>2592.5000000000005?j=.12166808844363577:e[191]>1e-35?j=.11669879218998758:j=-.001664858391716235:j=-.01262927450503166:j=-.04506589951879664:e[227]>1e-35?j=-.08548904959752329:j=.02156080776537726;let V;e[306]>1e-35?e[149]>1e-35?V=-.1389218965136736:V=-.032218642644416894:e[13]>1e-35?V=.006465035217331847:e[50]>1e-35?V=-.1381687930130022:e[179]>1e-35?V=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?V=-.03262719498763048:V=.023342916702125613:e[191]>1e-35?V=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?V=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?V=-.09989343595668776:V=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?V=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?V=-.09165257825246746:e[9]>32.50000000000001?V=.02484870392366004:V=-.008499493096971395:e[8]>24.500000000000004?V=.02459679192828244:V=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?V=.0015644546318714849:V=-.06579524865022705:V=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?V=.03331853632960164:V=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?V=-.019091477207111116:V=.037878468575478504:e[94]>1e-35?V=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?V=.16919658785098224:e[243]>1e-35?V=-.06580584936754524:V=.01567555159935563:e[129]>1e-35?V=.06721746994993226:e[10]>32.50000000000001?V=-.046394462507797975:V=-.006436180519584767;let G;e[131]>1e-35?G=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?G=.019122095523977856:e[298]>1e-35?G=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?G=-.026094309429557913:e[204]>1e-35?G=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?G=.012643810980689466:G=-.07884161741497837:G=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?G=.04493082949897325:G=.18046359750455776:e[7]>18.500000000000004?G=-.018667348656891496:G=.02584325784698236:G=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?G=.04749240016989375:G=-.0333334578246718:e[5]>3276.5000000000005?G=.11330554740098908:e[7]>94.50000000000001?G=.1296600395033268:G=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?G=-.13787130789142835:e[0]>1847.5000000000002?G=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?G=.028856848462727104:G=-.11197632885851168:G=.08169801342016791:e[1]>22.500000000000004?G=-.021052888644970163:G=.019048604298876753:e[7]>4.500000000000001?G=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?G=.03432638833359197:G=-.0036767863082454973:e[1]>48.50000000000001?G=.03087375270128195:e[2]>3.5000000000000004?G=-.04219917149740248:G=.018818493993207935;let Y;e[306]>1e-35?Y=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Y=-.09091897542577475:Y=.04042943082645558:e[218]>1e-35?Y=.056254985867151:Y=-.053848117950183044:Y=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Y=.021581808008986944:Y=-.05639286496176611:Y=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Y=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Y=.023885302967553288:Y=.1617794086125622:e[212]>1e-35?Y=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Y=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Y=.01894935813286188:Y=-.06449356357429188:Y=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Y=-.034718828212885515:Y=.0898976288814321:e[1]>17.500000000000004?Y=-.15440137451988326:Y=-.03864183216821465:Y=.009988507307006308:Y=-.08540311947043305:e[50]>1e-35?Y=-.13323659732101975:e[134]>1e-35?Y=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Y=.08082476177379844:Y=-.041665761903645876:e[179]>1e-35?Y=-.12405023987936657:e[39]>1e-35?Y=-.06247416524997478:e[138]>1e-35?Y=-.10724031753676487:Y=-.0005423122305122404;let A;e[308]>1e-35?A=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?A=.023223358334607133:A=-.04383410185346742:A=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?A=.023406489302867494:A=-.085521220804058:A=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?A=.028120059780969632:A=-.04211009474298743:e[294]>1e-35?A=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?A=-.0993035220737934:A=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?A=.029770210551187937:A=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?A=.06421359317599738:A=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?A=.024368404612215164:A=-.04045232374803373:e[131]>1e-35?A=.017372701982485795:e[120]>1e-35?A=.08812710275150198:e[18]>1e-35?e[90]>1e-35?A=.18451364351180236:e[7]>33.50000000000001?A=-.03850813130183531:e[195]>1e-35?A=.06966114053446336:e[3]>16.500000000000004?A=-.0012869181693341211:e[0]>4242.500000000001?A=-.054625548611291035:A=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?A=.006302103427145562:A=.13967622319898698:e[121]>1e-35?A=-.038798585213145644:e[5]>4544.500000000001?A=-.08050498033009466:A=-.002986974112681435;let P;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?P=-.03461119351456781:P=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?P=-.12404435523286539:P=-.0034376913880382956:P=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?P=.0037507103585310234:P=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?P=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?P=-.04832024079663151:e[37]>1e-35?P=-.037103393468366934:P=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?P=.032539071163832034:e[5]>1643.5000000000002?P=.036408625378035665:e[0]>1500.5000000000002?P=-.1346358322854993:P=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?P=-.1133991164577881:e[9]>52.50000000000001?P=-.024478640359723122:P=.03673777861098756:P=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?P=.002583438691776944:P=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?P=-.02141222346712401:P=.06392462314316179:e[4]>12.500000000000002?P=.08700122294434816:e[8]>267.50000000000006?P=.056923170082743224:P=-.07716309825583327:e[32]>1e-35?P=-.03961343943752142:P=.002674914122888783:e[1]>42.50000000000001?P=-.05217539654421676:e[145]>1e-35?P=.09553630282946368:P=-.009424791262477729;let z;e[183]>1e-35?z=-.05753337139158443:e[308]>1e-35?z=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?z=-.10477869875380448:z=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?z=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?z=-.04442302951713574:z=.00012409888451734224:z=-.092199119633697:e[225]>1e-35?z=.13773072450201831:e[0]>2882.5000000000005?z=.0028540012229920533:e[298]>1e-35?z=.07134486044361629:z=.014297412329837425:e[145]>1e-35?z=.05608385321902638:e[92]>1e-35?z=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?z=-.0039957800609801315:z=.0776927564241081:e[203]>1e-35?z=-.05502900859432093:e[105]>1e-35?z=.06062892720841595:z=-.009574839629252128:e[31]>1e-35?z=.009488858841144216:e[23]>1e-35?e[20]>1e-35?z=.08818126313644752:e[8]>161.50000000000003?z=.014353968957885408:z=-.022240738532827903:e[210]>1e-35?z=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?z=-.043902062079383485:z=-.014741559220396223:z=-.00934935734853194:e[6]>32.50000000000001?z=.1514593126307404:z=.010771222510801532:e[10]>22.500000000000004?z=.01412495209334078:z=-.08576940379502533;let N;e[0]>384.50000000000006?e[84]>1e-35?N=-.06647690967306838:e[2]>101.50000000000001?N=-.024451334501552457:e[306]>1e-35?N=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?N=.0031858381443673127:N=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?N=-.08601340441214533:e[1]>29.500000000000004?N=.10487598629539963:e[8]>597.5000000000001?N=-.0786529133673238:N=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?N=-.04883600353740688:e[126]>1e-35?N=-.03794042763348827:N=-.003358871967539988:e[210]>1e-35?N=.054991356498447566:e[6]>19.500000000000004?N=-.007418396981635549:N=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?N=-.02143003429501711:N=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?N=-.006636355416244082:N=-.06483095743431454:e[4]>21.500000000000004?N=-.028975965946833545:N=.022012264796522657:N=-.06653648243193663:e[5]>4593.500000000001?N=.01753551428088607:e[217]>1e-35?N=-.028864824937700297:e[94]>1e-35?N=-.04885192273020658:e[279]>1e-35?N=.08105715462329498:e[121]>1e-35?N=-.04576676034750651:N=.004795141324949362:e[1]>42.50000000000001?N=-.047446619702809195:e[145]>1e-35?N=.08400495571952321:N=-.00854528836489364;let E;e[294]>1e-35?E=-.042529778074638265:e[266]>1e-35?E=-.1180276669679798:e[134]>1e-35?E=-.026818144353279623:e[183]>1e-35?E=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?E=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?E=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?E=-.03049646619610203:e[1]>50.50000000000001?E=.20634590755061122:E=.06956378103625731:e[0]>3770.5000000000005?E=-.07946414366134913:e[19]>1e-35?E=.17083312065604694:e[2]>21.500000000000004?E=-.02327981978127724:E=.129717297518715:e[145]>1e-35?E=.006891245076133524:E=-.0789123467863741:e[3]>99.50000000000001?E=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?E=.06447639919732716:E=-.05457561977645972:e[306]>1e-35?E=-.029995903305383882:e[191]>1e-35?E=.030596508110850414:e[242]>1e-35?E=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?E=.09518584795377832:E=-.018197744600833596:e[13]>1e-35?E=.006751790086127549:e[148]>1e-35?E=.01904174573618417:e[99]>1e-35?E=.025287735102561926:e[4]>14.500000000000002?E=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?E=-.09467943982430241:e[243]>1e-35?E=-.02521824751996268:E=.005437570718352172:E=-.022476214821960674;let v;e[0]>384.50000000000006?e[84]>1e-35?v=-.06088131453064195:e[147]>1e-35?v=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?v=.04219361472548491:v=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?v=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?v=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?v=-.11431764534511478:v=.013549717238356157:v=-.020987333767091276:e[6]>2.5000000000000004?v=-.02914877855133127:v=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?v=-.10087072787978416:e[37]>1e-35?v=-.030467397753331196:e[229]>1e-35?v=-.1017559811057469:e[4]>20.500000000000004?v=-.00413177742240167:e[20]>1e-35?v=.05213315982685969:v=.0037921635866823133:e[8]>51.50000000000001?v=.07327913092421544:e[6]>49.50000000000001?v=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?v=.02744420891894289:v=.11288946357194463:v=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?v=-.012329314369909049:v=.026816658655600168:v=-.0872405354618811:v=.007872673500247845:e[1]>42.50000000000001?v=-.04309044198258254:e[145]>1e-35?v=.07572529147860785:e[7]>5.500000000000001?v=-.013837187093264945:e[1]>17.500000000000004?v=.04208698439539668:v=-.06284346769019863;let R;e[294]>1e-35?R=-.0384794324818203:e[266]>1e-35?R=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?R=.07432960094940501:R=-.035248735855751855:e[134]>1e-35?R=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?R=-.01706896375068821:R=.08212247914968074:e[2]>59.50000000000001?R=-.09546478958824225:e[6]>53.50000000000001?R=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?R=.02816463285971267:R=.15449139016588445:R=-.10199787406123524:R=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?R=-.13924786681478077:R=-.0072772442570213335:e[39]>1e-35?R=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?R=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?R=-.11174465335620831:R=.00013144040097180107:R=-.08493919336681105:e[42]>1e-35?R=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?R=-.015540659878839153:R=-.14442609417300142:e[21]>1e-35?R=-.025251979447574083:R=.0023698372645272847:e[18]>1e-35?R=.07269739695712212:e[8]>2592.5000000000005?R=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?R=-.01835130329646532:e[9]>45.50000000000001?R=.02023047454629885:R=.16469378262221102:R=-.042975030085836426;let S;e[8]>2915.5000000000005?e[297]>1e-35?S=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?S=-.01034964686484714:S=-.07357437440667927:S=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?S=-.09476398869062203:e[9]>72.50000000000001?S=-.0757383854264379:S=.02806542779508718:S=-.05147742568418084:S=.10212721564444344:S=.0518263760642861:S=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?S=-.10669213185972036:S=.027050434286384796:e[302]>1e-35?S=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?S=.06354599160071946:e[1]>67.50000000000001?S=.05317447949011187:S=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?S=-.09369289448773599:e[0]>2215.5000000000005?S=.04077965380363924:e[0]>807.5000000000001?S=-.0591771776458298:S=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?S=-.016323380219241672:S=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?S=.03720704290087811:S=-.008730548158766654:e[4]>80.50000000000001?S=-.05346644687473197:S=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?S=.019984510398089086:S=-.03917825025861855:e[9]>170.50000000000003?S=-.09759719821334525:S=-.0023586682752856298;let D;e[183]>1e-35?e[17]>1e-35?D=.030100940443356424:e[10]>1.5000000000000002?D=-.10861112216742408:D=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?D=-.032062878390325456:D=-.10808232631806887:e[8]>1641.5000000000002?D=-.06147013392655731:e[4]>12.500000000000002?D=.03324767551088266:e[145]>1e-35?D=.028851633810612017:D=-.054871239091792784:e[134]>1e-35?D=-.023813968121342108:e[266]>1e-35?D=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?D=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?D=-.025350325484720576:D=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?D=.056817276537534815:D=-.07674158463557636:D=-.06335553143454145:e[1]>56.50000000000001?D=.16390494217299284:D=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?D=.041717597065890205:D=-.10357913492269129:e[10]>29.500000000000004?D=.1365512866715726:D=.020600048310575665:D=.09708785634773187:D=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?D=-.03146213719547347:D=.11784024316238083:D=-.050940520532045355:D=-.047988344143075616:e[191]>1e-35?D=.028764654731460032:D=.0011911575567860023;let O;e[294]>1e-35?e[10]>50.50000000000001?O=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?O=-.05103908560370243:O=.05002066201169583:O=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?O=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?O=.127983140816313:O=-.05436534163636867:O=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?O=-.009504203657088933:e[8]>819.5000000000001?O=.18689664822602375:O=.03635576744011826:O=-.029862411809998525:e[223]>1e-35?O=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?O=-.09405026597863717:e[0]>4153.500000000001?O=.053577663326799765:O=-.05062127873995668:O=.06512222894425874:e[39]>1e-35?O=-.04985311717827547:e[51]>1e-35?O=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?O=-.02860634573675884:O=.08863753005590103:O=.11158892111063744:e[0]>655.5000000000001?O=-.031005736641654926:O=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?O=-.00843386136334982:O=-.05273594615999777:O=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?O=-.015774115523598486:O=.10147367091236065:O=-.048307000563071016:O=.002118376117677254;let M;e[8]>1014.5000000000001?e[9]>137.50000000000003?M=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?M=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?M=.07211107542565391:M=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?M=-.0751486415451188:e[1]>59.50000000000001?M=.13459005084554104:M=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?M=.06715575425741895:M=-.005895690393702183:e[8]>2915.5000000000005?M=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?M=-.00029068886245881074:M=.0613467393188786:e[148]>1e-35?M=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?M=.003887223773199377:M=-.08553893131979015:M=.025654192706396767:M=-.05651733979610658:M=-.02039913645229667:e[2]>7.500000000000001?M=-.1058450646728524:M=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?M=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?M=.1283258201586378:M=-.01718135372229775:M=-.07702452408491414:e[125]>1e-35?M=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?M=.04273051857848212:M=-.04533122948101463:e[2]>196.50000000000003?M=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?M=.0231032972703664:M=-.04807386814498683:M=.002729435991332102;let B;e[179]>1e-35?B=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?B=.026484626664041125:e[10]>1.5000000000000002?B=-.10187000872941615:B=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?B=.09574540795390041:B=-.06454986703691233:B=-.11411849349353141:e[266]>1e-35?B=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?B=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?B=-.04403391373512386:B=.1132928075412222:e[2]>47.50000000000001?B=-.09700191391838056:B=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?B=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?B=-.001668912999010927:B=-.02363511102970245:e[8]>58.50000000000001?B=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?B=.0911011436534449:e[1]>28.500000000000004?B=-.07192390493729035:B=.06913818091291246:B=-.012312625373699222:B=.06784496312307986:B=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?B=.0026564453057705273:B=-.025425772389361445:e[122]>1e-35?B=-.12046786388602149:e[0]>3183.5000000000005?B=.01162092842804907:e[91]>1e-35?B=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?B=-.0001647792543020228:B=-.023664538532907665:B=.01609078206180752;let H;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?H=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?H=-.017696526862422682:H=.1450050954613223:H=-.05406930069823832:H=-.08308700260259043:e[120]>1e-35?H=.058316269489189415:e[297]>1e-35?e[94]>1e-35?H=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?H=.038431826961746934:H=-.05937462906539856:e[9]>65.50000000000001?H=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?H=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?H=-.09579030954062734:H=.025064711572811746:H=.02579440518821548:H=.1044440128091862:H=-.058348633139536844:H=.07766788227934436:H=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?H=.07463684068207214:H=.18244269035484484:e[6]>39.50000000000001?H=-.06050050067471004:H=.05787759066913493:H=.010783225857972171:H=.1674891243602606:e[4]>9.500000000000002?H=-.004814132027475892:H=-.14543299413454813:H=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?H=-.07634466313617769:H=.0287825335169114:H=-.06894721943300268:H=-.00023988459059521937;let ae;e[131]>1e-35?e[1]>93.50000000000001?ae=-.05706887458825395:e[2]>1.5000000000000002?ae=.011446637886629108:ae=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?ae=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?ae=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?ae=.026278724448495064:ae=.17053138400480508:e[0]>4463.500000000001?ae=-.06482289890096041:ae=.03026516489536295:ae=-.031785170717683144:ae=.1312690622980455:e[13]>1e-35?ae=.14336922540461444:ae=.03523850945454039:ae=-.015407465968975714:e[39]>1e-35?ae=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?ae=-.0659975068798723:ae=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?ae=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?ae=.057409156184759516:ae=.2024322059866388:ae=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?ae=.010648654146284154:e[308]>1e-35?ae=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?ae=.12364025998551711:ae=-.02247495081065243:e[1]>22.500000000000004?ae=-.0726295464624251:ae=.03481895086048152:e[0]>4331.500000000001?ae=-.04775443357020673:ae=.07172377425057568:e[2]>89.50000000000001?ae=-.11782645274716962:ae=.00010092665257989378;let ye;e[147]>1e-35?ye=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?ye=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?ye=-.016101990375700172:e[0]>2579.5000000000005?ye=-.13045089661551845:ye=-.02874367814784938:ye=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?ye=.17084176915326055:ye=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?ye=.10591712319944074:ye=-.024082167264285:ye=.16497698867036126:ye=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?ye=-.021012910475524206:ye=-.13058422554298485:e[0]>1102.5000000000002?ye=.10955864175201457:ye=-.03566689354348996:e[1]>11.500000000000002?ye=-.02093884208606101:ye=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ye=-.013861861436128482:ye=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?ye=.10163873449625677:ye=-.02779270277623805:e[1]>26.500000000000004?ye=-.08035058228527389:ye=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?ye=-.007028075523033826:ye=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?ye=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?ye=-.0032075580718124892:ye=-.04442829143298883:ye=-.06597073245775804:ye=.0015594090939337751;let he;e[223]>1e-35?e[8]>668.5000000000001?he=-.12803889879260094:he=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?he=.08967966612917375:e[1]>39.50000000000001?he=-.059791671514498074:he=.05648934961902822:e[2]>59.50000000000001?he=-.08633234097449628:e[6]>53.50000000000001?he=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?he=.025606129643140924:he=.13835395886271978:he=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?he=-.09975506556937946:e[10]>36.50000000000001?he=-.09427724661655643:e[10]>24.500000000000004?he=.07329330653410447:he=-.02271182965807972:he=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?he=-.05082091374050816:he=.1687114435254966:e[0]>2314.5000000000005?he=-.06422664016383926:he=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?he=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?he=-.1274167728754332:he=.01308079126447365:e[4]>73.50000000000001?he=.13854015371106546:e[4]>48.50000000000001?he=-.03684255740123261:e[6]>45.50000000000001?he=.10329912215813097:e[10]>77.50000000000001?he=-.08630788656925215:he=.031022006843800853:e[1]>25.500000000000004?he=-.08278381528048026:he=.06664374548141594:e[84]>1e-35?he=-.05624227409079396:he=.00012184182357340415;let Ue;e[179]>1e-35?Ue=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ue=-.07595415373151816:Ue=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ue=.022822510448266862:Ue=.17491569312933697:Ue=-.058362287133533565:e[2]>2.5000000000000004?Ue=-.03633895806364428:Ue=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ue=-.07294848747514579:Ue=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ue=-.07009535282685533:e[8]>2640.0000000000005?Ue=-.051761240111316276:e[131]>1e-35?Ue=-.06245774419231631:Ue=.03495606662854905:Ue=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ue=.0015036626973581122:Ue=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ue=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ue=.022343994371919224:Ue=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ue=.07724450228328664:e[0]>3853.5000000000005?Ue=-.15671707454435677:e[10]>28.500000000000004?Ue=-.10179090671841723:Ue=.014878216919760927:Ue=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ue=.14054154485273487:Ue=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ue=-.08632985141410315:Ue=.005524157938954954:Ue=-.08802502622523681:Ue=-.0004649168897260341;let Ge;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?Ge=-.007458687464321174:Ge=-.09444966249102484:e[1]>23.500000000000004?Ge=.08564129697360716:Ge=-.07105002902845851:Ge=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?Ge=-.10326216566705966:e[1]>26.500000000000004?Ge=.0050539832484585365:Ge=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?Ge=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?Ge=.05783632021087773:e[10]>17.500000000000004?Ge=-.06720598671764105:e[1]>47.50000000000001?Ge=.097495825172558:Ge=-.013372242800584872:Ge=-.06463226787713715:e[42]>1e-35?Ge=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?Ge=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?Ge=.11051270080118503:Ge=.027719462817590454:e[8]>597.5000000000001?Ge=-.08441503592016869:Ge=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?Ge=-.12190088985091102:Ge=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?Ge=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?Ge=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?Ge=.016585157185448045:Ge=-.11032043771149425:Ge=.01586986028570486:e[8]>388.50000000000006?Ge=-.10592413013261853:Ge=.04930703248769364:e[13]>1e-35?Ge=.003621937787920821:Ge=-.0013786331198611841;let Ve;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?Ve=.009769895322846493:Ve=-.10620052926943656:e[9]>19.500000000000004?Ve=.03781202525403449:e[9]>14.500000000000002?Ve=-.11485785321365344:e[9]>6.500000000000001?Ve=.07677177833073881:e[0]>4342.500000000001?Ve=-.07079285609687631:e[49]>1e-35?Ve=.06156814809246001:Ve=-.014788509042554625:Ve=-.032659201618470655:e[5]>5207.500000000001?Ve=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?Ve=-.03094160322187924:e[1]>29.500000000000004?Ve=.09474646043921069:Ve=.023445783928231618:Ve=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?Ve=-.07164443768784848:e[1]>29.500000000000004?Ve=.089473622509272:e[8]>597.5000000000001?Ve=-.08155349903101317:Ve=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?Ve=-.004003900679358653:e[190]>1e-35?Ve=-.09236113461485262:e[8]>3198.5000000000005?Ve=-.0124130160451179:Ve=.018453070064009328:e[15]>1e-35?Ve=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?Ve=-.0009580759587680961:Ve=-.03227283036698222:Ve=.01369287669536875:e[1]>50.50000000000001?Ve=-.04213060332500437:e[35]>1e-35?Ve=-.11508095777767471:e[190]>1e-35?Ve=-.08611884672400155:e[297]>1e-35?Ve=.05723551879433584:Ve=-.004829340082311461;let Ze;e[183]>1e-35?Ze=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?Ze=-.11753465135886734:Ze=-.007515490299047085:Ze=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?Ze=-.12371142493530439:e[1]>36.50000000000001?Ze=.032189417575190435:Ze=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?Ze=-.0784518658439288:e[2]>54.50000000000001?Ze=.12477882322370665:Ze=.000313468482399738:Ze=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?Ze=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?Ze=.0353146070135579:Ze=-.06327619611098285:Ze=.02813577701641991:Ze=-.12354390728506215:e[34]>1e-35?Ze=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?Ze=-.01245803535276381:Ze=-.07169472553475001:e[1]>11.500000000000002?Ze=.12989984824561698:Ze=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?Ze=.010390226893521422:e[10]>14.500000000000002?Ze=.16790888126487719:Ze=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?Ze=-.043398307129729134:Ze=.09963544907820426:e[9]>30.500000000000004?Ze=-.13540713124984502:e[9]>17.500000000000004?Ze=.0509435850590757:Ze=-.04761897852404613:e[4]>78.50000000000001?Ze=.09197086656470652:Ze=.0006771050176682337;let F;e[122]>1e-35?e[6]>36.50000000000001?F=.05686884451670743:F=-.05334759543084309:e[266]>1e-35?F=-.08603579519816038:e[157]>1e-35?F=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?F=-.0499592651503952:e[0]>725.5000000000001?F=.11780353905132664:F=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?F=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?F=-.03190157229022304:F=.07985197845805492:F=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?F=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?F=-.027174047777029083:F=.057117284879796476:e[3]>43.50000000000001?F=-.0016147040913107311:F=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?F=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?F=-.01466076988151239:F=.13375695925484857:F=-.04885873081899647:e[0]>5566.500000000001?F=.11086813028591343:e[8]>992.5000000000001?F=-.07622304217072383:F=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?F=.03285858361708423:F=-.12354858211764992:F=.0672788301823281:e[15]>1e-35?F=.08658836986585006:F=-.02741484278509758:e[290]>1e-35?F=-.08161310335133287:e[135]>1e-35?F=-.04824156054814152:F=.0009156904299554183;let ne;e[3]>7.500000000000001?ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ne=.03642374718166293:ne=.16379973756366603:ne=-.03946685266127979:e[186]>1e-35?ne=.07618896623420895:e[96]>1e-35?ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?ne=-.022822371600847505:ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?ne=.044416424920571296:ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?ne=.1061937286809567:e[7]>54.50000000000001?ne=.11487507743121311:e[8]>819.5000000000001?ne=-.07181278009001418:e[10]>25.500000000000004?ne=.13499019430369633:e[1]>31.500000000000004?ne=.09032979489780704:ne=-.12754166393372374:e[9]>37.50000000000001?ne=-.05093963635361407:ne=-.005026651151683848:e[9]>2.5000000000000004?ne=.07619735785573735:ne=.012363301341532136:e[26]>1e-35?ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?ne=-.10764172927882483:ne=.01890760098464703:ne=.06573095405846417:e[8]>634.5000000000001?ne=-.00783575973273707:ne=-.050612689680229306:e[1]>22.500000000000004?ne=-.0016842490401359626:ne=.0738227088444087:ne=-.02663970950432175;let $;e[31]>1e-35?e[8]>17.500000000000004?$=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?$=.007191286124908192:$=-.09347881647636902:e[10]>1.5000000000000002?$=.07938758708008091:$=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?$=.12321804057595996:$=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?$=-.04644244754790671:$=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?$=.0706108609273337:e[2]>40.50000000000001?$=-.028046629962303716:$=-.06497613993109329:$=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?$=-.03056331974267756:$=-.11886389712497057:$=.053364962175658184:e[8]>2233.5000000000005?$=-.0448152521157682:$=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?$=.03818796510453344:$=.23673992112982362:$=.02858814226507374:e[10]>44.50000000000001?$=-.1125863771551199:$=.009129996952394916:e[1]>7.500000000000001?$=-.004374525302461639:$=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?$=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?$=-.13677189943034931:e[10]>2.5000000000000004?$=.039591891437078086:$=-.09312596849507347:$=-.02423172142089822:$=.0009836986075266283;let ge;e[189]>1e-35?e[0]>5269.500000000001?ge=-.103183298350443:e[2]>51.50000000000001?ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?ge=-.05186168947388339:ge=.0496996365539082:e[10]>23.500000000000004?ge=.1404445738719:e[93]>1e-35?ge=.0027146310074558505:e[5]>3821.5000000000005?ge=.002153033152069652:e[4]>2.5000000000000004?ge=.007663539551317215:ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?ge=-.021479467709980358:ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?ge=.021660293256233334:ge=-.0927396152303864:ge=.0665074081601698:e[0]>1550.5000000000002?ge=.08972407105958534:ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?ge=.06761927942466854:ge=-.015762168112653286:e[17]>1e-35?ge=.10311304131145381:ge=-.017672785252336027:ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?ge=-.10638321435298535:ge=.0007073011744385905:e[18]>1e-35?ge=-.027056185501334325:e[145]>1e-35?ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?ge=.09762140519655171:e[9]>110.50000000000001?ge=-.06581942957595835:e[6]>54.50000000000001?ge=.04959634035251596:ge=.0022616298654554207:ge=-.007437620924990854;let le;e[179]>1e-35?le=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?le=.1470294450403005:le=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?le=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?le=.07965955447707423:e[10]>10.500000000000002?le=-.09236156404262426:le=.03396273196231458:le=-.13246465021467432:le=.07092822261735353:le=-.08753829085942:le=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?le=.004705878789890202:le=.13775378964952867:le=-.04770928980587811:e[10]>29.500000000000004?le=.011221519891071544:e[0]>3853.5000000000005?le=.06365381191628273:le=.15506252245336827:e[1]>37.50000000000001?le=-.07254777021042061:le=.026514587757252385:e[308]>1e-35?le=.04115804816617256:e[10]>26.500000000000004?le=.02077721353011946:e[5]>3548.5000000000005?le=-.1280907116663952:le=-.021974774274438:e[306]>1e-35?le=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?le=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?le=-.005710865560475598:e[94]>1e-35?le=-.06751507982853555:le=.027250040757588703:e[9]>52.50000000000001?le=.07060357924595577:le=-.030297760713011795:le=-.0006005400085266517;let q;e[113]>1e-35?q=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?q=-.06996356565314456:q=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?q=-.08317707559926495:e[21]>1e-35?q=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?q=-.010538203005984922:q=.08454819465349446:e[9]>124.50000000000001?q=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?q=-.08542251249346582:e[9]>50.50000000000001?q=-.023428882537657472:q=.010042500833979073:q=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?q=.03006025206979096:e[9]>108.50000000000001?q=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?q=.04222035773042132:q=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?q=-.07209095448054853:q=.028065954981903313:q=.08714651929917122:q=-.006678820669279169:e[10]>40.50000000000001?q=.006982396294941626:q=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?q=-.09351114982645548:e[4]>3.5000000000000004?q=-.004837550129223451:q=-.08324141237464677:e[303]>1e-35?q=.10703037493990825:e[9]>156.50000000000003?q=-.10803018621648303:e[116]>1e-35?q=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?q=.10261721665006701:q=.018994509090668264:q=.0011244262442038839;let re;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.08404263465005328:e[0]>3682.5000000000005?re=.041259223920298876:e[1]>29.500000000000004?re=-.09541257493441671:re=.001482192721625409:re=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?re=-.08268996098437432:e[230]>1e-35?re=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?re=-913218977737457e-19:e[4]>10.500000000000002?re=-.056334165674005156:e[127]>1e-35?re=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?re=-.04231200150318989:e[10]>42.50000000000001?re=.10182973257894812:re=.015934763950068445:re=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?re=-.041117068322885315:re=.1167767830037126:re=.13611206992387337:e[10]>41.50000000000001?re=-.07120286010564107:re=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?re=-.07702290997669524:e[198]>1e-35?re=.08776558554437136:re=-.008290740324975692:e[2]>32.50000000000001?re=.07198457624219955:re=.005463113714361629:re=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?re=.03295785445437507:re=.15140250150674536:re=-.035613213948910254:e[186]>1e-35?re=.06849425535860769:e[96]>1e-35?re=.06028225812727254:re=-.007582543288662308;let xe;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?xe=.08396556264106572:xe=-.0562516995099192:xe=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?xe=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?xe=.0052017514017035915:xe=-.11194119432743639:xe=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?xe=-.025692451287403446:xe=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?xe=-.11892250746801664:e[10]>22.500000000000004?xe=.07548493166973796:xe=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?xe=.13750699058082427:e[18]>1e-35?xe=.06535408879552801:xe=-.054118179035040674:xe=.1344282838979622:e[0]>3982.5000000000005?xe=-.10409582202467015:e[19]>1e-35?xe=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?xe=.012705935670766466:xe=.14149359442527545:xe=-.047977876173706004:e[20]>1e-35?xe=.057945228080337946:e[0]>3642.5000000000005?xe=-.008726535792122467:xe=-.08424769891378858:e[34]>1e-35?xe=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?xe=.01196849566739346:xe=.1614642278429876:xe=-.043022338150701625:e[3]>5.500000000000001?xe=-.03907848255033881:xe=.018280601026175593:xe=.0006654540402589085;let ue;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?ue=-.01386103677247845:ue=.11386694333005128:e[4]>27.500000000000004?ue=-.021862617610091336:e[2]>31.500000000000004?ue=.0828858469030438:ue=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?ue=.11303635767048735:ue=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?ue=-.04238798044549342:ue=.022091190130494303:e[5]>5082.500000000001?ue=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?ue=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?ue=-.04291104140431434:e[17]>1e-35?ue=.11256797532342613:ue=-.017206916368289193:ue=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?ue=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?ue=.03581712466863222:ue=.14770264307668884:e[8]>73.50000000000001?ue=-.13093289429740068:ue=.042461737442702936:e[52]>1e-35?ue=.0501831919044939:ue=-.010450249720465756:ue=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?ue=.0005381332165438493:ue=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?ue=.04849637311285226:ue=-.036671377119808564:e[0]>421.50000000000006?ue=.00020968499911058945:ue=.11636422423182405:ue=-.12687837788222575:ue=.0012774367867215346;let de;e[120]>1e-35?de=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?de=-.042799574885345304:de=.07412430171193245:de=-.11248270469336048:e[193]>1e-35?de=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?de=.028911612178122104:de=.12326369727728437:e[0]>4091.5000000000005?de=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?de=.1159839898100149:de=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?de=-.0216343737351583:de=-.1220272260878369:e[2]>18.500000000000004?de=.09152924475072398:e[8]>55.50000000000001?de=.039508716651005665:de=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?de=.06793009902674053:de=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?de=-.04391068849624096:de=.04009967593394672:e[8]>1085.5000000000002?de=-.024773826356034825:de=-.13919707884246582:de=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?de=-.11567917501901476:de=-.006813640337684114:e[3]>7.500000000000001?de=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?de=-.001754586408351048:de=-.055422422450722056:de=-.06090032532532226:e[0]>5269.500000000001?de=.11787981735983527:de=-.00198119768540783:de=.00210412924303036;let Ee;e[294]>1e-35?e[10]>50.50000000000001?Ee=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ee=-.06063239096209816:Ee=.03317022411417386:Ee=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ee=-.013608609329298802:Ee=.09078000157330264:e[99]>1e-35?Ee=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ee=-.07536137260189814:Ee=.006253266595455118:e[10]>28.500000000000004?Ee=-.006106041147592768:e[9]>156.50000000000003?Ee=-.11828932797811101:e[94]>1e-35?Ee=-.02566078479505714:e[303]>1e-35?Ee=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ee=-.08401252789168523:e[5]>4244.500000000001?Ee=.026372887658499107:e[1]>16.500000000000004?Ee=-.027836756345634026:Ee=.09205362097909099:Ee=.00934612788718244:e[203]>1e-35?Ee=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ee=-.09580979052540028:e[1]>50.50000000000001?Ee=-.06402211827281554:Ee=.08342858760095972:e[2]>36.50000000000001?Ee=.008114897658204584:e[92]>1e-35?Ee=.09541587072672864:Ee=-.022342147210555434:Ee=-.01660492519175128:Ee=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ee=.15846731118501817:Ee=.039498507912023195:e[245]>1e-35?Ee=.07008718676813333:Ee=.0019806389728814727;let we;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?we=-.01192072916082109:we=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?we=.06874032717466054:e[4]>40.50000000000001?we=-.07752510020707537:e[1]>76.50000000000001?we=-.09944032260703917:e[8]>1381.5000000000002?we=-.054466635810800745:e[1]>32.50000000000001?we=.05974084520839573:we=-.0384718740755954:we=-.11374190719134032:e[0]>2151.5000000000005?we=-.13703645155803298:we=.004833344758654556:e[297]>1e-35?e[212]>1e-35?we=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?we=.013539805885738608:we=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?we=.09941880179344399:we=-.01608127391210995:we=.08025226531247417:e[9]>67.50000000000001?we=.13525448212444113:e[6]>61.50000000000001?we=-.05511099182158894:e[94]>1e-35?we=-.06821509831783572:e[128]>1e-35?we=.11361314817714643:we=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?we=-.09954181329804547:e[197]>1e-35?we=.10102833149755386:e[188]>1e-35?we=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?we=-.03781554214742005:we=.09927933385592314:we=-.020006000056720083:we=-.10520473615957895:we=-.12006990846253787:we=-.00026111570975317574;let ke;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?ke=-.019188245509744628:ke=-.13354864350075848:e[0]>2461.5000000000005?ke=.051885477468354396:ke=-.0833581968852119:ke=.08233441701532287:ke=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?ke=.09926337893072812:ke=-.027753610497327715:e[0]>1972.5000000000002?ke=-.09780045823152517:ke=.032380915168504935:ke=.11502632261226381:e[17]>1e-35?ke=-.06094965899579662:e[10]>40.50000000000001?ke=-.07500475582440802:ke=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?ke=-.09584538995220808:ke=-.00908705814304442:ke=.03203281520813893:e[10]>49.50000000000001?ke=-.03146271513986384:e[2]>63.50000000000001?ke=.13172001315536286:e[224]>1e-35?ke=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?ke=.09521549382082259:ke=-.04414925613522197:e[0]>1847.5000000000002?ke=-.09118580379557353:ke=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?ke=.03525144509943896:ke=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?ke=-.04766112322938157:e[2]>10.500000000000002?ke=.0728516504357201:ke=-.05049625965272536:ke=-.10868663055825774:ke=.0005382613419948969;let je;e[147]>1e-35?e[1]>53.50000000000001?je=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?je=-.030504020655417463:je=.07102458639110094:je=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?je=.055304563442710876:e[1]>53.50000000000001?je=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?je=-.1568835288372895:je=-.0279829124400056:je=.04493843959601833:je=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?je=-.054133834303687026:e[9]>48.50000000000001?je=.11263810289007213:e[9]>9.500000000000002?je=-.02202034562838259:e[4]>45.50000000000001?je=-.03410927569045158:je=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?je=-.029687297407295893:je=.10673602850001934:e[4]>42.50000000000001?je=.0036275562945108117:je=-.0760789221330622:je=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?je=.08274426793676076:je=-.07076234425516396:je=.13890177606150175:je=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?je=-.09250637750836187:je=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?je=-.01897867921812603:je=.04890781705365262:je=-.11569892307597907:e[2]>106.50000000000001?je=.09032697440623969:je=.00047935919155035045;let Ke;e[115]>1e-35?Ke=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?Ke=-.10131179514695865:e[8]>938.5000000000001?Ke=.10203729808015481:Ke=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?Ke=.03574015165562999:Ke=-.07763042506449493:Ke=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Ke=.0665706259130275:Ke=-.06586817559309924:Ke=.11925564412287476:Ke=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?Ke=.046017146627455346:Ke=-.08623321630086885:e[8]>1765.5000000000002?Ke=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?Ke=.11143827902215087:Ke=-.01817808730473413:Ke=.16980985030210127:Ke=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?Ke=.010168994879727824:Ke=-.09099594488792513:e[9]>1.5000000000000002?Ke=.0533459678147928:Ke=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?Ke=-.062346959148773695:e[1]>47.50000000000001?Ke=-.0021578343835599316:e[2]>27.500000000000004?Ke=.19567373210166172:Ke=.07851555379116423:e[18]>1e-35?Ke=.03711549097804649:e[8]>359.50000000000006?Ke=.012492346746905587:e[4]>20.500000000000004?Ke=.047511695735697544:Ke=-.07999269063948773:Ke=6802045404471004e-20;let tt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?tt=.0011484728213539738:tt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?tt=-.09828874964938798:e[8]>1586.5000000000002?tt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?tt=.011938269926919522:tt=.17541983715953954:e[19]>1e-35?tt=.023002786011088672:tt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?tt=.06508934844183291:tt=-.10168553534835639:tt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?tt=.021140806225203937:tt=-.1167833342453639:e[2]>33.50000000000001?tt=.13163585734056618:tt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?tt=.06314479201263888:tt=-.09639088327091713:e[10]>29.500000000000004?tt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?tt=40577156464836036e-21:tt=.12322387121810757:tt=-.03697224045046014:e[1]>22.500000000000004?tt=.016474835887320276:tt=.16919298733903063:tt=.07633203630214054:tt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?tt=.14150493354700563:tt=-.01831155354975749:e[1]>28.500000000000004?tt=-.07952557178685365:e[10]>28.500000000000004?tt=.0665695554984927:tt=-.053640139319277094:tt=.0004754840665898665;let rt;e[76]>1e-35?rt=-.06814884255939921:e[179]>1e-35?rt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?rt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?rt=.004193658608848433:rt=-.1066968975983452:e[8]>302.50000000000006?rt=.05476730110440451:rt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?rt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?rt=.013555772109446666:rt=-.09856116699770784:rt=.0284329611813383:e[2]>52.50000000000001?rt=.04008708444763762:e[9]>29.500000000000004?rt=-.1289599546008197:rt=-.018566534248335896:e[8]>747.5000000000001?rt=.02236484980076122:rt=.1148871655157582:e[8]>3084.0000000000005?rt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?rt=.03164751204281298:rt=.11752140436184891:e[9]>42.50000000000001?rt=-.07180559595410106:e[22]>1e-35?rt=.09325040416256854:rt=-.016041122807939914:rt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?rt=-.010718250133458515:rt=.09818827994853763:rt=.010180038981174032:rt=-.039472162599295535:e[9]>170.50000000000003?rt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?rt=-.08674788057474031:rt=.02077653508548371:rt=-.0003536561382007414;let lt;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?lt=.018337297491457794:lt=-.05926206443180149:lt=.024026520855881126:e[288]>1e-35?e[184]>1e-35?lt=.10747078482128616:e[126]>1e-35?lt=-.10550625192391357:e[7]>71.50000000000001?lt=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?lt=.1317396472229434:lt=-.025035791351328947:lt=-.0728334305864372:e[8]>963.5000000000001?lt=.023642201723096064:lt=.183010326734258:e[128]>1e-35?lt=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?lt=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?lt=-.1088876900335281:lt=.02758317023002635:lt=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?lt=-.01928020117446408:lt=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?lt=.07893723375925096:lt=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?lt=-.10301657587280551:lt=.005787463140224318:lt=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?lt=-.019296977889522397:lt=-.07274529751752634:e[1]>30.500000000000004?lt=-.050368901143148286:lt=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?lt=.0015332402792773946:lt=.09930153676749967:lt=-.06370844564357069:lt=.00042272155209927616;let L;e[71]>1e-35?e[4]>17.500000000000004?L=.12586844370423247:L=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?L=-.08474891624263797:e[8]>125.50000000000001?L=.08125086980439704:L=-.04082085238068532:e[0]>3863.5000000000005?L=.020481535807469208:L=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?L=-.019110200161573936:L=-.12387719685855114:e[0]>1102.5000000000002?L=.08376595701957407:L=-.031821919580524834:e[9]>4.500000000000001?L=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?L=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?L=.1349841206807871:L=.011864053595560297:e[1]>41.50000000000001?L=-.08203662486612544:e[2]>18.500000000000004?L=-.009541865642346947:L=.08345043168501759:e[2]>10.500000000000002?L=-.09585031818030947:L=.019432330487099865:L=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?L=.11951517733981365:L=-.016651014735738538:e[1]>28.500000000000004?L=-.07410922545030711:e[10]>28.500000000000004?L=.05886430683844788:L=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?L=.04802269879144705:L=-.026208212831796737:e[4]>45.50000000000001?L=-.03227476944664786:L=.05124575625622705:L=.00020506696916003137;let Z;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Z=-.03042091758483443:e[10]>14.500000000000002?Z=.09816619204768777:Z=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Z=-.02381165060401718:Z=-.10950361804974783:Z=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Z=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Z=-.06371052144380579:Z=.0835500621252692:Z=-.10408255929333915:e[1]>74.50000000000001?Z=.13208968122712403:e[1]>64.50000000000001?Z=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Z=.09922816902423433:Z=.016366955328796718:Z=.1592412560903584:e[1]>39.50000000000001?Z=.05409467990258923:Z=-.08260633210459611:Z=-.06307205775247567:e[9]>36.50000000000001?Z=.040253940015648144:Z=.14202568969471283:Z=-.028761848341594044:Z=.08994073058773508:e[0]>807.5000000000001?Z=-.043427848826323195:Z=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Z=-.0758877731600639:e[23]>1e-35?Z=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Z=.08124700978741987:Z=.013296063087086852:e[7]>5.500000000000001?Z=-.01640196088612987:Z=-.12685498840146067:Z=-.0004940792382459551;let fe;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?fe=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?fe=.08513773825688947:fe=-.1184664832315282:fe=.05676963535893477:fe=.14263843210340613:fe=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?fe=-.10669720555606924:fe=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?fe=.0664744575868955:fe=-.08469256188890871:fe=-.026746678040592144:e[281]>1e-35?fe=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?fe=.012131807587207655:fe=-.12776015795398743:fe=.04320472481083551:fe=.08390980661550446:e[10]>227.50000000000003?fe=-.09771783809101153:e[10]>130.50000000000003?fe=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?fe=-.07610698254064358:e[8]>902.5000000000001?fe=-.03136381213599649:e[131]>1e-35?fe=.0704821739127936:e[224]>1e-35?fe=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?fe=.10431473040024908:e[8]>841.5000000000001?fe=.07304745320500514:fe=-.038011541882439825:fe=-.01679746695007364:e[0]>3129.5000000000005?fe=.05589952587431965:e[210]>1e-35?fe=.06227198085800842:fe=-.0011341890997947812:e[8]>740.5000000000001?fe=.04817300084412584:fe=-.000577001010789238;let pe;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?pe=-.10504730480402079:e[5]>3341.5000000000005?pe=.11087894671081754:pe=-.0406668834674614:pe=.03308382165616109:e[8]>104.50000000000001?pe=-.10431436764549162:pe=.0073928337244891455:e[4]>34.50000000000001?pe=-.10571751512748416:pe=-.006081128814142983:e[13]>1e-35?pe=.1299673566095023:e[4]>60.50000000000001?pe=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?pe=.04857126072645073:pe=-.03431365358104773:e[4]>16.500000000000004?pe=.04101865986596709:pe=.16480274980378218:e[10]>26.500000000000004?pe=.03673978504199255:e[10]>9.500000000000002?pe=-.10996402743800027:e[308]>1e-35?pe=.0553693735082498:pe=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?pe=.010902983761213922:pe=.1325118659895645:pe=-.064362945508595:e[1]>66.50000000000001?pe=.033416767779331176:pe=-.054080316225040496:e[42]>1e-35?pe=-.07762364337810815:e[10]>1089.5000000000002?pe=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?pe=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?pe=.0220102041325908:pe=-.06516708740003069:pe=.012833498905748267:e[224]>1e-35?pe=-.007038418272997865:pe=.00037666304316290967;let De;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?De=.07554189644995735:De=-.052089349455904946:De=-.10148206848169845:e[113]>1e-35?De=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?De=.07172653627995676:De=-.07602959317610998:De=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?De=-.0399322883690891:De=.06523495517476098:De=-.10358715295743802:e[193]>1e-35?De=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?De=.015928764772252406:De=.1341513061552287:De=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?De=-.033592997607280156:De=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?De=-.08402551858097379:De=.017401984506038796:e[1]>25.500000000000004?De=.13337205393591278:De=-.01160208350090984:De=.06708317942315471:e[8]>227.50000000000003?De=-.08486943882418681:De=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?De=-.10496268177586783:De=-.020921489532370493:De=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?De=.11639296062157028:De=-.004275784356569115:e[32]>1e-35?De=-.07297384970166025:De=.006026841626381599:De=.002034611134960428;let Me;e[248]>1e-35?Me=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Me=-.06455513326540585:e[1]>29.500000000000004?Me=.07718474591552532:e[4]>7.500000000000001?Me=.040139336931404826:Me=-.09685734690563386:Me=.00015327283570347363:e[9]>88.50000000000001?Me=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Me=-.04077257804338707:Me=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Me=.03778141591008941:Me=-.06459919920634845:Me=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Me=.14063930759326346:e[0]>179.50000000000003?Me=.07287482250668585:e[8]>1180.5000000000002?Me=-.14419393112726253:e[10]>28.500000000000004?Me=-.07993142770099469:e[17]>1e-35?Me=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Me=.05527969663610186:Me=-.10824385941441346:e[3]>11.500000000000002?Me=.12358502961047915:Me=-.017509147119622873:e[0]>74.50000000000001?Me=-.014907705458730486:e[8]>95.50000000000001?Me=-.02225118168342062:Me=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Me=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Me=.04962819555610421:Me=-.07213577821855309:Me=.09139529824708481:e[19]>1e-35?Me=.013439401088345224:Me=-.049274647207292056:Me=.10531673719686951;let $e;e[40]>1e-35?e[0]>1937.5000000000002?$e=-.06421671152073961:$e=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?$e=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?$e=-.03520420769287065:e[8]>1085.5000000000002?$e=-.019817352506127633:$e=.11444439424520964:$e=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?$e=-.010490117519863269:$e=.08104430117757461:e[121]>1e-35?e[243]>1e-35?$e=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?$e=.06619344145920268:e[0]>4091.5000000000005?$e=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?$e=.10016091391222309:$e=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?$e=-.019511460451434884:$e=-.11643672465055221:e[2]>18.500000000000004?$e=.07848228087333317:e[8]>55.50000000000001?$e=.032583027899956235:$e=-.11209832692153521:e[11]>1e-35?$e=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?$e=-.09996887746328006:e[9]>2.5000000000000004?$e=.02157682011863397:$e=-.05247727848991843:$e=.07409150201483244:e[1]>38.50000000000001?$e=-.11378466075449625:e[224]>1e-35?$e=-.10741749127732923:e[1]>26.500000000000004?$e=.07343136534146562:$e=-.07013573628594773:e[25]>1e-35?$e=-.04626669734164317:$e=.05518333197956482:$e=.00032434010867555516;let We;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?We=.026313251010808853:We=-.08997339150292381:We=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?We=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?We=.0905155504503746:e[8]>1049.5000000000002?We=-.062312558183394054:e[8]>719.5000000000001?We=.09583836191410239:e[0]>3719.5000000000005?We=-.0778097309430818:We=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?We=-.12920865648544927:e[0]>2699.5000000000005?We=-.07086587879041864:We=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?We=-.11377786322600797:We=-.009486325820117998:e[1]>55.50000000000001?We=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?We=-.07938291201004219:e[2]>36.50000000000001?We=.01520046732530246:We=.13649854049662832:We=-.07145015938528873:e[8]>407.50000000000006?We=-.00350257360822279:We=.11332047082193297:We=-.10060624458629897:We=.05429496612497562:e[8]>1446.5000000000002?We=.006073419197482838:We=-.08718676350883998:We=-.11532497988252638:We=.10766270463068293:e[34]>1e-35?We=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?We=-.0004109812623829506:We=.021601073497455662:We=-7343540098965853e-20;let Re;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Re=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Re=.05995640200798119:e[0]>3443.5000000000005?Re=-.14698883458733583:Re=-.030039164579240187:e[189]>1e-35?Re=-.06086763220538141:e[1]>86.50000000000001?Re=-.05096727866142538:e[4]>64.50000000000001?Re=.11240554253834577:e[4]>45.50000000000001?Re=-.030279760168394117:e[6]>45.50000000000001?Re=.10161088917815142:e[10]>77.50000000000001?Re=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Re=-.06672020005240323:Re=.08831457502630258:e[8]>2592.5000000000005?Re=-.052617701047376654:e[10]>29.500000000000004?Re=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Re=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Re=-.064099222705728:Re=.044332487521538365:e[0]>2882.5000000000005?Re=.031099546885005065:Re=.12938467051623853:e[0]>4221.500000000001?Re=-.0928676413498701:e[9]>30.500000000000004?Re=-.05781824812803708:Re=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Re=-.06648105454098469:Re=.05985487552383097:Re=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Re=.05282385499619401:e[1]>66.50000000000001?Re=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Re=.027885690791379255:Re=-.08407126408362446:Re=.014432924125571093:Re=-9903435845205118e-20;let W;e[76]>1e-35?W=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?W=.013633653464240465:W=-.10164319411983509:W=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?W=.00632864847804078:W=-.08393000368134668:W=.07870508617440916:e[284]>1e-35?W=.1092302727710421:W=-.0025505047582483234:e[248]>1e-35?W=.07101822393621864:e[274]>1e-35?W=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?W=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?W=.025081789181021243:W=-.014813325803582618:e[9]>33.50000000000001?W=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?W=.11926990418060353:W=.01852125513565268:W=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?W=-.1178464984373743:e[283]>1e-35?W=.043370859226927405:e[5]>4320.500000000001?W=-.01103141226366587:e[8]>1104.5000000000002?W=-.023053423988095886:W=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?W=.000579145585864887:W=.03389152834202143:e[128]>1e-35?W=-.14527722052568462:e[210]>1e-35?W=-.08915971541902741:e[7]>9.500000000000002?W=-.03307314577076116:e[18]>1e-35?W=-.05521712302023565:W=.009315605032770029:W=.0036332551852289933;let X;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?X=-.07583539600416284:e[188]>1e-35?X=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?X=-.011038193049597113:X=.08154028164397753:e[1]>85.50000000000001?X=.10259361975201933:X=.011640408330521594:X=-.00023319159023748508:e[92]>1e-35?X=.13771692859530546:X=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?X=.09967230141007705:e[30]>1e-35?X=-.08888529037551285:X=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?X=.08284665960761373:X=-.029292565021289504:e[7]>7.500000000000001?X=-.09945093355204493:X=-.008381393701708593:e[20]>1e-35?X=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?X=.07585582641438211:e[8]>284.50000000000006?X=-.029387993239886723:X=.07716738177321587:e[1]>18.500000000000004?X=.026745348497993746:X=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?X=.02337306890530338:X=-.10390355904767366:X=.07390521199638532:X=-.06788247515155237:X=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?X=-.06360325615644084:X=.04342192339836601:X=-.10598779152030145:X=.05253384605768211;let se;e[3]>7.500000000000001?e[157]>1e-35?se=-.07514182877923786:se=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?se=.028692053800951845:se=.14081686716133598:se=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?se=.0037139292567243084:se=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?se=.01202688580305612:se=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?se=.043935495082738626:se=-.05639305759669704:e[247]>1e-35?se=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?se=.10331836202616368:se=.0006926658459781341:e[96]>1e-35?se=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?se=-.0741403257305367:se=.022900127535540854:e[7]>3.5000000000000004?se=.038110741403836294:se=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?se=-.09552842289807008:e[1]>27.500000000000004?se=.012505935885798007:se=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?se=-.1046104767723845:se=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?se=.023466328488582572:se=.11730925774586994:se=-.04771965631104874:se=.17059689880751394:se=-.08181850955999449:e[26]>1e-35?se=-.12727482696678769:se=-.014343123272734182;let me;e[147]>1e-35?e[1]>53.50000000000001?me=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?me=-.02763546051134888:me=.06423344777499343:me=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?me=.049825139823021586:e[7]>22.500000000000004?me=-.01131680751379858:e[0]>2579.5000000000005?me=-.10673674485369694:me=-.015387212937189957:me=.04347325151148724:e[179]>1e-35?me=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?me=.0650355590939066:me=-.0473332870892226:me=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?me=.11139543329789044:e[126]>1e-35?me=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?me=.06370903833231022:e[10]>29.500000000000004?me=.03415223859607161:e[10]>3.5000000000000004?me=-.07415518117873297:me=-.0014119203473324082:me=.12617652343819508:e[9]>41.50000000000001?me=-.10311145857176976:e[8]>2757.5000000000005?me=-.08106484219011428:e[7]>71.50000000000001?me=-.09783384432091176:e[1]>88.50000000000001?me=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?me=-.008884084501608536:me=.061339437777743616:me=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?me=.01526664064166223:me=.13534828515415498:me=-.06985484465894776:me=.0005758961943178744;let be;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?be=-.029152732370514342:be=.07173628916139178:e[1]>36.50000000000001?be=-.08859111297255318:be=.0018030071815630785:be=.13652461563759322:be=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?be=-.07145140450454163:e[21]>1e-35?be=-.07422841663493233:be=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?be=.11864240653986852:e[3]>33.50000000000001?be=-.08821209591953476:be=.05706392280054726:be=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?be=.01953613016837112:be=-.059781039130025006:e[148]>1e-35?be=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?be=.07207826841738371:e[202]>1e-35?be=.08163917539410503:be=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?be=-.06858280496900336:be=-.1781828899516648:be=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?be=.018232649414147116:be=-.04419781124222661:be=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?be=.11452368095776105:be=-.036496437259924026:be=-.040445338739465486:be=.0816572651001145:be=-.08968914517368663:be=.0002826343082585516;let ve;e[189]>1e-35?e[0]>5269.500000000001?ve=-.08839493050459957:e[10]>85.50000000000001?ve=.10046908365702462:e[8]>2592.5000000000005?ve=-.09632233975926387:e[8]>2000.5000000000002?ve=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?ve=.035504970430426296:e[1]>31.500000000000004?ve=-.1133764813142531:ve=-.01138280942244812:e[8]>1125.5000000000002?ve=.09800530246229806:ve=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?ve=.07316772160107896:ve=-.059095014819051765:ve=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?ve=-.09150209066166894:e[8]>3084.0000000000005?ve=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?ve=-.04449234460408263:ve=.05568837973347338:ve=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?ve=.12741077850267066:ve=.007372371864985329:e[2]>39.50000000000001?ve=.02295917234617787:ve=.14966532083907075:e[1]>39.50000000000001?ve=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?ve=-.02511861881285652:e[1]>27.500000000000004?ve=.08683660011672288:ve=.02956214835267301:e[9]>15.500000000000002?ve=-.016538805462996232:ve=.04352738094981517:ve=-.05561856645643868:e[9]>170.50000000000003?ve=-.07996752635874248:e[179]>1e-35?ve=-.09065975936933919:ve=-.00042817975060427177;let Ae;e[39]>1e-35?e[4]>25.500000000000004?Ae=.03443173196222934:Ae=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?Ae=-.0013415395759330318:Ae=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?Ae=.002297618040307216:Ae=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?Ae=-.015297257305397608:Ae=.09651828834062742:Ae=-.06636003334371929:e[10]>11.500000000000002?Ae=.17631616138309397:e[0]>1639.5000000000002?Ae=3804386478092585e-20:Ae=-.09099296398683193:Ae=-.06874415876172972:e[0]>2151.5000000000005?Ae=-.1311264883406766:Ae=.00809052010141122:e[253]>1e-35?Ae=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?Ae=.045038497754638605:Ae=-.07770167665661752:Ae=-.08596294280650517:Ae=.08538655727027213:Ae=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?Ae=.054627956617973275:e[1]>61.50000000000001?Ae=-.11994465088415499:e[4]>8.500000000000002?Ae=.06676200239406452:Ae=-.027503148069376867:e[8]>676.5000000000001?Ae=-.10363964928357075:e[4]>8.500000000000002?Ae=-.07589816227175682:Ae=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?Ae=.009093153189012338:Ae=-.06119765876605404:Ae=.0004668642103528348;let Ye;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?Ye=-.10100794502567233:Ye=.08000205636470442:Ye=-.11945419826856896:e[113]>1e-35?Ye=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?Ye=.1224302423880318:Ye=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?Ye=.0019277012166729114:e[1]>28.500000000000004?Ye=-.054445821715687494:Ye=.045645722976713245:e[30]>1e-35?Ye=.13402660155331655:Ye=.008921176001777645:Ye=-.058547426505451076:Ye=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?Ye=-.13526418192218206:Ye=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?Ye=.0007263224246135398:Ye=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?Ye=-.11575657261278308:Ye=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?Ye=-.01995960178292952:Ye=.11216586049153021:Ye=-.10050961087149474:Ye=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ye=.10303451081526649:Ye=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?Ye=-.043799548968209395:Ye=-.12451444314954115:e[4]>12.500000000000002?Ye=-.03838117361958468:Ye=.06504990789767144:e[57]>1e-35?Ye=.06890006938293915:Ye=.0003914274695562949;let ut;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?ut=.004271749009686975:ut=-.10523878297127605:ut=.04633982158107851:ut=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?ut=-.08655730561951676:e[8]>919.5000000000001?ut=-.0676453705610183:e[7]>18.500000000000004?ut=-.027787974193650575:ut=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?ut=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?ut=-.03473877164537313:e[8]>719.5000000000001?ut=.10471053866934404:ut=.008236107678382981:e[4]>57.50000000000001?ut=.09412219478825269:e[10]>66.50000000000001?ut=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?ut=-.040681323751002293:ut=.06374650297561021:ut=.12884615227401788:e[10]>5.500000000000001?ut=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?ut=-.05474068967150784:ut=.03744700650806603:ut=-.07846396348680855:e[1]>42.50000000000001?ut=.018972315810821302:ut=.10953621007604744:e[5]>4439.500000000001?ut=.010999776705494586:e[1]>40.50000000000001?ut=-.12394200059775967:e[10]>2.5000000000000004?ut=.013528093962849453:ut=-.09222088417048682:ut=-.12662967149701485:ut=.09327296405849603:e[3]>99.50000000000001?ut=-.013581954439986752:ut=.0005526498251862075;let Ie;e[187]>1e-35?e[243]>1e-35?Ie=-.08392792551692502:e[10]>68.50000000000001?Ie=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Ie=-.0825306209711224:Ie=.049559996084532945:Ie=-.1064938580886302:Ie=.03353240732240275:Ie=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Ie=.16966001471529374:e[1]>57.50000000000001?Ie=-.005772777673676247:Ie=.09383677041525058:e[8]>747.5000000000001?Ie=.054068175469351235:Ie=-.049968216310277036:e[8]>753.5000000000001?Ie=-.0679383555784074:e[4]>8.500000000000002?Ie=-.059757341189735386:Ie=.05701083682780414:Ie=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Ie=.05820296128730006:Ie=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Ie=.15340611616954566:Ie=.04385036188666874:e[0]>4449.500000000001?Ie=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Ie=.004840354641006495:Ie=.09967827580276283:Ie=.11605363537391578:e[9]>19.500000000000004?Ie=-.0735831692725717:Ie=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Ie=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Ie=-.02442182361342386:Ie=.10334853004243093:Ie=-.030431948680167104:Ie=-956078595250818e-19;let kt;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?kt=-.040232505718244854:e[0]>3030.5000000000005?kt=.0634109586813073:kt=-.04043617034245621:kt=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?kt=-.007859096946435131:kt=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?kt=.05515771679628051:kt=-.04214471312668263:kt=-.09589322222261765:e[193]>1e-35?kt=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?kt=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?kt=-.08152604001147906:e[11]>1e-35?kt=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?kt=.13100930780107503:e[10]>25.500000000000004?kt=.05921074710011526:kt=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?kt=.0009447118243153454:kt=-.09820565036865991:kt=.057146909749745546:e[0]>2115.5000000000005?kt=-.12331216726611678:kt=.007281983677694285:e[2]>56.50000000000001?kt=.012310154675612615:kt=-.08873665774670461:e[6]>25.500000000000004?kt=.134708740821879:e[9]>5.500000000000001?kt=-.0805901581148979:e[224]>1e-35?kt=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?kt=.10842593386554122:e[2]>13.500000000000002?kt=.06466798320378395:kt=-.08578130788886655:kt=-.03590892078300114:kt=.0003499894043880708;let St;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?St=.10839808814624702:St=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?St=-.007478368069393829:St=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?St=.04035247751736232:e[0]>4255.500000000001?St=-.1310865624507367:e[0]>4004.5000000000005?St=.06647367311982634:St=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?St=-.011618902907510411:St=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?St=.09356028223727986:St=-.03811765057032162:St=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?St=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?St=.1146142460964847:e[1]>62.50000000000001?St=-.09679869865322362:e[9]>71.50000000000001?St=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?St=-.039046426387852974:St=.04558778688367152:St=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?St=.03261697816211156:e[15]>1e-35?St=.02586252542264368:e[2]>14.500000000000002?St=-.016420452667484604:St=-.1011799626006976:St=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?St=.010193588102560583:St=.11748729525930773:St=-.04468162226743652:St=-.028365274393617957:e[71]>1e-35?St=.05115139346588793:St=-.0001510425316936658;let nt;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?nt=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?nt=.020637047900190317:nt=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?nt=-.04632587527094407:nt=.08603684785510396:nt=-.05101401015448496:nt=.025466432054358498:nt=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?nt=.020385355430046367:nt=.12032592051335252:nt=-.012387370292173013:e[2]>23.500000000000004?nt=-.12568545484492677:nt=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?nt=.043528764484784536:nt=.14352071657196003:nt=-.009332833816977268:nt=.11186782227735846:nt=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?nt=-.05649104643152564:nt=.03884200719305747:e[42]>1e-35?nt=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?nt=-.04103416502526736:nt=.04881823954656287:e[4]>15.500000000000002?nt=.009342724662897898:e[0]>3969.5000000000005?nt=-.025637309961309498:nt=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?nt=-.08185697075265091:e[0]>2215.5000000000005?nt=.030063975892297354:e[0]>807.5000000000001?nt=-.03924325550733229:nt=.0415330999189793:nt=-.00024374664461674863;let ft;e[3]>7.500000000000001?ft=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ft=.025798416259686565:ft=.13251610353146012:ft=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?ft=-.11098564237775424:ft=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?ft=.15347826616466054:e[3]>4.500000000000001?ft=.10379320730958941:ft=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?ft=.03159791088468647:ft=-.10612873364104258:ft=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?ft=-.02335760775001469:ft=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?ft=-.011164334474672973:ft=-.06594044410501655:e[207]>1e-35?ft=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?ft=-.01725821503981916:ft=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?ft=-.04226531631656534:ft=-.14409800530171432:ft=-.03245576341206398:e[8]>4214.500000000001?ft=.0895409165534886:e[247]>1e-35?ft=-.06506383629143335:e[118]>1e-35?ft=-.07214270121257443:e[8]>546.5000000000001?ft=-.004385020865473831:ft=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?ft=.046278501133958524:ft=-.030835570926968044:e[0]>493.50000000000006?ft=-.12794504651610425:ft=.009415039807550776;let Rt;e[304]>1e-35?Rt=-.04717777269217453:e[76]>1e-35?Rt=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?Rt=-.09648224457374217:e[132]>1e-35?Rt=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?Rt=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?Rt=.10838431695638147:e[230]>1e-35?Rt=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?Rt=.050071316251979:Rt=-.006356941111525215:e[6]>8.500000000000002?Rt=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?Rt=.10217402850540398:Rt=-.048840949025349197:Rt=-.03668313197909846:e[7]>39.50000000000001?Rt=-.0562642841496003:e[10]>2.5000000000000004?Rt=.09749777369987417:Rt=-.04848223121417616:e[0]>5453.500000000001?Rt=.08316648226133942:Rt=-.0261979698267618:e[212]>1e-35?Rt=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?Rt=.04837009746506856:Rt=-.09184360565631328:Rt=.0032411047845613606:e[0]>4733.500000000001?Rt=.0977378556864798:Rt=.010776545559325588:Rt=-.012483310473120218:Rt=-.049284121449103935:Rt=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?Rt=-.08380361910948711:Rt=.07375088778585813:Rt=-.1084864186071348:Rt=.0007819503469605476;let Bt;e[7]>17.500000000000004?e[115]>1e-35?Bt=.08741852531696623:e[167]>1e-35?Bt=.10078975495600809:Bt=-.0018324767784017562:e[290]>1e-35?Bt=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Bt=.1379733311640402:Bt=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Bt=-.09360083033774169:Bt=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Bt=-.015599362579530679:e[0]>4593.500000000001?Bt=-.12029549262691491:Bt=-.018917032256501397:Bt=.04632831686576592:Bt=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Bt=-.05894883236412263:Bt=.05213944998315824:Bt=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Bt=.07577412405680808:Bt=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Bt=-.0277076900736147:e[1]>65.50000000000001?Bt=-.023587471585763506:Bt=.10184896592433082:Bt=-.057699270527916825:Bt=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Bt=.06566902102799584:e[10]>25.500000000000004?Bt=-.07033633753181047:Bt=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Bt=-.08108035861059537:Bt=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Bt=-.12431182772561139:Bt=.01886235886984271:Bt=.0025579594894418116;let Ht;e[8]>2915.5000000000005?e[101]>1e-35?Ht=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?Ht=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?Ht=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?Ht=.0687641681341721:e[10]>102.50000000000001?Ht=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?Ht=-.06762578396473291:e[10]>65.50000000000001?Ht=-.05226727783610509:e[282]>1e-35?Ht=.09911438410640917:e[19]>1e-35?Ht=.06915156336429933:Ht=-.006565637886508241:Ht=-.08344300251849307:Ht=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?Ht=.19428463865406298:Ht=.016073883020956765:e[13]>1e-35?Ht=.06864077097923665:Ht=-.01388867527034731:e[0]>1847.5000000000002?Ht=.004655280608161356:e[1]>40.50000000000001?Ht=.031406054057765996:Ht=.12798062439212832:Ht=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?Ht=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?Ht=-.0706095614785733:Ht=.04227164041372561:Ht=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?Ht=-.07139533369873902:Ht=.008952586782921625:Ht=.06086212582180936:Ht=-.0816938490403437:Ht=-.051224901945956025:Ht=-.10525399124186095:Ht=.000270924147208224;let Ot;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ot=.029186512383291244:e[7]>1.5000000000000002?Ot=-.14984127276725573:e[1]>40.50000000000001?Ot=.032757060730648144:Ot=-.07675575422749602:e[6]>8.500000000000002?Ot=.10599766037117893:Ot=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ot=-.051394622947855385:Ot=.03237141302699347:Ot=.12526173027943244:Ot=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ot=-.07383912482657777:e[0]>5147.500000000001?Ot=.07008813937042091:e[10]>38.50000000000001?Ot=-.06779203808365307:Ot=-.013782769999524498:Ot=.0880038869117715:Ot=-.12846294176070952:e[281]>1e-35?Ot=-.06810806903850834:e[10]>227.50000000000003?Ot=-.08937977001661111:e[10]>130.50000000000003?Ot=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ot=.011036530162093841:Ot=-.11500797478569702:Ot=.03702229366129399:Ot=.07242026683784307:e[189]>1e-35?Ot=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ot=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ot=-.02608892716555304:Ot=.09609599320761308:e[9]>105.50000000000001?Ot=-.06848127135991534:Ot=.0023675721254089715:e[86]>1e-35?Ot=-.11049635625500497:Ot=-.004847764219432233;let Lt;e[125]>1e-35?e[0]>3969.5000000000005?Lt=-.09462233499115416:Lt=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Lt=-.030700661288166148:Lt=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Lt=.03149547314036763:Lt=-.08166208257451366:e[0]>5850.500000000001?Lt=-.10228136324773157:e[102]>1e-35?Lt=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Lt=.01782894842128785:e[13]>1e-35?Lt=.002680190260979968:Lt=.1773965720476949:e[2]>72.50000000000001?Lt=.09090831938627947:e[1]>59.50000000000001?Lt=-.12297206702816128:e[0]>4977.500000000001?Lt=.09899015653118268:Lt=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Lt=-.0675900954187773:Lt=.012336403425364092:Lt=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Lt=-.02671721777458802:Lt=-.09242452991958029:e[284]>1e-35?Lt=-.08585691288582491:Lt=.013332890564324447:e[4]>14.500000000000002?Lt=-.005245022074799553:e[23]>1e-35?Lt=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Lt=-.09289852307936758:e[116]>1e-35?Lt=-.09686573010015055:e[8]>804.5000000000001?Lt=.03812547148215318:Lt=.005162744968176633:e[9]>43.50000000000001?Lt=-.059246106396159376:Lt=.050370113808135275:Lt=.000794041852811028;let Dt;e[3]>7.500000000000001?Dt=.0004981426543104341:e[9]>114.50000000000001?Dt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Dt=-.019061766497948867:Dt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Dt=-.006044199577160493:Dt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Dt=.11486607015912494:e[9]>16.500000000000004?Dt=-.08686820858087294:Dt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Dt=-.022230207980026437:Dt=.1056683690528792:Dt=-.05859530800943035:Dt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Dt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Dt=-.05177544573528314:Dt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Dt=.15159657923771555:Dt=-.0060542654587671055:e[9]>5.500000000000001?Dt=-.042808028205051786:e[1]>48.50000000000001?Dt=-.010449538258110742:Dt=.10026907521968294:Dt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Dt=-.02272452389409874:Dt=-.11202691218244319:e[5]>1809.5000000000002?Dt=-.04460413584255906:Dt=.08196329474205256:e[10]>69.50000000000001?Dt=.10221481166238167:Dt=.0004063052701699382:e[243]>1e-35?Dt=-.07563941678849846:e[18]>1e-35?Dt=.02563513231103432:Dt=-.004740081147303786;let Xt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Xt=.057446442918106:Xt=-.04404018270156349:Xt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Xt=-.05930486238817954:e[1]>29.500000000000004?Xt=.06955866121256543:e[8]>597.5000000000001?Xt=-.06538593556505168:Xt=.06212512595497445:Xt=.00021102929959182257:e[9]>90.50000000000001?Xt=.0958061289119631:e[102]>1e-35?Xt=.07172059675638813:e[1]>47.50000000000001?Xt=-.03879798603977766:e[297]>1e-35?Xt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Xt=.003805910996312012:Xt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Xt=.11252376801858695:e[288]>1e-35?Xt=-.10293901912180432:Xt=.014669268837893872:e[1]>42.50000000000001?Xt=-.05988274123836837:e[145]>1e-35?Xt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Xt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Xt=-.03366718308159971:Xt=.11936550608549797:e[1]>31.500000000000004?Xt=-.07454716789539667:Xt=.027859650621164217:e[10]>10.500000000000002?Xt=-.11806374092321247:Xt=-.03506042229223101:Xt=-.0007080765837654515:e[10]>6.500000000000001?Xt=-.028077713664996503:e[2]>7.500000000000001?Xt=.15803724124216814:Xt=.0351381284833169:Xt=-.07877953381054767;let $t;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?$t=.14144941521975005:$t=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?$t=.10514088112381886:e[7]>18.500000000000004?$t=-.10370643555956745:$t=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?$t=-.0508129468802936:e[224]>1e-35?$t=-.037816066368733595:e[10]>43.50000000000001?$t=.07793408602607932:$t=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?$t=.036972453794202324:$t=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?$t=.09475302525132188:$t=-.03580104945898193:$t=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?$t=-.1282448778804823:$t=-.014395808269207212:$t=-.008940927190750592:$t=-.1459118815453748:e[0]>4897.500000000001?$t=-.09733068457286576:e[1]>57.50000000000001?$t=.06575271409540207:$t=-.019556422817450115:$t=-.10623959222984136:e[18]>1e-35?$t=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?$t=.008125645893104896:$t=-.11084368630465868:$t=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?$t=-.05854904579626861:e[4]>5.500000000000001?$t=.02985784951394175:$t=-.03247600140149334:$t=-.11152899295304973:$t=-.00035424577714215764;let jt;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?jt=-.06563670567578264:jt=.067656954313663:jt=-.10388217548685377:e[8]>2302.5000000000005?jt=.07190621943790435:e[4]>67.50000000000001?jt=.060020507643618604:e[4]>38.50000000000001?jt=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?jt=-.06568134366461277:e[8]>1075.5000000000002?jt=-.004768057709758692:jt=.11785959165999467:jt=-.05080221682879267:jt=.14814206127494542:jt=-.07241946332311736:e[253]>1e-35?jt=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?jt=-.02471195342450034:jt=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?jt=-.10741850739482771:jt=.010051635824944:jt=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?jt=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?jt=-.08992396138178163:jt=.010944365997007212:jt=.06221307021813793:jt=.1286024087559141:e[127]>1e-35?jt=.06568148624531012:e[10]>40.50000000000001?jt=-.07567979134643352:e[5]>5647.500000000001?jt=.07594672895572069:jt=-.018158016446439187:e[6]>55.50000000000001?jt=.009293422430111872:e[4]>45.50000000000001?jt=-.017749818406964022:e[2]>46.50000000000001?jt=.01714136511113982:jt=-724762291423549e-19;let it;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?it=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?it=.07084726276890757:it=-.11232323677722932:it=.04812773089510436:it=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?it=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?it=.0879462816013881:it=-.002966662093626573:e[306]>1e-35?it=-.04588085188342676:it=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?it=-.006600332774461143:it=.1272481351557754:it=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?it=.011884312066620044:it=.11678751052403374:e[4]>8.500000000000002?it=.03627129613273813:it=-.12132783497902287:it=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?it=-.06830131718398992:e[0]>5147.500000000001?it=.062360406249609306:e[4]>4.500000000000001?it=-.013162203864592055:it=-.07153029184927609:it=.07628618062271557:it=-.12085065687320373:e[190]>1e-35?it=-.045816889524231186:e[137]>1e-35?it=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?it=.025895337822752502:it=-.06503949350616421:e[10]>227.50000000000003?it=-.09989456525790491:e[10]>130.50000000000003?it=.08616651057030683:it=.0001234981796706021;let Ct;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ct=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ct=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ct=-.141732381961068:Ct=-.0317152307496497:Ct=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ct=.12191801556691254:Ct=-.0003444689085397977:Ct=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ct=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ct=-.05676033995381961:Ct=.10933961076803381:e[4]>26.500000000000004?Ct=-.11667582544549814:e[8]>1765.5000000000002?Ct=.032174455312047705:Ct=-.0755016390126608:e[293]>1e-35?Ct=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ct=.026571311956824436:e[15]>1e-35?Ct=.06175459479851121:Ct=-.018778084411148754:e[9]>40.50000000000001?Ct=-.09420232889965811:Ct=-.004578248021263184:e[2]>1.5000000000000002?Ct=.005453714644971445:Ct=-.03907138175699279:Ct=-.055296364182154736:e[23]>1e-35?Ct=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ct=-.09358146510580179:Ct=.060524657996178094:Ct=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ct=-.12698331085931538:Ct=.006059605604079918:e[2]>196.50000000000003?Ct=-.09451315810804783:Ct=.0011390147031687425;let ar;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?ar=.05517359070460923:ar=-.04758751221404857:ar=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?ar=.1040436595565776:e[9]>21.500000000000004?ar=.04032250517675179:e[107]>1e-35?ar=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?ar=.1192453009230486:e[1]>51.50000000000001?ar=.0443376336292195:ar=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?ar=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?ar=-.08999822408398037:ar=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?ar=-.061850439226075:ar=.08849196353361093:ar=.10536348167793089:e[92]>1e-35?ar=.04894947712119185:e[9]>16.500000000000004?ar=.05900227903883853:e[9]>5.500000000000001?ar=-.11946594348916476:ar=-.03652096348071964:e[1]>41.50000000000001?ar=-.07411603110840567:ar=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?ar=.08493634342741495:e[11]>1e-35?ar=-.10899097825564363:ar=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?ar=.08356655906359918:e[7]>25.500000000000004?ar=-.09475076526194888:e[10]>5.500000000000001?ar=-.01999406228763778:ar=.06696212545889428:e[6]>20.500000000000004?ar=.14713592661393468:ar=.0459917279002218:ar=.00027445928493734093;let lr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?lr=-.06904501553217077:lr=.05696231672035904:lr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?lr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?lr=-.011419256378538392:e[0]>3830.5000000000005?lr=.140315841503076:lr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?lr=-.04027822909411164:lr=.03176085103667189:lr=.06779515865838849:e[4]>15.500000000000002?lr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?lr=.06124039747298539:lr=-.04312732764434027:lr=.09161522761808062:lr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?lr=.11211681010488772:e[13]>1e-35?lr=.06725735814960367:lr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?lr=.11743605068905603:lr=-.011309033539148687:lr=-.07896094707523052:lr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?lr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?lr=.02836295848998302:lr=.12210680366745175:lr=-.058302317470509096:e[5]>4144.500000000001?lr=.06123341960495106:lr=-.03840046906926525:lr=-.05221474543453495:lr=.03988215485860711:lr=-.00033074684693083496;let xS=Xue(t+r+n+o+s+a+l+c+f+u+d+p+m+g+h+b+x+y+T+_+I+w+j+V+G+Y+A+P+z+N+E+v+R+S+D+O+M+B+H+ae+ye+he+Ue+Ge+Ve+Ze+F+ne+$+ge+le+q+re+xe+ue+de+Ee+we+ke+je+Ke+tt+rt+lt+L+Z+fe+pe+De+Me+$e+We+Re+W+X+se+me+be+ve+Ae+Ye+ut+Ie+kt+St+nt+ft+Rt+Bt+Ht+Ot+Lt+Dt+Xt+$t+jt+it+Ct+ar+lr);return[1-xS,xS]}i(X$,"multilineModelPredict");function Xue(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}i(Xue,"sigmoid");var Jue={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},J$={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function Z$(e,t,r,n=!0){let o=e.split(`
`);if(n&&(o=o.filter(l=>l.trim().length>0)),Math.abs(t)>o.length||t>=o.length)return!1;t<0&&(t=o.length+t);let s=o[t];return(Jue[r]??[]).some(l=>s.includes(l))}i(Z$,"hasComment");var ob=class{static{i(this,"PromptFeatures")}constructor(t,r){let[n,o]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=o.length,this.lastLineRstripLength=o.trimEnd().length,this.lastLineStripLength=o.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=Z$(t,-2,r),this.rstripSecondToLastLineHasComment=Z$(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,o=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[o,s]}},aC=class{static{i(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new ob(t,n),this.suffixFeatures=new ob(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(J$).length+1).fill(0);r[J$[this.language]??0]=1;let n=new Array(Object.keys(Qa).length+1).fill(0);n[Qa[this.prefixFeatures.lastChar]??0]=1;let o=new Array(Object.keys(Qa).length+1).fill(0);o[Qa[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Qa).length+1).fill(0);s[Qa[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Qa).length+1).fill(0);return a[Qa[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,o,s,a)}};function Zue(e,t){return new aC(e.prefix,e.suffix,t)}i(Zue,"constructMultilineFeatures");function Q$(e,t){let r=Zue(e,t).constructFeatures();return X$(r)[1]}i(Q$,"requestMultilineScore");async function*sb(e,t){for await(let r of e)yield t(r)}i(sb,"asyncIterableMap");async function*ej(e,t){for await(let r of e)await t(r)&&(yield r)}i(ej,"asyncIterableFilter");function tj(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Se(e,"engine.messages",n,1)}i(tj,"logEngineMessages");function nj(e){if(e instanceof Error)return e.stack?e.stack:e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}i(nj,"toString");var No=new _t("streamChoices"),lC=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new fC;this.tool_calls=[];this.function_call=new uC;this.copilot_references=[];this.yielded=!1}static{i(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new cC),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function Que(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}i(Que,"splitChunk");var cC=class{constructor(){this.arguments=[]}static{i(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},uC=class{constructor(){this.arguments=[]}static{i(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},fC=class{constructor(){this.current={}}static{i(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(o=>this.update_namespace(r,o))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],o=n.findIndex(s=>s.id===r.id);o>=0?n[o]=r:n.push(r)}for(t){return this.current[t]??[]}},Xm=class e{constructor(t,r,n,o,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=o;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=Kg(this.response);this.stats=new mC;this.solutions={}}static{i(this,"SSEProcessor")}static create(t,r,n,o,s,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,o,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),No.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),No.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,o,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;No.debug(this.ctx,"chunk",a.toString());let[l,c]=Que(r+a.toString());r=c;for(let f of l){let u=f.slice(5).trim();if(u=="[DONE]"){yield*this.finishSolutions(n,o,s,t);return}n=null;let d;try{d=JSON.parse(u)}catch{No.error(this.ctx,"Error parsing JSON stream data",f);continue}if(d.copilot_confirmation&&efe(d.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:d.copilot_confirmation}),d.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:d.copilot_references}),d.choices===void 0){!d.copilot_references&&!d.copilot_confirmation&&(d.error!==void 0?No.error(this.ctx,"Error in response:",d.error.message):No.error(this.ctx,"Unexpected response with no choices or error: "+u)),d.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:d.copilot_errors});continue}if(o===void 0&&d.model&&(o=d.model),s===void 0&&d.usage&&(s=d.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<d.choices?.length;p++){let m=d.choices[p];No.debug(this.ctx,"choice",m),this.stats.add(m.index),m.index in this.solutions||(this.solutions[m.index]=new lC);let g=this.solutions[m.index];if(g==null)continue;g.append(m);let h=this.asSolutionDecision(),b=m.text?.indexOf(`
`)>-1||m.delta?.content?.indexOf(`
`)>-1;if(m.finish_reason||b){let y=g.text.join("");if(h=this.asSolutionDecision(await t(y,{text:y,index:m.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:i(()=>dC(g),"getAPIJsonData"),finished:!!m.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(m.finish_reason&&g.function_call.name!==void 0){n=m.finish_reason;continue}if(m.finish_reason&&(h.yieldSolution=!0,h.continueStreaming=!1),!h.yieldSolution)continue;let x=m.finish_reason??"client-trimmed";if(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:x,engineName:o??"",engineChoiceSource:bd(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(m.finish_reason)?this.solutions[m.index]=null:g.yielded||(this.stats.markYielded(m.index),yield{solution:g,finishOffset:h.finishOffset,reason:m.finish_reason,requestId:this.requestId,index:m.index,model:o,usage:s},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;h.continueStreaming||(this.solutions[m.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:o??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:o,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&No.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{No.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,o){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await o(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:i(()=>dC(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(No.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function ab(e,t,r){let n=t.solution.text.join(""),o=!1;t.finishOffset!==void 0&&(No.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),o=!0),No.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),No.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}]`);let s=dC(t.solution);return lb(e,n,s,t.index,t.requestId,o,r)}i(ab,"prepareSolutionForReturn");function dC(e){let t=e.text.join(""),r=tfe(e),n=rfe(e),o=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:o,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((u,d)=>u.concat(d),[]),l=e.top_logprobs.reduce((u,d)=>u.concat(d),[]),c=e.text_offset.reduce((u,d)=>u.concat(d),[]),f=e.tokens.reduce((u,d)=>u.concat(d),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:f}}}i(dC,"convertToAPIJsonData");function efe(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}i(efe,"isCopilotConfirmation");function ij(e,t,r){if(!e)return{};try{return JSON.parse(e)}catch(n){throw new Error(`Failed to parse JSON for ${t} '${r}': ${nj(n)}. Input: '${e}'`)}}i(ij,"parseCallArguments");function tfe(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.join("").trim(),o=ij(n,"tool call",r.name);t.push({type:"function",function:{name:r.name,arguments:o},approxNumTokens:r.arguments.length+1})}return t}i(tfe,"extractToolCalls");function rfe(e){if(e.function_call.name){let t=e.function_call.arguments.join("").trim(),r=ij(t,"function call",e.function_call.name);return{name:e.function_call.name,arguments:r}}}i(rfe,"extractFunctionCall");var mC=class{constructor(){this.choices=new Map}static{i(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new pC,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},pC=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{i(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};function nfe(e,t){return e!==null&&typeof e=="object"&&t in e}i(nfe,"hasKey");function V0(e,t){return nfe(e,t)?e[t]:void 0}i(V0,"getKey");var sj=yt(ui());var Xr=new _t("fetchCompletions");function Kg(e){return{headerRequestId:e.headers.get("x-request-id")||"",serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}i(Kg,"getRequestId");function gC(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}i(gC,"getProcessingTime");function aj(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}i(aj,"uiKindToIntent");var vc=class{static{i(this,"OpenAIFetcher")}};function ife(e,t,r,n){return Ff(e,t,"proxy","v1/engines",r,n)}i(ife,"getProxyEngineUrl");function lj(e,t,r,n){for(let[o,s]of Object.entries(e)){if(r.includes(o))continue;let a=s;if(o==="extra"&&n){let l={...a};for(let c of n)delete l[c];a=l}t.properties[`request.option.${o}`]=JSON.stringify(a)??"undefined"}}i(lj,"sanitizeRequestOptionTelemetry");async function oj(e,t,r,n,o,s,a,l,c,f,u){let d=e.get(Mr),p=ife(e,a,r,n),m=c.extendedBy({endpoint:n,engineName:r,uiKind:l},Z4(t));lj(s,m,["prompt","suffix"],["context"]),m.properties.headerRequestId=o,Se(e,"request.sent",m);let g=bn(),h=aj(l);return T8(e,p,a.token,h,o,s,f,u).then(b=>{let x=Kg(b);m.extendWithRequestId(x);let y=bn()-g;return m.measurements.totalTimeMs=y,Xr.info(e,`Request ${o} at <${p}> finished with ${b.status} status after ${y}ms`),m.properties.status=String(b.status),Xr.debug(e,"request.response properties",m.properties),Xr.debug(e,"request.response measurements",m.measurements),Xr.debug(e,"prompt:",t),Se(e,"request.response",m),b}).catch(b=>{if(e0(b))throw Se(e,"request.cancel",m),b;d.setWarning(V0(b,"message")??"");let x=m.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",x),m.properties.message=String(V0(b,"name")??""),m.properties.code=String(V0(b,"code")??""),m.properties.errno=String(V0(b,"errno")??""),m.properties.type=String(V0(b,"type")??"");let y=bn()-g;throw m.measurements.totalTimeMs=y,Xr.info(e,`Request ${o} at <${p}> rejected with ${String(b)} after ${y}ms`),Xr.debug(e,"request.error properties",m.properties),Xr.debug(e,"request.error measurements",m.measurements),Se(e,"request.error",m),b}).finally(()=>{LF(e,t,m)})}i(oj,"fetchWithInstrumentation");async function ofe(e,t,r,n,o,s,a,l,c,f){let u=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});lj(s,u,["messages"]),u.properties.headerRequestId=o,Se(e,"request.sent",u);let d=bn(),p=aj(l),m={...a_(e)};try{let g=await T8(e,n,a.token,p,o,s,f,m),h=Kg(g);u.extendWithRequestId(h);let b=bn()-d;return u.measurements.totalTimeMs=b,Xr.info(e,`Request ${o} at <${n}> finished with ${g.status} status after ${b}ms`),Xr.debug(e,"request.response properties",u.properties),Xr.debug(e,"request.response measurements",u.measurements),Xr.debug(e,"messages:",JSON.stringify(t)),Se(e,"request.response",u),g}catch(g){if(e0(g))throw Se(e,"request.cancel",u),g;let h=u.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",h),u.properties.message=String(V0(g,"name")??""),u.properties.code=String(V0(g,"code")??""),u.properties.errno=String(V0(g,"errno")??""),u.properties.type=String(V0(g,"type")??"");let b=bn()-d;throw u.measurements.totalTimeMs=b,Xr.info(e,`Request ${o} at <${n}> rejected with ${String(g)} after ${b}ms`),Xr.debug(e,"request.error properties",u.properties),Xr.debug(e,"request.error measurements",u.measurements),Se(e,"request.error",u),g}finally{tj(e,t,u)}}i(ofe,"fetchChatWithInstrumentation");function hC(e){return ej(e,t=>t.completionText.trim().length>0)}i(hC,"postProcessChoices");var Xg="github.copilot.completions.quotaExceeded",Yg=class extends vc{static{i(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,o,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Mr),l="completions",c=await t.get(Cr).getToken(),f=await this.fetchWithParameters(t,l,r,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let m=f.body();try{m&&"destroy"in m&&typeof m.destroy=="function"?m.destroy():m instanceof ReadableStream&&m.cancel()}catch(g){Xr.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let m=this.createTelemetryData(l,t,r);return this.handleError(t,a,m,f,c)}let d=Xm.create(t,r.count,f,n,[],s).processSSE(o),p=sb(d,m=>ab(t,m,n));return{type:"success",choices:hC(p),getProcessingTime:i(()=>gC(f),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,o,s,a,l,c={},f){if(this.#e)return{type:"canceled",reason:this.#e};let u="https://copilot-proxy.githubusercontent.com/chat/completions",d={messages:r,model:l.id,stream:!0,...c},p=n.extendedBy({endpoint:u,model:l.name}),m=t.get(Mr),g=await t.get(Cr).getToken(),h=await ofe(t,r,l.id,u,s,d,g,o,p,f);if(f?.isCancellationRequested){let T=h.body();try{T&&"destroy"in T&&typeof T.destroy=="function"?T.destroy():T instanceof ReadableStream&&T.cancel()}catch(_){Xr.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let T=Qe.createAndMarkAsIssued({endpoint:u,engineName:l.name,uiKind:o,headerRequestId:s});return this.handleError(t,m,T,h,g)}let x=Xm.create(t,1,h,p,[],sj.CancellationToken.None).processSSE(),y=sb(x,T=>ab(t,T,n));return{type:"success",choices:hC(y),getProcessingTime:i(()=>gC(h),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,o,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Mr),l="speculation",c=await t.get(Cr).getToken(),f={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:Ii(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},u=await this.fetchSpeculationWithParameters(t,l,f,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=u.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(h){Xr.exception(t,h,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let g=this.createTelemetryData(l,t,f);return this.handleError(t,a,g,u,c)}let p=Xm.create(t,1,u,n,[],s).processSSE(o),m=sb(p,g=>ab(t,g,n));return{type:"success",choices:hC(m),getProcessingTime:i(()=>gC(u),"getProcessingTime")}}createTelemetryData(t,r,n){return Qe.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,o,s,a){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await yc(0),a?.isCancellationRequested?"not-sent":await oj(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,o,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,o,s,a){let l=t.get(qe).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:ub(t),temperature:cb(t,n.count),top_p:uj(t),n:n.count,stop:cj(t,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(c.logprobs=2);let f=e1(n.repoInfo);return f!==void 0&&(c.nwo=f),n.postOptions&&Object.assign(c,n.postOptions),n.prompt.context&&(c.extra.context=n.prompt.context),await yc(0),a?.isCancellationRequested?"not-sent":await oj(t,n.prompt,n.engineModelId,r,n.ourRequestId,c,o,n.uiKind,s,a,n.headers)}async handleError(t,r,n,o,s){let a=await o.text();if(o.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Xg,title:"Learn More"});let c=Kr(t,f=>{this.#e=void 0,(f.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(o.status===466)return r.setError(a),Xr.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(o.clientError&&!o.headers.get("x-github-request-id")){let l=`Last response was a ${o.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Xr.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${o.status} with no x-github-request-id header`}else o.clientError?(Xr.warn(t,`Response status was ${o.status}:`,a),r.setWarning(`Last response was a ${o.status} error: ${a}`),n.properties.error=`Response status was ${o.status}: ${a}`):(r.setWarning(`Last response was a ${o.status} error`),n.properties.error=`Response status was ${o.status}`);return n.properties.status=String(o.status),Se(t,"request.shownWarning",n),o.status===401||o.status===403?(t.get(Cr).resetToken(o.status),{type:"failed",reason:`token expired or invalid: ${o.status}`}):o.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Xr.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):o.status===499?(Xr.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Xr.error(t,"Unhandled status from server:",o.status,a),{type:"failed",reason:`unhandled status from server: ${o.status} ${a}`})}};function lb(e,t,r,n,o,s,a){return OF(e,t,r,o,n),{completionText:t,meanLogProb:sfe(e,r),meanAlternativeLogProb:afe(e,r),choiceIndex:n,requestId:o,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Ii(),finishReason:r.finish_reason}}i(lb,"convertToAPIChoice");function sfe(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,o=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&o>0;s++,o--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){Ft.exception(e,r,"Error calculating mean prob")}}i(sfe,"calculateMeanLogProb");function afe(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,o=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&o>0;s++,o--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Ft.exception(e,r,"Error calculating mean prob")}}i(afe,"calculateMeanAlternativeLogProb");function cb(e,t){return xs(e)||t<=1?0:t<10?.2:t<20?.4:.8}i(cb,"getTemperatureForSamples");var lfe={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function cj(e,t){return lfe[t??""]??[`


`,"\n```"]}i(cj,"getStops");function uj(e){return 1}i(uj,"getTopP");function ub(e){return t1}i(ub,"getMaxSolutionTokens");var xC=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{i(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},fb=class{constructor(t,r,n,o,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=o;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{i(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,o=this.getCompletion(n,t);if(o.isFirstCompletion&&this.initialSingleLine&&o.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:o.firstNewlineOffset};return o.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,o),s}return r.finished?await this.trimAll(r,o):await this.trimOnce(r,o)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new xC(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,o;do n=await this.trim(r),r.isFirstCompletion?(o=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return o!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:o}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new ib(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let o=r.trimAt(n??r.effectiveText.length);if(o.effectiveText.trim()==="")return;let s=lb(this.ctx,o.effectiveText.trimEnd(),t.getAPIJsonData(),o.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,o),s.generatedChoiceIndex=o.trimCount,this.cacheFunction(o.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let o=n.addedToPrefix.length,a=o+t.completionText.length>=r.text.length,l={};for(let[c,f]of Object.entries(t.copilotAnnotations)){let u=f.filter(d=>d.start_offset-o<t.completionText.length&&d.stop_offset-o>0).map(d=>{let p={...d};return p.start_offset-=o,p.stop_offset-=o,a||(p.stop_offset=Math.min(p.stop_offset,t.completionText.length)),p});u.length>0&&(l[c]=u)}return Object.keys(l).length>0?l:void 0}};var el=class{constructor(){this.cache=new Gt(100)}static{i(this,"SpeculativeRequestCache")}set(t,r){this.cache.set(t,r)}async request(t){let r=this.cache.get(t);r!==void 0&&(this.cache.delete(t),await r())}};var db=new _t("getCompletions");function fj(e,t,r){e.get(el).request(r.clientCompletionId),r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=Jm(r.resultType),Se(e,`${t}.shown`,r.telemetry)}i(fj,"telemetryShown");function dj(e,t,r){let n=t+".accepted";Se(e,n,r)}i(dj,"telemetryAccepted");function mj(e,t,r){let n=t+".rejected";Se(e,n,r)}i(mj,"telemetryRejected");function Tc(e,t={}){return{...t,telemetryBlob:e}}i(Tc,"mkCanceledResultTelemetry");function tn(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}i(tn,"mkBasicResultTelemetry");function pj(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=bn()-t.telemetryBlob.issuedTime,n=Jm(t.resultType),o=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:o},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,f])=>`
${f.toFixed(2)}	${c}`).join("")??"";return db.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),_v(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(db.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Se(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}_v(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}i(pj,"handleGhostTextResultTelemetry");function Jm(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}i(Jm,"resultTypeToString");var Ri=class{constructor(t=()=>new bC){this.createStatistics=t;this.statistics=new Gt(25)}static{i(this,"ContextProviderStatistics")}getStatisticsForCompletion(t){let r=this.statistics.get(t);if(r)return r;let n=this.createStatistics();return this.statistics.set(t,n),n}getPreviousStatisticsForCompletion(t){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let o=r[n];if(o!==t)return this.statistics.peek(o)}}},bC=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{i(this,"PerCompletionContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let o=this._lastResolution.get(r)??"none";if(o==="none"||o==="error"){this._statistics.set(r,{usage:"none",resolution:o});continue}let s=[];for(let[f,u]of n){let d={id:f.id,type:f.type};if(f.origin&&(d.origin=f.origin),u==="content_excluded"){s.push({...d,usage:"none_content_excluded"});continue}let p=t.find(m=>m.source===f);p===void 0?s.push({...d,usage:"error"}):s.push({...d,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=s.reduce((f,u)=>u.usage==="full"?f+1:u.usage==="partial"?f+.5:f,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:o,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function gj(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}i(gj,"componentStatisticsToPromptMatcher");var hj=k.Object({importance:k.Optional(k.Integer({minimum:0,maximum:100})),id:k.Optional(k.String()),origin:k.Optional(k.Union([k.Literal("request"),k.Literal("update")]))}),xj=k.Intersect([k.Object({name:k.String(),value:k.String()}),hj]),bj=k.Intersect([k.Object({uri:k.String(),value:k.String(),additionalUris:k.Optional(k.Array(k.String()))}),hj]),cfe=[xj,bj],ufe=k.Union(cfe),ffe=new Map([["Trait",Pl.Compile(xj)],["CodeSnippet",Pl.Compile(bj)]]),dfe=i(e=>e,"ensureTypesAreEqual");dfe(!0);var mfe=k.Object({contextItems:k.Array(ufe)}),pfe=k.Object({selector:k.Array(k.Union([k.String(),k.Object({language:k.Optional(k.String()),scheme:k.Optional(k.String()),pattern:k.Optional(k.String())})]))}),yC=k.Object({id:k.String()}),gfe=k.Intersect([yC,pfe]),hfe=k.Intersect([yC,mfe]),Eut=k.Object({providers:k.Array(gfe)}),Cut=k.Object({providers:k.Array(yC)}),xfe=k.Object({providers:k.Array(hfe),updating:k.Optional(k.Array(k.String()))}),Iut=k.Intersect([WF,k.Object({contextItems:k.Optional(xfe)})]);function pb(e,t){return e.map(r=>{let n=r.data.filter(o=>o.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}i(pb,"filterContextItemsByType");function yj(e){let t=[],r=0;return e.forEach(n=>{let o=!1;for(let[s,a]of ffe.entries())if(a.Check(n)){t.push({...n,type:s}),o=!0;break}o||r++}),[t,r]}i(yj,"filterSupportedContextItems");function bfe(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}i(bfe,"validateContextItemId");function _j(e,t){let r=new Set,n=[];for(let o of t){let s=o.id??Ii();if(!bfe(s)){let a=Ii();Ft.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Ii();Ft.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...o,id:s})}return n}i(_j,"addOrValidateContextItemsIDs");var yfe="content_excluded";async function vj(e,t,r,n){let o=pb(r,"CodeSnippet");if(o.length===0)return[];let s=new Set,a=o.flatMap(u=>u.data.map(d=>(s.add(d.uri),d.additionalUris?.forEach(p=>s.add(p)),{providerId:u.providerId,data:d}))),l=e.get(Et),c=new Map;await Promise.all(Array.from(s).map(async u=>{c.set(u,await l.getTextDocumentValidation({uri:u}))}));let f=e.get(Ri).getStatisticsForCompletion(t);return a.filter(u=>{let p=[u.data.uri,...u.data.additionalUris??[]].every(m=>c.get(m)?.status==="valid");return p?f.addExpectations(u.providerId,[[u.data,"included"]]):f.addExpectations(u.providerId,[[u.data,yfe]]),p}).map(u=>u.data)}i(vj,"getCodeSnippetsFromContextItems");function Tj(e,t){let r=e.get(Et);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}i(Tj,"addRelativePathToCodeSnippets");function rn(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}i(rn,"Text");function Ec(e){return e.children}i(Ec,"Chunk");function ze(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let o={...t,children:n};return r&&(o.key=r),{type:e,props:o}}i(ze,"functionComponentFunction");function Vs(e){return{type:"f",children:e}}i(Vs,"fragmentFunction");Vs.isFragmentFunction=!0;var gb=i((e,t)=>{let[r,n]=t.useState(),[o,s]=t.useState();if(t.useData(to,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==o?.uri&&s(f.document)}),!r||r.length===0||!o)return;let a=Tj(e.ctx,r),l=new Map;for(let f of a){let u=f.relativePath??f.snippet.uri,d=l.get(u);d===void 0&&(d=[],l.set(u,d)),d.push(f)}let c=[];for(let[f,u]of l.entries()){let d=u.filter(p=>p.snippet.value.length>0);d.length>0&&c.push({chunkElements:d.map(p=>p.snippet),importance:Math.max(...d.map(p=>p.snippet.importance??0)),uri:f})}if(c.length!==0)return c.sort((f,u)=>u.importance-f.importance),c.reverse(),c.map(f=>{let u=[];return u.push(ze(rn,{children:`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`})),f.chunkElements.forEach((d,p)=>{u.push(ze(rn,{source:d,children:d.value},d.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&u.push(ze(rn,{children:"---"}))}),ze(Ec,{children:u})})},"CodeSnippets");function _C(e){return e.children}i(_C,"CompletionsContext");function vC(e){return e.children}i(vC,"StableCompletionsContext");function TC(e){return e.children}i(TC,"AdditionalCompletionsContext");function hb(e){return e.name===_C.name||e.name===vC.name||e.name===TC.name}i(hb,"isContextNode");function xb(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let o=0;o<e.length;o++)r[o][n]=Math.min((o==0?n:r[o-1][n])+1,(n==0?o:r[o][n-1])+1,(o==0||n==0?Math.max(o,n):r[o-1][n-1])+(e[o]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}i(xb,"findEditDistanceScore");var Jg=50;function EC(e){let t=e*4,r=e*.1;return Math.floor(t+r)}i(EC,"approximateMaxCharacters");function Zg(e,t){let[r,n]=t.useState(),[o,s]=t.useState(),[a,l]=t.useState(0),[c,f]=t.useState(),[u,d]=t.useState();t.useData(to,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==o&&s(m.position),m.suffixMatchThreshold!==c&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==u&&d(m.tokenizer)});let p=EC(a);return ze(Vs,{children:[ze(pf,{document:r,position:o,maxCharacters:p}),ze(bb,{document:r,position:o,suffixMatchThreshold:c,maxCharacters:p,tokenizer:u})]})}i(Zg,"CurrentFile");function pf(e){if(e.document===void 0||e.position===void 0)return ze(rn,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),ze(rn,{children:t})}i(pf,"BeforeCursor");function bb(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return ze(rn,{});let o=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});o.length>e.maxCharacters&&(o=o.slice(0,e.maxCharacters));let s=o.replace(/^.*/,"").trimStart();if(s==="")return ze(rn,{});if(r===s)return ze(rn,{children:r});let a=s;if(r!==""){let l=Rs(e.tokenizer),c=l.takeFirstTokens(s,Jg);c.tokens.length>0&&100*xb(c.tokens,l.takeFirstTokens(r,Jg).tokens)?.score<(e.suffixMatchThreshold??_d)*c.tokens.length&&(a=r)}return a!==r&&n(a),ze(rn,{children:a})}i(bb,"AfterCursor");function Ej(e,t){let[r,n]=t.useState(),[o,s]=t.useState(),[a,l]=t.useState(0);t.useData(to,f=>{let u=f.document;(f.document.uri!==r?.uri||u.getText()!==r?.getText())&&n(u),f.position!==o&&s(f.position),f.maxPromptTokens!==a&&l(f.maxPromptTokens)});let c=EC(a);return ze(pf,{document:r,position:o,maxCharacters:c})}i(Ej,"DocumentPrefix");function Cj(e,t){let[r,n]=t.useState(),[o,s]=t.useState(),[a,l]=t.useState(0),[c,f]=t.useState(),[u,d]=t.useState();t.useData(to,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==o&&s(m.position),m.suffixMatchThreshold!==c&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==u&&d(m.tokenizer)});let p=EC(a);return ze(bb,{document:r,position:o,suffixMatchThreshold:c,maxCharacters:p,tokenizer:u})}i(Cj,"DocumentSuffix");var yb=class{static{i(this,"WishlistElision")}elide(t,r,n,o,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,l]=this.preparePrefixBlocks(t,s),{elidedSuffix:c,adjustedPrefixTokenLimit:f}=this.elideSuffix(n,o,r,l,s),u=this.elidePrefix(a,f,l,s);return{blocks:[c,...u],cycles:1}}preparePrefixBlocks(t,r){let n=0,o=new Set;return[t.map((a,l)=>{let c=0,u=a.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let m=r.tokenLength(p);return c+=m,n+=m,{line:p,componentPath:a.componentPath,tokens:m}}),d=a.componentPath;if(o.has(d))throw new Error(`Duplicate component path in prefix blocks: ${d}`);return o.add(d),{...a,tokens:c,markedForRemoval:!1,originalIndex:l,lines:u}}),n]}elideSuffix(t,r,n,o,s){let a=t.value;if(a.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};o<n&&(r=r+(n-o),n=o);let l=s.takeFirstTokens(a,r);return{elidedSuffix:{...t,value:a,tokens:s.tokenLength(a),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(t,r,n,o){let s=this.removeLowWeightPrefixBlocks(t,r,n),a=s.filter(u=>!u.markedForRemoval).flatMap(u=>u.lines);if(a.length===0)return[];let[l,c]=this.trimPrefixLinesToFit(a,r,o),f=c;return s.map(u=>{if(u.markedForRemoval)return f+u.tokens<=r&&!u.chunks?(f+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let d=l.filter(m=>m.componentPath===u.componentPath&&m.line!=="").map(m=>m.line).join(""),p=u.tokens;return d!==u.value&&(p=d!==""?o.tokenLength(d):0),{...u,elidedValue:d,elidedTokens:p}})}removeLowWeightPrefixBlocks(t,r,n){let o=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(o<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of t)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(l=>a.chunks?.has(l))&&(a.markedForRemoval=!0,o-=a.tokens);else s.markedForRemoval=!0,o-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(t,r,n){let o=0,s=[];for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.tokens;if(o+c<=r)s.unshift(l),o+=c;else break}if(s.length===0){let a=t[t.length-1];if(a&&a.line.length>0){let c=n.takeLastTokens(a.line,r);return s.push({line:c.text,componentPath:a.componentPath,tokens:c.tokens.length}),[s,c.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[s,o]}};function Ij(e){return e.map(t=>t.elidedValue).join("")}i(Ij,"makePrompt");function Sj(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}i(Sj,"makePrefixPrompt");function wj(e){if(e.length===0)return[];let t=new Map;for(let o of e)if(o.type==="context"&&o.index!==void 0){t.has(o.index)||t.set(o.index,[]);let s=o.elidedValue.trim();s.length>0&&t.get(o.index).push(s)}let r=Math.max(...Array.from(t.keys()),-1),n=[];for(let o=0;o<=r;o++){let s=t.get(o);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}i(wj,"makeContextPrompt");var Zm=class{constructor(t,r=CC()){this.snapshot=t;this.transformers=r}static{i(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,o){let s=this.transformers.reduce((l,c)=>c(t,r,l),{...o});if(n(t,r,s))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,s)}};function CC(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,o=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:o*r.weight}},(e,t,r)=>{if(e.name===Ec.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(e.path),{...r,chunks:n}}return r},(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r]}i(CC,"defaultTransformers");var IC={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Pj={};for(let[e,t]of Object.entries(IC))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)Pj[r]=e;else Pj[e]=e;var _fe={start:"//",end:""},vfe=["php","plaintext"],SC={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Rj(e){return Object.values(SC).includes(e.trim())}i(Rj,"isShebangLine");function Tfe({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}i(Tfe,"hasLanguageMarker");function Efe(e,t){let r=IC[t]?IC[t].lineComment:_fe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}i(Efe,"comment");function K0(e,t){if(e==="")return"";let r=e.endsWith(`
`),o=(r?e.slice(0,-1):e).split(`
`).map(s=>Efe(s,t)).join(`
`);return r?o+`
`:o}i(K0,"commentBlockAsSingles");function _b(e){let{languageId:t}=e;return vfe.indexOf(t)===-1&&!Tfe(e)?t in SC?SC[t]:`Language: ${t}`:""}i(_b,"getLanguageMarker");function vb(e){return e.relativePath?`Path: ${e.relativePath}`:""}i(vb,"getPathMarker");function Qg(e){return e===""||e.endsWith(`
`)?e:e+`
`}i(Qg,"newLineEnded");var Cfe=5,Qm=class{constructor(){this.renderId=0;this.formatPrefix=Ij}static{i(this,"CompletionsPromptRenderer")}render(t,r,n){let o=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:c,suffixBlock:f,componentStatistics:u}=this.processSnapshot(t,a,r.languageId),{prefixTokenLimit:d,suffixTokenLimit:p}=this.getPromptLimits(f,r),m=performance.now(),g=new yb,{blocks:[h,...b]}=g.elide(c,d,f,p,Rs(l)),x=performance.now(),y=this.formatPrefix(b),T=this.formatContext?this.formatContext(b):void 0,_=h.elidedValue,I=b.reduce((w,j)=>w+j.elidedTokens,0);return u.push(...Ife([...b,h])),{prefix:y,prefixTokens:I,suffix:_,suffixTokens:h.elidedTokens,context:T,status:"ok",metadata:{renderId:o,rendererName:"c",tokenizer:l,elisionTimeMs:x-m,renderTimeMs:performance.now()-s,componentStatistics:u,updateDataTimeMs:u.reduce((w,j)=>w+(j.updateDataTimeMs??0),0)}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",o=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:o,suffixTokenLimit:0};o=n.length>0?o-Cfe:o;let a=Math.ceil(o*(s/100));return{prefixTokenLimit:o-a,suffixTokenLimit:a}}processSnapshot(t,r,n){let o=[],s=[],a=[],l=!1;if(new Zm(t,wC).walkSnapshot((u,d,p)=>{if(u===t||(u.name===Zg.name&&(l=!0),u.statistics.updateDataTimeMs&&u.statistics.updateDataTimeMs>0&&a.push({componentPath:u.path,updateDataTimeMs:u.statistics.updateDataTimeMs}),u.value===void 0||u.value===""))return!0;let m=p.chunks;if(p.type==="suffix")s.push({value:eh(u.value),type:"suffix",weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source});else{let g=u.value.endsWith(r)?u.value:u.value+r,h=g;p.type==="prefix"?h=u.value:Rj(u.value)?h=g:h=K0(g,n),o.push({type:p.type==="prefix"?"prefix":"context",value:eh(h),weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source})}return!0}),!l)throw new Error(`Node of type ${Zg.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:f,componentStatistics:a}}},wC=[...CC(),(e,t,r)=>hb(e)?{...r,type:"context"}:r,(e,t,r)=>e.name===pf.name?{...r,type:"prefix"}:r,(e,t,r)=>e.name===bb.name?{...r,type:"suffix"}:r];function Ife(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}i(Ife,"computeComponentStatistics");function eh(e){return e.replace(/\r\n?/g,`
`)}i(eh,"normalizeLineEndings");var Tb=i((e,t)=>{let[r,n]=t.useState();if(t.useData(to,o=>{o.document.uri!==r?.uri&&n(o.document)}),r){let o=e.ctx.get(Et),s=o.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=o.findNotebook(r);return a.relativePath&&!l?ze(Sfe,{docInfo:a}):ze(wfe,{docInfo:a})}},"DocumentMarker"),Sfe=i(e=>ze(rn,{children:vb(e.docInfo)}),"PathMarker"),wfe=i(e=>ze(rn,{children:_b(e.docInfo)}),"LanguageMarker");function th(e){if(!e()){debugger;e(),qm(new Dn("Assertion Failed"))}}i(th,"assertFn");var Cc=i((e,t)=>e===t,"strictEquals");var Dj=class e{static{i(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};var Pfe=globalThis.performance&&typeof globalThis.performance.now=="function",Eb=class e{static{i(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Pfe&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Aj=!1,Rfe=!1,nh;(N=>{N.None=i(()=>Do.None,"None");function t(E){if(Rfe){let{onDidAddListener:v}=E,R=rh.create(),S=0;E.onDidAddListener=()=>{++S===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),R.print()),v?.()}}}i(t,"_addLeakageTraceLogic");function r(E,v){return m(E,()=>{},0,void 0,!0,void 0,v)}N.defer=r,i(r,"defer");function n(E){return(v,R=null,S)=>{let D=!1,O;return O=E(M=>{if(!D)return O?O.dispose():D=!0,v.call(R,M)},null,S),D&&O.dispose(),O}}N.once=n,i(n,"once");function o(E,v){return N.once(N.filter(E,v))}N.onceIf=o,i(o,"onceIf");function s(E,v,R){return d((S,D=null,O)=>E(M=>S.call(D,v(M)),null,O),R)}N.map=s,i(s,"map");function a(E,v,R){return d((S,D=null,O)=>E(M=>{v(M),S.call(D,M)},null,O),R)}N.forEach=a,i(a,"forEach");function l(E,v,R){return d((S,D=null,O)=>E(M=>v(M)&&S.call(D,M),null,O),R)}N.filter=l,i(l,"filter");function c(E){return E}N.signal=c,i(c,"signal");function f(...E){return(v,R=null,S)=>{let D=f$(...E.map(O=>O(M=>v.call(R,M))));return p(D,S)}}N.any=f,i(f,"any");function u(E,v,R,S){let D=R;return s(E,O=>(D=v(D,O),D),S)}N.reduce=u,i(u,"reduce");function d(E,v){let R,S={onWillAddFirstListener(){R=E(D.fire,D)},onDidRemoveLastListener(){R?.dispose()}};v||t(S);let D=new Ks(S);return v?.add(D),D.event}i(d,"snapshot");function p(E,v){return v instanceof Array?v.push(E):v&&v.add(E),E}i(p,"addAndReturnDisposable");function m(E,v,R=100,S=!1,D=!1,O,M){let B,H,ae,ye=0,he,Ue={leakWarningThreshold:O,onWillAddFirstListener(){B=E(Ve=>{ye++,H=v(H,Ve),S&&!ae&&(Ge.fire(H),H=void 0),he=i(()=>{let Ze=H;H=void 0,ae=void 0,(!S||ye>1)&&Ge.fire(Ze),ye=0},"doFire"),typeof R=="number"?(clearTimeout(ae),ae=setTimeout(he,R)):ae===void 0&&(ae=0,queueMicrotask(he))})},onWillRemoveListener(){D&&ye>0&&he?.()},onDidRemoveLastListener(){he=void 0,B.dispose()}};M||t(Ue);let Ge=new Ks(Ue);return M?.add(Ge),Ge.event}N.debounce=m,i(m,"debounce");function g(E,v=0,R){return N.debounce(E,(S,D)=>S?(S.push(D),S):[D],v,void 0,!0,void 0,R)}N.accumulate=g,i(g,"accumulate");function h(E,v=(S,D)=>S===D,R){let S=!0,D;return l(E,O=>{let M=S||!v(O,D);return S=!1,D=O,M},R)}N.latch=h,i(h,"latch");function b(E,v,R){return[N.filter(E,v,R),N.filter(E,S=>!v(S),R)]}N.split=b,i(b,"split");function x(E,v=!1,R=[],S){let D=R.slice(),O=E(H=>{D?D.push(H):B.fire(H)});S&&S.add(O);let M=i(()=>{D?.forEach(H=>B.fire(H)),D=null},"flush"),B=new Ks({onWillAddFirstListener(){O||(O=E(H=>B.fire(H)),S&&S.add(O))},onDidAddFirstListener(){D&&(v?setTimeout(M):M())},onDidRemoveLastListener(){O&&O.dispose(),O=null}});return S&&S.add(B),B.event}N.buffer=x,i(x,"buffer");function y(E,v){return i((S,D,O)=>{let M=v(new _);return E(function(B){let H=M.evaluate(B);H!==T&&S.call(D,H)},void 0,O)},"fn")}N.chain=y,i(y,"chain");let T=Symbol("HaltChainable");class _{constructor(){this.steps=[]}static{i(this,"ChainableSynthesis")}map(v){return this.steps.push(v),this}forEach(v){return this.steps.push(R=>(v(R),R)),this}filter(v){return this.steps.push(R=>v(R)?R:T),this}reduce(v,R){let S=R;return this.steps.push(D=>(S=v(S,D),S)),this}latch(v=(R,S)=>R===S){let R=!0,S;return this.steps.push(D=>{let O=R||!v(D,S);return R=!1,S=D,O?D:T}),this}evaluate(v){for(let R of this.steps)if(v=R(v),v===T)break;return v}}function I(E,v,R=S=>S){let S=i((...B)=>M.fire(R(...B)),"fn"),D=i(()=>E.on(v,S),"onFirstListenerAdd"),O=i(()=>E.removeListener(v,S),"onLastListenerRemove"),M=new Ks({onWillAddFirstListener:D,onDidRemoveLastListener:O});return M.event}N.fromNodeEventEmitter=I,i(I,"fromNodeEventEmitter");function w(E,v,R=S=>S){let S=i((...B)=>M.fire(R(...B)),"fn"),D=i(()=>E.addEventListener(v,S),"onFirstListenerAdd"),O=i(()=>E.removeEventListener(v,S),"onLastListenerRemove"),M=new Ks({onWillAddFirstListener:D,onDidRemoveLastListener:O});return M.event}N.fromDOMEventEmitter=w,i(w,"fromDOMEventEmitter");function j(E,v){return new Promise(R=>n(E)(R,null,v))}N.toPromise=j,i(j,"toPromise");function V(E){let v=new Ks;return E.then(R=>{v.fire(R)},()=>{v.fire(void 0)}).finally(()=>{v.dispose()}),v.event}N.fromPromise=V,i(V,"fromPromise");function G(E,v){return E(R=>v.fire(R))}N.forward=G,i(G,"forward");function Y(E,v,R){return v(R),E(S=>v(S))}N.runAndSubscribe=Y,i(Y,"runAndSubscribe");class A{constructor(v,R){this._observable=v;this._counter=0;this._hasChanged=!1;let S={onWillAddFirstListener:i(()=>{v.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:i(()=>{v.removeObserver(this)},"onDidRemoveLastListener")};R||t(S),this.emitter=new Ks(S),R&&R.add(this.emitter)}static{i(this,"EmitterObserver")}beginUpdate(v){this._counter++}handlePossibleChange(v){}handleChange(v,R){this._hasChanged=!0}endUpdate(v){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function P(E,v){return new A(E,v).emitter.event}N.fromObservable=P,i(P,"fromObservable");function z(E){return(v,R,S)=>{let D=0,O=!1,M={beginUpdate(){D++},endUpdate(){D--,D===0&&(E.reportChanges(),O&&(O=!1,v.call(R)))},handlePossibleChange(){},handleChange(){O=!0}};E.addObserver(M),E.reportChanges();let B={dispose(){E.removeObserver(M)}};return S instanceof W0?S.add(B):Array.isArray(S)&&S.push(B),B}}N.fromObservableLight=z,i(z,"fromObservableLight")})(nh||={});var PC=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{i(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new Eb,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},Nj=-1;var RC=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{i(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new DC(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,o]of this._stacks)(!t||r<o)&&(t=[n,o],r=o);return t}},rh=class e{constructor(t){this.value=t}static{i(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},DC=class extends Error{static{i(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},AC=class extends Error{static{i(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},Dfe=0,ep=class{constructor(t){this.value=t;this.id=Dfe++}static{i(this,"UniqueContainer")}},Afe=2,Nfe=i((e,t)=>{if(e instanceof ep)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),Ks=class{constructor(t){this._size=0;this._options=t,this._leakageMon=Nj>0||this._options?.leakWarningThreshold?new RC(t?.onListenerError??qm,this._options?.leakWarningThreshold??Nj):void 0,this._perfMon=this._options?._profName?new PC(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{i(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Aj){let t=this._listeners;queueMicrotask(()=>{Nfe(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new AC(`${c}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(this._options?.onListenerError||qm)(u),Do.None}if(this._disposed)return Do.None;r&&(t=t.bind(r));let o=new ep(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=rh.create(),s=this._leakageMon.check(o.stack,this._size+1)),Aj&&(o.stack=a??rh.create()),this._listeners?this._listeners instanceof ep?(this._deliveryQueue??=new NC,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Ja(()=>{s?.(),this._removeListener(o)});return n instanceof W0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let o=this._deliveryQueue.current===this;if(this._size*Afe<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:o&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||qm;if(!n){t.value(r);return}try{t.value(r)}catch(o){n(o)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof ep)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var NC=class{constructor(){this.i=-1;this.end=0}static{i(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Ys=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{i(this,"DebugNameData")}getDebugName(t){return Fj(t,this)}},kj=new Map,kC=new WeakMap;function Fj(e,t){let r=kC.get(e);if(r)return r;let n=kfe(e,t);if(n){let o=kj.get(n)??0;o++,kj.set(n,o);let s=o===1?n:`${n}#${o}`;return kC.set(e,s),s}}i(Fj,"getDebugName");function kfe(e,t){let r=kC.get(e);if(r)return r;let n=t.owner?Lfe(t.owner)+".":"",o,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(o=s(),o!==void 0)return n+o}else return n+s;let a=t.referenceFn;if(a!==void 0&&(o=Cb(a),o!==void 0))return n+o;if(t.owner!==void 0){let l=Ofe(t.owner,e);if(l!==void 0)return n+l}}i(kfe,"computeDebugName");function Ofe(e,t){for(let r in e)if(e[r]===t)return r}i(Ofe,"findKey");var Oj=new Map,Lj=new WeakMap;function Lfe(e){let t=Lj.get(e);if(t)return t;let r=Ffe(e),n=Oj.get(r)??0;n++,Oj.set(r,n);let o=n===1?r:`${r}#${n}`;return Lj.set(e,o),o}i(Lfe,"formatOwner");function Ffe(e){let t=e.constructor;return t?t.name:"Object"}i(Ffe,"getClassName");function Cb(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}i(Cb,"getFunctionName");var gf;function Sb(e){gf?gf instanceof Ib?gf.loggers.push(e):gf=new Ib([gf,e]):gf=e}i(Sb,"addLogger");function nn(){return gf}i(nn,"getLogger");var OC;function Mj(e){OC=e}i(Mj,"setLogObservableFn");function Uj(e){OC&&OC(e)}i(Uj,"logObservable");var Ib=class{constructor(t){this.loggers=t}static{i(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let o of this.loggers)o.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let o of this.loggers)o.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var Bj;function $j(e){Bj=e}i($j,"_setRecomputeInitiallyAndOnChange");var jj;function qj(e){jj=e}i(qj,"_setKeepObserved");var LC;function Wj(e){LC=e}i(Wj,"_setDerivedOpts");var wb=class{static{i(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,o=r===void 0?t:r;return LC({owner:n,debugName:i(()=>{let s=Cb(o);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:o},s=>o(this.read(s),s))}flatten(){return LC({owner:void 0,debugName:i(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(Bj(this,r)),this}keepObserved(t){return t.add(jj(this)),this}get debugValue(){return this.get()}},hf=class extends wb{constructor(){super();this.observers=new Set;nn()?.handleObservableCreated(this)}static{i(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&nn()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&nn()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!nn();return Uj(this),r||nn()?.handleObservableCreated(this),this}};function Pb(e,t){let r=new ih(e,t);try{e(r)}finally{r.finish()}}i(Pb,"transaction");function FC(e,t,r){e?t(e):Pb(t,r)}i(FC,"subtransaction");var ih=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];nn()?.handleBeginTransaction(this)}static{i(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():Cb(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:o}=t[r];n.endUpdate(o)}this.updatingObservers=null,nn()?.handleEndTransaction(this)}};function oh(e){return new Rb(new Ys(void 0,void 0,e),e,void 0,void 0)}i(oh,"autorun");var Rb=class{constructor(t,r,n,o){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=o;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),nn()?.handleAutorunCreated(this),this._runIfNeeded(),zm(this)}static{i(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),nn()?.handleAutorunDisposed(this),Hm(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){nn()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){af(n)}finally{this._isRunning=!1}}}finally{this.disposed||nn()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}th(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){nn()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:i(o=>o===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){af(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new Dn("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=Rb)(oh||={});function MC(e,t){return new xf(new Ys(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??Cc)}i(MC,"derivedOpts");Wj(MC);var xf=class extends hf{constructor(r,n,o,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=o;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{i(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,nn()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,o=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(o,this.value),nn()?.handleObservableUpdated(this,{oldValue:o,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){af(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Dn("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let o of this.observers)o.handlePossibleChange(this);if(n)for(let o of this.observers)o.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let o of n)o.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let o=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of o)s.endUpdate(this)}}th(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){nn()?.handleDerivedDependencyChanged(this,r,n);let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:i(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){af(a)}let s=this.state===3;if(o&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Dn("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};function BC(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new Ic(new Ys(t,void 0,n),r,n,()=>Ic.globalTransaction,Cc)}i(BC,"observableFromEvent");var Ic=class extends hf{constructor(r,n,o,s,a){super();this._debugNameData=r;this.event=n;this._getValue=o;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=i(r=>{let n=this._getValue(r),o=this.value,s=!this.hasValue||!this._equalityComparator(o,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,FC(this._getTransaction(),l=>{nn()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||nn()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{i(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=Ic;function t(n,o){let s=!1;Ic.globalTransaction===void 0&&(Ic.globalTransaction=n,s=!0);try{o()}finally{s&&(Ic.globalTransaction=void 0)}}r.batchEventsGlobally=t,i(t,"batchEventsGlobally")})(BC||={});function Hj(e){let t=new Db(!1,void 0);return e.addObserver(t),Ja(()=>{e.removeObserver(t)})}i(Hj,"keepObserved");qj(Hj);function Gj(e,t){let r=new Db(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),Ja(()=>{e.removeObserver(r)})}i(Gj,"recomputeInitiallyAndOnChange");$j(Gj);var Db=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{i(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};var Vj=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Kj;(n=>{function e(o){return o===n.None||o===n.Cancelled||o instanceof $C?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}n.isCancellationToken=e,i(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:nh.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Vj})})(Kj||={});var $C=class{constructor(){this._isCancelled=!1;this._emitter=null}static{i(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Vj:(this._emitter||(this._emitter=new Ks),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var Ab;function Xj(e){Ab||(Ab=new ah,Sb(Ab)),Ab.addFilteredObj(e)}i(Xj,"logObservableToConsole");var ah=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{i(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Bfe([tp(qfe("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[tp(" "),cs(sh(t.oldValue,70),{color:"red",strikeThrough:!0}),tp(" "),cs(sh(t.newValue,60),{color:"green"})]:[tp(" (unchanged)")]:[tp(" "),cs(sh(t.newValue,60),{color:"green"}),tp(" (initial)")]}handleObservableCreated(t){if(t instanceof xf){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let o=[];r.__debugUpdating=o;let s=r.beginUpdate;r.beginUpdate=l=>(o.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=o.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),o.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof xf){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([rp("observable value changed"),cs(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return cs(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([rp("derived recomputed"),cs(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([rp("derived cleared"),cs(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([rp("observable from event triggered"),cs(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([rp("autorun"),cs(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([rp("transaction"),cs(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Bfe(e){let t=new Array,r=[],n="";function o(a){if("length"in a)for(let l of a)l&&o(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}i(o,"process"),o(e);let s=[n,...t];return s.push(...r),s}i(Bfe,"consoleTextToArgs");function tp(e){return cs(e,{color:"black"})}i(tp,"normalText");function rp(e){return cs(Wfe(`${e}: `,10),{color:"black",bold:!0})}i(rp,"formatKind");function cs(e,t={color:"black"}){function r(o){return Object.entries(o).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}i(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}i(cs,"styled");function sh(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?$fe(e,t):jfe(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}i(sh,"formatValue");function $fe(e,t){let r="[ ",n=!0;for(let o of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${sh(o,t-r.length)}`}return r+=" ]",r}i($fe,"formatArray");function jfe(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let o=e.toString();return o.length<=t?o:o.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[o,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${o}: ${sh(s,t-r.length)}`}return r+=" }",r}i(jfe,"formatObject");function qfe(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}i(qfe,"repeat");function Wfe(e,t){for(;e.length<t;)e+=" ";return e}i(Wfe,"padStr");Mj(Xj);var Gfe=!1;Gfe&&Sb(new ah);var Jj;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,i(t,"create")})(Jj||={});function Vfe(e){return e}i(Vfe,"identity");var Nb=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=Vfe):(this._fn=r,this._computeKey=t.getCacheKey)}static{i(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}};var lh=class{constructor(t){this.executor=t;this._didRun=!1}static{i(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};var d1t=String.fromCharCode(65279);var Zj=class e{static{i(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Kfe()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,o=1;for(;o<=n;)if(t<r[3*o])o=2*o;else if(t>r[3*o+1])o=2*o+1;else return r[3*o+2];return 0}};function Kfe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}i(Kfe,"getGraphemeBreakRawData");var Qj=class e{constructor(t){this.confusableDictionary=t}static{i(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new lh(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new Nb({getCacheKey:JSON.stringify},t=>{function r(u){let d=new Map;for(let p=0;p<u.length;p+=2)d.set(u[p],u[p+1]);return d}i(r,"arrayToMap");function n(u,d){let p=new Map(u);for(let[m,g]of d)p.set(m,g);return p}i(n,"mergeMaps");function o(u,d){if(!u)return d;let p=new Map;for(let[m,g]of u)d.has(m)&&p.set(m,g);return p}i(o,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(u=>!u.startsWith("_")&&u in s);a.length===0&&(a=["_default"]);let l;for(let u of a){let d=r(s[u]);l=o(l,d)}let c=r(s._common),f=n(c,l);return new e(f)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new lh(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},eq=class e{static{i(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};var ch=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new Dn(`Invalid range: ${this.toString()}`)}static{i(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let o=n;for(;o<r.length&&r[o].start<=t.endExclusive;)o++;if(n===o)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[o-1].endExclusive);r.splice(n,o-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new Dn(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new Dn(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}joinRightTouching(t){if(this.endExclusive!==t.start)throw new Dn(`Invalid join: ${this.toString()} and ${t.toString()}`);return new e(this.start,t.endExclusive)}};var tl=class e{static{i(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,o=r.lineNumber|0;if(n===o){let s=t.column|0,a=r.column|0;return s-a}return n-o}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var Xs=class e{static{i(this,"Range")}constructor(t,r,n,o){t>n||t===n&&r>o?(this.startLineNumber=n,this.startColumn=o,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=o)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,o,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,o=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,o=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,o=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,o,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,f=r.endLineNumber,u=r.endColumn;return n<l?(n=l,o=c):n===l&&(o=Math.max(o,c)),s>f?(s=f,a=u):s===f&&(a=Math.min(a,u)),n>s||n===s&&o>a?null:new e(n,o,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new tl(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new tl(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let f=t.endLineNumber|0,u=r.endLineNumber|0;if(f===u){let d=t.endColumn|0,p=r.endColumn|0;return d-p}return f-u}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};var bf=class e{static{i(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new kb(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new kb(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new Dn("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let o=1;o<t.length;o++)r=Math.min(r,t[o].startLineNumber),n=Math.max(n,t[o].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new Dn(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Xs(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Xs(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new ch(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},kb=class e{constructor(t=[]){this._normalizedRanges=t}static{i(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=U3(this._normalizedRanges,o=>o.endLineNumberExclusive>=t.startLineNumber),n=$m(this._normalizedRanges,o=>o.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let o=this._normalizedRanges[r];this._normalizedRanges[r]=o.join(t)}else{let o=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,o)}}contains(t){let r=ME(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=ME(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,o=0,s=null;for(;n<this._normalizedRanges.length||o<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&o<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[o];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,o++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[o],o++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new bf(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=U3(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=$m(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let o=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&o.push(new bf(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&o.push(new bf(s,t.endLineNumberExclusive)),new e(o)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,o=0;for(;n<this._normalizedRanges.length&&o<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[o],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:o++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var jC=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{i(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let o of t)o===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new Xs(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new Xs(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new Xs(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return bf.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new tl(t.lineNumber,t.column+this.columnCount):new tl(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return Xs.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var Sc=class extends Do{static{i(this,"RecentEditsProvider")}};function Yfe(e,t=!1,r=void 0,n){if(t&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let o=e.startLine-1,s=e.endLine-1;return!!(t&&(Math.abs(o-r)<=n||Math.abs(s-r)<=n))}i(Yfe,"editIsTooCloseToCursor");var Ob=i((e,t)=>{let[r,n]=t.useState();return t.useData(to,async o=>{if(!o.document)return;let s=e.ctx.get(Sc);if(s.isEnabled())s.start();else return;let a=s.config,l=s.getRecentEdits(),c=new Set,f=e.ctx.get(Et),u=[];for(let p=l.length-1;p>=0&&!(u.length>=a.maxEdits);p--){let m=l[p];if(!await f.getTextDocument({uri:m.file}))continue;let g=!c.has(m.file);if(c.size+(g?1:0)>a.maxFiles)break;let b=m.file===o.document?.uri,x=b?o.position.line:void 0;if(Yfe(m,b,x,a.activeDocDistanceLimitFromCursor))continue;let T=s.getEditSummary(m);if(T){c.add(m.file);let _=f.getRelativePath({uri:m.file});u.unshift(Qg(`File: ${_}`)+Qg(T))}}if(u.length===0){n(void 0);return}let d=Qg("These are recently edited files. Do not suggest code that has been deleted.")+u.join("")+Qg("End of recent edits");n(d)}),r?ze(Ec,{children:ze(rn,{children:r})}):void 0},"RecentEdits");var Xfe={tokenizerName:"o200k_base"};function Jfe(e){return{...Xfe,...e}}i(Jfe,"cursorContextOptions");function uh(e,t={}){let r=Jfe(t),n=Rs(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let o=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(o=o.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(o=n.takeLastLinesTokens(o,r.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:n.tokenLength(o),tokenizerName:r.tokenizerName}}i(uh,"getCursorContext");var Zfe={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function tq(e){let t=Zfe[e.semantics],r=["snippets"].includes(e.semantics)?"these":"this";return{headline:e.relativePath?`Compare ${r} ${t} from ${e.relativePath}:`:`Compare ${r} ${t}:`,snippet:e.snippet}}i(tq,"announceSnippet");var qC=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{i(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var WC=class{static{i(this,"Tokenizer")}constructor(t){this.stopsForLanguage=rde.get(t.languageId)??tde}tokenize(t){return new Set(Qfe(t).filter(r=>!this.stopsForLanguage.has(r)))}},rq=new qC(20),np=class{static{i(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new WC(t)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,o)=>n.score>o.score?1:-1):r=="descending"?t.sort((n,o)=>n.score>o.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let o=t.source.split(`
`),s=this.id()+":"+t.source,a=rq.get(s)??[],l=a.length==0,c=l?o.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[u,d]]of this.getWindowsDelineations(o).entries()){if(l){let g=new Set;c.slice(u,d).forEach(h=>h.forEach(b=>g.add(b),g)),a.push(g)}let p=a[f],m=this.similarityScore(p,await this.referenceTokens);if(n.length&&u>0&&n[n.length-1].endLine>u){n[n.length-1].score<m&&(n[n.length-1].score=m,n[n.length-1].startLine=u,n[n.length-1].endLine=d);continue}n.push({score:m,startLine:u,endLine:d})}return l&&rq.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),o=await this.retrieveAllSnippets(t,"descending");if(o.length===0)return[];let s=[];for(let a=0;a<o.length&&a<r;a++)if(o[a].score!==0){let l=n.slice(o[a].startLine,o[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...o[a]})}return s}};function Qfe(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}i(Qfe,"splitIntoWords");var ede=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),tde=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ede]),rde=new Map([]);function zC(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}i(zC,"virtualNode");function nq(e,t,r,n,o){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:o}}i(nq,"lineNode");function HC(e){return{type:"blank",lineNumber:e,subs:[]}}i(HC,"blankNode");function Lb(e){return{type:"top",indentation:-1,subs:e??[]}}i(Lb,"topNode");function us(e){return e.type==="blank"}i(us,"isBlank");function fh(e){return e.type==="line"}i(fh,"isLine");function yf(e){return e.type==="virtual"}i(yf,"isVirtual");function iq(e,t){return _f(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}i(iq,"clearLabelsIf");function _f(e,t,r){function n(o){r==="topDown"&&t(o),o.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(o)}i(n,"_visit"),n(e)}i(_f,"visitTree");function Fb(e,t,r){let n=i(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),o=n(e);return o!==void 0?o:Lb()}i(Fb,"rebuildTree");function ide(e){let t=e.split(`
`),r=t.map(f=>f.match(/^\s*/)[0].length),n=t.map(f=>f.trimLeft());function o(f){let[u,d]=s(f+1,r[f]);return[nq(r[f],f,n[f],u),d]}i(o,"parseNode");function s(f,u){let d,p=[],m=f,g;for(;m<n.length&&(n[m]===""||r[m]>u);)if(n[m]==="")g===void 0&&(g=m),m+=1;else{if(g!==void 0){for(let h=g;h<m;h++)p.push(HC(h));g=void 0}[d,m]=o(m),p.push(d)}return g!==void 0&&(m=g),[p,m]}i(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(HC(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Lb(a)}i(ide,"parseRaw");function dh(e,t){function r(n){if(fh(n)){let o=t.find(s=>s.matches(n.sourceLine));o&&(n.label=o.label)}}i(r,"visitor"),_f(e,r,"bottomUp")}i(dh,"labelLines");function Mb(e){function t(r){if(yf(r)&&r.label===void 0){let n=r.subs.filter(o=>!us(o));n.length===1&&(r.label=n[0].label)}}i(t,"visitor"),_f(e,t,"bottomUp")}i(Mb,"labelVirtualInherited");function mh(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}i(mh,"buildLabelRules");function GC(e){let r=Fb(e,i(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let o=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&fh(c))c.subs.push(l),l.subs.forEach(f=>c.subs.push(f)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(fh(l)||yf(l))&&l.indentation>=s.indentation){let f=o.length-1;for(;f>0&&us(o[f]);)f-=1;if(s.subs.push(...o.splice(f+1)),l.subs.length>0){let u=s.subs.findIndex(g=>g.label!=="newVirtual"),d=s.subs.slice(0,u),p=s.subs.slice(u),m=p.length>0?[zC(l.indentation,p,"newVirtual")]:[];s.subs=[...d,...m,l]}else s.subs.push(l)}else o.push(l),us(l)||(s=l)}return n.subs=o,n},"rebuilder"));return iq(e,n=>n==="newVirtual"),r}i(GC,"combineClosersAndOpeners");function oq(e,t=us,r){return Fb(e,i(function(o){if(o.subs.length<=1)return o;let s=[],a=[],l,c=!1;function f(u=!1){if(l!==void 0&&(s.length>0||!u)){let d=zC(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}i(f,"flushBlockIntoNewSubs");for(let u=0;u<o.subs.length;u++){let d=o.subs[u],p=t(d);!p&&c&&(f(),a=[]),c=p,a.push(d),us(d)||(l=l??d.indentation)}return f(!0),o.subs=s,o},"rebuilder"))}i(oq,"groupBlocks");function Ub(e){return Fb(e,i(function(r){return yf(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&yf(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}i(Ub,"flattenVirtual");var ode={opener:/^[[({]/,closer:/^[\])}]/},sde=mh(ode),sq={};function VC(e,t){sq[e]=t}i(VC,"registerLanguageSpecificParser");function KC(e,t){let r=ide(e),n=sq[t??""];return n?n(r):(dh(r,sde),GC(r))}i(KC,"parseTree");function Bb(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let o=0;o<n-e+1;o++)r.push([o,o+e]);return r}i(Bb,"getBasicWindowDelineations");var $b=class e extends np{static{i(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=i(t=>({to:i(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Bb(this.windowLength,t)}_getCursorContextInfo(t){return uh(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return ade(t,r)}};function ade(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}i(ade,"computeScore");var jb=class e extends np{static{i(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=i(t=>({to:i(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Bb(this.windowLength,t)}_getCursorContextInfo(t){return uh(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):uh(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return lde(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await ou(this.referenceDoc.languageId,t);let o=n.rootNode.namedDescendantForIndex(r);for(;o&&!(e.isMember(o)||e.isBlock(o));)o=o.parent??void 0;return o}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function lde(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}i(lde,"computeScore");var cde=0,ude=60,fde=4,dde=1,mde=20,pde=1e4,aq={snippetLength:ude,threshold:cde,maxTopSnippets:fde,maxCharPerFile:pde,maxNumberOfFiles:mde,maxSnippetsPerFile:dde,useSubsetMatching:!1};var YC={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function gde(e,t){return(t.useSubsetMatching?jb.FACTORY(t.snippetLength):$b.FACTORY(t.snippetLength)).to(e)}i(gde,"getMatcher");async function lq(e,t,r){let n=gde(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}i(lq,"getSimilarSnippets");function cq(e,t){return{...YC,useSubsetMatching:XC(e,t)}}i(cq,"getCppSimilarFilesOptions");function uq(e){return YC.maxTopSnippets}i(uq,"getCppNumberOfSnippets");var hde=new Map([["cpp",cq]]);function qb(e,t,r){let n=hde.get(r);return n?n(e,t):{...aq,useSubsetMatching:XC(e,t)}}i(qb,"getSimilarFilesOptions");var xde=new Map([["cpp",uq]]);function fq(e,t){let r=xde.get(t);return r?r(e):IN}i(fq,"getNumberOfSnippets");function XC(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||Jt(e,Te.UseSubsetMatching))??!1}i(XC,"useSubsetMatching");var Wb=i((e,t)=>{let[r,n]=t.useState(),[o,s]=t.useState();if(t.useData(to,a=>{a.traits!==r&&n(a.traits);let l=r1(a.document.detectedLanguageId);l!==o&&s(l)}),!(!r||r.length===0||!o))return ze(Vs,{children:[ze(rn,{children:`Consider this related information:
`}),...r.map(a=>ze(rn,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function dq(e,t){return Jt(e,Te.UseSplitContextPrompt)??e.get(qe).enablePromptContextProxyField(t)}i(dq,"shouldUseSplitContextPrompt");function mq(e){return ze(Vs,{children:[ze(vC,{children:[ze(Tb,{ctx:e,weight:.7}),ze(Wb,{weight:.6}),ze(gb,{ctx:e,weight:.9}),ze(zb,{ctx:e,weight:.8})]}),ze(Cj,{weight:1}),ze(TC,{children:ze(Ob,{ctx:e,weight:.99})}),ze(Ej,{weight:1})]})}i(mq,"splitContextCompletionsPrompt");var JC=new Gt;function pq(e){return[...e].sort((t,r)=>{let n=JC.get(t.uri)??0;return(JC.get(r.uri)??0)-n})}i(pq,"sortByAccessTimes");var gq=i(e=>e.get(Et).onDidFocusTextDocument(t=>{t&&JC.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var Hb=class{constructor(t){this.docManager=t}static{i(this,"OpenTabFiles")}truncateDocs(t,r,n,o){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>vf.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&Gb(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=o))break;return s}async getNeighborFiles(t,r,n){let o=new Map,s=new Map;return o=this.truncateDocs(pq(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(o.keys()).map(a=>a.toString())),{docs:o,neighborSource:s}}};function hq(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(o=>{setTimeout(o,t,r)})])}}i(hq,"shortCircuit");function yde(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}i(yde,"defaultHash");function ZC(e,t={}){let{hash:r=yde,cache:n=new Map}=t;return function(...o){let s=r.apply(this,o);if(n.has(s))return n.get(s);let a=e.apply(this,o);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}i(ZC,"memoize");var tI={entries:[],traits:[]},Vb={entries:new Map,traits:[]},QC=class extends Gt{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{i(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let o=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),o}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},jn=new _t("relatedFiles"),_de=1e3,Kb=class extends Error{static{i(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Tf=class e{constructor(t){this.context=t}static{i(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let o=await this.getRelatedFilesResponse(t,r,n);if(o===void 0)return;let s={entries:new Map,traits:o.traits??[]};for(let a of o.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{jn.debug(this.context,`Processing ${c}`);let f=await this.getFileContent(c);if(!f||f.length==0){jn.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,f)){jn.debug(this.context,`Skip ${c} due content exclusion.`);continue}f=e.dropBOM(f),l.set(c,f)}catch(f){jn.warn(this.context,f)}}return s}async getFileContent(t){try{return this.context.get(Zr).readFileString(t)}catch(r){jn.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(eo).evaluate(t,r)).isBlocked}catch(n){jn.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},vde=3,xq=new QC(_de);async function bq(e,t,r,n,o){let s=performance.now(),a;try{a=await o.getRelatedFiles(t,r,n)}catch(c){jn.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(xq.bumpRetryCount(t.uri)>=vde?a=Vb:a=void 0);let l=performance.now()-s;if(jn.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,f)=>c+f,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new Kb;return a}i(bq,"getRelatedFiles");var eI=ZC(bq,{cache:xq,hash:i((e,t,r,n,o)=>`${t.uri}`,"hash")});eI=hq(eI,200,Vb);async function Yb(e,t,r,n,o,s=!1){let a=e.get(Tf),l=Vb;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:o};l=s?await bq(e,c,r,n,a):await eI(e,c,r,n,a)}catch(c){l=Vb,c instanceof Kb&&Se(e,"getRelatedFilesList",r)}return jn.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}i(Yb,"getRelatedFilesAndTraits");function Gb(e,t){return r1(e)===r1(t)}i(Gb,"considerNeighborFile");var vf=class e{static{i(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,o,s,a,l){let c=t.get(Et);e.instance===void 0&&(e.instance=new Hb(c));let f={...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]};if(Tde(t,o))return f;let u=await c.getTextDocument({uri:r});if(!u)return jn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),f;let d=c.getWorkspaceFolder(u);if(!d)return jn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),f;let p=await Yb(t,u,o,s,a,l);return p.entries.size===0?(jn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),f.traits.push(...p.traits),f):(p.entries.forEach((m,g)=>{let h=[];m.forEach((b,x)=>{let y=e.getRelativePath(x,d.uri);if(!y||f.docs.has(x))return;let T={relativePath:y,uri:x,source:b};h.unshift(T),f.docs.set(x,T)}),h.length>0&&f.neighborSource.set(g,h.map(b=>b.uri.toString()))}),f.traits.push(...p.traits),f)}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}};function Tde(e,t){return e.get(qe).excludeRelatedFiles(t)||Jt(e,Te.ExcludeRelatedFiles)}i(Tde,"isExcludeRelatedFilesActive");function yq(e,t){return e.get(qe).includeNeighboringFiles(t)||Jt(e,Te.IncludeNeighboringFiles)}i(yq,"isIncludeNeighborFilesActive");var Xb=10,Jb={type:"contextTooShort"},Zb={type:"copilotContentExclusion"},ip={type:"promptError"},Y0={type:"promptCancelled"},_q={type:"promptTimeout"};function op(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,o=e.slice(0,e.length-n),s=e.slice(o.length);return[r.length==n?o:e,s]}i(op,"trimLastLine");function Qb(e,t,r,n,o,s={}){let l=e.get(Et).findNotebook(r.textDocument),c=l?.getCellFor(r.textDocument);l&&c&&(r=Cde(r,l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let f=dq(e,n);return e.get(Ef).prompt({completionId:t,completionState:r,telemetryData:n,promptOpts:{...s,separateContext:f}},o)}i(Qb,"extractPrompt");function Ede(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:K0(n,t)}i(Ede,"addNeighboringCellsToPrompt");function Cde(e,t,r){let o=t.getCells().filter(l=>l.index<r.index&&Gb(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=o.length>0?o.map(l=>Ede(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:s,range:{start:a,end:a}}])}i(Cde,"applyEditsForNotebook");function sp(e,t,r){let o=e.get(qe).maxPromptCompletionTokens(t)-ub(e),s=fq(t,r),a=qb(e,t,r),l=e.get(qe).suffixPercent(t),c=e.get(qe).suffixMatchThreshold(t),f=e.get(qe).workspaceContextPercent(t);if(l<0||l>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${l}`);if(c<0||c>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${c}`);if(f<0||f>100)throw new Error(`workspaceContextPercent must be between 0 and 100, but was ${f}`);return{maxPromptLength:o,similarFilesOptions:a,numberOfSnippets:s,suffixPercent:l,suffixMatchThreshold:c,workspaceContextPercent:f}}i(sp,"getPromptOptions");var zb=i((e,t)=>{let[r,n]=t.useState(),[o,s]=t.useState([]);t.useData(to,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let f=vf.defaultEmptyResult();c.turnOffSimilarFiles||(f=await vf.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data));let u=await a(c.telemetryData,c.document,c,f);s(u)});async function a(c,f,u,d){let p=sp(e.ctx,c,f.detectedLanguageId);return(await l(p,c,f,u,d)).filter(g=>g.snippet.length>0).sort((g,h)=>g.score-h.score).map(g=>({...tq(g),score:g.score}))}i(a,"produceSimilarFiles");async function l(c,f,u,d,p){let m=c.similarFilesOptions||qb(e.ctx,f,u.detectedLanguageId),h=e.ctx.get(Et).getRelativePath(u),b={uri:u.uri,source:u.getText(),offset:u.offsetAt(d.position),relativePath:h,languageId:u.detectedLanguageId};return await lq(b,Array.from(p.docs.values()),m)}return i(l,"findSimilarSnippets"),ze(Vs,{children:[...o.map((c,f)=>ze(Ide,{snippet:c}))]})},"SimilarFiles"),Ide=i((e,t)=>ze(Ec,{children:[ze(rn,{children:e.snippet.headline}),ze(rn,{children:e.snippet.snippet})]}),"SimilarFile");var vq=0;function Sde(){vq=0}i(Sde,"resetContextIndex");function wde(){return vq++}i(wde,"getNextContextIndex");var ey=class extends Qm{constructor(){super(...arguments);this.formatPrefix=Sj;this.formatContext=wj}static{i(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let o=[],s=[],a=[],l=!1;if(Sde(),new Zm(r,Pde).walkSnapshot((u,d,p)=>{if(u===r||(u.statistics.updateDataTimeMs&&u.statistics.updateDataTimeMs>0&&a.push({componentPath:u.path,updateDataTimeMs:u.statistics.updateDataTimeMs}),u.name===pf.name&&(l=!0),u.value===void 0||u.value===""))return!0;let m=p.chunks,g=p.type;if(g==="suffix")s.push({value:eh(u.value),type:"suffix",weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source});else{let h=g==="prefix",b=h||u.value.endsWith(n)?u.value:u.value+n;o.push({type:h?"prefix":"context",value:eh(b),weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source,index:h?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${pf.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:f,componentStatistics:a}}},Pde=[...wC,(e,t,r)=>hb(e)?{...r,index:wde()}:r];async function Rde(e){if(e.isCancellationRequested)return;let t=new H0,r=e.onCancellationRequested(()=>{t.resolve(),r.dispose()});await t.promise}i(Rde,"cancellationTokenToPromise");async function Tq(e,t){if(t){let r=Rde(t);await Promise.race([e,r])}else await e}i(Tq,"raceCancellation");function rI(e){return Array.isArray(e)}i(rI,"isArrayOfT");async function Eq(e,t){let r=new Map,n=[];for(let[o,s]of e.entries()){let a=(async()=>{let l=await Dde(s,t);r.set(o,l)})();n.push(a)}return await Promise.allSettled(n.values()),r}i(Eq,"resolveAll");async function Dde(e,t){let r;return e instanceof Promise?r=await Ade(e,t):r=await Nde(e,t),r}i(Dde,"resolve");async function Ade(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},o=(async()=>{try{let s=await e;if(t?.isCancellationRequested)return;n={status:"full",resolutionTime:0,value:rI(s)?[...s]:[s]}}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await Tq(o,t),n.resolutionTime=performance.now()-r,n}i(Ade,"resolvePromise");async function Nde(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},o=(async()=>{try{for await(let s of e){if(t?.isCancellationRequested)return;n.status!="partial"&&(n={status:"partial",resolutionTime:0,value:[]}),n.value.push(s)}t?.isCancellationRequested||(n.status!=="partial"?n={status:"full",resolutionTime:0,value:[]}:n.status="full")}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await Tq(o,t),n.resolutionTime=performance.now()-r,n}i(Nde,"resolveIterable");var kde={maxSnippetLength:3e3,maxSnippetCount:7,enabledFeatures:"Deferred",timeBudgetMs:7,doAggregateSnippets:!0},Ode="ms-vscode.cpptools";function Cq(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(Ode))&&Lde(e,r,n)}i(Cq,"fillInCppVSCodeActiveExperiments");function Lde(e,t,r){try{let n=kde,o=e.get(qe).cppContextProviderParams(r);if(o)try{n=JSON.parse(o)}catch(s){Ft.error(e,"Failed to parse cppContextProviderParams",s)}for(let[s,a]of Object.entries(n))t.set(s,a)}catch(n){Ft.exception(e,n,"fillInCppActiveExperiments")}}i(Lde,"addActiveExperiments");function Iq(e,t,r){try{let n=e.get(qe).csharpContextProviderParams(r);if(n){let o=JSON.parse(n);for(let[s,a]of Object.entries(o))t.set(s,a)}}catch(n){return Ft.debug(e,"Failed to get the active C# experiments for the Context Provider API",n),!1}return!0}i(Iq,"fillInCSharpActiveExperiments");var Fde="fallbackContextProvider",Mde={mlcpMaxContextItems:20,mlcpMaxSymbolMatches:20,mlcpEnableImports:!1};function Sq(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(Fde))&&Ude(e,r,n)}i(Sq,"fillInMultiLanguageActiveExperiments");function Ude(e,t,r){try{let n=Bde(e,r);for(let[o,s]of Object.entries(n))t.set(o,s)}catch(n){Ft.exception(e,n,"fillInMultiLanguageActiveExperiments")}}i(Ude,"addActiveExperiments");function Bde(e,t){let r=Mde,n=e.get(qe).multiLanguageContextProviderParams(t);if(n)try{r=JSON.parse(n)}catch(o){Ft.error(e,"Failed to parse multiLanguageContextProviderParams",o)}return r}i(Bde,"getMultiLanguageContextProviderParamsFromExp");var $de="typescript-ai-context-provider";function wq(e,t,r,n){if(!(t.length===1&&t[0]==="*"||t.includes($de)))return!1;try{let o=e.get(qe).tsContextProviderParams(n);if(o){let s=JSON.parse(o);for(let[a,l]of Object.entries(s))r.set(a,l)}}catch(o){return Ft.debug(e,"Failed to get the active TypeScript experiments for the Context Provider API",o),!1}return!0}i(wq,"fillInTsActiveExperiments");function Pq(e){return e instanceof nI?!0:e instanceof Error&&e.name===iI&&e.message===iI}i(Pq,"isCancellationError");var nI=class extends Error{static{i(this,"CancellationError")}constructor(){super(iI),this.name=this.message}},iI="Canceled";var Rq=yt(ui());var X0=class{static{i(this,"ContextProviderRegistry")}},wc=class{static{i(this,"DefaultContextProviders")}},ty=class extends wc{constructor(){super();this.ids=[]}static{i(this,"DefaultContextProvidersContainer")}add(r){this.ids.push(r)}getIds(){return this.ids}},oI=class extends X0{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{i(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,o,s,a,l){if(a?.isCancellationRequested)return Ft.debug(this.ctx,"Resolving context providers cancelled"),[];let c=new Map;Iq(this.ctx,c,s);let f=[];if(this._providers.length===0)return f;let u=await this.matchProviders(o,s),d=u.filter(_=>_[1]>0);if(u.filter(_=>_[1]<=0).forEach(([_,I])=>{let w={providerId:_.id,matchScore:I,resolution:"none",resolutionTimeMs:0,data:[]};f.push(w)}),d.length===0)return f;if(a?.isCancellationRequested)return Ft.debug(this.ctx,"Resolving context providers cancelled"),[];Cq(this.ctx,d.map(_=>_[0].id),c,s),Sq(this.ctx,d.map(_=>_[0].id),c,s),wq(this.ctx,d.map(_=>_[0].id),c,s);let m=new Rq.CancellationTokenSource;if(a){let _=a.onCancellationRequested(I=>{m.cancel(),_.dispose()})}let g=C8(this.ctx)&&!Fw(this.ctx)?0:qde(this.ctx,s),h=g>0?Date.now()+g:Number.MAX_SAFE_INTEGER,b;g>0&&(b=setTimeout(()=>{m.cancel(),m.dispose()},g));let x=new Map,y={completionId:r,opportunityId:n,documentContext:o,activeExperiments:c,timeBudget:g,timeoutEnd:h,data:l};for(let[_]of d){let I=this.ctx.get(Ri).getPreviousStatisticsForCompletion(r)?.get(_.id);I&&(y.previousUsageStatistics=I);let w=_.resolver.resolve(y,m.token);x.set(_.id,w)}let T=await Eq(x,m.token);b&&clearTimeout(b);for(let[_,I]of d){let w=T.get(_.id);if(w){if(w.status==="error")Pq(w.reason)||Ft.error(this.ctx,`Error resolving context from ${_.id}: `,w.reason),f.push({providerId:_.id,matchScore:I,resolution:w.status,resolutionTimeMs:w.resolutionTime,data:[]});else{let j=[...w.value??[]];if((w.status==="none"||w.status==="partial")&&(Ft.info(this.ctx,`Context provider ${_.id} exceeded time budget of ${g}ms`),_.resolver.resolveOnTimeout))try{let P=_.resolver.resolveOnTimeout(y);rI(P)?j.push(...P):P&&j.push(P),j.length>0&&(w.status="partial")}catch(P){Ft.error(this.ctx,`Error in fallback logic for context provider ${_.id}: `,P)}let[V,G]=yj(j);G&&Ft.error(this.ctx,`Dropped ${G} context items from ${_.id} due to invalid schema`);let Y=_j(this.ctx,V),A={providerId:_.id,matchScore:I,resolution:w.status,resolutionTimeMs:w.resolutionTime,data:Y};f.push(A)}this.ctx.get(Ri).getStatisticsForCompletion(r).setLastResolution(_.id,w.status)}else Ft.error(this.ctx,`Context provider ${_.id} not found in results`)}return f.sort((_,I)=>I.matchScore-_.matchScore)}async matchProviders(r,n){let o=kq(this.ctx,n),s=o.length===1&&o[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!o.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},sI=class extends X0{constructor(r){super();this.delegate=r;this._cachedContextItems=new Gt(5)}static{i(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,o,s,a,l){let c=this._cachedContextItems.get(r);if(r&&c&&c.length>0)return c;let f=await this.delegate.resolveAllProviders(r,n,o,s,a,l);return f.length>0&&r&&this._cachedContextItems.set(r,f),f}};function Dq(e,t){return new sI(new oI(e,t))}i(Dq,"getContextProviderRegistry");function Aq(e,t,r){let n=e.get(Ri).getStatisticsForCompletion(t);return r.map(s=>{let{providerId:a,resolution:l,resolutionTimeMs:c,matchScore:f,data:u}=s,d=n.get(a),p=d?.usage??"none";(f<=0||l==="none"||l==="error")&&(p="none");let m={providerId:a,resolution:l,resolutionTimeMs:c,usage:p,usageDetails:d?.usageDetails,matched:f>0,numResolvedItems:u.length},g=d?.usageDetails!==void 0?d?.usageDetails.filter(b=>b.usage==="full"||b.usage==="partial"||b.usage==="partial_content_excluded").length:void 0,h=d?.usageDetails!==void 0?d?.usageDetails.filter(b=>b.usage==="partial"||b.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(m.numUsedItems=g),h!==void 0&&(m.numPartiallyUsedItems=h),m})}i(Aq,"telemetrizeContextItems");function Nq(e){return e.matchScore>0&&e.resolution!=="error"}i(Nq,"matchContextItems");function kq(e,t){let r=jde(e,t),n=Jt(e,Te.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let o=e.get(wc).getIds();return Array.from(new Set([...o,...r,...n]))}i(kq,"getActiveContextProviders");function jde(e,t){return C8(e)?["*"]:e.get(qe).contextProviders(t)}i(jde,"getExpContextProviders");function aI(e,t){return kq(e,t).length>0}i(aI,"useContextProviderAPI");function qde(e,t){let r=Jt(e,Te.ContextProviderTimeBudget);return r!==void 0&&typeof r=="number"?r:e.get(qe).contextProviderTimeBudget(t)}i(qde,"getContextProviderTimeBudget");function Oq(e,t,r){let n=pb(r,"Trait");for(let s of n)Wde(e,t,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}i(Oq,"getTraitsFromContextItems");function Wde(e,t,r,n){let o=e.get(Ri).getStatisticsForCompletion(t);r.forEach(s=>{o.addExpectations(n,[[s,"included"]])})}i(Wde,"setupExpectationsForTraits");var zde=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function Lq(e,t,r,n,o,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=o;for(let c of r){let f=zde.get(c.name);f&&(a[f]=c.value)}let l=s.extendedBy(a,{});return Se(t,e,l)}}i(Lq,"ReportTraitsTelemetry");var ry=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{i(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let o=typeof t=="function"?t():t;this.states[r]=o}let n=i(o=>{let s=typeof o=="function"?o(this.states[r]):o;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},ny=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{i(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var iy=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{i(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,o){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let f=t.children[c];if(f){let u=this.reconcileNode(f,t.path,c,o);u!==void 0&&l.push(u)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Hde(t.type)){let o=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${o.type}`,l=o.children.map((c,f)=>this.virtualizeElement(c,a,f));return this.ensureUniqueKeys(l),{name:o.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,o){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${o.name}`,l=new cI(this.getOrCreateLifecycleData(a)),c=o(n.props,l),d=(Array.isArray(c)?c:[c]).map((p,m)=>this.virtualizeElement(p,a,m)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(d),{name:o.name,path:a,props:n.props,children:d,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let o of t){if(!o)continue;let s=o.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([o,s])=>s>1).map(([o])=>o);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new lI([])),this.lifecycleData.get(t)}createPipe(){return{pump:i(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},lI=class{static{i(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},cI=class{constructor(t){this.lifecycleData=t;this.stateHook=new ry(t.state),this.dataHook=new ny(r=>{t._updateTimeMs=r})}static{i(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Hde(e){return typeof e=="function"&&"isFragmentFunction"in e}i(Hde,"isFragmentFunction");var ph=class{static{i(this,"VirtualPrompt")}constructor(t){this.reconciler=new iy(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let o of t.children??[]){let s=this.snapshotNode(o,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function to(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}i(to,"isCompletionRequestData");var uI={default:{promptFunction:Mq,renderer:Qm},splitContext:{promptFunction:mq,renderer:ey}};function Mq(e){return ze(Vs,{children:[ze(_C,{children:[ze(Tb,{ctx:e,weight:.7}),ze(Wb,{weight:.6}),ze(gb,{ctx:e,weight:.9}),ze(zb,{ctx:e,weight:.8}),ze(Ob,{ctx:e,weight:.99})]}),ze(Zg,{weight:1})]})}i(Mq,"defaultCompletionsPrompt");var oy=class{constructor(t,r,n){this.ctx=t;this.promptOrdering=n??"default",this.virtualPrompt=r??new ph(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{i(this,"ComponentsCompletionsPromptFactory")}async prompt(t,r){try{return await this.createPromptUnsafe(t,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:t,completionState:r,telemetryData:n,promptOpts:o},s){let{maxPromptLength:a,suffixPercent:l,suffixMatchThreshold:c}=sp(this.ctx,n,r.textDocument.detectedLanguageId),f=await this.failFastPrompt(r.textDocument,r.position,l,s);if(f)return f;let u=o?.separateContext?"splitContext":"default";this.setPromptOrdering(u);let d=performance.now(),{traits:p,codeSnippets:m,turnOffSimilarFiles:g,resolvedContextItems:h}=await this.resolveContext(t,r,n,s,o);if(await this.updateComponentData(r.textDocument,r.position,p,m,n,g,a,s,o,c,o?.tokenizer),s?.isCancellationRequested)return Y0;let b=this.virtualPrompt.snapshot(s),x=b.status;if(x==="cancelled")return Y0;if(x==="error")return this.errorPrompt(b.error);let y=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:o?.tokenizer,promptTokenLimit:a,suffixPercent:l,languageId:r.textDocument.detectedLanguageId},s);if(y.status==="cancelled")return Y0;if(y.status==="error")return this.errorPrompt(y.error);let[T,_]=op(y.prefix),I={...y,prefix:T},w;if(aI(this.ctx,n)){let V=gj(y.metadata.componentStatistics);this.ctx.get(Ri).getStatisticsForCompletion(t).computeMatch(V),w=Aq(this.ctx,t,h),Ft.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(w)}'`)}let j=performance.now();return this.resetIfEmpty(y),this.successPrompt(I,j,d,_,w)}async updateComponentData(t,r,n,o,s,a,l,c,f={},u,d){let p=this.createRequestData(t,r,s,c,f,l,n,o,a,u,d);await this.pipe.pump(p)}async resolveContext(t,r,n,o,s={}){let a=[],l,c,f=!1;if(aI(this.ctx,n)){a=await this.ctx.get(rl).resolution(t);let{textDocument:u}=r,d=a.filter(Nq);Gde(this.ctx,u.detectedLanguageId,d,n)||(f=!0),l=Oq(this.ctx,t,d),Lq("contextProvider.traits",this.ctx,l,u.detectedLanguageId,u.detectedLanguageId,n),c=await vj(this.ctx,t,d,u.detectedLanguageId)}return{traits:l,codeSnippets:c,turnOffSimilarFiles:f,resolvedContextItems:a}}async failFastPrompt(t,r,n,o){if(o?.isCancellationRequested)return Y0;if((await this.ctx.get(eo).evaluate(t.uri,t.getText(),"UPDATE")).isBlocked)return Zb;if((n>0?t.getText().length:t.offsetAt(r))<Xb)return Jb}createRequestData(t,r,n,o,s,a,l,c,f,u,d){return{document:t,position:r,telemetryData:n,cancellationToken:o,data:s.data,traits:l,codeSnippets:c,turnOffSimilarFiles:f,suffixMatchThreshold:u,maxPromptTokens:a,tokenizer:d}}resetIfEmpty(t){t.prefix.length===0&&t.suffix.length===0&&this.reset()}successPrompt(t,r,n,o,s){return{type:"prompt",prompt:{prefix:t.prefix,prefixTokens:t.prefixTokens,suffix:t.suffix,suffixTokens:t.suffixTokens,context:t.context,isFimEnabled:t.suffix.length>0},computeTimeMs:r-n,trailingWs:o,neighborSource:new Map,metadata:t.metadata,contextProvidersTelemetry:s}}errorPrompt(t){return Oo(this.ctx,t,"PromptComponents.CompletionsPromptFactory"),this.reset(),ip}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new ph(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(t){this.promptOrdering!==t&&(this.promptOrdering=t,this.reset())}completionsPrompt(){return(uI[this.promptOrdering]?.promptFunction??Mq)(this.ctx)}getRenderer(){let t=uI[this.promptOrdering]??uI.default;return new t.renderer}};function Gde(e,t,r,n){let o=["cpp","c"];return yq(e,n)||o.includes(t)||!r.some(a=>a.data.some(l=>l.type==="CodeSnippet"))}i(Gde,"similarFilesEnabled");var Vde=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Kde(e){return Vde.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}i(Kde,"isOomError");function Pc(e,t,r,n=Ft){if(!e0(t)){if(t instanceof Error){let o=t;Kde(o)?e.get(Mr).setWarning("Out of memory"):o.code==="EMFILE"||o.code==="ENFILE"?e.get(Mr).setWarning("Too many open files"):o.code==="CopilotPromptLoadFailure"?e.get(Mr).setWarning("Corrupted Copilot installation"):`${o.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Mr).setWarning("Worker unexpectedly exited"):o.syscall==="uv_cwd"&&o.code==="ENOENT"&&e.get(Mr).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}i(Pc,"handleException");var Cf="[...]",Yde=0,J0=-1;function Z0(){return Yde++}i(Z0,"getAvailableNodeId");function Uq(e,t){let r=e.children.map(n=>n.elisionMarker??t);return[...e.text.entries()].map(([n,o])=>n===0?o:r[n-1]+o).join("")}i(Uq,"elideChildren");function Bq(e,t=Cf){return r=>e.tokenLength(Uq(r,t))}i(Bq,"getTokenizerCostFunction");function $q(e=Cf){return t=>Uq(t,e).length-(t.elisionMarker??e).length}i($q,"getBasicCostFunction");var ap=class{static{i(this,"PriorityQueue")}constructor(t){if(this.heap=t?[...t]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(t,r){let n={item:t,priority:r};this.heap.push(n);let o=this.heap.length-1;this.siftUp(o)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let t=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),t}clear(){let t=this.heap;return this.heap=[],t}siftUp(t){let r=this.heap[t];for(;t>0;){let n=Math.floor((t-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[t]=this.heap[n],t=n}this.heap[t]=r}siftDown(t){let r=this.heap[t],n=this.heap.length-1;for(;t<n;){let o=t,s=2*t+1,a=s+1;if(s<=n&&this.heap[s].priority>this.heap[o].priority&&(o=s),a<=n&&this.heap[a].priority>this.heap[o].priority&&(o=a),o===t)break;this.heap[t]=this.heap[o],t=o}this.heap[t]=r}};var gh=class{constructor(t,r,n,o,s=0,a=!1,l=Cf){this.id=t;this.text=r;this.children=n;this.cost=o;this.weight=s;this.canMerge=a;this.elisionMarker=l;this.requireRenderedChild=!1;if(r.length!==n.length+1)throw new Error(`Text fragments length (${r.length}) must be equal to children length (${n.length}) + 1`);this.cost=Math.max(o,1),this.weight=Math.max(s,0)}static{i(this,"RenderNode")}get value(){return this.weight/this.cost}render(t=void 0,r=[],n){let o=new Set(Array.isArray(r)?r:[r]);if((t??this.cost)<this.cost||o.has(this.id))return{rendered:this.elisionMarker,cost:n?n(this.elisionMarker):this.elisionMarker.length};if(t===void 0){let u=i(m=>o.has(m.id),"elider"),d=[];this.recursivelyRender(d,u);let p=d.join("");return{rendered:p,cost:n?n(p):p.length}}let s=new Set,a=[],l=[],c=new ap([{item:this,priority:this.value}]),f=t;for(;f>0&&c.size>0;){let{item:u}=c.pop();if(!o.has(u.id)&&u.cost<=f){f-=u.cost,s.add(u.id),a.push(u);for(let d of u.children)c.insert(d,d.value);u.requireRenderedChild&&l.push(u)}}for(let u=l.length-1;u>=0;u--){let d=l[u];d.children.some(p=>s.has(p.id))||s.delete(d.id)}for(;s.size>0;){let u=[],d=i(g=>!s.has(g.id),"elider");this.recursivelyRender(u,d);let p=u.join("");if(n===void 0)return{rendered:p,cost:p.length};let m=n(p);if(m<=t)return{rendered:p,cost:m};for(;a.length>0&&m>t;){let g=a.pop();m-=g.cost,s.delete(g.id)}if(a.length===0)return{rendered:this.elisionMarker,cost:n(this.elisionMarker)}}return{rendered:this.elisionMarker,cost:n?n(this.elisionMarker):this.elisionMarker.length}}updateWeights(t){let r=this.recursivelyRectifyWeights(t);for(let{item:n,priority:o}of r.clear())for(let s of n.nodes)s.weight=o*s.cost}recursivelyRender(t,r,n=!1){if(r(this))return t.length>=2&&(n||t[t.length-2]===this.elisionMarker&&t[t.length-1].trim().length===0)?(t.pop(),!0):(t.push(this.elisionMarker),!0);let o=!1;for(let[s,a]of this.children.entries())t.push(this.text[s]??""),o=a.recursivelyRender(t,r,a.canMerge&&o);return t.push(this.text[this.text.length-1]??""),!1}recursivelyRectifyWeights(t){let r=this.children.map(a=>a.recursivelyRectifyWeights(t)),n=Math.max(0,t?t(this):this.weight);if(n===0&&r.reduce((a,l)=>a+l.size,0)===0)return this.weight=0,new ap([]);let o=new ap(r.flatMap(a=>a.clear())),s={nodes:[this],totalCost:this.cost,totalWeight:n};for(this.requireRenderedChild=!1;(o.peek()?.priority??0)>s.totalWeight/s.totalCost;){let{item:a}=o.pop();s.nodes.push(...a.nodes),s.totalCost+=a.totalCost,s.totalWeight+=a.totalWeight,this.requireRenderedChild=!0}return o.insert(s,s.totalWeight/s.totalCost),o}findNode(t){if(this.id===t)return this;for(let r of this.children){let n=r.findNode(t);if(n!==void 0)return n}}};function fI(e,t,r=Cf,n){if(n?.has(e.id))return n.get(e.id);let o=e.children.map(l=>fI(l,t,r));r=e.elisionMarker??r;let s=t(e),a=new gh(e.id,e.text,o,s,0,e.canMerge,r);return n?.set(a.id,a),a}i(fI,"snapshot");function hh(e,t,r){let n=e.get(t);return n===void 0&&(n=r(t),e.set(t,n)),n}i(hh,"setDefault");function Xde(e){return e.id!==void 0}i(Xde,"isNodeItem");function Jde(e){return!("uri"in e)&&!("id"in e)}i(Jde,"isNullItem");var Zde={"RecentDocumentProvider.RecentlyOpen":.1,"RecentDocumentProvider.RecentlyFocused":.1,"RecentDocumentProvider.RecentlyEdited":.1,RecentCompletionsRequestProvider:1,"ExtensionActivityProvider.CurrentSelection":5,"ExtensionActivityProvider.PrimarySelection":2,"ExtensionActivityProvider.Selection":.2,"ExtensionActivityProvider.VisibleRange":1,FileDirectoryDocumentProvider:.05,"SymbolContextProvider.Identifiers":.2,"SymbolContextProvider.Text":.2,"TreeProximityProvider.Parent":.3,"TreeProximityProvider.Children":.3,"TreeProximityProvider.Siblings":.3,"ExtensionReferenceProvider.References":.2,"ExtensionReferenceProvider.Definitions":1},Rc="64f5ff7d-e507-4558-81cf-3bdacc3c5c00",lp=class{static{i(this,"WorkspaceContextWeights")}constructor(t){let r=new Map;for(let{uri:n,weight:o}of t)r.set(n,(r.get(n)??0)+o);this.documents=[...r.entries()].map(([n,o])=>({uri:n,weight:o})).sort((n,o)=>o.weight-n.weight),this.docWeights=r,this.nodes=t.filter(({id:n})=>n!==J0),this.nodeWeights=new Map(t.map(({id:n,weight:o})=>[n,o]))}getNodeWeight(t){return this.nodeWeights.get(t)??0}getDocumentWeight(t){return this.docWeights.get(t)??0}},sy=class{constructor(t,r){this.activeContext=t;this.config=r;this.sourceWeights=Zde;this.sourceContext=new Map;this.prevUpdateTime=void 0;this.prevItems=[];this.weights=new lp([])}static{i(this,"WorkspaceContextCoordinator")}getWeights(t){if(t){let r=this.sourceContext.get(t);return r?new lp(r.items):new lp([])}return this.weights}updateWeights(){let t=new Map,r=0,n=this.config.StaleWeightHalflife;for(let[o,{items:s,updateTime:a}]of this.sourceContext.entries()){let l=this.sourceWeights[o]??0;if(l<=0||s.length===0)continue;let c=.5**(-Math.max(0,(this.prevUpdateTime??a)-a)/n);l*=c,r+=l,this.aggregateWeights(s,t,l,!0)}if(r>0){if(this.weights.nodes.length>0){let o=r*this.config.Laziness,s=this.prevItems;this.aggregateWeights(s,t,o,!0)}for(let[o,s]of t.entries()){let a=this.activeContext.getDocument(o)?.document;if(a===void 0)continue;let l=s.get(J0);if(l!==void 0&&l>0){s.delete(J0);let c=0;for(let f of s.values())c+=f;if(c<=0){let f=a.getAllIds(),u=l/f.length;for(let d of f)s.set(d,u)}else for(let[f,u]of[...s.entries()])s.set(f,u+l*(u/c))}}this.prevItems=this.truncateAndNormalize(t),this.weights=new lp(this.prevItems)}return this.prevUpdateTime=performance.now(),this.weights}pushWorkspaceContext(t,r){let n=performance.now(),o=this.addUriAndId(r),s=new Map;this.aggregateWeights(o,s);let a=this.truncateAndNormalize(s);this.sourceContext.set(t,{items:a,updateTime:n})}addUriAndId(t){return t.filter(r=>r.weight>0).map(r=>{if(Jde(r))return{weight:r.weight,uri:Rc,id:J0};let n=Xde(r)?r.id:J0,o=r.uri??this.activeContext.getUri(n)??Rc;return o===Rc&&(n=J0),{weight:r.weight,uri:o,id:n}})}aggregateWeights(t,r,n=1,o=!1){for(let{uri:s,id:a,weight:l}of t){if(l<=0)continue;let c=hh(r,s,()=>new Map),f=J0;(!o||this.activeContext.getUri(a)!==void 0)&&(f=a),c.set(f,(c.get(f)??0)+l*n)}}truncateAndNormalize(t){let r=[],n=new Map,o=0;for(let[c,f]of t.entries()){let u=c!==Rc?this.activeContext.normalizeUri(c)??Rc:Rc;for(let[d,p]of f.entries())c===Rc||d===J0?n.set(u,(n.get(u)??0)+p):r.push({uri:u,id:d,weight:p}),o+=p}if(o<=0)return[];n.delete(Rc),r.sort((c,f)=>f.weight-c.weight);for(let{uri:c,weight:f}of r.slice(this.config.MaxActiveNodes,r.length))n.set(c,(n.get(c)??0)+f);let s=[...n.entries()].sort((c,f)=>f[1]-c[1]).slice(0,this.config.MaxActiveFiles).map(([c,f])=>({uri:c,id:J0,weight:f}));return r.slice(0,this.config.MaxActiveNodes).concat(s).sort((c,f)=>f.weight-c.weight).map(c=>({...c,weight:c.weight/o}))}};var ay=class{static{i(this,"FileSearch")}};var ly=class{constructor(t,r,n,o=!1){this.id=t;this.parts=r;this.text=n;this.canMerge=o}static{i(this,"ContextNode")}get startOffset(){return this.parts[0].root.startOffset}get endOffset(){return this.parts[this.parts.length-1].root.endOffset}get syntaxRoots(){return this.parts.map(t=>t.root)}get children(){return this.parts.flatMap(t=>t.children)}get syntaxLimits(){return this.children.flatMap(t=>t.syntaxRoots)}*syntaxNodes(){let t=new Set(this.syntaxLimits.map(r=>r.id));for(let r of this.syntaxRoots)yield*qq(r,t)}findChild(t,r){if(t<this.startOffset||r>this.endOffset||r<t)return;let n=0,o=this.parts.length-1,s;for(;n<=o;){let l=Math.floor((n+o)/2);if(s=this.parts[l],s.root.startOffset<=t&&s.root.endOffset>=r)break;s.root.endOffset<t?n=l+1:o=l-1}if(s===void 0||o<n)return;n=0,o=s.children.length-1;let a;for(;n<=o;){let l=Math.floor((n+o)/2);if(a=s.children[l],a.startOffset<=t&&a.endOffset>=r)break;a.endOffset<t?n=l+1:o=l-1}if(!(a===void 0||o<n))return a}},Qde=6,cy=class{constructor(t,r,n,o){this.textDocument=t;this.parser=r;this.minSize=n;this.updateId=Z0();this.syntaxToAbstract=new Map;this.nodeById=new Map;this.minSize=Math.max(n,1),this.maxSize=Math.max(o??2*this.minSize,this.minSize+1),this._syntaxRoot=this.parser.parse(t,!0),this._root=this.buildTree()}static{i(this,"ContextDocument")}get uri(){return this.textDocument.uri}get version(){return this.updateId}get document(){return this.textDocument}get rootId(){return this._root.id}get root(){return this._root}get syntaxRoot(){return this._syntaxRoot}getNode(t){return this.nodeById.get(t)}getAllIds(){return Array.from(this.nodeById.keys())}findNode(t,r){let n=this._root,o=n;for(;o;)n=o,o=n.findChild(t,r??t);return n}update(t){if(this.uri!==t.uri)throw new Error("Can't update ContextDocument using mismatched URI");this.textDocument=t,this._syntaxRoot=this.parser.parse(t,!0),this.recursivelyRemapNodes(this.root,()=>{}),this._root=this.buildTree(),this.updateId=Z0()}recursivelyRemapNodes(t,r){let n=!0;for(let f of t.children)n=n&&this.recursivelyRemapNodes(f,r);if(!n)return this.invalidateNode(t),!1;let o=[];for(let{root:f,children:u}of t.parts){let d=r(f);if(d===void 0||d.type!==f.type)return this.invalidateNode(t),!1;o.push({root:d,children:u})}let s=o[0].root.parent,a=t.parts[0].root.parent;if((s&&this.canMergeChildren(s))!==(a&&this.canMergeChildren(a)))return this.invalidateNode(t),!1;let l=jq(o,this.document);for(let[f,u]of l.entries())if(t.text[f]!==u)return this.invalidateNode(t),!1;let c=new ly(t.id,o,t.text,t.canMerge);for(let{root:f}of t.parts)this.syntaxToAbstract.delete(f.id);for(let{root:f}of c.parts)this.syntaxToAbstract.set(f.id,c);return this.nodeById.set(t.id,c),!0}invalidateNode(t){for(let r of t.syntaxRoots)this.syntaxToAbstract.delete(r.id);this.nodeById.delete(t.id)}createNode(t,r=!1){t.sort((s,a)=>s.root.startOffset-a.root.startOffset);let n=jq(t,this.document),o=new ly(Z0(),t,n,r);for(let{root:s}of t)this.syntaxToAbstract.set(s.id,o);return this.nodeById.set(o.id,o),o}buildTree(){let t=this.buildRecursively(this._syntaxRoot);return this.createNode([{root:this._syntaxRoot,children:t}])}buildRecursively(t){if(t.endOffset-t.startOffset<this.minSize)return[];let r=t.children;if(this.canMergeChildren(t)){let o=r.map(a=>this.syntaxToAbstract.get(a.id));for(let a=0;a<r.length;a++)if(o[a]===void 0){if(a>0&&o[a-1]!==void 0){let l=o[a-1];for(let c=a-1;c>=0&&o[c]?.id===l.id;c--)o[c]=void 0;this.invalidateNode(l)}if(a<r.length-1&&o[a+1]!==void 0){let l=o[a+1];for(;a<r.length&&o[a+1]?.id===l.id;)a++,o[a]=void 0;this.invalidateNode(l)}}let s=[];for(let a=0;a<r.length;void 0)if(o[a]!==void 0)for(s.push(o[a]);a<r.length&&o[a+1]?.id===o[a].id;)a++;else{let l=[];for(;a<r.length&&o[a]===void 0;){let c=r[a];l.push({root:c,children:this.buildRecursively(c)}),a++}s.push(...this.mergeChildren(l))}return s}let n=[];for(let o=0;o<r.length;o++){let s=r[o];if(this.syntaxToAbstract.has(s.id)){let c=this.syntaxToAbstract.get(s.id);n.push(c),o+=c.parts.length-1;continue}let a=this.buildRecursively(s),l=s.endOffset-s.startOffset-a.reduce((c,f)=>c+(f.endOffset-f.startOffset),0);this.canBeNode(s)&&l>=this.minSize?n.push(this.createNode([{root:s,children:a}])):n.push(...a)}return n}mergeChildren(t){if(t.length===0)return[];t.sort((p,m)=>p.root.startOffset-m.root.startOffset);let r=t[t.length-1].root.endOffset-t[0].root.startOffset,n=[];for(let p of t){let m=p.root.endOffset-p.root.startOffset;for(let g of p.children){let h=g.endOffset-g.startOffset;m-=h,r-=h}n.push(m)}if(r<this.minSize)return t.flatMap(p=>p.children);let o=[0],s=0,a=null,l={line:-1,size:-1},c=t[0].root.startOffset,f=t[0].root.range.start.line;for(let p=0;p<t.length;p++){let m=t[p];if(s+=n[p]+m.root.startOffset-c,s>this.minSize&&s<this.maxSize){let g={line:m.root.range.start.line-f,size:m.root.startOffset-c};(g.line>l.line||g.line==l.line&&g.size>l.size)&&(l=g,a=p)}c=m.root.endOffset,f=m.root.range.end.line,s>=this.maxSize&&(a=a??p,o.push(a+1),p=a,s=0,a=null,l={line:-1,size:-1},c=t[p+1]?.root.startOffset,f=t[p+1]?.root.range.start.line)}o.length==1?o.push(t.length):o[o.length-1]!==t.length&&(o[o.length-1]=t.length);let u=[],d=!1;for(let p=0;p<o.length-1;p++){let m=t.slice(o[p],o[p+1]);u.push(this.createNode(m,d)),d=!0}return u}canMergeChildren(t){return this.parser.labeler.canMergeChildren?.(t)??t.children.length>Qde}canBeNode(t){return this.parser.labeler.canBeNode?.(t)??!0}};function jq(e,t){if(e.length===0)return[""];let r=[],n=t.positionAt(e[0].root.startOffset);for(let s of e.flatMap(a=>a.children).sort((a,l)=>a.startOffset-l.startOffset)){let a=t.positionAt(s.startOffset);r.push(t.getText({start:n,end:a})),n=t.positionAt(s.endOffset)}let o=t.positionAt(e[e.length-1].root.endOffset);return r.push(t.getText({start:n,end:o})),r}i(jq,"buildText");function*qq(e,t){yield e;for(let r of e.children)t.has(r.id)||(yield*qq(r,t))}i(qq,"walk");var eme={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},tme=mh(eme);function Wq(e){let t=e;return dh(t,tme),t=GC(t),t=Ub(t),Mb(t),_f(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!us(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}i(Wq,"processJava");var rme={heading:/^# /,subheading:/^## /,subsubheading:/### /},nme=mh(rme);function zq(e){let t=e;if(dh(t,nme),us(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}i(r,"headingLevel");let n=[t],o=[...t.subs];t.subs=[];for(let s of o){let a=r(s);if(a===void 0||us(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=oq(t),t=Ub(t),Mb(t),t}i(zq,"processMarkdown");VC("markdown",zq);VC("java",Wq);var uy=class{constructor(t,r,n,o,s,a){this.id=t;this.raw=r;this.children=n;this.source="indentation";this.parent=null;let l={start:{line:o,character:0},end:{line:s,character:a.lineAt(s).text.length}},c=a.getText(l),f=c.search(/\S/);if(f===-1){let p={line:s,character:0};this.startOffset=a.offsetAt(p),this.endOffset=this.startOffset,this.range={start:p,end:p};return}let u=c.search(/\S(?!.*\S)/s),d=a.offsetAt(l.start);this.startOffset=d+f,this.endOffset=d+u+1,this.range={start:a.positionAt(this.startOffset),end:a.positionAt(this.endOffset)}}static{i(this,"IndentationNode")}get type(){return this.raw.type}};function dI(e,t,r){let n=e.subs.map(c=>({subtree:c,node:dI(c,t,r)})).filter(c=>c.node!==null).sort((c,f)=>c.node.startOffset-f.node.startOffset),o=[],s=t;for(let c=n.length-1;c>=0;c--){let{subtree:f,node:u}=n[c];if(u.range.end.line>=s){let d=dI(f,s,r);d!==null&&(o.push(d),s=Math.min(d.range.start.line,s))}else o.push(u),s=Math.min(u.range.start.line,s)}o.sort((c,f)=>c.startOffset-f.startOffset);let a=t,l=0;if(o.length>0&&(a=Math.min(a,o[0].range.start.line),l=Math.max(l,o[o.length-1].range.end.line)),(e.type==="blank"||e.type==="line")&&(a=Math.min(a,e.lineNumber),l=Math.max(l,e.lineNumber),e.type==="blank"&&a===l))return null;if(l=Math.min(l,t-1),a<=l){let c=new uy(Z0(),e,o,a,l,r);for(let f of o)f.parent=c;return c}return null}i(dI,"recursivelyBuildNode");function Hq(e){let t=KC(e.getText(),e.detectedLanguageId);return dI(t,e.lineCount,e)??new uy(Z0(),t,[],0,e.lineCount-1,e)}i(Hq,"parse");var Gq={source:"indentation",parse:Hq,update(e,t){return{root:Hq(t),remapper:i(()=>{},"remapper")}},dispose:i(()=>{},"dispose"),labeler:{isIdentifier:i(e=>!1,"isIdentifier"),isText:i(e=>!0,"isText")}};var Kq=yt(V5());function Vq(e){return{line:e.row,character:e.column}}i(Vq,"asPosition");var mI=class{constructor(t,r){this._parser=t;this._tree=r;this.didDispose=!1}static{i(this,"CachedTreeSitterParse")}get parser(){if(this.didDispose)throw new Error("Cannot access parser after dispose");return this._parser}get tree(){if(this.didDispose)throw new Error("Cannot access tree after dispose");return this._tree}dispose(){this.didDispose||(this.didDispose=!0,this._parser.delete(),this._tree.delete())}},Q0=class{constructor(t,r,n,o){this.nodeList=t;this.mergeList=r;this.identifierList=n;this.textList=o}static{i(this,"BasicNodeLabeler")}canBeNode(t){return this.nodeList.has(t.type)}canMergeChildren(t){return this.mergeList.has(t.type)}isIdentifier(t){return this.identifierList.has(t.type)}isText(t){return this.textList.has(t.type)}},ime=50,Dc=class{constructor(t,r,n={}){this.language=t;this.source=r;this.labeler=n;this.cache=new Af(ime)}static{i(this,"TreeSitterParser")}dispose(){this.cache.clear()}parse(t,r=!0){let n=new Kq.default;n.setLanguage(this.language);let o=n.parse(t.getText());return r&&this.cache.set(t.uri,new mI(n,o)),this.snapshot(o.rootNode,null)}update(t,r){return{root:this.parse(r,!1),remapper:i(()=>{},"remapper")}}snapshot(t,r){let n={id:t.id,source:this.source,type:t.type,startOffset:t.startIndex,endOffset:t.endIndex,range:{start:Vq(t.startPosition),end:Vq(t.endPosition)},parent:r,children:[]};return n.children=t.namedChildren.map(o=>this.snapshot(o,n)),n}};var ome=new Set(["class_specifier","function_definition","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement","compound_statement"]),sme=new Set(["translation_unit","compound_statement","parameter_list","argument_list"]),ame=new Set(["identifier"]),lme=new Set(["string","comment"]),Yq=new Q0(ome,sme,ame,lme);var cme=new Set(["class_declaration","method_declaration","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement"]),ume=new Set(["program","block","object_creation_expression","formal_parameters","argument_list","array_initializer"]),fme=new Set(["identifier"]),dme=new Set(["string_literal","line_comment","block_comment"]),Xq=new Q0(cme,ume,fme,dme);var mme=new Set(["class_definition","function_definition","expression_statement","if_statement","for_statement","while_statement","with_statement","try_statement"]),pme=new Set(["module","block","parameters","dictionary","list"]),gme=new Set(["identifier"]),hme=new Set(["string","comment"]),Jq=new Q0(mme,pme,gme,hme);var xme=new Set(["class_declaration","function_declaration","arrow_function","method_definition","expression_statement","if_statement","while_statement","try_statement","for_statement","switch_statement"]),bme=new Set(["program","statement_block","formal_parameters","arguments","object","array"]),yme=new Set(["identifier"]),_me=new Set(["string","comment"]),Zq=new Q0(xme,bme,yme,_me);var Qq=yt(V5());async function eW(e){await Qq.default.init();try{let t=await C6(e);switch(e){case"python":return new Dc(t,"tree-sitter-python",Jq);case"typescript":return new Dc(t,"tree-sitter-typescript",Zq);case"java":return new Dc(t,"tree-sitter-java",Xq);case"cpp":return new Dc(t,"tree-sitter-cpp",Yq);default:return new Dc(t,"tree-sitter-generic")}}catch{return Gq}}i(eW,"getParser");var vme=new _t("WorkspaceContextManager"),pI=class{constructor(t,r){this.created=t;this.invalidated=r;this.updatedDocuments=Array.from(new Set([...t.entries(),...r.entries()].filter(([n,o])=>o.size>0).map(([n,o])=>n)))}static{i(this,"WorkspaceContextChanges")}getInvalidatedNodes(t){return this.getNodes(this.invalidated,t)}getCreatedNodes(t){return this.getNodes(this.created,t)}getNodes(t,r){return r===void 0?Array.from(t.entries()).flatMap(([n,o])=>[...o].map(s=>({uri:n,id:s}))):Array.from(t.get(r)??[]).map(n=>({uri:r,id:n}))}},fy=class{constructor(t,r){this.item=t;this.disposalCallback=r}static{i(this,"CachedItem")}dispose(){this.disposalCallback(this.item)}},tW=5e3,dy=class{constructor(t,r){this.ctx=t;this.config=r;this.listenerDisposable=void 0;this.targetSet=new Set;this.activeDocuments=new Map;this.nodeToDoc=new Map;this.createdNodes=new Map;this.invalidatedNodes=new Map;this.parsers=new Map;this.staleDocuments=new Set;this.pendingUpdates=new Map;this.uriCache=new Gt(tW);this.allowedExtensions=new Set(z3);this.invalidDocumentCache=new Mc(tW,this.config.InvalidCacheTime),this.cachedDocuments=new Af(this.config.MaxActiveFiles)}static{i(this,"WorkspaceContextManager")}isStarted(){return this.listenerDisposable!==void 0}start(){this.isStarted()||(this.listenerDisposable=this.ctx.get(Et).onDidChangeTextDocument(t=>this.handleDocumentChange(t)))}setAllowedLanguages(t){this.allowedExtensions=new Set(t.flatMap(r=>cf[r]?.extensions??[]))}getActiveDocuments(){return Array.from(this.activeDocuments.values())}getNode(t){let r=this.nodeToDoc.get(t);if(r===void 0)return;let n=this.getDocument(r);if(n===void 0)return;let o=n.document.getNode(t);if(o!==void 0)return{...n,node:o}}getDocument(t){let r=this.activeDocuments.get(t);if(r!==void 0)return{document:r,isActive:!0};let n=this.cachedDocuments.get(t);if(n!==void 0)return{document:n.item,isActive:!1}}getUri(t){return this.nodeToDoc.get(t)}normalizeUri(t){let r,n=this.uriCache.get(t);if(n!==null){if(n!==void 0)r=n;else try{if(Ww(t),r=Fo(t),!(this.ctx.get(Et).getWorkspaceFolder({uri:r})!==void 0)){this.uriCache.set(t,null);return}this.uriCache.set(t,r)}catch{this.uriCache.set(t,null);return}if(!(!this.allowedExtensions.has(Kw(r))||this.invalidDocumentCache.has(r)))return r}}dispose(){if(this.isStarted()){this.listenerDisposable?.dispose(),this.listenerDisposable=void 0;for(let t of this.parsers.values())t.dispose();this.parsers.clear(),this.activeDocuments.clear(),this.cachedDocuments.clear()}}trySetActiveDocuments(t){if(this.isStarted()){this.targetSet.clear();for(let r of t){let n=this.normalizeUri(r);n!==void 0&&(this.targetSet.add(n),this.updateDocument(n))}for(let r of[...this.activeDocuments.keys()])this.targetSet.has(r)||this.deactivateDocument(r)}}popChanges(){let t=new pI(this.createdNodes,this.invalidatedNodes);return this.createdNodes=new Map,this.invalidatedNodes=new Map,t}async flushUpdates(t){if(t!==void 0){let r=this.pendingUpdates.get(t);r!==void 0&&await r}else await Promise.all([...this.pendingUpdates.values()])}isKnownDocument(t){return this.activeDocuments.has(t)||this.cachedDocuments.has(t)||this.pendingUpdates.has(t)}deactivateDocument(t){let r=this.activeDocuments.get(t);r!==void 0&&(this.activeDocuments.delete(t),this.pendingUpdates.has(t)||this.cachedDocuments.set(t,new fy(r,n=>this.disposeDocument(n))))}async updateDocument(t){if(this.pendingUpdates.has(t))return;let r=new H0;this.pendingUpdates.set(t,r.promise);let n;this.activeDocuments.has(t)?n=this.activeDocuments.get(t):this.cachedDocuments.has(t)&&(n=this.cachedDocuments.get(t).item,this.cachedDocuments.uncache(t)),(n===void 0||this.staleDocuments.has(t))&&(this.staleDocuments.delete(t),n=await this.createUpdatedDocument(t,n)),n!==void 0&&this.isStarted()&&(this.targetSet.has(t)?this.activeDocuments.set(t,n):(this.activeDocuments.delete(t),this.cachedDocuments.set(t,new fy(n,o=>this.disposeDocument(o))))),this.pendingUpdates.delete(t),r.resolve()}async createUpdatedDocument(t,r){let n=await this.readTextDocument(t);if(n===void 0){r!==void 0&&this.disposeDocument(r);return}let o;try{o=await this.getParser(n.detectedLanguageId)}catch{this.invalidDocumentCache.set(t,!0),r!==void 0&&this.disposeDocument(r);return}if(r!==void 0)if(n.detectedLanguageId!==r.document.detectedLanguageId)this.disposeDocument(r);else{let a=new Set(r.getAllIds());r.update(n);let l=new Set(r.getAllIds()),c=[...l].filter(u=>!a.has(u)),f=[...a].filter(u=>!l.has(u));return this.recordDocumentChanges(t,{created:c,invalidated:f}),r}let s=new cy(n,o,this.config.MinNodeSize);return this.recordDocumentChanges(t,{created:s.getAllIds(),invalidated:[]}),s}disposeDocument(t){this.recordDocumentChanges(t.uri,{created:[],invalidated:t.getAllIds()})}recordDocumentChanges(t,r){let n=hh(this.createdNodes,t,()=>new Set),o=hh(this.invalidatedNodes,t,()=>new Set);for(let s of r.created)n.add(s),this.nodeToDoc.set(s,t);for(let s of r.invalidated)n.has(s)?n.delete(s):o.add(s),this.nodeToDoc.delete(s)}async getParser(t){let r=this.parsers.get(t);return r===void 0&&(r=await eW(t),this.parsers.set(t,r)),r}async readTextDocument(t){if(this.invalidDocumentCache.has(t)||this.normalizeUri(t)===void 0)return;let r=this.ctx.get(Et),n=r.getWorkspaceFolder({uri:t}),o=!0;if(n!==void 0){let a=r.getRelativePath({uri:t});a!==void 0&&(await this.ctx.get(ay).findFiles(a,{uri:n.uri},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0})).includes(t)&&(o=!1)}if(o){vme.debug(this.ctx,`${t} is excluded from workspace context`),this.invalidDocumentCache.set(t,!0,3600*1e3);return}let s=await this.ctx.get(z0).getOrReadTextDocument({uri:t});if(s.status!=="valid"||s.document.uri!==t){this.invalidDocumentCache.set(t,!0);return}return s.document}handleDocumentChange(t){let r=t.document.uri;this.isKnownDocument(r)&&this.staleDocuments.add(r)}};var my=class{constructor(t){this.ctx=t;this.documents=new Map;this.elisionMarker=Cf;this.nodeCache=new Gt(1e4);this.costFunction=$q(this.elisionMarker),this.root=this.createRootNode()}static{i(this,"WorkspacePromptComponent")}getRoot(){return this.root}setCostFunction(t){this.costFunction=t}snapshot(t,r){this.documents.clear();for(let{uri:n}of t.documents){let o=r.getDocument(n);if(o?.isActive!==!0)continue;let s=this.createAnnotatedDocumentRoot(o.document),a=fI(s,this.costFunction,this.elisionMarker,this.nodeCache);this.documents.set(n,a),a.updateWeights(c=>t.getNodeWeight(c.id)??0),a.requireRenderedChild=!0;let l=a.children[0];l.requireRenderedChild=l.children.length>0}this.root=this.createRootNode()}createRootNode(){let t=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return new gh(Z0(),t,r,1,0,!0,"")}createAnnotatedDocumentRoot(t){return{text:[this.getDocumentAnnotation(t.uri,t.document.detectedLanguageId),`

`],children:[t.root],id:Z0(),elisionMarker:"",canMerge:!0}}getDocumentAnnotation(t,r){let o=this.ctx.get(Et).getRelativePath({uri:t});return K0(`Related portions of ${o??t}:
`,r)}};var rW=yt(d1());var Tme={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3},nl=class e{constructor(t){this.ctx=t;this.didStart=!1;this.didDispose=!1;this.deferredStart=new H0;this.config=Tme;this.emitter=new rW.default;this.flushUpdatesPromise=void 0;this.emitter.setMaxListeners(27),this.contextManager=new dy(t,this.config),this.coordinator=new sy(this.contextManager,this.config),this.promptComponent=new my(t),this.tokenEventDisposable=Kr(t,()=>{this.maybeStart()})}static{i(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}async maybeStart(){if(this.didStart||this.didDispose)return;let t=Jt(this.ctx,Te.UseWorkspaceContextCoordinator);if(t===void 0)try{let r=await this.ctx.get(qe).updateExPValuesAndAssignments();t=this.isEnabled(r)}catch{}t&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}get activation(){return this.deferredStart.promise}isEnabled(t){return Jt(this.ctx,Te.UseWorkspaceContextCoordinator)??this.ctx.get(qe).workspaceContextCoordinator(t)}start(){this.didStart||(this.didStart=!0,this.contextManager.start(),this.promptComponent.setCostFunction(Bq(Rs())),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()?(this.emitter.emit(e.DisposeEventName),this.contextManager.dispose()):!this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}pushWorkspaceContext(t,r){this.isActive()&&this.coordinator.pushWorkspaceContext(t,r)}getWorkspaceContext(){return this.contextManager}getWorkspaceContextWeights(){return this.coordinator.getWeights()}getPromptComponent(){return this.promptComponent.getRoot()}onUpdate(t){return this.emitter.on(e.UpdateEventName,t),or.Disposable.create(()=>this.emitter.off(e.UpdateEventName,t))}onDisposal(t){return this.emitter.on(e.DisposeEventName,t),or.Disposable.create(()=>this.emitter.off(e.DisposeEventName,t))}setContextLanguages(t){this.contextManager.setAllowedLanguages(t)}async loop(){try{for(;this.isActive();){let t=this.coordinator.updateWeights();this.promptComponent.snapshot(t,this.contextManager);let r=t.documents.slice(0,this.config.MaxActiveFiles).map(({uri:n})=>n);if(this.contextManager.trySetActiveDocuments(r),this.flushUpdatesPromise=this.contextManager.flushUpdates(),await this.flushUpdatesPromise,this.isActive()){this.promptComponent.snapshot(t,this.contextManager);let n=this.config.UpdateInterval,o={weights:t,context:this.contextManager,changes:this.contextManager.popChanges(),responseInterval:n};this.emitter.emit(e.UpdateEventName,o),await yc(n)}}}catch(t){Pc(this.ctx,t,"WorkspaceContextFeature.loop"),this.dispose()}}};var py=class{constructor(t){this.ctx=t;this.renderId=0;this.cachedSuffix=""}static{i(this,"WorkspaceContextPromptFactory")}async prompt(t,r){try{return await this.createPromptUnsafe(t,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionState:t,telemetryData:r,promptOpts:n},o){this.renderId++;let{maxPromptLength:s,suffixPercent:a,suffixMatchThreshold:l,workspaceContextPercent:c}=sp(this.ctx,r,t.textDocument.detectedLanguageId),f=await this.failFastPrompt(t.textDocument,t.position,a,o);if(f)return f;let u=performance.now(),{beforeCursor:d,afterCursor:p}=this.getBeforeAfterCursor(t),m=this.getPathMarker(t),g=this.checkSuffixCache(p,l,n),h=this.producePrompt(s,a,c,m,d,g,t.textDocument.detectedLanguageId,n);if(h.status==="cancelled")return Y0;if(h.status==="error")return this.errorPrompt(h.error);let[b,x]=op(h.prefix),y={...h,prefix:b},T=performance.now();return this.successPrompt(y,T,u,x)}producePrompt(t,r,n,o,s,a,l,c){let f=performance.now(),u=Rs(c?.tokenizer);a.length==0&&(r=0);let d=u.tokenLength(o),p=Math.floor(t*r/100),m=Math.floor(t*n/100),g=t-p-m-d;if(g<=0)throw new Error(`Prefix tokens must be positive, was ${g}`);let h=performance.now(),x=this.ctx.get(nl).getPromptComponent(),{rendered:y,cost:T}=x.render(m,void 0,A=>u.tokenLength(A)),_=performance.now()-h,I=u.takeFirstTokens(a,p),w=Math.max(p-I.tokens.length,0),j=u.takeLastLinesTokens(s,g+w),V=c?.separateContext?j:K0(y.trim(),l)+`

`+j,G=u.tokenLength(j),Y=I.tokens.length;return{status:"ok",prefix:o+`
`+V,prefixTokens:d+T+G,suffix:I.text,suffixTokens:Y,context:c?.separateContext?[y.trim()]:void 0,metadata:{renderId:this.renderId,rendererName:"w",tokenizer:c?.tokenizer??"o200k_base",elisionTimeMs:_,renderTimeMs:performance.now()-f,updateDataTimeMs:0,componentStatistics:[{componentPath:"workspace",actualTokens:T},{componentPath:"prefix",actualTokens:d+G},{componentPath:"suffix",actualTokens:Y}]}}}getBeforeAfterCursor(t){let r=t.textDocument.getText({start:{line:0,character:0},end:t.position}),n=t.textDocument.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});return{beforeCursor:r,afterCursor:n}}getPathMarker(t){let r=t.textDocument,n=this.ctx.get(Et),o=n.getRelativePath(t.textDocument),s={uri:r.uri,source:"",relativePath:o,languageId:r.detectedLanguageId},a=n.findNotebook(r);return s.relativePath&&!a?K0(vb(s),s.languageId):K0(_b(s),s.languageId)}checkSuffixCache(t,r,n){let o=t.replace(/^.*/,"").trimStart();if(o==="")return"";if(this.cachedSuffix===o)return this.cachedSuffix;let s=o;if(this.cachedSuffix!==""){let a=Rs(n?.tokenizer),l=a.takeFirstTokens(o,Jg);l.tokens.length>0&&100*xb(l.tokens,a.takeFirstTokens(this.cachedSuffix,Jg).tokens)?.score<(r??_d)*l.tokens.length&&(s=this.cachedSuffix)}return s!==this.cachedSuffix&&(this.cachedSuffix=s),s}successPrompt(t,r,n,o){return{type:"prompt",prompt:{prefix:t.prefix,prefixTokens:t.prefixTokens,suffix:t.suffix,suffixTokens:t.suffixTokens,context:t.context,isFimEnabled:t.suffix.length>0},computeTimeMs:r-n,trailingWs:o,neighborSource:new Map,metadata:t.metadata}}async failFastPrompt(t,r,n,o){if(o?.isCancellationRequested)return Y0;if((await this.ctx.get(eo).evaluate(t.uri,t.getText(),"UPDATE")).isBlocked)return Zb;if((n>0?t.getText().length:t.offsetAt(r))<Xb)return Jb}errorPrompt(t){return Oo(this.ctx,t,"WorkspaceContextPromptFactory"),ip}};var nW=yt(ui());var Ef=class{static{i(this,"CompletionsPromptFactory")}};function iW(e,t,r){return new gI(new hI(new xI(e,new oy(e,t,r),new py(e),bI)))}i(iW,"createCompletionsPromptFactory");var gI=class extends Ef{constructor(r){super();this.delegate=r}static{i(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return Y0;try{return await this.delegate.prompt(r,n)}catch{return ip}}},Eme=1200,hI=class{constructor(t){this.delegate=t}static{i(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(t,r){let n=new nW.CancellationTokenSource,o=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(t,o),new Promise(s=>{setTimeout(()=>{n.cancel(),s(_q)},Eme)})])}},xI=class{constructor(t,r,n,o){this.ctx=t;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=o}static{i(this,"ExperimentalCompletionsPromptFactory")}async prompt(t,r){return this.fn(this.ctx,t.telemetryData)?this.experimentalDelegate.prompt(t,r):this.defaultDelegate.prompt(t,r)}};function bI(e,t){let r=e.get(nl);return r.isEnabled(t)&&r.isActive()}i(bI,"workspaceContextEnabledAndActive");var rl=class{constructor(t){this.ctx=t;this.scheduledResolutions=new Gt(25)}static{i(this,"ContextProviderBridge")}schedule(t,r,n,o,s,a){if(bI(this.ctx,o))return;let l=this.ctx.get(X0),{textDocument:c,originalPosition:f,originalOffset:u,originalVersion:d,editsWithPosition:p}=t,m=l.resolveAllProviders(r,n,{uri:c.uri,languageId:c.detectedLanguageId,version:d,offset:u,position:f,proposedEdits:p.length>0?p:void 0},o,s,a?.data);this.scheduledResolutions.set(r,m)}async resolution(t){let r=this.scheduledResolutions.get(t);return r?await r:[]}};var gy=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{i(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let o=await ou(this.languageId,t);try{let a=o.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{o.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,o=>{let s=o.children.reverse().find(a=>a.type==this.nodeMatch[o.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,f=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||f)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let o=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(o,n,a=>a.endIndex);if(s!==void 0&&s<o.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,o=>o.startIndex)}},hy=class extends gy{constructor(r,n,o,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=o}static{i(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let o=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(r,n){return n=sW(r,n),this.isBlockStart(Cme(r,n))&&this.isBlockBodyEmpty(r,n)}};function Cme(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}i(Cme,"getLineAtOffset");function sW(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}i(sW,"rewindToNearestNonWs");function oW(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,o=t.substring(n,r);if(/^\s*$/.test(o))return o}i(oW,"indent");function Ime(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=oW(e,r),o=oW(t,r);return n!==void 0&&o!==void 0&&n.startsWith(o)}i(Ime,"outdented");var ea=class extends gy{constructor(r,n,o,s,a,l,c){super(r,n,o);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{i(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let o=r.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&RN(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=sW(r,n);let o=await ou(this.languageId,r);try{let s=o.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let u=s;for(;u.parent;){if(u.type=="function_signature"||u.type=="method_signature"){let d=s.nextSibling;return d&&u.hasError()&&Ime(u,d,r)?!0:!u.children.find(m=>m.type==";")&&u.endIndex<=n}u=u.parent}}let a=null,l=null,c=null,f=s;for(;f!=null;){if(f.type==this.blockNodeType){l=f;break}if(this.nodeMatch[f.type]){c=f;break}if(f.type=="ERROR"){a=f;break}f=f.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let u=l.previousSibling;if(u!=null&&u.hasError()&&(u.text.startsWith('"""')||u.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let u=[...a.children].reverse(),d=u.find(m=>this.startKeywords.includes(m.type)),p=u.find(m=>m.type==this.blockNodeType);if(d){switch(this.languageId){case"python":{d.type=="try"&&s.type=="identifier"&&s.text.length>4&&(p=u.find(h=>h.hasError())?.children.find(h=>h.type=="block"));let m,g=0;for(let h of a.children){if(h.type==":"&&g==0){m=h;break}h.type=="("&&(g+=1),h.type==")"&&(g-=1)}if(m&&d.endIndex<=m.startIndex&&m.nextSibling){if(d.type=="def"){let h=m.nextSibling;if(h.type=='"'||h.type=="'"||h.type=="ERROR"&&(h.text=='"""'||h.text=="'''"))return!0}return!1}break}case"javascript":{let m=u.find(b=>b.type=="formal_parameters");if(d.type=="class"&&m)return!0;let g=u.find(b=>b.type=="{");if(g&&g.startIndex>d.endIndex&&g.nextSibling!=null||u.find(b=>b.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}case"typescript":{let m=u.find(h=>h.type=="{");if(m&&m.startIndex>d.endIndex&&m.nextSibling!=null||u.find(h=>h.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}}return p&&p.startIndex>d.endIndex?this.isBlockEmpty(p,n):!0}}if(c!=null){let u=this.nodeMatch[c.type],d=c.children.slice().reverse().find(p=>p.type==u);if(d)return this.isBlockEmpty(d,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let p=this.nodeTypesWithBlockOrStmtChild.get(c.type),m=p==""?c.children[0]:c.childForFieldName(p);if(m&&m.type!=this.blockNodeType&&m.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},Sme={python:new ea("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new ea("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new ea("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new ea("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new hy("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new hy("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new ea("csharp",{},new Map([]),[],"block",null,!0),java:new ea("java",{},new Map([]),[],"block",null,!0),php:new ea("php",{},new Map([]),[],"block",null,!0),cpp:new ea("cpp",{},new Map([]),[],"block",null,!0)};function aW(e){if(!m0(e))throw new Error(`Language ${e} is not supported`);return Sme[Y5(e)]}i(aW,"getBlockParser");async function lW(e,t,r){return m0(e)?aW(e).isEmptyBlockStart(t,r):!1}i(lW,"isEmptyBlockStart");async function cW(e,t,r,n){if(m0(e))return aW(e).isBlockBodyFinished(t,r,n)}i(cW,"isBlockBodyFinished");var wyt=new _t("parseBlock");function uW(e,t,r){let n=t.getText(xi.range(xi.position(0,0),r)),o=t.offsetAt(r),s=t.detectedLanguageId;return a=>cW(s,n,a,o)}i(uW,"parsingBlockFinished");function by(e,t){return lW(e.detectedLanguageId,e.getText(),e.offsetAt(t))}i(by,"isEmptyBlockStartUtil");var wme=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Pme=new RegExp(`^(${wme.join("|")})`);function Rme(e){return Pme.test(e.trimLeft().toLowerCase())}i(Rme,"isContinuationLine");function xy(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}i(xy,"indentationOfLine");function fW(e,t){let r=e.getText(),n=e.offsetAt(t);return yI(r,n,e.detectedLanguageId)}i(fW,"contextIndentation");function yI(e,t,r){let n=e.slice(0,t).split(`
`),o=e.slice(t).split(`
`);function s(u,d,p){let m=d,g,h;for(;g===void 0&&m>=0&&m<u.length;)g=xy(u[m]),h=m,m+=p;if(r==="python"&&p===-1){m++;let b=u[m].trim();if(b.endsWith('"""')){if(!(b.startsWith('"""')&&b!=='"""'))for(m--;m>=0&&!u[m].trim().startsWith('"""');)m--;if(m>=0)for(g=void 0,m--;g===void 0&&m>=0;)g=xy(u[m]),h=m,m--}}return[g,h]}i(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let u=l-1;u>=0;u--){let d=xy(n[u]);if(d!==void 0&&d<a)return d}})(),[f]=s(o,1,1);return{prev:c,current:a??0,next:f}}i(yI,"contextIndentationFromText");var Dme=!1;function Ame(e,t,r){let n=e.split(`
`),o=r!==void 0,s=r?.split(`
`).pop(),a=0;if(o&&s?.trim()!=""&&n[0].trim()!==""&&a++,!o&&Dme&&n[0].trim()===""&&a++,o||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let f=n[c];c==0&&s!==void 0&&(f=s+f);let u=xy(f);if(u!==void 0&&(u<l||u===l&&!Rme(f)))return n.slice(0,c).join(`
`).length}return"continue"}i(Ame,"completionCutOrContinue");function dW(e,t){return r=>{let n=Ame(r,e,t);return n==="continue"?void 0:n}}i(dW,"indentationBlockFinished");var mW=2.98410452738298,pW=-.838732736843507,gW=1.50314646255716,hW=-.237798634012662,yy={python:.314368072478742},xW={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Nme={link:i(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:i(e=>Math.log(e/(1-e)),"unlink")};function kme(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),o=t.get(r),s=t.get(n);return s+(o-s)*(e-n)/(r-n)}i(kme,"linearInterpolation");var cp=class{static{i(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(o=>o)}contribution(t){return this.coefficient*this.transformation(t)}},_I=class{constructor(t,r,n){this.link=Nme;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let o in n)this.logitsToQuantiles.set(n[o],Number(o))}static{i(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let o of this.coefficients){let s=r[o.name];if(s===void 0)return NaN;n+=o.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return kme(n,this.logitsToQuantiles)}},bW=new _I(mW,[new cp("compCharLen",pW,e=>Math.log(1+e)),new cp("meanLogProb",gW),new cp("meanAlternativeLogProb",hW)].concat(Object.entries(yy).map(e=>new cp(e[0],e[1]))),xW);function yW(e,t){let r={...t.measurements};return Object.keys(yy).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),bW.predict(e,r)}i(yW,"ghostTextScoreConfidence");function _W(e,t){let r={...t.measurements};return Object.keys(yy).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),bW.quantile(e,r)}i(_W,"ghostTextScoreQuantile");var Ome=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function TW(e){let t=e.slice();return t.reverse(),vW(t)||vW(t.filter(r=>r.trim().length>0))}i(TW,"isRepetitive");function vW(e){let t=Lme(e);for(let r of Ome){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}i(vW,"isRepeatedPattern");function Lme(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}i(Lme,"kmp_prefix_function");function Fme(e,t,r,n){let o="}";try{o=PN(t.detectedLanguageId)??"}"}catch{}return Mme({getLineText:i(s=>t.lineAt(s).text,"getLineText"),getLineCount:i(()=>t.lineCount,"getLineCount")},r,n,o)}i(Fme,"maybeSnipCompletion");function Mme(e,t,r,n){let o=Ume(r),s=o.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,f=0;for(let u=0;u+a+f<s.length;u++){let d;for(;;){let h=t.line+1+u+c;if(d=h>=e.getLineCount()?void 0:e.getLineText(h),d!==void 0&&d.trim()==="")c++;else break}let p,m;for(;p=a+u+f,m=p>=s.length?void 0:s[p],m!==void 0&&m.trim()==="";)f++;let g=p===s.length-1;if(!m||!(d&&(g?d.startsWith(m)||m.startsWith(d):d===m&&m.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(o.newLineCharacter)}return r}i(Mme,"maybeSnipCompletionImpl");function Ume(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}i(Ume,"splitByNewLine");function Bme(e,t,r,n){let o="",s=t.line+1,a=n?r.trim():r;for(;o===""&&s<e.lineCount;){if(o=e.lineAt(s).text,n&&(o=o.trim()),o===a)return!0;s++}return!1}i(Bme,"matchesNextLine");function vI(e,t,r,n,o,s){if(TW(n.tokens)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Bme(t,r,a.completionText,!o)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"completion.alreadyInDocument",l),Se(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Fme(e,t,r,a.completionText),a.completionText?a:void 0}i(vI,"postProcessChoiceInContext");function EW(e,t,r){let o=e.lineAt(t.line).text.substring(t.character);if(o.length>0){if(r.completionText.indexOf(o)!==-1)return o.length;{let s=-1,a=0;for(let l of o){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}i(EW,"checkSuffix");var wW=yt(yp());var br=new _t("ghostText");var $me=200,CW=20;async function PW(e,t,r,n,o,s,a){br.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=cb(e,l),f={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:qN(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},u={n:l,temperature:c,code_annotations:!1},d=Jt(e,Te.ModelAlwaysTerminatesSingleline)??e.get(qe).modelAlwaysTerminatesSingleline(r),p=t.blockMode==="moremultiline"&&_c.isSupported(t.languageId)&&!d;!t.multiline&&!p?u.stop=[`
`]:t.stop&&(u.stop=t.stop),t.maxTokens!==void 0&&(u.max_tokens=t.maxTokens);let m=Date.now(),g={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(null)};Object.assign(r.properties,g);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers,extra:f},b=await e.get(vc).fetchAndStreamCompletions(e,h,r,o,n);return b.type==="failed"?{type:"failed",reason:b.reason,telemetryData:tn(r)}:b.type==="canceled"?(br.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:b.reason,telemetryData:Tc(r)}):a(m,b.getProcessingTime(),b.choices)}catch(h){if(e0(h))return{type:"canceled",reason:"network request aborted",telemetryData:Tc(r,{cancelledNetworkRequest:!0})};if(br.exception(e,h,"Error on ghost text request"),e.get(v0).notifyUser(e,h),kf(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:tn(r)}}}i(PW,"genericGetCompletionsFromNetwork");function TI(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return e}i(TI,"postProcessChoices");async function jme(e,t,r,n,o){return PW(e,t,r,n,o,"completions",async(s,a,l)=>{let f=await l[Symbol.asyncIterator]().next();if(f.done)return br.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:tn(r)};if(n?.isCancellationRequested)return br.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Tc(r)};let u=f.value;if(u===void 0)return br.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:tn(r)};DW(e,"performance",u,s,a),br.debug(e,`Awaited first result, id:  ${u.choiceIndex}`);let d=TI(u,t);d&&(_y(e,t,d),br.debug(e,`GhostText first completion (index ${d?.choiceIndex}): ${JSON.stringify(d?.completionText)}`));let p=(async()=>{let m=d!==void 0?[d]:[];for await(let g of l){if(g===void 0)continue;br.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let h=TI(g,t,m);h&&(m.push(h),_y(e,t,h))}})();return xs(e)&&await p,d?{type:"success",value:[EI(d,{forceSingleLine:!1}),p],telemetryData:tn(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:tn(r)}})}i(jme,"getCompletionsFromNetwork");async function qme(e,t,r,n,o){return PW(e,t,r,n,o,"all completions",async(s,a,l)=>{let c=[];for await(let f of l){if(n?.isCancellationRequested)return br.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Tc(r)};let u=TI(f,t,c);u&&c.push(u)}if(c.length>0){for(let f of c)_y(e,t,f);DW(e,"cyclingPerformance",c[0],s,a)}return{type:"success",value:[c,Promise.resolve()],telemetryData:tn(r),telemetryBlob:r,resultType:3}})}i(qme,"getAllCompletionsFromNetwork");function EI(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,o=n.match(/^\r?\n/);o?r.completionText=o[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}i(EI,"makeGhostAPIChoice");function IW(e){return t=>{let r=t?.split(`
`)??[];if(r.length>e+1)return r.slice(0,e+1).join(`
`).length}}i(IW,"takeNLines");async function Wme(e,t,r,n,o,s,a,l){let c=e.get(qe).multilineAfterAcceptLines(l),f=e.get(au).forLanguage(e,t.textDocument.detectedLanguageId,l);switch(f){case"server":return a?{blockMode:"parsing",requestMultiline:!0,finishedCb:IW(c),stop:[`

`],maxTokens:CW*c}:{blockMode:"server",requestMultiline:!0,finishedCb:i(u=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let u;try{u=await Zme(e,f,t.textDocument,t.position,s,a,n)}catch{u={requestMultiline:!1}}if(!a&&u.requestMultiline&&e.get(qe).singleLineUnlessAccepted(l)&&(u.requestMultiline=!1),u.requestMultiline){let d;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?d=xi.position(t.position.line,Math.max(t.position.character-n.trailingWs.length,0)):d=t.position,{blockMode:f,requestMultiline:!0,...SW(e,f,t.textDocument,d,u.blockPosition,r,!0,n.prompt,l)}}if(a){let d={blockMode:"parsing",requestMultiline:!0,finishedCb:IW(c),stop:[`

`],maxTokens:CW*c};return f==="moremultiline"&&(d.blockMode="moremultiline"),d}return{blockMode:f,requestMultiline:!1,...SW(e,f,t.textDocument,t.position,u.blockPosition,r,!1,n.prompt,l)}}}}i(Wme,"getGhostTextStrategy");function SW(e,t,r,n,o,s,a,l,c){if(a&&t==="moremultiline"&&_c.isSupported(r.detectedLanguageId)){let f=o==="empty-block"||o==="block-end"?e.get(qe).longLookaheadSize(c):e.get(qe).shortLookaheadSize(c);return{finishedCb:new fb(e,s,r.detectedLanguageId,!1,f,(d,p)=>{let m={prefix:s+d,prompt:{...l,prefix:l.prefix+d}};_y(e,m,p)}).getFinishedCallback(),maxTokens:$me}}return{finishedCb:a?uW(e,r,n):f=>{}}}i(SW,"buildFinishedCallback");var zme={isCycling:!1,promptOnly:!1,isSpeculative:!1};function Hme(e,t,r){let n=Jt(e,Te.CompletionsDebounce)??e.get(qe).completionsDebounce(r)??t.debounceMs;if(n===void 0)return 0;let o=bn()-r.issuedTime;return Math.max(0,n-o)}i(Hme,"getRemainingDebounceMs");function xh(e,t,r){return r?.isCancellationRequested||t!==e.get(Js).currentRequestId}i(xh,"inlineCompletionRequestCancelled");async function Gme(e,t,r,n,o,s){let a=n.issuedTime,l=[];function c(b){let x=bn();l.push([b,x-a]),a=x}i(c,"recordPerformance"),c("telemetry");let f=e.get(qe);if(xh(e,r,o))return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:tn(n)};let u=Kme(t.textDocument,t.position);if(u===void 0)return br.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:tn(n)};let d=bd(e,n),p={...zme,...s,tokenizer:d.tokenizer},m=await Qb(e,r,t,n,void 0,p);if(c("prompt"),m.type==="copilotContentExclusion")return br.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:tn(n)};if(m.type==="contextTooShort")return br.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:tn(n)};if(m.type==="promptError")return br.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:tn(n)};if(p.promptOnly)return{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:m};if(m.type==="promptCancelled")return br.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:tn(n)};if(m.type==="promptTimeout")return br.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:tn(n)};if(m.prompt.prefix.length===0&&m.prompt.suffix.length===0)return br.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:tn(n)};let g=Hme(e,p,n);return g>0&&(br.debug(e,`Debouncing ghost text request for ${g}ms`),await yc(g),xh(e,r,o))?{type:"abortedBeforeIssued",reason:"cancelled after debounce",telemetryData:tn(n)}:e.get(Mr).withProgress(async()=>{let[b]=op(t.textDocument.getText(xi.range(xi.position(0,0),t.position))),x=e.get(Js).hasAcceptedCurrentCompletion(b,m.prompt.suffix),y=m.prompt,T=await Wme(e,t,b,m,p.isCycling,u,x,n);c("strategy");let _=Vme(e,b,y,T.requestMultiline);c("cache");let I=yd(e,t.textDocument.uri),w={blockMode:T.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:I,engineModelId:d.modelId,ourRequestId:r,prefix:b,prompt:m.prompt,multiline:T.requestMultiline,indentation:fW(t.textDocument,t.position),isCycling:p.isCycling,headers:d.headers,stop:T.stop,maxTokens:T.maxTokens,afterAccept:x};w.headers={...w.headers,"X-Copilot-Async":"true","X-Copilot-Speculative":p.isSpeculative?"true":"false"};let j=npe(e,t.textDocument,w,t.position,m,n,d,p);if(_===void 0&&!p.isCycling&&e.get(Ao).shouldWaitForAsyncCompletions(b,m.prompt)){let v=await e.get(Ao).getFirstMatchingRequestWithTimeout(r,b,m.prompt,p.isSpeculative,j);if(c("asyncWait"),v){let R=!T.requestMultiline;_=[[EI(v[0],{forceSingleLine:R})],4]}if(xh(e,r,o))return br.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:tn(j)}}let V=T.blockMode==="moremultiline"&&_c.isSupported(t.textDocument.detectedLanguageId);if(_!==void 0&&(_[0]=_[0].map(v=>vI(e,t.textDocument,t.position,v,V,br)).filter(v=>v!==void 0)),_!==void 0&&_[0].length===0)return br.debug(e,`Found empty inline suggestions locally via ${Jm(_[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:tn(j)};if(_!==void 0&&_[0].length>0&&(!p.isCycling||_[0].length>1))br.debug(e,`Found inline suggestions locally via ${Jm(_[1])}`);else{if(p.isCycling){let v=await qme(e,w,j,o,T.finishedCb);if(v.type==="success"){let R=_?.[0]??[];v.value[0].forEach(S=>{R.findIndex(D=>D.completionText.trim()===S.completionText.trim())===-1&&R.push(S)}),_=[R,3]}else if(_===void 0)return v}else{let v=i((O,M)=>(e.get(Ao).updateCompletion(r,O),T.finishedCb(O,M)),"finishedCb"),R=new or.CancellationTokenSource,S=jme(e,w,j,R.token,v);e.get(Ao).queueCompletionRequest(r,b,m.prompt,R,S);let D=await e.get(Ao).getFirstMatchingRequest(r,b,m.prompt,p.isSpeculative);if(D===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:tn(j)};_=[[D[0]],4]}c("network")}if(_===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:tn(j)};let[G,Y]=_,A=G.map(v=>vI(e,t.textDocument,t.position,v,V,br)).filter(v=>v!==void 0),P=Jt(e,Te.CompletionsDelay)??f.completionsDelay(n),z=bn()-n.issuedTime,N=Math.max(P-z,0);if(Y!==2&&!p.isCycling&&N>0&&(br.debug(e,`Waiting ${N}ms before returning completion`),await yc(N),xh(e,r,o)))return br.debug(e,"Cancelled after completions delay"),{type:"canceled",reason:"after completions delay",telemetryData:Tc(j)};let E=[];for(let v of A){let R=rpe(e,t.textDocument,w,v,j),S=u?EW(t.textDocument,t.position,v):0,O={completion:Qme(v.choiceIndex,v.completionText,m.trailingWs),telemetry:R,isMiddleOfTheLine:u,suffixCoverage:S,copilotAnnotations:v.copilotAnnotations,clientCompletionId:v.clientCompletionId};E.push(O)}return j.properties.clientCompletionId=E[0]?.clientCompletionId,j.measurements.foundOffset=E?.[0]?.telemetry?.measurements?.foundOffset??-1,br.debug(e,`Produced ${E.length} results from ${Jm(Y)} at ${j.measurements.foundOffset} offset`),xh(e,r,o)?{type:"canceled",reason:"after post processing completions",telemetryData:Tc(j)}:(p.isSpeculative||e.get(Js).setGhostText(b,m.prompt.suffix,A,Y),c("complete"),{type:"success",value:[E,Y],telemetryData:tn(j),telemetryBlob:j,resultType:Y,performanceMetrics:l})})}i(Gme,"getGhostTextWithoutAbortHandling");async function CI(e,t,r,n){let o=Ii();e.get(Js).currentRequestId=o;let s=await tpe(e,t.textDocument,o,n);await D5.catch(()=>{});try{return e.get(rl).schedule(t,o,n?.opportunityId??"",s,r,n),e.get(lf).notifyRequest(t,o,s,r,n),await Gme(e,t,o,s,r,n)}catch(a){if(e0(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Tc(s,{cancelledNetworkRequest:!0})};throw a}}i(CI,"getGhostText");function Vme(e,t,r,n){let o=e.get(Js).getCompletionsForUserTyping(t,r.suffix),s=epe(e,t,r.suffix,n);if(o&&o.length>0){let a=(s??[]).filter(l=>!o.some(c=>c.completionText===l.completionText));return[o.concat(a),2]}if(s&&s.length>0)return[s,1]}i(Vme,"getLocalInlineSuggestion");function Kme(e,t){let r=Yme(t,e),n=Xme(t,e);return r&&!n?void 0:r&&n}i(Kme,"isInlineSuggestion");function Yme(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}i(Yme,"isMiddleOfTheLine");function Xme(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}i(Xme,"isValidMiddleOfTheLinePosition");function Jme(e,t){return t.lineAt(e).text.trim().length===0}i(Jme,"isNewLine");var up=class e{constructor(t=!1){this.requestMultilineOverride=t}static{i(this,"ForceMultiLine")}static{this.default=new e}};async function Zme(e,t,r,n,o,s,a){if(e.get(up).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Se(e,"ghostText.longFileMultilineSkip",Qe.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&_c.isSupported(r.detectedLanguageId))return s?{requestMultiline:!0,blockPosition:await Y$(r,n)}:{requestMultiline:!1};if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&Jme(n,r))return{requestMultiline:!0};let c=!1;return!o&&m0(r.detectedLanguageId)?c=await by(r,n):o&&m0(r.detectedLanguageId)&&(c=await by(r,n)||await by(r,r.lineAt(n).range.end)),c||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(c=Q$(a.prompt,r.detectedLanguageId)>.5),{requestMultiline:c}}return{requestMultiline:!1}}i(Zme,"shouldRequestMultiline");function _y(e,t,r){e.get(G0).append(t.prefix,t.prompt.suffix,r)}i(_y,"appendToCache");function Qme(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}i(Qme,"adjustLeadingWhitespace");function epe(e,t,r,n){let o=e.get(G0).findAll(t,r);return o.length===0?(br.debug(e,"Found no completions in cache"),[]):(br.debug(e,`Found ${o.length} completions in cache`),o.map(s=>EI(s,{forceSingleLine:!n})))}i(epe,"getCompletionsFromCache");async function tpe(e,t,r,n){let o={headerRequestId:r};n?.opportunityId&&(o.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(o.completionsActive="true"),n?.isSpeculative&&(o.reason="speculative");let s=Qe.createAndMarkAsIssued(o);return await e.get(qe).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}i(tpe,"createTelemetryWithExp");function rpe(e,t,r,n,o){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l={compCharLen:n.completionText.length,numLines:n.completionText.trim().split(`
`).length};n.meanLogProb&&(l.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(l.meanAlternativeLogProb=n.meanAlternativeLogProb);let c=n.telemetryData.extendedBy(a,l);return c.issuedTime=o.issuedTime,c.measurements.timeToProduceMs=performance.now()-o.issuedTime,RW(c,t),c.extendWithRequestId(s),c.measurements.confidence=yW(e,c),c.measurements.quantile=_W(e,c),br.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${c.measurements.confidence} (expected as good or better than about ${c.measurements.quantile} of all suggestions)`),c}i(rpe,"telemetryWithAddData");function npe(e,t,r,n,o,s,a,l){let c={languageId:t.detectedLanguageId};c.afterAccept=r.afterAccept.toString(),c.isSpeculative=l.isSpeculative.toString();let f=s.extendedBy(c);RW(f,t);let u=r.repoInfo;f.properties.gitRepoInformation=u===void 0?"unavailable":u===0?"pending":"available",u!==void 0&&u!==0&&(f.properties.gitRepoUrl=u.url,f.properties.gitRepoHost=u.hostname,f.properties.gitRepoOwner=u.owner,f.properties.gitRepoName=u.repo,f.properties.gitRepoPath=u.pathname),f.properties.engineName=a.modelId,f.properties.engineChoiceSource=a.engineChoiceSource,f.properties.isMultiline=JSON.stringify(r.multiline),f.properties.isCycling=JSON.stringify(r.isCycling);let d=t.lineAt(n.line),p=t.getText(xi.range(d.range.start,n)),m=t.getText(xi.range(n,d.range.end)),g=Array.from(o.neighborSource.entries()).map(y=>[y[0],y[1].map(T=>(0,wW.SHA256)(T).toString())]),h={beforeCursorWhitespace:JSON.stringify(p.trim()===""),afterCursorWhitespace:JSON.stringify(m.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},b={...Z4(o.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:o.computeTimeMs};o.metadata&&(h.promptMetadata=JSON.stringify(o.metadata)),o.contextProvidersTelemetry&&(h.contextProviders=JSON.stringify(o.contextProvidersTelemetry));let x=f.extendedBy(h,b);return Se(e,"ghostText.issued",x),f}i(npe,"telemetryIssued");function RW(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}i(RW,"addDocumentTelemetry");function DW(e,t,r,n,o){let s=Date.now()-n,a=s-o,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:o,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Se(e,`ghostText.${t}`,l)}i(DW,"telemetryPerformance");var Js=class{constructor(){this.choices=[]}static{i(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,o){o!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&AW(this.choices[0].completionText,n))return ipe(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let o=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return o&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function ipe(e,t){return e.filter(r=>AW(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}i(ipe,"adjustChoicesStart");function AW(e,t){return e.startsWith(t)&&e.length>t.length}i(AW,"startsWithAndExceeds");var If=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let o=t.get(Et);this._tracker=o.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{i(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};var II=class e{constructor(t,r,n=[],o,s,a){this._textDocument=t;this._position=r;this.originalPosition=o??or.Position.create(r.line,r.character),this.originalVersion=s??t.version,this.originalOffset=a??t.offsetAt(this.originalPosition),this._editsWithPosition=[...n]}static{i(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion,this.originalOffset)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,o=this._position,s=n.offsetAt(o),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let f=n.getText(l),u=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),s<n.offsetAt(l.start)){let p={range:l,newText:c,positionAfterEdit:or.Position.create(o.line,o.character)};r&&(p.source="selectedCompletionInfo"),a.push(p);continue}s<u&&(s=u),s+=c.length-f.length,o=n.positionAt(s);let d={range:l,newText:c,positionAfterEdit:or.Position.create(o.line,o.character)};r&&(d.source="selectedCompletionInfo"),a.push(d)}return this.updateState(n,o,a)}};function vy(e,t){return new II(e,t)}i(vy,"createCompletionState");var Ty="codereferencing.showOutputPane",NW="code-referencing";var ei=new _t(NW);var ope=3e3,SI=2,kW=256,OW=Math.log(kW)/Math.log(SI)/SI,Zs={connection:"disabled",maxAttempts:OW,retryAttempts:0,initialWait:!1},Ey,Cy=[];function spe(){if(Ey)return Ey;function e(x){return Cy.push(x),()=>{let y=Cy.indexOf(x);y!==-1&&Cy.splice(y,1)}}i(e,"subscribe");function t(){for(let x of Cy)x()}i(t,"afterUpdateConnection");function r(x){Zs.connection!==x&&(Zs.connection=x,t())}i(r,"updateConnection");function n(){return Zs.connection==="connected"}i(n,"isConnected");function o(){return Zs.connection==="disconnected"}i(o,"isDisconnected");function s(){return Zs.connection==="retry"}i(s,"isRetrying");function a(){return Zs.connection==="disabled"}i(a,"isDisabled");function l(){r("connected"),d(!1)}i(l,"setConnected");function c(){r("disconnected")}i(c,"setDisconnected");function f(){r("retry")}i(f,"setRetrying");function u(){r("disabled")}i(u,"setDisabled");function d(x){Zs.initialWait!==x&&(Zs.initialWait=x)}i(d,"setInitialWait");function p(x,y=ope){s()||(f(),d(!0),g(x,y))}i(p,"enableRetry");function m(){return Zs.initialWait}i(m,"isInitialWait");async function g(x,y){ei.info(x,`Attempting to reconnect in ${y}ms.`),await h(y),d(!1);let T=x.get(on);function _(I,w){if(I>kW){ei.info(w,"Max retry time reached, disabling."),u();return}let j=i(async()=>{Zs.retryAttempts=Math.min(Zs.retryAttempts+1,OW);try{ei.info(w,`Pinging service after ${I} second(s)`);let V=await T.fetch(new URL("_ping",A2(w)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(V.status!==200||!V.ok)_(I**2,w);else{ei.info(w,"Successfully reconnected."),l();return}}catch{_(I**2,w)}},"tryAgain");setTimeout(()=>void j(),I*1e3)}i(_,"succeedOrRetry"),ei.info(x,"Attempting to reconnect."),_(SI,x)}i(g,"attemptToPing");let h=i(x=>new Promise(y=>setTimeout(y,x)),"timeout");function b(x){return{dispose:e(x)}}return i(b,"listen"),Ey={setConnected:l,setDisconnected:c,setRetrying:f,setDisabled:u,enableRetry:p,listen:b,isConnected:n,isDisconnected:o,isRetrying:s,isDisabled:a,isInitialWait:m},Ey}i(spe,"registerConnectionState");var Sf=spe();var qn={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},bh={[qn.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[qn.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[qn.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};function wI(e){return e===401?qn.Unauthorized:e===400?qn.BadArguments:e===404?qn.NotFound:e===429?qn.RateLimit:e>=500&&e<600?qn.InternalError:e>=600?qn.ConnectionError:qn.Unknown}i(wI,"getErrorType");function ta(e,t,r={}){return{kind:"failure",reason:wI(Number(e)),code:Number(e),msg:t,meta:r}}i(ta,"createErrorResponse");var ape=/^[1-6][0-9][0-9]$/,lpe=/([A-Z][a-z]+)/,cpe="code_referencing",yh=class{constructor(t){this.baseKey=t}static{i(this,"CodeQuoteTelemetry")}buildKey(...t){return[cpe,this.baseKey,...t].join(".")}},PI=class extends yh{static{i(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:t}){let r=this.buildKey("open","count"),n=Qe.createAndMarkAsIssued();Se(t,r,n)}handleFocus({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("focus","count");Se(t,n,r)}handleWrite({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("write","count");Se(t,n,r)}},_h=new PI,RI=class extends yh{static{i(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),o=this.buildKey("acknowledge","count");Se(t,o,n)}handleDismiss({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),o=this.buildKey("ignore","count");Se(t,o,n)}},AI=new RI,DI=class extends yh{static{i(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:t,origin:r,reason:n}){let o=Qe.createAndMarkAsIssued({origin:r,reason:n});Bs(t,this.buildKey("unexpectedError"),o)}handleCompletionMissing({context:t,origin:r,reason:n}){let o=Qe.createAndMarkAsIssued({origin:r,reason:n});Bs(t,this.buildKey("completionMissing"),o)}handleSnippyNetworkError({context:t,origin:r,reason:n,message:o}){if(!r.match(ape)){ei.debug(t,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(lpe).filter(l=>!!l).join("_").toLowerCase(),a=Qe.createAndMarkAsIssued({message:o});Bs(t,this.buildKey(s,r),a)}},Iy=new DI;var upe="twirp/github.snippy.v1.SnippyAPI";async function NI(e,t,r,n){let o;try{o=await e.get(Cr).getToken()}catch{return Sf.setDisconnected(),ta(401,bh[qn.Unauthorized])}if(ei.info(e,`Calling ${t}`),Sf.isRetrying())return ta(600,"Attempting to reconnect to the public code matching service.");if(Sf.isDisconnected())return ta(601,"The public code matching service is offline.");let s;try{s=await e.get(on).fetch(Ff(e,o,"origin-tracker",`${upe}/${t}`),{method:r.method,body:r.method==="POST"?JSON.stringify(r.body):void 0,headers:{"content-type":"application/json",authorization:`Bearer ${o.token}`,...ll(e)},signal:n})}catch{return Sf.enableRetry(e),ta(602,"Network error detected. Check your internet connection.")}let a;try{a=await s.json()}catch(g){let h=g.message;throw Iy.handleUnexpectedError({context:e,origin:"snippyNetwork",reason:h}),g}if(s.ok)return{kind:"success",...a};let l={...a,code:Number(s.status)},{code:c,msg:f,meta:u}=l,d=Number(c),p=wI(d),m=f||"unknown error";switch(p){case qn.Unauthorized:return ta(c,bh[qn.Unauthorized],u);case qn.BadArguments:return ta(c,m,u);case qn.RateLimit:return Sf.enableRetry(e,60*1e3),ta(c,bh.RateLimitError,u);case qn.InternalError:return Sf.enableRetry(e),ta(c,bh[qn.InternalError],u);default:return ta(c,m,u)}}i(NI,"call");var Sy=k.Object({kind:k.Literal("failure"),reason:k.String(),code:k.Number(),msg:k.String(),meta:k.Optional(k.Any())}),dpe=k.Object({matched_source:k.String(),occurrences:k.String(),capped:k.Boolean(),cursor:k.String(),github_url:k.String()}),LW=k.Object({source:k.String()}),mpe=k.Object({snippets:k.Array(dpe)}),FW=k.Union([mpe,Sy]),MW=k.Object({cursor:k.String()}),ppe=k.Object({commit_id:k.String(),license:k.String(),nwo:k.String(),path:k.String(),url:k.String()}),gpe=k.Object({has_next_page:k.Boolean(),cursor:k.String()}),hpe=k.Object({count:k.Record(k.String(),k.String())}),xpe=k.Object({file_matches:k.Array(ppe),page_info:gpe,license_stats:hpe}),UW=k.Union([xpe,Sy]);async function BW(e,t,r){let n=await NI(e,"Match",{method:"POST",body:df(LW,{source:t})},r);return df(FW,n)}i(BW,"Match");async function $W(e,{cursor:t},r){let n=await NI(e,"FilesForMatch",{method:"POST",body:df(MW,{cursor:t})},r);return df(UW,n)}i($W,"FilesForMatch");var vh=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),wy=65;function _pe(e){let t=0,r;vh.lastIndex=0;do if(r=vh.exec(e),r&&(t+=1),t>=wy)break;while(r);return t}i(_pe,"lexemeLength");function vpe(e,t){let r=0,n;vh.lastIndex=0;do if(n=vh.exec(e),n&&(r+=1,r>=t))return vh.lastIndex;while(n);return e.length}i(vpe,"offsetFirstLexemes");function jW(e,t){let r=e.split("").reverse().join(""),n=vpe(r,t);return r.length-n}i(jW,"offsetLastLexemes");function Th(e){return _pe(e)>=wy}i(Th,"hasMinLexemeLength");function Epe(e){return f0.Check(Sy,e)}i(Epe,"isError");async function qW(e,t){let r=await t();if(Epe(r)){Iy.handleSnippyNetworkError({context:e,origin:String(r.code),reason:r.reason,message:r.msg});return}return r}i(qW,"snippyRequest");function WW(e){return"kind"in e&&e.kind==="failure"}i(WW,"isMatchError");async function zW(e,t,r,n){let s=await e.get(Et).getTextDocument({uri:t});if(!s){ei.debug(e,`Expected document matching ${t}, got nothing.`);return}let a=s.getText();if(!Th(a)||!Th(a))return;let l=r;if(!Th(r)){let m=a.slice(0,n),g=jW(m,wy);l=a.slice(g,n+r.length)}if(!Th(l))return;let c=await qW(e,()=>BW(e,l));if(!c||WW(c)||!c.snippets.length){ei.info(e,"No match found");return}ei.info(e,"Match found");let{snippets:f}=c,u=f.map(async m=>{let g=await qW(e,()=>$W(e,{cursor:m.cursor}));if(!g||WW(g))return;let h=g.file_matches,b=g.license_stats;return{match:m,files:h,licenseStats:b}}),p=(await Promise.all(u)).filter(m=>m!==void 0);if(p.length)for(let m of p){let g=new Set(Object.keys(m.licenseStats?.count??{}));g.has("NOASSERTION")&&(g.delete("NOASSERTION"),g.add("unknown"));let h=Array.from(g).sort(),b=n,x=n+m.match.matched_source.length,y=s.positionAt(b),T=s.positionAt(x);await e.get(q0).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:b,offsetEnd:x,version:s.version,location:{start:y,end:T},matchingText:l,details:h.map(_=>({license:_,url:m.match.github_url}))})}}i(zW,"fetchCitations");function kI(e,t,r=(n,o)=>n===o?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),o=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let f=0;f<e.length+1;f++)f===0?n[f]=1:n[f]=r(e[f-1],l,f-1,0),o[f]=f>0?f-1:0;for(let f=1;f<t.length;f++){let u=s;s=n,n=u,u=a,a=o,o=u,l=t[f],n[0]=f+1;for(let d=1;d<e.length+1;d++){let p=1+s[d],m=1+n[d-1],g=r(e[d-1],l,d-1,f)+s[d-1];n[d]=Math.min(m,p,g),n[d]===g?o[d]=a[d-1]:n[d]===p?o[d]=a[d]:o[d]=o[d-1]}}let c=0;for(let f=0;f<e.length+1;f++)n[f]<n[c]&&(c=f);return{distance:n[c],startOffset:o[c],endOffset:c}}i(kI,"editDistance");function Cpe(){return new Map}i(Cpe,"emptyLexDictionary");function Ipe(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}i(Ipe,"reverseLexDictionary");function*Spe(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let o of e){let s;/(\p{L}|\p{Nd}|_)/u.test(o)?s=0:o===" "?s=1:s=2,s===n&&s!==2?t+=o:(t.length>0&&(yield t),t=o,n=s)}t.length>0&&(yield t)}i(Spe,"lexGeneratorWords");function HW(e,t,r,n){let o=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),o.push([t.get(a),s])),s+=a.length;return[o,t]}i(HW,"lexicalAnalyzer");function GW(e){return e!==" "}i(GW,"notSingleSpace");function VW(e,t,r=Spe){let[n,o]=HW(e,Cpe(),r,GW),[s,a]=HW(t,o,r,GW);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Ipe(a),c=s.length,f=l[s[0][0]],u=l[s[c-1][0]];function d(h,b,x,y){if(y===0||y===c-1){let T=l[n[x][0]];return y==0&&T.endsWith(f)||y==c-1&&T.startsWith(u)?0:1}else return h===b?0:1}i(d,"compare");let p=kI(n.map(h=>h[0]),s.map(h=>h[0]),d),m=n[p.startOffset][1],g=p.endOffset<n.length?n[p.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:p.distance,startOffset:m,endOffset:g,haystackLexLength:n.length,needleLexLength:s.length}}i(VW,"lexEditDistance");function Eh(e){if(e.length===0)return[];let t=[],r=/\r\n|\r|\n/g,n;for(;(n=r.exec(e))!==null;)t.push({start:n.index,end:n.index+n[0].length,newline:n[0]});return t}i(Eh,"countLines");function KW(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}i(KW,"computeCompletionText");var Ac=new _t("postInsertion"),YW=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],XW=50,wpe=1500,Ppe=.5,Rpe=500,OI={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function JW(e,t,r,n,o){let s=await e.get(z0).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return Ac.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),f=a.positionAt(n),u=await Qb(e,r.properties.headerRequestId,vy(a,f),r),d=u.type==="prompt"?u.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(d.isFimEnabled&&o!==void 0){let p=l.substring(n,o);return d.suffix=l.substring(o),{prompt:d,capturedCode:p,terminationOffset:0}}else{let p=l.substring(n),m=yI(c,n,a.detectedLanguageId),h=dW(m,void 0)(p),b=Math.min(l.length,n+(h?h*2:Rpe)),x=l.substring(n,b);return{prompt:d,capturedCode:x,terminationOffset:h??-1}}}i(JW,"captureCode");function ZW(e,t,r,n,o){o.forEach(({completionText:c,completionTelemetryData:f})=>{Ac.debug(e,`${t}.rejected choiceIndex: ${f.properties.choiceIndex}`),mj(e,t,f)});let s=new If(e,n,r-1),a=new If(e,n,r),l=i(async c=>{Ac.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:f}=o[0],{prompt:u,capturedCode:d,terminationOffset:p}=await JW(e,n,f,s.offset+1,a.offset),m={hypotheticalPromptJson:JSON.stringify({prefix:u.prefix,context:u.context}),hypotheticalPromptSuffixJson:JSON.stringify(u.suffix)},g=f.extendedBy({...m,capturedCodeJson:JSON.stringify(d)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:p});Ac.debug(e,`${t}.capturedAfterRejected choiceIndex: ${f.properties.choiceIndex}`,g),Se(e,t+".capturedAfterRejected",g,1)},"checkInCode");YW.filter(c=>c.captureRejection).map(c=>s.push(Ia(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}i(ZW,"postRejectionTasks");function FI(e,t,r,n,o,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:a.acceptedLength,numLines:a.acceptedLines});Ac.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),dj(e,t,c);let f=r;r=KW(r,a);let u=r.trim(),d=new If(e,o,n),p=new If(e,o,n+r.length),m=i(async g=>{await kpe(e,t,u,n,o,g,c,d,p)},"stillInCodeCheck");if(OI.triggerPostInsertionSynchroneously&&xs(e)){let g=m({seconds:0,captureCode:OI.captureCode,captureRejection:OI.captureRejection});e.get(mo).register(g)}else YW.map(g=>d.push(Ia(e,()=>m(g),"postInsertionTasks"),g.seconds*1e3));Ia(e,Dpe,"post insertion citation check")(e,o,f,r,n,l)}i(FI,"postInsertionTasks");async function Dpe(e,t,r,n,o,s){if(!s||(s.ip_code_citations?.length??0)<1){if(N2(e)?.getTokenValue("sn")==="1")return;await zW(e,t,n,o);return}let a=await e.get(Et).getTextDocument({uri:t});if(a){let l=LI(a.getText(),n,XW,o);l.stillInCodeHeuristic&&(o=l.foundOffset)}for(let l of s.ip_code_citations){let c=Ape(r.length,n.length,l.start_offset);if(c===void 0){Ac.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let f=o+c,u=a?.positionAt(f),d=o+Npe(r.length,n.length,l.stop_offset),p=a?.positionAt(d),m=u&&p?a?.getText({start:u,end:p}):"<unknown>";await e.get(q0).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:f,offsetEnd:d,version:a?.version,location:u&&p?{start:u,end:p}:void 0,matchingText:m,details:l.details.citations})}}i(Dpe,"citationCheck");function Ape(e,t,r){if(!(t<e&&r>t))return r}i(Ape,"computeCitationStart");function Npe(e,t,r){return t<e?Math.min(r,t):r}i(Npe,"computeCitationEnd");function LI(e,t,r,n){let o=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=VW(o,t),a=s.lexDistance/s.needleLexLength,{distance:l}=kI(o.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Ppe?1:0}}i(LI,"find");async function kpe(e,t,r,n,o,s,a,l,c){let f=await e.get(z0).getOrReadTextDocument({uri:o});if(f.status==="valid"){let d=f.document.getText(),p=LI(d,r,XW,l.offset);p.stillInCodeHeuristic||(p=LI(d,r,wpe,l.offset)),Ac.debug(e,`stillInCode: ${p.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${o}. lexEditDistance fraction was ${p.relativeLexEditDistance}. Char edit distance was ${p.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${p.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let m=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},p);if(Se(e,t+".stillInCode",m),s.captureCode){let{prompt:g,capturedCode:h,terminationOffset:b}=await JW(e,o,m,l.offset,c.offset),x={hypotheticalPromptJson:JSON.stringify({prefix:g.prefix,context:g.context}),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)},y=a.extendedBy({...x,capturedCodeJson:JSON.stringify(h)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:b});Ac.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,m),Se(e,t+".capturedAfterAccepted",y,1)}}}i(kpe,"checkStillInCode");var Ope=new _t("ghostText"),ds=class{constructor(){this.#i=[];this.linesAccepted=0}static{i(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function Lpe(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,o;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),o=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,o=r.telemetry);let s={completionText:n,completionTelemetryData:o,offset:r.offset};t.push(s)}}),t}i(Lpe,"computeRejectedCompletions");function Fpe(e,t){let r=e.get(ds);if(!r.position||!r.uri)return;let n=Lpe(r);n.length>0&&ZW(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}i(Fpe,"rejectLastShown");function QW(e,t,r,n){let o=e.get(ds);return o.position&&o.uri&&!(o.position.line===r.line&&o.position.character===r.character&&o.uri.toString()===t.uri.toString())&&n!==2&&Fpe(e,t.offsetAt(o.position)),o.setState(t,r),o.index}i(QW,"setLastShown");function ez(e,t){let r=e.get(ds);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;Ope.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,fj(e,"ghostText",t)}}i(ez,"handleGhostTextShown");function Mpe(e,t,r){let n=e.get(ds);n.linesLeft===void 0&&(n.linesLeft=Eh(t.displayText));let o=Eh(t.displayText);n.linesLeft.length>o.length&&(n.linesAccepted+=n.linesLeft.length-o.length,n.lastLineAcceptedLength=n.partiallyAcceptedLength,n.linesLeft=o),n.partiallyAcceptedLength=(n.lastLineAcceptedLength||0)+r}i(Mpe,"handleLineAcceptance");function tz(e,t,r="ghostText"){let n=e.get(ds),o;return n.partiallyAcceptedLength?o={compType:"full",acceptedLength:(n.partiallyAcceptedLength||0)+t.displayText.length,acceptedLines:n.linesAccepted+(n.linesLeft?.length??0)}:o={compType:"full",acceptedLength:t.displayText.length,acceptedLines:Eh(t.displayText).length},n.resetState(),FI(e,r,t.displayText,t.offset,t.uri,t.telemetry,o,t.copilotAnnotations)}i(tz,"handleGhostTextPostInsert");function rz(e,t,r,n=0,o="ghostText",s="line"){let a=e.get(ds),l;return s==="cumulative"?(Upe(e,t,r),l={compType:a.totalLength!=null?"full":"partial",acceptedLength:a.totalLength??(a.partiallyAcceptedLength||0),acceptedLines:a.linesAccepted},l.compType==="full"&&a.resetState()):(Mpe(e,t,r),l={compType:"partial",acceptedLength:a.partiallyAcceptedLength||0,acceptedLines:a.linesAccepted}),FI(e,o,t.displayText,t.offset,t.uri,t.telemetry,l,t.copilotAnnotations)}i(rz,"handlePartialGhostTextPostInsert");function Upe(e,t,r){let n=e.get(ds);n.partiallyAcceptedLength=(n.partiallyAcceptedLength||0)+r,n.linesAccepted=Eh(t.insertText.substring(0,n.partiallyAcceptedLength)).length,n.partiallyAcceptedLength>=t.insertText.length&&(n.totalLength=n.partiallyAcceptedLength)}i(Upe,"handleCumulativeAcceptance");function nz(e){let t=new W3;return t.set(Ls,e),t.set(Fc,new Fc),t.set(Sn,new Sn),t.set(G0,new G0),t.set(Bl,new Bl),t.set(qe,new qe(t)),t.set(lu,new lu),t.set(ji,new ji(t)),t.set(Us,new Us),t.set(v0,new v0),t.set(vc,new Yg),t.set(au,new Q5),t.set(Bc,new C2),t.set(mo,new mo),t.set(lf,new lf(t)),t.set(z0,new z0(t)),t.set(nl,new nl(t)),t.set(Ef,iW(t)),t.set(ds,new ds),t.set(Js,new Js),t.set(up,up.default),t.set(Za,new Za(t)),t.set(d0,new d0(t)),t.set(Ed,new Ed),t.set(Ao,new Ao(t)),t.set(Ug,new Ug),t.set(Bg,new Bg(t)),t.set(el,new el),t}i(nz,"createCommonContext");async function MI(e){try{await D5}catch(t){Pc(e,t,"initializeTokenizers")}}i(MI,"waitForTokenizers");var n7t=new _t("exp");function iz(e){let t=e.get(qe);t.registerStaticFilters(jpe(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>Jt(e,Te.DebugOverrideEngine)||Jt(e,Te.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>ml()?"copilot-web":e.get(cr).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>UI(!e.get(Sn).isProduction()&&e.get(cr).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(cr).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>Bpe(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(cr).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>UI(e.get(cr).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>$pe(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(cr).getRelatedPluginInfo()){let o=Lo+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(_p).includes(o)){T2(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[o]=UI(n.version)}return r})}i(iz,"setupExperimentationService");function Bpe(e){let t=e.get(cr).getEditorPluginInfo();return t.name==="copilot"&&m1(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}i(Bpe,"getPluginRelease");function $pe(e){let t=e.get(cr).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}i($pe,"getTargetPopulation");function jpe(e){return qpe(e)}i(jpe,"createAllFilters");function qpe(e){let t=e.get(dn);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":e.get(Sn).isProduction()?p1(e):"1.999.0"}}i(qpe,"createDefaultFilters");function UI(e){return e.split("-")[0]}i(UI,"trimVersionSuffix");var Py=class extends gl{static{i(this,"TelemetryLogSenderWeb")}sendError(t,r,...n){Bs(t,"log",Qe.createAndMarkAsIssued({context:r,level:V2[1],message:Wpe(...n)}),1)}sendException(t,r,n){Oo(t,r,n)}};function Wpe(...e){return e.map(t=>zpe(t)).join(" ")}i(Wpe,"telemetryMessage");function zpe(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||e===void 0)return`${e}`;try{return JSON.stringify(e)}catch{return e}}i(zpe,"safeStringify");var Ry=class extends on{constructor(r){super();this.ctx=r;this.name="FetchFetcher";this.userAgent=`GithubCopilot/${this.ctx.get(Sn).getVersion()}`}static{i(this,"FetchFetcher")}async fetch(r,n){let o=n.headers||{};o["User-Agent"]=this.userAgent;let s=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");o["Content-Type"]="application/json",s=JSON.stringify(n.json)}let a=n.method||"GET";if(a!=="GET"&&a!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");if(n.signal&&!(n.signal instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");let l=AbortSignal.any([...n.signal?[n.signal]:[],...n.timeout?[AbortSignal.timeout(n.timeout)]:[]]),c=await fetch(r,{method:a,headers:o,body:s,signal:l});return new E2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}async disconnectAll(){}};var Dy=class extends Sc{static{i(this,"EmptyRecentEditsProvider")}isEnabled(){return!1}start(){}getRecentEdits(){return[]}getEditSummary(t){return null}};var oz=100,sz=1e3*60*5;function az(e){let t=new BI(e);e.get(X0).registerContextProvider(t),e.get(wc).add(t.id)}i(az,"registerRelatedFilesShim");var BI=class{constructor(t){this.ctx=t;this.id="relatedFilesShim";this.selector=["*"];this.traitCache=new Mc(oz,sz);this.relatedFilesCache=new Mc(oz,sz);this.resolver={resolve:i(async(r,n)=>{let o=r.documentContext.uri,s=r.documentContext.languageId;return await this.getTraits(o,s,n)},"resolve")}}static{i(this,"RelatedFilesShim")}async getTraits(t,r,n){return this.traitCache.has(t)||await this.requestRelatedFilesAndTraits(t,r,r,n),this.traitCache.get(t)??[]}async requestRelatedFilesAndTraits(t,r,n,o){try{let s=await this.ctx.get(qe).updateExPValuesAndAssignments({uri:t,languageId:n}),a={uri:t,clientLanguageId:r,detectedLanguageId:n},l=await Yb(this.ctx,a,s,o,!0);if(o?.isCancellationRequested)return;let c=l.traits.filter(u=>u.includeInPrompt).map(u=>u.promptTextOverride?{name:"OtherInformation",value:u.promptTextOverride}:u),f=new Set;for(let u of l.entries.values())for(let d of u.keys())f.add(d);this.traitCache.set(t,c),this.relatedFilesCache.set(t,Array.from(f))}catch(s){Pc(this.ctx,s,"relatedFilesShim")}}};var lz=["cpp","c","cuda-cpp"],cz=["typescript","javascript","typescriptreact","javascriptreact"],uz=["csharp"],Hpe=new Map([...lz.map(e=>[e,"related/cpp"]),...cz.map(e=>[e,"related/typescript"]),...uz.map(e=>[e,"related/csharproslyn"])]);function Gpe(e){return Hpe.get(e)??"related/other"}i(Gpe,"getNeighboringFileType");var Ay=class extends Tf{constructor(r){super(r);this.providers=new Map;this.telemetrySent=!1;this.reportedUnknownProviders=new Set}static{i(this,"CompositeRelatedFilesProvider")}async getRelatedFilesResponse(r,n,o){let s=Date.now(),a=r.clientLanguageId.toLowerCase();if(Gpe(a)==="related/other"&&!this.reportedUnknownProviders.has(a)&&(this.reportedUnknownProviders.add(a),jn.warn(this.context,`unknown language ${a}`)),this.relatedFilesTelemetry(n),jn.debug(this.context,`Fetching related files for ${r.uri}`),!this.isActive(a,n))return jn.debug(this.context,"language-server related-files experiment is not active."),tI;let c=this.providers.get(a);if(!c)return tI;try{return this.convert(r.uri,c,s,n,o)}catch{this.relatedFileNonresponseTelemetry(a,n);return}}async convert(r,n,o,s,a){a||(a={isCancellationRequested:!1,onCancellationRequested:i(()=>({dispose(){}}),"onCancellationRequested")});let l={entries:[],traits:[]},c=n.size>0;for(let f of n.values()){let u=await f.callback(r,{flags:{}},a);if(u){c=!1,l.entries.push(...u.entries),u.traits&&l.traits.push(...u.traits);for(let d of u.entries)for(let p of d.uris)jn.debug(this.context,p.toString())}}return this.performanceTelemetry(Date.now()-o,s),c?void 0:l}registerRelatedFilesProvider(r,n,o){let s=this.providers.get(n);s?s.set(r,{extensionId:r,languageId:n,callback:o}):this.providers.set(n,new Map([[r,{extensionId:r,languageId:n,callback:o}]]))}unregisterRelatedFilesProvider(r,n,o){let s=this.providers.get(n);if(s){let a=s.get(r);a&&a.callback===o&&s.delete(r)}}isActive(r,n){return uz.includes(r)?this.context.get(qe).relatedFilesVSCodeCSharp(n)||Jt(this.context,Te.RelatedFilesVSCodeCSharp):cz.includes(r)?this.context.get(qe).relatedFilesVSCodeTypeScript(n)||Jt(this.context,Te.RelatedFilesVSCodeTypeScript):lz.includes(r)?this.context.get(qe).cppHeadersEnableSwitch(n)||Jt(this.context,Te.DebugOverrideCppHeadersEnableSwitch):this.context.get(qe).relatedFilesVSCode(n)||Jt(this.context,Te.RelatedFilesVSCode)}relatedFilesTelemetry(r){}relatedFileNonresponseTelemetry(r,n){}performanceTelemetry(r,n){}};var pz=yt(jc());var Vpe=new _t("repository"),wf="\\\\",gz="(?:[#;].*)",fp=`(?:[^"${wf}]|${wf}.)`,Kpe="[0-9A-Za-z-]",fz=`[A-Za-z]${Kpe}*`,hz=`\\s*${gz}?$`,xz=`(?:[^"${wf};#]|${wf}.)`,Ype=`(?:"${fp}*"|"${fp}*(?<strCont>${wf})$)`,Xpe=`(?:${xz}|${Ype})+`,Jpe=`(?:(?<cont>${wf})$)`,bz=`(?<value>${Xpe})${Jpe}?${hz}`,dz=new RegExp(`^${bz}`),Zpe=new RegExp(`^(?<value>${fp}*(?:(?<strCont>${wf})$|(?<quote>")))`),Qpe=new RegExp(`^\\s*(?:(?<key>${fz})\\s*=\\s*${bz}|(?<soloKey>${fz})${hz})`),e1e=new RegExp(`(?<value>${xz}+)|"(?<string>${fp}*)"`,"g"),mz="[-.0-9A-Za-z]+",t1e=`\\s+"(?<ext>${fp}*)"`,r1e=`\\s+"(?<extOnly>${fp}*)"`,n1e=new RegExp(`^\\s*\\[(?:(?<simple>${mz})${t1e}|${r1e}|(?<simpleOnly>${mz}))\\]`),i1e=new RegExp(`^\\s*${gz}$`),$I=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{i(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(n1e);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(Qpe);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Zpe),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(dz),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(dz),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(e1e)].map(o=>o.groups?.value?(r=!0,this.unescapeValue(o.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(o.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,o)=>r[o]||o)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){i1e.test(this.line)&&(this.line="")}},Ny=class extends xc{static{i(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await Za.getRepoConfigLocation(t,r);if(!n)return;let o=await this.getParsedConfig(t,n);if(o)return this.mergeConfig(await this.baseConfig(t,n),o)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new qg)}async getParsedConfig(t,r,n=!0){let o=await this.tryLoadConfig(t,r,n);if(!o)return;let s=new $I(o),a=new qg;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Zr).readFileString(r)}catch(o){(n||!(o instanceof Error)||o.code!=="ENOENT")&&Vpe.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,o);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),o=Nn(this.xdgConfigUri(),"git","config"),s=Nn(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,o,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(fl(r).toLowerCase()!=="config.worktree")return;let n=aa(r),o=Nn(n,"commondir");try{let s=(await t.get(Zr).readFileString(o)).trimEnd();return Nn(Wc(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?R2(process.env.XDG_CONFIG_HOME):Nn(this.homeUri(),".config")}homeUri(){return R2((0,pz.homedir)())}};var fr=require("vscode");var yz={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function _z(e,t){let r=Qe.createAndMarkAsIssued({authSource:t});return Se(e,yz.AuthNotifyShown,r)}i(_z,"telemetryAuthNotifyShown");function vz(e,t,r){let n=Qe.createAndMarkAsIssued({authSource:t,authType:r});return Se(e,yz.NewGitHubLogin,n)}i(vz,"telemetryNewGitHubLogin");var Pf=require("vscode");var Tz=["user:email"];var Nc=require("vscode");var Ez={GitHub:"github",GitHubEnterprise:"github-enterprise"},Cz="https://github.com",o1e=["read:user"],s1e=["read:user","user:email","repo","workflow"];function kc(){let e=Nc.workspace.getConfiguration(Hr).get("advanced")?.authProvider;return e===Ez.GitHubEnterprise?{providerId:e,serverUrl:Nc.workspace.getConfiguration(Mh).get("uri")||Cz}:{providerId:Ez.GitHub,serverUrl:Cz}}i(kc,"getSessionConfig");function a1e(){return Nc.workspace.getConfiguration(Hr).get("advanced")?.authPermissions==="minimal"}i(a1e,"isAuthMinimalMode");async function Iz(e){let{providerId:t,serverUrl:r}=kc(),n={silent:!0};e.forceNewSession&&(n=e);let o;try{a1e()||(o=await Nc.authentication.getSession(t,s1e,n),o??=await Nc.authentication.getSession(t,o1e,n)),o??=await Nc.authentication.getSession(t,Tz,e)}catch(s){throw typeof s=="string"?new ss({reason:"NotSignedIn",message:s}):s instanceof Error&&s.message==="Cancelled"?new ss({reason:"NotSignedIn",message:s.message}):s}if(o)return{accessToken:o.accessToken,account:o.account,...M1({serverUrl:r})}}i(Iz,"getSessionHelper");async function ky(){return await Iz({createIfNone:!1})}i(ky,"getExistingSession");async function Sz(){return Iz({createIfNone:!0})}i(Sz,"getOrCreateSession");function wz(e){return Pf.authentication.onDidChangeSessions(async t=>{let r=kc();if(t.provider.id!==r.providerId)return;let n=e.get(Cr);n.resetToken(),await n.primeToken()})}i(wz,"registerAuthentication");async function Pz(e){_z(e,"command"),vz(e,"command","editorAuth"),await Sz(),await e.get(Cr).primeToken()}i(Pz,"signInCommand");var Oy=class extends M3{constructor(){super(...arguments);this.everActivated=!1;this.shown401Message=!1}static{i(this,"VSCodeCopilotTokenManager")}async getGitHubSession(){let r=await ky();return r&&{...r,login:r.account.label}}async getToken(){try{let r=await super.getToken();return this.everActivated=!0,Pf.commands.executeCommand("setContext","github.copilot.activated",!0),r}catch(r){if(Pf.commands.executeCommand("setContext","github.copilot.activated",!1),r instanceof ss&&r.result.reason==="HTTP401"){let n="Your GitHub token is invalid. Please sign out from your GitHub account using the Visual Studio Code UI and try again.";this.everActivated&&!this.shown401Message&&(this.shown401Message=!0,Pf.window.showWarningMessage(n))}throw r}}};var HI=require("vscode");var WI=require("vscode");var Rz=require("vscode");var qI="GitHub Copilot Log (Code References)";function l1e(){let e=i(n=>n<10?`0${n}`:n,"toTwoDigits"),t=i(n=>n<10?`00${n}`:n<100?`0${n}`:n,"toThreeDigits"),r=new Date;return`${r.getFullYear()}-${e(r.getMonth()+1)}-${e(r.getDate())} ${e(r.getHours())}:${e(r.getMinutes())}:${e(r.getSeconds())}.${t(r.getMilliseconds())}`}i(l1e,"getCurrentTimestamp");var jI=class{constructor(t){this.output=t}static{i(this,"CodeReferenceOutputChannel")}info(...t){this.output.appendLine(`${l1e()} [info] ${t.join(" ")}`)}show(t){this.output.show(t)}dispose(){this.output.dispose()}},Ly=class e{constructor(t){this.checkCopilotToken=i(t=>{t.envelope.code_quote_enabled?this.output=this.createChannel():this.output?.dispose()},"checkCopilotToken");this.#e=Kr(t,r=>this.checkCopilotToken(r)),this.output=this.createChannel()}static{i(this,"GitHubCopilotLogger")}#e;static create(t){return new e(t)}createChannel(){return this.output?this.output:new jI(Rz.window.createOutputChannel(qI,"code-referencing"))}log(t,...r){this.output||(this.output=this.createChannel());let[n,...o]=r;this.output[t](n,...o)}info(...t){this.log("info",...t)}forceShow(){this.output?.show(!0)}dispose(){this.output?.dispose(),this.#e.dispose()}};var zI=class{constructor(t){this.ctx=t;this.activeLog=!1;this.subscriptions=[];this.onActiveEditorChange=i(t=>{this.isOutputLog(t)&&_h.handleFocus({context:this.ctx})},"onActiveEditorChange");this.onVisibleEditorsChange=i(t=>{let r=t.find(this.isOutputLog);this.activeLog?r||(this.activeLog=!1):r&&(this.activeLog=!0,_h.handleOpen({context:this.ctx}))},"onVisibleEditorsChange");this.isOutputLog=i(t=>t&&t.document.uri.scheme==="output"&&t.document.uri.path.includes(qI),"isOutputLog")}static{i(this,"CodeRefEngagementTracker")}register(){let t=WI.window.onDidChangeActiveTextEditor(this.onActiveEditorChange),r=WI.window.onDidChangeVisibleTextEditors(this.onVisibleEditorsChange);this.subscriptions.push(r),this.subscriptions.push(t)}dispose(){for(let t of this.subscriptions)t.dispose();this.subscriptions=[]}get logVisible(){return this.activeLog}};function Dz(e){let t=new zI(e);return t.register(),t}i(Dz,"registerCodeRefEngagementTracker");var Fy=class{constructor(t){this.ctx=t;this.enabled=!1;this.onCopilotToken=i(t=>{if(this.enabled=t.envelope.code_quote_enabled||!1,!t.envelope.code_quote_enabled){this.subscriptions?.dispose(),this.subscriptions=void 0,ei.debug(this.ctx,"Public code references are disabled.");return}ei.info(this.ctx,"Public code references are enabled."),this.addDisposable(Dz(this.ctx))},"onCopilotToken")}static{i(this,"CodeReference")}dispose(){this.subscriptions?.dispose(),this.event?.dispose()}register(){return xs(this.ctx)||(this.event=Kr(this.ctx,this.onCopilotToken)),this}addDisposable(t){this.subscriptions?this.subscriptions=HI.Disposable.from(this.subscriptions,t):this.subscriptions=HI.Disposable.from(t)}};var Lz=require("vscode");var dp=require("vscode");var Di=class{constructor(t){this.context=t}static{i(this,"Extension")}addSubscription(...t){this.context.subscriptions.push(...t)}};var c1e="We found a reference to public code in a recent suggestion. To learn more about public code references, review the [documentation](https://aka.ms/github-copilot-match-public-code).",Az="View reference",Nz="Change setting",kz="codeReference.notified";function Oz(e){let t=e.get(Di);if(t.context.globalState.get(kz))return;let n=e.get(ki),o=[{title:Az},{title:Nz}];return n.showWarningMessage(c1e,...o).then(async s=>{let a={context:e,actor:"user"};switch(s?.title){case Az:{AI.handleDoAction(a),await dp.commands.executeCommand(Ty);break}case Nz:{await dp.env.openExternal(dp.Uri.parse("https://aka.ms/github-copilot-settings"));break}case void 0:{AI.handleDismiss(a);break}}}),t.context.globalState.update(kz,!0)}i(Oz,"notify");var My=class extends q0{constructor(r){super();this.codeReference=r;let n=Kr(r.ctx,o=>{if(this.logger)return;this.logger=Ly.create(r.ctx);let s=Lz.commands.registerCommand(Ty,()=>this.logger?.forceShow());this.codeReference.addDisposable(s)});this.codeReference.addDisposable(n)}static{i(this,"LoggingCitationManager")}async handleIPCodeCitation(r,n){if(!this.codeReference.enabled||!this.logger||n.details.length===0)return;let o=n.location?.start,s=o?`[Ln ${o.line+1}, Col ${o.character+1}]`:"Location not available",a=`${n.matchingText?.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`;this.logger.info(n.inDocumentUri,"Similar code at ",s,a);for(let l of n.details){let{license:c,url:f}=l;this.logger.info(`License: ${c.replace("NOASSERTION","unknown")}, URL: ${f}`)}_h.handleWrite({context:r}),await Oz(r)}};var Pt=yt(require("vscode"));var Fz=new _t("extensionConfig"),Uy=class extends Ls{constructor(r){super();this.env=r;this.config=Pt.workspace.getConfiguration(Hr),Pt.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(Hr)&&(this.config=Pt.workspace.getConfiguration(Hr))})}static{i(this,"VSCodeConfigProvider")}getConfig(r){return L6(this.config,r)??WN(r)}getOptionalConfig(r){return L6(this.config,r)??zN(r)}dumpForTelemetry(){return{}}getHttpSettings(){let r=Pt.workspace.getConfiguration().get("http");return r?.proxy?X5(r):DN(this.env)}onDidChangeHttpSettings(r){return Pt.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("http")&&r(this.getHttpSettings())})}},u1e=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]),By=class extends cr{static{i(this,"VSCodeEditorInfo")}getEditorInfo(){let t=Pt.env.uriScheme;Pt.version.endsWith("-insider")&&(t=t.replace(/-insiders$/,""));let r=Pt.env.remoteName;return r&&(t+=`@${u1e.has(r)?r:"other"}`),{name:"vscode",readableName:Pt.env.appName.replace(/ - Insiders$/,""),devName:t,version:Pt.version,root:Pt.env.appRoot}}getEditorPluginInfo(){return{name:"copilot",readableName:"GitHub Copilot for Visual Studio Code",version:su.version}}getRelatedPluginInfo(){return["ms-vscode.cpptools","ms-vscode.cmake-tools","ms-vscode.makefile-tools","ms-dotnettools.csdevkit","ms-python.python","ms-python.vscode-pylance","vscjava.vscode-java-pack","vscode.typescript-language-features","ms-vscode.vscode-typescript-next","ms-dotnettools.csharp"].map(t=>{let r=Pt.extensions.getExtension(t)?.packageJSON;if(r&&typeof r=="object"&&"version"in r&&typeof r.version=="string")return{name:t,version:r.version}}).filter(t=>t!==void 0)}};function GI(e){return{"*":!0,...e.get(Ls).getConfig(Te.Enable)??{}}}i(GI,"getEnabledConfigObject");function f1e(e,t){let r=GI(e);return r[t]??r["*"]??!0}i(f1e,"getEnabledConfig");function Oc(e){let t=Pt.window.activeTextEditor;if(t)return d1e(e,t.document)}i(Oc,"isCompletionEnabled");function d1e(e,t){return f1e(e,t.languageId)}i(d1e,"isCompletionEnabledForDocument");function mp(){return Pt.workspace.getConfiguration("editor.inlineSuggest").get("enabled")}i(mp,"isInlineSuggestEnabled");var m1e=[["workspaceFolderLanguageValue",Pt.ConfigurationTarget.WorkspaceFolder,!0],["workspaceFolderValue",Pt.ConfigurationTarget.WorkspaceFolder,!1],["workspaceLanguageValue",Pt.ConfigurationTarget.Workspace,!0],["workspaceValue",Pt.ConfigurationTarget.Workspace,!1],["globalLanguageValue",Pt.ConfigurationTarget.Global,!0],["globalValue",Pt.ConfigurationTarget.Global,!1]];function Mz(){let e=Pt.workspace.getConfiguration(Hr).inspect(Te.Enable);return e?.workspaceFolderValue!==void 0?Pt.ConfigurationTarget.WorkspaceFolder:e?.workspaceValue!==void 0?Pt.ConfigurationTarget.Workspace:Pt.ConfigurationTarget.Global}i(Mz,"getConfigurationTargetForEnabledConfig");async function VI(e){let t=Pt.window.activeTextEditor?.document;for(let[s,a]of[["","editor.inlineSuggest.enabled"]]){let l=Pt.workspace.getConfiguration(s,t),c=l.inspect(a);for(let[f,u,d]of m1e){if(Pt.workspace.getConfiguration(s,t).get(a))break;c?.[f]===!1&&await l.update(a,!0,u,d)}}let r=Pt.window.activeTextEditor?.document.languageId;if(!r)return;let n=Pt.workspace.getConfiguration(Hr),o={...GI(e)};if(r in o?o[r]=!0:o["*"]=!0,await n.update(Te.Enable,o,Mz()),!Oc(e)){let s=Pt.workspace.getConfiguration(Hr).inspect(Te.Enable),a=new Error(`Failed to enable completions for ${r}: ${JSON.stringify(s)}`);Fz.exception(e,a,".enable")}}i(VI,"enableCompletions");async function KI(e){let t=Pt.window.activeTextEditor?.document.languageId;if(!t)return;let r=Pt.workspace.getConfiguration(Hr),n={...GI(e)};if(t in n?n[t]&&(n[t]=!1):n["*"]=!1,await r.update(Te.Enable,n,Mz()),Oc(e)){let o=Pt.workspace.getConfiguration(Hr).inspect(Te.Enable),s=new Error(`Failed to disable completions for ${t}: ${JSON.stringify(o)}`);Fz.exception(e,s,".disable")}}i(KI,"disableCompletions");async function Uz(e){Oc(e)&&mp()?await KI(e):await VI(e)}i(Uz,"toggleCompletions");var Bz="github.copilot.generate";var $y="github.copilot.completions.enable",jy="github.copilot.completions.disable",$z="github.copilot.completions.toggle",qy="github.copilot.toggleStatusMenu",Wy="github.copilot.sendFeedback",zy="github.copilot.openDocs",jz="github.copilot.collectDiagnostics",Hy="github.copilot.signIn",Ch="github.copilot.openLogs",Gy="github.copilot.openModelPicker";var Vy=require("vscode");async function Wz(e,t,r){let n=Vy.workspace.textDocuments.find(s=>s.uri.toString()===r.uri);return!n||(await mf(e,r,n.getText())).status!=="valid"?0:Vy.languages.match(t,n)}i(Wz,"contextProviderMatch");var zz=require("vscode");var Ky=class extends ki{static{i(this,"ExtensionNotificationSender")}async showWarningMessage(t,...r){let n=await zz.window.showWarningMessage(t,...r.map(o=>o.title));if(n!==void 0)return{title:n}}async showWarningMessageOnlyOnce(t,r,...n){if(t!=="free_over_limits")return super.showWarningMessageOnlyOnce(t,r,...n)}};var ra=class{constructor(t="Normal",r,n=!1,o){this.kind=t;this.message=r;this.busy=n;this.command=o}static{i(this,"CopilotExtensionStatus")}};var Lc=require("vscode");var YI=class extends Zr{static{i(this,"ExtensionFileSystem")}async readFileString(t){return typeof t!="string"&&(t=t.uri),new TextDecoder().decode(await Lc.workspace.fs.readFile(Lc.Uri.parse(t,!0)))}async stat(t){return typeof t!="string"&&(t=t.uri),await Lc.workspace.fs.stat(Lc.Uri.parse(t,!0))}async readDirectory(t){return typeof t!="string"&&(t=t.uri),await Lc.workspace.fs.readDirectory(Lc.Uri.parse(t,!0))}},Hz=new YI;function Gz(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(f=>{let u=f.replace(c,""),d=f.length-u.length;return l(d)+u}).join(`
`)}i(n,"replace");let o;if(e.tabSize===void 0||typeof e.tabSize=="string"?o=4:o=e.tabSize,e.insertSpaces===!1){let s=i(a=>n(a," ",l=>"	".repeat(Math.floor(l/o))+" ".repeat(l%o)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=i(a=>n(a,"	",l=>" ".repeat(l*o)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=i(l=>{if(l==="")return l;let c=l.split(`
`)[0],f=c.length-c.trimStart().length,u=f%o;if(u!==0&&f>0){let d=" ".repeat(u);return n(l,d,p=>" ".repeat((Math.floor(p/o)+1)*o))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}i(Gz,"normalizeIndentCharacter");function Vz(e,t,r,n,o,s,a){let l=n.lineAt(o),c=t.map(f=>{let u=xi.range(xi.position(o.line,0),xi.position(o.line,o.character+f.suffixCoverage)),d="";if(s&&(f.completion=Gz(s,f.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(f.completion.displayNeedsWsOffset||f.completion.completionText.startsWith(l.text)))d=f.completion.completionText;else{let m=xi.range(u.start,o);d=n.getText(m)+f.completion.displayText}return{uuid:Ii(),insertText:d,range:u,uri:n.uri,index:f.completion.completionIndex,telemetry:f.telemetry,displayText:f.completion.displayText,position:o,offset:n.offsetAt(o),resultType:r,copilotAnnotations:f.copilotAnnotations,clientCompletionId:f.clientCompletionId}});if(r===2&&a!==void 0){let f=c.find(u=>u.index===a);if(f){let u=c.filter(d=>d.index!==a);c=[f,...u]}}return c}i(Vz,"completionsFromGhostTextResults");async function g1e(e,t,r,n={}){let o=0;n.selectedCompletionInfo?.text&&!n.selectedCompletionInfo.text.includes(")")&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),o=t.position.character-n.selectedCompletionInfo.range.end.character);let s=await CI(e,t,r,n);if(s.type!=="success")return s;let[a,l]=s.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:s.telemetryBlob}};let c=QW(e,t.textDocument,t.position,l),f=Vz(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:s.telemetryData};if(l!==2){t=t.applyEdits([{newText:f[0].insertText,range:f[0].range}]);let d={isSpeculative:!0,opportunityId:n.opportunityId},p=i(()=>CI(e,t,void 0,d),"fn");e.get(el).set(f[0].clientCompletionId,p)}let u=f.map(d=>{let{start:p,end:m}=d.range,g=or.Range.create(p,or.Position.create(m.line,m.character-o));return{...d,range:g}});return{...s,value:u}}i(g1e,"getInlineCompletionsResult");async function Kz(e,t,r,n,o={}){h1e(e,t,r);let s=await g1e(e,vy(t,r),n,o);return pj(e,s)}i(Kz,"getInlineCompletions");function h1e(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),o=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});db.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(o)}.`)}i(h1e,"logCompletionLocation");var ko=require("vscode");var il=require("vscode");var x1e=new Set(["output","search-editor","comment"]);function Ih(e,t){if(x1e.has(t.uri.scheme))return;let r;try{r=t.getText()}catch(o){if(o instanceof RangeError)return;throw o}let n=H3({uri:t.uri.toString(),languageId:t.languageId});return uf.create(t.uri.toString(),t.languageId,t.version,r,n)}i(Ih,"wrapDoc");var Yy=class extends Et{constructor(r){super(r);this.onDidFocusTextDocument=i((r,n)=>il.window.onDidChangeActiveTextEditor(o=>{let s=o?.document.uri;s?r.call(n,{document:{uri:s.toString()}}):r.call(n,void 0)}),"onDidFocusTextDocument");this.onDidChangeTextDocument=i((r,n,o)=>il.workspace.onDidChangeTextDocument(s=>{let a=Ih(this.ctx,s.document);a&&r({document:a,contentChanges:s.contentChanges})},n,o),"onDidChangeTextDocument");this.onDidOpenTextDocument=i((r,n,o)=>il.workspace.onDidOpenTextDocument(s=>{let a=Ih(this.ctx,s)?.getText();a!==void 0&&r({document:{uri:s.uri.toString(),languageId:s.languageId,version:s.version,text:a}})},n,o),"onDidOpenTextDocument");this.onDidCloseTextDocument=i((r,n,o)=>il.workspace.onDidCloseTextDocument(s=>{r({document:{uri:Fo(s.uri.toString())}})},n,o),"onDidCloseTextDocument")}static{i(this,"ExtensionTextDocumentManager")}getTextDocumentsUnsafe(){let r=[];for(let n of il.workspace.textDocuments){let o=Ih(this.ctx,n);o&&r.push(o)}return r}findNotebook(r){for(let n of il.workspace.notebookDocuments)if(n.getCells().some(o=>o.document.uri.toString()===r.uri.toString()))return{getCells:i(()=>n.getCells().map(o=>this.wrapCell(o)),"getCells"),getCellFor:i(({uri:o})=>{let s=n.getCells().find(a=>a.document.uri.toString()===o.toString());return s?this.wrapCell(s):void 0},"getCellFor")}}wrapCell(r){return{...r,get document(){return uf.create(r.document.uri.toString(),r.document.languageId,r.document.version,r.document.getText(),r.document.languageId)}}}getWorkspaceFolders(){return il.workspace.workspaceFolders?.map(r=>({uri:r.uri.toString(),name:r.name}))??[]}};var Yz="_github.copilot.ghostTextPostInsert",Xy=class{constructor(t){this.ctx=t}static{i(this,"GhostTextProvider")}async provideInlineCompletionItems(t,r,n,o){let s=Ih(this.ctx,t);if(!s)return;let a=n.requestUuid,l=ko.window.visibleTextEditors.find(u=>u.document.uri===t.uri)?.options,c=await Kz(this.ctx,s,r,o,{isCycling:n.triggerKind===ko.InlineCompletionTriggerKind.Invoke,selectedCompletionInfo:n.selectedCompletionInfo,formattingOptions:l,opportunityId:a,debounceMs:50});return c?{items:c.map(u=>{let{start:d,end:p}=u.range,m=new ko.Range(d.line,d.character,p.line,p.character);return new ko.InlineCompletionItem(u.insertText,m,{title:"Completion Accepted",command:Yz,arguments:[u]})})}:void 0}handleDidShowCompletionItem(t){let r=t.command.arguments[0];ez(this.ctx,r)}handleDidPartiallyAcceptCompletionItem(t,r){if(typeof r=="number")return;let n=t.command.arguments[0];rz(this.ctx,n,r.acceptedLength,r.kind)}handleEndOfLifetime(t,r){if(r.kind!==ko.InlineCompletionEndOfLifeReasonKind.Rejected)return;let n=t.command?.arguments?.[0];n&&Se(this.ctx,"ghostText.dismissed",n.telemetry)}};function Xz(e){return ko.commands.registerCommand(Yz,async r=>{tz(e,r);try{await ko.commands.executeCommand("github.copilot.survey.signalUsage","completions")}catch{}})}i(Xz,"registerGhostTextDependencies");var Jy=class{static{i(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?Se(t,"installed.reinstall"):Se(t,"installed.new")}handleUpgrade(t){Se(t,"installed.upgrade")}handleUninstall(t){Se(t,"uninstalled")}};var kh=yt(BG());var u8=class extends Jy{static{i(this,"VsCodeInstallationManager")}async isNewInstall(t){return!t.get(Di).context.globalState.get("installedVersion")&&!await ky()}async markInstalled(t){let r=t.get(cr).getEditorPluginInfo();await t.get(Di).context.globalState.update("installedVersion",r.version)}wasPreviouslyInstalled(){return!1}isNewUpgrade(t){let r=t.get(cr).getEditorPluginInfo(),n=t.get(Di).context.globalState.get("installedVersion");if(n===void 0)return!0;try{return(0,kh.gt)((0,kh.coerce)(r.version),(0,kh.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}};var ia=require("vscode");var Oh=require("vscode");function m2e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(m2e,"escapeForRegExp");var p2e=new RegExp(m2e("".replace(/[\\/]extension[\\/]src$|[\\/]dist$/,""))+`[\\\\/]?([^:)'"\\s]*)`,"gi"),g2e=new Set(["node_modules/diagnostic-channel/dist/src/patchRequire.js"]),f8=class{constructor(t){this.handler=t}static{i(this,"TelemetryDelegator")}sendEventData(){}sendErrorData(t){let r=!1;for(let n of(t.stack??"").matchAll(p2e))if(!g2e.has(n[1].replace(/\\/g,"/"))){r=!0;break}r&&this.handler(t)}};function $G(e,t,r,n){t instanceof Error&&t.name==="Canceled"||t instanceof Error&&t.name==="CodeExpectedError"||Pc(e,t,r,n)}i($G,"exception");function gs(e,t,r){let n=Oh.commands.registerCommand(t,async(...o)=>{try{await r(...o)}catch(s){$G(e,s,t)}});e.get(Di).addSubscription(n)}i(gs,"registerCommandWrapper");function jG(e,t,r,n){let o=new j0(e,r);o.updateSessionConfig(kc()),e.set(j0,o),t.subscriptions.push(Oh.env.onDidChangeTelemetryEnabled(s=>{o.initialize(s)})),t.subscriptions.push(Oh.env.createTelemetryLogger(new f8(s=>$G(e,s,"unhandlederror")))),o.initialize(n)}i(jG,"setupTelemetry");var qG=new _t("modelPicker"),h2e=[{label:"",kind:ia.QuickPickItemKind.Separator,modelId:"separator",type:"separator",alwaysShow:!0},{modelId:"learn-more",label:"Learn more $(link-external)",description:"",alwaysShow:!0,type:"learn-more"}],hp=class{constructor(t){this._ctx=t;this.MODELS_INFO_URL="https://aka.ms/CopilotCompletionsModelPickerLearnMore"}static{i(this,"ModelPickerManager")}get models(){return this._ctx.get(d0).getGenericCompletionModels()}getDefaultModelId(){return this._ctx.get(d0).getDefaultModelId()}async setUserSelectedCompletionModel(t){return ia.workspace.getConfiguration(Hr).update(Te.UserSelectedCompletionModel,t??"",!0)}async handleModelSelection(t){let r=t.activeItems[0];if(r!==void 0){if(t.hide(),r.type==="learn-more"){await ia.env.openExternal(ia.Uri.parse(this.MODELS_INFO_URL)),Se(this._ctx,"modelPicker.learnMoreClicked");return}await this.selectModel(r)}}async selectModel(t){Kp(this._ctx)!==t.modelId&&(this._ctx.get(G0).clear(),this._ctx.get(Ao).clear());let n=t.modelId===this.getDefaultModelId()?null:t.modelId;await this.setUserSelectedCompletionModel(n),n===null?qG.info(this._ctx,"User selected default model; setting null"):qG.info(this._ctx,`Selected model: ${t.modelId}`),Se(this._ctx,"modelPicker.modelSelected",Qe.createAndMarkAsIssued({engineName:n??"default"}))}modelsForModelPicker(){let t=Kp(this._ctx),r=this.models.map(n=>({modelId:n.modelId,label:`${n.label}${n.preview?" (Preview)":""}`,description:`(${n.modelId})`,alwaysShow:n.modelId==this.getDefaultModelId(),type:"model"}));return[t,r]}showModelPicker(){let[t,r]=this.modelsForModelPicker(),n=ia.window.createQuickPick();n.title="Change Completions Model",n.items=[...r,...h2e],n.onDidAccept(()=>this.handleModelSelection(n));let o=t??this.getDefaultModelId(),s=n.items.find(a=>a.modelId===o);return s&&(n.activeItems=[s]),n.show(),n}registerCommands(){gs(this._ctx,Gy,this.showModelPicker.bind(this))}};function WG(e){e.get(hp).registerCommands()}i(WG,"registerModelPickerCommands");var d8=class extends dl{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{i(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let o=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let s=this.getConfiguredUrls();(o.apiUrl!==s.apiUrl||o.serverUrl!==s.serverUrl)&&r.get(Cr).resetToken(),r.get(j0).updateSessionConfig(s)}recalculateUrlDefaults(r,n){let{serverUrl:o,apiUrl:s}=M1({serverUrl:D2(r,n.serverUrl),apiUrl:D2(r,n.apiUrl)});this.baseUrlObject=new URL(o),this.apiUrl=s}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};var m8=class extends d8{static{i(this,"VSCodeNetworkConfiguration")}getDefaultUrls(){return kc()}};function zG(e,t){(e.affectsConfiguration(`${Hr}.advanced`)||e.affectsConfiguration(`${Mh}.uri`))&&Yw(t,kc().serverUrl)}i(zG,"onDidChangeConfigurationHandler");var yi=require("vscode");var Lh=class extends Mr{constructor(r,n="github.copilot.languageStatus"){super();this.ctx=r;this.showingMessage=!1;this.disposables=[];this.item=yi.languages.createLanguageStatusItem(n,"*"),this.disposables.push(this.item),this.state=r.get(ra),this.updateStatusBarIndicator(),this.disposables.push(yi.window.onDidChangeActiveTextEditor(()=>{this.updateStatusBarIndicator()})),this.disposables.push(yi.workspace.onDidCloseTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(yi.workspace.onDidOpenTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(yi.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(Hr)&&this.updateStatusBarIndicator()}))}static{i(this,"CopilotStatusBar")}didChange(r){this.state.kind=r.kind,this.state.message=r.message,this.state.command=r.command,this.updateStatusBarIndicator()}checkEnabledForLanguage(){return Oc(this.ctx)??!0}updateStatusBarIndicator(){if(this.isDisposed())return;yi.commands.executeCommand("setContext","github.copilot.completions.quotaExceeded",this.state.command?.command===Xg);let r=this.checkEnabledForLanguage();switch(yi.commands.executeCommand("setContext","github.copilot.completions.enabled",r),this.item.command={command:qy,title:"View Details"},this.state.kind){case"Error":this.item.severity=yi.LanguageStatusSeverity.Error,this.item.text="$(copilot-warning) Completions",this.item.detail="Error";break;case"Warning":this.item.severity=yi.LanguageStatusSeverity.Warning,this.item.text="$(copilot-warning) Completions",this.item.detail="Temporary issues";break;case"Inactive":this.item.severity=yi.LanguageStatusSeverity.Information,this.item.text="$(copilot-blocked) Completions",this.item.detail="Inactive";break;case"Normal":this.item.severity=yi.LanguageStatusSeverity.Information,mp()?r?(this.item.text="$(copilot) Completions",this.item.detail=""):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="Disabled"):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="VS Code inline suggestions disabled"),this.item.command.title="Open Menu";break}this.item.accessibilityInformation={label:"Copilot Completions"},this.state.command&&(this.item.command=this.state.command,this.item.detail=this.state.message)}dispose(){for(let r of this.disposables)r.dispose();this.disposables=[]}isDisposed(){return this.disposables.length===0}};var Df=require("vscode");var p8=class{constructor(t){this.ctx=t;this.state=t.get(ra)}static{i(this,"CopilotStatusBarPickMenu")}showStatusMenu(){let t=Df.window.createQuickPick();return t.placeholder="Select an option",t.title="Configure Copilot Completions",t.items=this.collectQuickPickItems(),t.onDidAccept(()=>this.handleItemSelection(t)),t.show(),t}async handleItemSelection(t){let r=t.selectedItems[0];if(r!==void 0)if("command"in r){let n=r;await Df.commands.executeCommand(n.command,...n.commandArgs),t.hide()}else throw new Error("Unexpected Copilot quick picker selection")}collectQuickPickItems(){return[this.newStatusItem(),this.newSeparator(),...this.collectLanguageSpecificItems(),this.newKeyboardItem(),this.newSettingsItem(),...this.collectDiagnosticsItems(),this.newOpenLogsItem(),this.newSeparator(),this.newDocsItem(),this.newForumItem(),...this.collectQuickPickSignInItems()]}collectQuickPickSignInItems(){return this.hasWarningOrErrorStatus()?[this.newSeparator(),this.newSignInItem()]:[]}collectLanguageSpecificItems(){let t=[];if(!this.hasActiveStatus())return t;let r=Df.window.activeTextEditor;return!ml()&&r&&t.push(this.newPanelItem()),ml()||t.push(this.newChangeModelItem()),r&&t.push(...this.newEnableLanguageItem()),t.length&&t.push(this.newSeparator()),t}hasActiveStatus(){return["Normal"].includes(this.state.kind)}hasWarningOrErrorStatus(){return["Error","Warning"].includes(this.state.kind)}isCompletionEnabled(){return mp()&&Oc(this.ctx)}newEnableLanguageItem(){let t=this.isCompletionEnabled();return t?[this.newCommandItem("Disable Completions",jy)]:t===!1?[this.newCommandItem("Enable Completions",$y)]:[]}newStatusItem(){let t,r="$(copilot)";switch(this.state.kind){case"Normal":t="Ready",mp()===!1?t+=" (VS Code inline suggestions disabled)":Oc(this.ctx)===!1&&(t+=" (Disabled)");break;case"Inactive":t=this.state.message||"Copilot is currently inactive",r="$(copilot-blocked)";break;default:t=this.state.message||"Copilot has encountered an error",r="$(copilot-not-connected)";break}return this.newCommandItem(`${r} Status: ${t}`,Ch)}newSignInItem(){return this.newCommandItem("Sign in to GitHub",Hy)}newOpenLogsItem(){return this.newCommandItem("Open Logs...",Ch)}collectDiagnosticsItems(){return ml()?[]:[this.newCommandItem("Show Diagnostics...",jz)]}newKeyboardItem(){return this.newCommandItem("$(keyboard) Edit Keyboard Shortcuts...","workbench.action.openGlobalKeybindings",["copilot"])}newSettingsItem(){return this.newCommandItem("$(settings-gear) Edit Settings...","workbench.action.openSettings",["GitHub Copilot"])}newPanelItem(){return this.newCommandItem("Open Completions Panel...",Bz)}newChangeModelItem(){return this.newCommandItem("Change Completions Model...",Gy)}newForumItem(){return this.newCommandItem("$(comments-view-icon) View Copilot Forum...",Wy)}newDocsItem(){return this.newCommandItem("$(remote-explorer-documentation) View Copilot Documentation...",zy)}newCommandItem(t,r,n){return new pS(t,r,n||[])}newSeparator(){return{label:"",kind:Df.QuickPickItemKind.Separator}}},pS=class{constructor(t,r,n){this.label=t;this.command=r;this.commandArgs=n}static{i(this,"CommandQuickItem")}};var HG=fr.window.createOutputChannel("GitHub Copilot",{log:!0}),b2e="userAcknowledgedStatusBarDeprecation";function y2e(e){let t=new Lh(e);e.get(Di).addSubscription(t),gs(e,$y,async()=>{await VI(e)}),gs(e,jy,async()=>{await KI(e)}),gs(e,$z,async()=>{await Uz(e)}),gs(e,Xg,async()=>{try{await fr.commands.executeCommand("workbench.action.chat.openQuotaExceededDialog")}catch(r){if(!(r instanceof Error&&/not found/.test(r.message)))throw r;await fr.env.openExternal(fr.Uri.parse("https://github.com/github-copilot/signup/copilot_individual"))}}),gs(e,qy,async()=>{e.get(ra).kind==="Error"&&await Promise.race([e.get(Cr).primeToken(),new Promise(r=>setTimeout(r,100))]),new p8(e).showStatusMenu()}),e.set(Lh,t),e.set(Mr,t)}i(y2e,"registerStatusBar");async function _2e(e){let t=Qe.createAndMarkAsIssued(),r=I2e(e);await MI(r),y2e(r),r.set(eo,new eo(r)),E2e(r),gs(r,Hy,()=>Pz(r));let n=new Fy(r);r.set(q0,new My(n)),e.subscriptions.push(n.register()),e.subscriptions.push(GG(r)),WG(r),v2e(r),e.subscriptions.push(gq(r)),e.subscriptions.push(fr.window.onDidChangeActiveTextEditor(s=>s&&yd(r,s.document.uri.toString()))),e.subscriptions.push(fr.workspace.onDidChangeConfiguration(s=>zG(s,r))),e.subscriptions.push(wz(r)),r.get(Cr).primeToken().then(async s=>{Se(r,"extension.activate",t),s&&(fr.window?.activeTextEditor&&r.get(eo).evaluate(fr.window.activeTextEditor.document.uri.toString(),fr.window.activeTextEditor.document.getText(),"UPDATE"),await MI(r))}),new u8().startup(r)}i(_2e,"activate");function v2e(e){let t=e.get(Di);try{t.addSubscription(Xz(e)),t.addSubscription(T2e(e));let n=fr.workspace.getConfiguration().inspect("editor.inlineSuggest.enabled");(n?.globalValue===!1||n?.workspaceValue===!1)&&Ft.warn(e,"editor.inlineSuggest.enabled is disabled. Enabling recommended to use Copilot.")}catch(r){Oo(e,r,"registerGhostTextSupport")}}i(v2e,"registerGhostTextSupport");function T2e(e){let t=new Xy(e);return fr.languages.registerInlineCompletionItemProvider({pattern:"**"},t,{})}i(T2e,"registerInlineCompletion");function E2e(e){gs(e,Wy,()=>fr.env.openExternal(fr.Uri.parse("https://github.com/microsoft/vscode/issues"))),gs(e,zy,()=>fr.env.openExternal(fr.Uri.parse("https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=vscode"))),gs(e,Ch,()=>{HG.show()})}i(E2e,"registerDiagnosticCommands");var gS=class extends Sa{static{i(this,"VSCodeUrlOpener")}async open(t){await fr.env.openExternal(fr.Uri.parse(t))}};function C2e(e){switch(e){case fr.UIKind.Desktop:return"desktop";case fr.UIKind.Web:return"web"}return"unknown"}i(C2e,"uiKindToString");function I2e(e){let t=nz(new Uy({}));return t.set(xc,new Ny),t.set(cl,cl.fromEnvironment(!1,[],{})),t.set(gl,new Py),t.set(ki,new Ky),t.set(dl,new m8(t)),t.set(on,new Ry(t)),t.set(qf,new hS(HG)),t.set(cr,new By),t.set(dn,new dn(fr.env.sessionId,fr.env.machineId,fr.env.remoteName,C2e(fr.env.uiKind))),t.set(Di,new Di(e)),iz(t),t.set(ra,new ra),t.set(Cr,new Oy(t)),t.set(Sa,new gS),jG(t,e,su.name,fr.env.isTelemetryEnabled),t.set(Et,new Yy(t)),t.set(Sc,new Dy),t.set(Zr,Hz),t.set(Tf,new Ay(t)),t.set(Ri,new Ri),t.set(hp,new hp(t)),t.set(X0,Dq(t,Wz)),t.set(rl,new rl(t)),t.set(wc,new ty),az(t),t}i(I2e,"createExtensionContext");function GG(e){return{dispose:i(()=>{Se(e,"extension.deactivate"),e.get(j0).shutdown()},"dispose")}}i(GG,"onDeactivate");var hS=class extends qf{constructor(r){super();this.output=r}static{i(this,"WebLogTarget")}logIt(r,n,o,...s){let a=`[${o}]`;n==1?this.output.error(a,...s):n==2?this.output.warn(a,...s):n==3?this.output.info(a,...s):n==4&&this.output.debug(a,...s)}};
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@nevware21/ts-utils/dist/es5/mod/ts-utils.js:
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@nevware21/ts-async/dist/es5/mod/ts-async.js:
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=web.js.map

"use strict";var s8e=Object.create;var kB=Object.defineProperty;var a8e=Object.getOwnPropertyDescriptor;var c8e=Object.getOwnPropertyNames;var l8e=Object.getPrototypeOf,u8e=Object.prototype.hasOwnProperty;var o=(t,e)=>kB(t,"name",{value:e,configurable:!0});var Qu=(t,e)=>()=>(t&&(e=t(t=0)),e);var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Eo=(t,e)=>{for(var r in e)kB(t,r,{get:e[r],enumerable:!0})},f8e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of c8e(e))!u8e.call(t,i)&&i!==r&&kB(t,i,{get:()=>e[i],enumerable:!(n=a8e(e,i))||n.enumerable});return t};var yt=(t,e,r)=>(r=t!=null?s8e(l8e(t)):{},f8e(e||!t||!t.__esModule?kB(r,"default",{value:t,enumerable:!0}):r,t));var importMetaUrlShim,u=Qu(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var P2=q(Va=>{"use strict";u();Object.defineProperty(Va,"__esModule",{value:!0});Va.stringArray=Va.array=Va.func=Va.error=Va.number=Va.string=Va.boolean=void 0;function t7e(t){return t===!0||t===!1}o(t7e,"boolean");Va.boolean=t7e;function Dre(t){return typeof t=="string"||t instanceof String}o(Dre,"string");Va.string=Dre;function r7e(t){return typeof t=="number"||t instanceof Number}o(r7e,"number");Va.number=r7e;function n7e(t){return t instanceof Error}o(n7e,"error");Va.error=n7e;function i7e(t){return typeof t=="function"}o(i7e,"func");Va.func=i7e;function Nre(t){return Array.isArray(t)}o(Nre,"array");Va.array=Nre;function o7e(t){return Nre(t)&&t.every(e=>Dre(e))}o(o7e,"stringArray");Va.stringArray=o7e});var UO=q(zt=>{"use strict";u();Object.defineProperty(zt,"__esModule",{value:!0});zt.Message=zt.NotificationType9=zt.NotificationType8=zt.NotificationType7=zt.NotificationType6=zt.NotificationType5=zt.NotificationType4=zt.NotificationType3=zt.NotificationType2=zt.NotificationType1=zt.NotificationType0=zt.NotificationType=zt.RequestType9=zt.RequestType8=zt.RequestType7=zt.RequestType6=zt.RequestType5=zt.RequestType4=zt.RequestType3=zt.RequestType2=zt.RequestType1=zt.RequestType=zt.RequestType0=zt.AbstractMessageSignature=zt.ParameterStructures=zt.ResponseError=zt.ErrorCodes=void 0;var Ny=P2(),mO;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(mO||(zt.ErrorCodes=mO={}));var gO=class t extends Error{static{o(this,"ResponseError")}constructor(e,r,n){super(r),this.code=Ny.number(e)?e:mO.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};zt.ResponseError=gO;var V0=class t{static{o(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};zt.ParameterStructures=V0;V0.auto=new V0("auto");V0.byPosition=new V0("byPosition");V0.byName=new V0("byName");var ji=class{static{o(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return V0.auto}};zt.AbstractMessageSignature=ji;var yO=class extends ji{static{o(this,"RequestType0")}constructor(e){super(e,0)}};zt.RequestType0=yO;var CO=class extends ji{static{o(this,"RequestType")}constructor(e,r=V0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.RequestType=CO;var EO=class extends ji{static{o(this,"RequestType1")}constructor(e,r=V0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.RequestType1=EO;var IO=class extends ji{static{o(this,"RequestType2")}constructor(e){super(e,2)}};zt.RequestType2=IO;var vO=class extends ji{static{o(this,"RequestType3")}constructor(e){super(e,3)}};zt.RequestType3=vO;var bO=class extends ji{static{o(this,"RequestType4")}constructor(e){super(e,4)}};zt.RequestType4=bO;var xO=class extends ji{static{o(this,"RequestType5")}constructor(e){super(e,5)}};zt.RequestType5=xO;var TO=class extends ji{static{o(this,"RequestType6")}constructor(e){super(e,6)}};zt.RequestType6=TO;var _O=class extends ji{static{o(this,"RequestType7")}constructor(e){super(e,7)}};zt.RequestType7=_O;var SO=class extends ji{static{o(this,"RequestType8")}constructor(e){super(e,8)}};zt.RequestType8=SO;var wO=class extends ji{static{o(this,"RequestType9")}constructor(e){super(e,9)}};zt.RequestType9=wO;var BO=class extends ji{static{o(this,"NotificationType")}constructor(e,r=V0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.NotificationType=BO;var RO=class extends ji{static{o(this,"NotificationType0")}constructor(e){super(e,0)}};zt.NotificationType0=RO;var kO=class extends ji{static{o(this,"NotificationType1")}constructor(e,r=V0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zt.NotificationType1=kO;var DO=class extends ji{static{o(this,"NotificationType2")}constructor(e){super(e,2)}};zt.NotificationType2=DO;var NO=class extends ji{static{o(this,"NotificationType3")}constructor(e){super(e,3)}};zt.NotificationType3=NO;var QO=class extends ji{static{o(this,"NotificationType4")}constructor(e){super(e,4)}};zt.NotificationType4=QO;var PO=class extends ji{static{o(this,"NotificationType5")}constructor(e){super(e,5)}};zt.NotificationType5=PO;var FO=class extends ji{static{o(this,"NotificationType6")}constructor(e){super(e,6)}};zt.NotificationType6=FO;var LO=class extends ji{static{o(this,"NotificationType7")}constructor(e){super(e,7)}};zt.NotificationType7=LO;var MO=class extends ji{static{o(this,"NotificationType8")}constructor(e){super(e,8)}};zt.NotificationType8=MO;var OO=class extends ji{static{o(this,"NotificationType9")}constructor(e){super(e,9)}};zt.NotificationType9=OO;var Qre;(function(t){function e(i){let s=i;return s&&Ny.string(s.method)&&(Ny.string(s.id)||Ny.number(s.id))}o(e,"isRequest"),t.isRequest=e;function r(i){let s=i;return s&&Ny.string(s.method)&&i.id===void 0}o(r,"isNotification"),t.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Ny.string(s.id)||Ny.number(s.id)||s.id===null)}o(n,"isResponse"),t.isResponse=n})(Qre||(zt.Message=Qre={}))});var qO=q(Fm=>{"use strict";u();var Pre;Object.defineProperty(Fm,"__esModule",{value:!0});Fm.LRUCache=Fm.LinkedMap=Fm.Touch=void 0;var Wa;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Wa||(Fm.Touch=Wa={}));var o6=class{static{o(this,"LinkedMap")}constructor(){this[Pre]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=Wa.None){let n=this._map.get(e);if(n)return r!==Wa.None&&this.touch(n,r),n.value}set(e,r,n=Wa.None){let i=this._map.get(e);if(i)i.value=r,n!==Wa.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case Wa.None:this.addItemLast(i);break;case Wa.First:this.addItemFirst(i);break;case Wa.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(Pre=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Wa.First&&r!==Wa.Last)){if(r===Wa.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Wa.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Fm.LinkedMap=o6;var HO=class extends o6{static{o(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Wa.AsNew){return super.get(e,r)}peek(e){return super.get(e,Wa.None)}set(e,r){return super.set(e,r,Wa.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Fm.LRUCache=HO});var Lre=q(s6=>{"use strict";u();Object.defineProperty(s6,"__esModule",{value:!0});s6.Disposable=void 0;var Fre;(function(t){function e(r){return{dispose:r}}o(e,"create"),t.create=e})(Fre||(s6.Disposable=Fre={}))});var Lm=q(WO=>{"use strict";u();Object.defineProperty(WO,"__esModule",{value:!0});var GO;function VO(){if(GO===void 0)throw new Error("No runtime abstraction layer installed");return GO}o(VO,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");GO=r}o(e,"install"),t.install=e})(VO||(VO={}));WO.default=VO});var L2=q(F2=>{"use strict";u();Object.defineProperty(F2,"__esModule",{value:!0});F2.Emitter=F2.Event=void 0;var s7e=Lm(),Mre;(function(t){let e={dispose(){}};t.None=function(){return e}})(Mre||(F2.Event=Mre={}));var YO=class{static{o(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],e))}catch(c){(0,s7e.default)().console.error(c)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},a6=class t{static{o(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new YO),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};F2.Emitter=a6;a6._noop=function(){}});var u6=q(M2=>{"use strict";u();Object.defineProperty(M2,"__esModule",{value:!0});M2.CancellationTokenSource=M2.CancellationToken=void 0;var a7e=Lm(),c7e=P2(),$O=L2(),c6;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$O.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$O.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||c7e.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(e,"is"),t.is=e})(c6||(M2.CancellationToken=c6={}));var l7e=Object.freeze(function(t,e){let r=(0,a7e.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),l6=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?l7e:(this._emitter||(this._emitter=new $O.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},zO=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new l6),this._token}cancel(){this._token?this._token.cancel():this._token=c6.Cancelled}dispose(){this._token?this._token instanceof l6&&this._token.dispose():this._token=c6.None}};M2.CancellationTokenSource=zO});var Ore=q(O2=>{"use strict";u();Object.defineProperty(O2,"__esModule",{value:!0});O2.SharedArrayReceiverStrategy=O2.SharedArraySenderStrategy=void 0;var u7e=u6(),t4;(function(t){t.Continue=0,t.Cancelled=1})(t4||(t4={}));var jO=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=t4.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,t4.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};O2.SharedArraySenderStrategy=jO;var KO=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t4.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},JO=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new KO(e)}cancel(){}dispose(){}},XO=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new u7e.CancellationTokenSource:new JO(r)}};O2.SharedArrayReceiverStrategy=XO});var eU=q(f6=>{"use strict";u();Object.defineProperty(f6,"__esModule",{value:!0});f6.Semaphore=void 0;var f7e=Lm(),ZO=class{static{o(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,f7e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};f6.Semaphore=ZO});var Hre=q(Mm=>{"use strict";u();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.ReadableStreamMessageReader=Mm.AbstractMessageReader=Mm.MessageReader=void 0;var rU=Lm(),U2=P2(),tU=L2(),d7e=eU(),Ure;(function(t){function e(r){let n=r;return n&&U2.func(n.listen)&&U2.func(n.dispose)&&U2.func(n.onError)&&U2.func(n.onClose)&&U2.func(n.onPartialMessage)}o(e,"is"),t.is=e})(Ure||(Mm.MessageReader=Ure={}));var d6=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new tU.Emitter,this.closeEmitter=new tU.Emitter,this.partialMessageEmitter=new tU.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${U2.string(e.message)?e.message:"unknown"}`)}};Mm.AbstractMessageReader=d6;var nU;(function(t){function e(r){let n,i,s,a=new Map,c,l=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)a.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,l.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)l.set(f.name,f)}return c===void 0&&(c=(0,rU.default)().applicationJson.decoder,l.set(c.name,c)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:l}}o(e,"fromOptions"),t.fromOptions=e})(nU||(nU={}));var iU=class extends d6{static{o(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=nU.fromOptions(r),this.buffer=(0,rU.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new d7e.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,rU.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Mm.ReadableStreamMessageReader=iU});var Yre=q(Om=>{"use strict";u();Object.defineProperty(Om,"__esModule",{value:!0});Om.WriteableStreamMessageWriter=Om.AbstractMessageWriter=Om.MessageWriter=void 0;var qre=Lm(),r4=P2(),h7e=eU(),Gre=L2(),A7e="Content-Length: ",Vre=`\r
`,Wre;(function(t){function e(r){let n=r;return n&&r4.func(n.dispose)&&r4.func(n.onClose)&&r4.func(n.onError)&&r4.func(n.write)}o(e,"is"),t.is=e})(Wre||(Om.MessageWriter=Wre={}));var h6=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Gre.Emitter,this.closeEmitter=new Gre.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${r4.string(e.message)?e.message:"unknown"}`)}};Om.AbstractMessageWriter=h6;var oU;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,qre.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,qre.default)().applicationJson.encoder}}o(e,"fromOptions"),t.fromOptions=e})(oU||(oU={}));var sU=class extends h6{static{o(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=oU.fromOptions(r),this.errorCount=0,this.writeSemaphore=new h7e.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(A7e,n.byteLength.toString(),Vre),i.push(Vre),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Om.WriteableStreamMessageWriter=sU});var $re=q(A6=>{"use strict";u();Object.defineProperty(A6,"__esModule",{value:!0});A6.AbstractMessageBuffer=void 0;var p7e=13,m7e=10,g7e=`\r
`,aU=class{static{o(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];for(i=0;i<f.length;){switch(f[i]){case p7e:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case m7e:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=f.byteLength,n++}if(r!==4)return;let a=this._read(s+i),c=new Map,l=this.toString(a,"ascii").split(g7e);if(l.length<2)return c;for(let f=0;f<l.length-2;f++){let d=l[f],h=d.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let A=d.substr(0,h),g=d.substr(h+1).trim();c.set(e?A.toLowerCase():A,g)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);r.set(a,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};A6.AbstractMessageBuffer=aU});var Xre=q(qr=>{"use strict";u();Object.defineProperty(qr,"__esModule",{value:!0});qr.createMessageConnection=qr.ConnectionOptions=qr.MessageStrategy=qr.CancellationStrategy=qr.CancellationSenderStrategy=qr.CancellationReceiverStrategy=qr.RequestCancellationReceiverStrategy=qr.IdCancellationReceiverStrategy=qr.ConnectionStrategy=qr.ConnectionError=qr.ConnectionErrors=qr.LogTraceNotification=qr.SetTraceNotification=qr.TraceFormat=qr.TraceValues=qr.Trace=qr.NullLogger=qr.ProgressType=qr.ProgressToken=void 0;var zre=Lm(),bo=P2(),gr=UO(),jre=qO(),n4=L2(),cU=u6(),s4;(function(t){t.type=new gr.NotificationType("$/cancelRequest")})(s4||(s4={}));var lU;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}o(e,"is"),t.is=e})(lU||(qr.ProgressToken=lU={}));var i4;(function(t){t.type=new gr.NotificationType("$/progress")})(i4||(i4={}));var uU=class{static{o(this,"ProgressType")}constructor(){}};qr.ProgressType=uU;var fU;(function(t){function e(r){return bo.func(r)}o(e,"is"),t.is=e})(fU||(fU={}));qr.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var ci;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ci||(qr.Trace=ci={}));var Kre;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Kre||(qr.TraceValues=Kre={}));(function(t){function e(n){if(!bo.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}o(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}o(r,"toString"),t.toString=r})(ci||(qr.Trace=ci={}));var Nc;(function(t){t.Text="text",t.JSON="json"})(Nc||(qr.TraceFormat=Nc={}));(function(t){function e(r){return bo.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}o(e,"fromString"),t.fromString=e})(Nc||(qr.TraceFormat=Nc={}));var dU;(function(t){t.type=new gr.NotificationType("$/setTrace")})(dU||(qr.SetTraceNotification=dU={}));var p6;(function(t){t.type=new gr.NotificationType("$/logTrace")})(p6||(qr.LogTraceNotification=p6={}));var o4;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(o4||(qr.ConnectionErrors=o4={}));var H2=class t extends Error{static{o(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};qr.ConnectionError=H2;var hU;(function(t){function e(r){let n=r;return n&&bo.func(n.cancelUndispatched)}o(e,"is"),t.is=e})(hU||(qr.ConnectionStrategy=hU={}));var m6;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&bo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||bo.func(n.dispose))}o(e,"is"),t.is=e})(m6||(qr.IdCancellationReceiverStrategy=m6={}));var AU;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&bo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||bo.func(n.dispose))}o(e,"is"),t.is=e})(AU||(qr.RequestCancellationReceiverStrategy=AU={}));var g6;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new cU.CancellationTokenSource}});function e(r){return m6.is(r)||AU.is(r)}o(e,"is"),t.is=e})(g6||(qr.CancellationReceiverStrategy=g6={}));var y6;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(s4.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&bo.func(n.sendCancellation)&&bo.func(n.cleanup)}o(e,"is"),t.is=e})(y6||(qr.CancellationSenderStrategy=y6={}));var C6;(function(t){t.Message=Object.freeze({receiver:g6.Message,sender:y6.Message});function e(r){let n=r;return n&&g6.is(n.receiver)&&y6.is(n.sender)}o(e,"is"),t.is=e})(C6||(qr.CancellationStrategy=C6={}));var E6;(function(t){function e(r){let n=r;return n&&bo.func(n.handleMessage)}o(e,"is"),t.is=e})(E6||(qr.MessageStrategy=E6={}));var Jre;(function(t){function e(r){let n=r;return n&&(C6.is(n.cancellationStrategy)||hU.is(n.connectionStrategy)||E6.is(n.messageStrategy))}o(e,"is"),t.is=e})(Jre||(qr.ConnectionOptions=Jre={}));var Yu;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Yu||(Yu={}));function y7e(t,e,r,n){let i=r!==void 0?r:qr.NullLogger,s=0,a=0,c=0,l="2.0",f,d=new Map,h,A=new Map,g=new Map,y,v=new jre.LinkedMap,_=new Map,T=new Set,S=new Map,D=ci.Off,Q=Nc.Text,k,P=Yu.New,W=new n4.Emitter,re=new n4.Emitter,ye=new n4.Emitter,Ae=new n4.Emitter,z=new n4.Emitter,j=n&&n.cancellationStrategy?n.cancellationStrategy:C6.Message;function Ie(ce){if(ce===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ce.toString()}o(Ie,"createRequestQueueKey");function ue(ce){return ce===null?"res-unknown-"+(++c).toString():"res-"+ce.toString()}o(ue,"createResponseQueueKey");function J(){return"not-"+(++a).toString()}o(J,"createNotificationQueueKey");function H(ce,Ge){gr.Message.isRequest(Ge)?ce.set(Ie(Ge.id),Ge):gr.Message.isResponse(Ge)?ce.set(ue(Ge.id),Ge):ce.set(J(),Ge)}o(H,"addMessageToQueue");function Z(ce){}o(Z,"cancelUndispatched");function ee(){return P===Yu.Listening}o(ee,"isListening");function se(){return P===Yu.Closed}o(se,"isClosed");function ne(){return P===Yu.Disposed}o(ne,"isDisposed");function le(){(P===Yu.New||P===Yu.Listening)&&(P=Yu.Closed,re.fire(void 0))}o(le,"closeHandler");function he(ce){W.fire([ce,void 0,void 0])}o(he,"readErrorHandler");function Ke(ce){W.fire(ce)}o(Ke,"writeErrorHandler"),t.onClose(le),t.onError(he),e.onClose(le),e.onError(Ke);function tt(){y||v.size===0||(y=(0,zre.default)().timer.setImmediate(()=>{y=void 0,Ct()}))}o(tt,"triggerMessageQueue");function ct(ce){gr.Message.isRequest(ce)?Or(ce):gr.Message.isNotification(ce)?br(ce):gr.Message.isResponse(ce)?kn(ce):oe(ce)}o(ct,"handleMessage");function Ct(){if(v.size===0)return;let ce=v.shift();try{let Ge=n?.messageStrategy;E6.is(Ge)?Ge.handleMessage(ce,ct):ct(ce)}finally{tt()}}o(Ct,"processMessageQueue");let qt=o(ce=>{try{if(gr.Message.isNotification(ce)&&ce.method===s4.type.method){let Ge=ce.params.id,dt=Ie(Ge),vt=v.get(dt);if(gr.Message.isRequest(vt)){let xr=n?.connectionStrategy,zn=xr&&xr.cancelUndispatched?xr.cancelUndispatched(vt,Z):void 0;if(zn&&(zn.error!==void 0||zn.result!==void 0)){v.delete(dt),S.delete(Ge),zn.id=vt.id,ot(zn,ce.method,Date.now()),e.write(zn).catch(()=>i.error("Sending response for canceled message failed."));return}}let Wr=S.get(Ge);if(Wr!==void 0){Wr.cancel(),Pr(ce);return}else T.add(Ge)}H(v,ce)}finally{tt()}},"callback");function Or(ce){if(ne())return;function Ge(Fr,Yr,Hr){let fi={jsonrpc:l,id:ce.id};Fr instanceof gr.ResponseError?fi.error=Fr.toJson():fi.result=Fr===void 0?null:Fr,ot(fi,Yr,Hr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(Ge,"reply");function dt(Fr,Yr,Hr){let fi={jsonrpc:l,id:ce.id,error:Fr.toJson()};ot(fi,Yr,Hr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(dt,"replyError");function vt(Fr,Yr,Hr){Fr===void 0&&(Fr=null);let fi={jsonrpc:l,id:ce.id,result:Fr};ot(fi,Yr,Hr),e.write(fi).catch(()=>i.error("Sending response failed."))}o(vt,"replySuccess"),We(ce);let Wr=d.get(ce.method),xr,zn;Wr&&(xr=Wr.type,zn=Wr.handler);let ii=Date.now();if(zn||f){let Fr=ce.id??String(Date.now()),Yr=m6.is(j.receiver)?j.receiver.createCancellationTokenSource(Fr):j.receiver.createCancellationTokenSource(ce);ce.id!==null&&T.has(ce.id)&&Yr.cancel(),ce.id!==null&&S.set(Fr,Yr);try{let Hr;if(zn)if(ce.params===void 0){if(xr!==void 0&&xr.numberOfParams!==0){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${ce.method} defines ${xr.numberOfParams} params but received none.`),ce.method,ii);return}Hr=zn(Yr.token)}else if(Array.isArray(ce.params)){if(xr!==void 0&&xr.parameterStructures===gr.ParameterStructures.byName){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${ce.method} defines parameters by name but received parameters by position`),ce.method,ii);return}Hr=zn(...ce.params,Yr.token)}else{if(xr!==void 0&&xr.parameterStructures===gr.ParameterStructures.byPosition){dt(new gr.ResponseError(gr.ErrorCodes.InvalidParams,`Request ${ce.method} defines parameters by position but received parameters by name`),ce.method,ii);return}Hr=zn(ce.params,Yr.token)}else f&&(Hr=f(ce.method,ce.params,Yr.token));let fi=Hr;Hr?fi.then?fi.then(qi=>{S.delete(Fr),Ge(qi,ce.method,ii)},qi=>{S.delete(Fr),qi instanceof gr.ResponseError?dt(qi,ce.method,ii):qi&&bo.string(qi.message)?dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${ce.method} failed with message: ${qi.message}`),ce.method,ii):dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${ce.method} failed unexpectedly without providing any details.`),ce.method,ii)}):(S.delete(Fr),Ge(Hr,ce.method,ii)):(S.delete(Fr),vt(Hr,ce.method,ii))}catch(Hr){S.delete(Fr),Hr instanceof gr.ResponseError?Ge(Hr,ce.method,ii):Hr&&bo.string(Hr.message)?dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${ce.method} failed with message: ${Hr.message}`),ce.method,ii):dt(new gr.ResponseError(gr.ErrorCodes.InternalError,`Request ${ce.method} failed unexpectedly without providing any details.`),ce.method,ii)}}else dt(new gr.ResponseError(gr.ErrorCodes.MethodNotFound,`Unhandled method ${ce.method}`),ce.method,ii)}o(Or,"handleRequest");function kn(ce){if(!ne())if(ce.id===null)ce.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ce.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Ge=ce.id,dt=_.get(Ge);if(En(ce,dt),dt!==void 0){_.delete(Ge);try{if(ce.error){let vt=ce.error;dt.reject(new gr.ResponseError(vt.code,vt.message,vt.data))}else if(ce.result!==void 0)dt.resolve(ce.result);else throw new Error("Should never happen.")}catch(vt){vt.message?i.error(`Response handler '${dt.method}' failed with message: ${vt.message}`):i.error(`Response handler '${dt.method}' failed unexpectedly.`)}}}}o(kn,"handleResponse");function br(ce){if(ne())return;let Ge,dt;if(ce.method===s4.type.method){let vt=ce.params.id;T.delete(vt),Pr(ce);return}else{let vt=A.get(ce.method);vt&&(dt=vt.handler,Ge=vt.type)}if(dt||h)try{if(Pr(ce),dt)if(ce.params===void 0)Ge!==void 0&&Ge.numberOfParams!==0&&Ge.parameterStructures!==gr.ParameterStructures.byName&&i.error(`Notification ${ce.method} defines ${Ge.numberOfParams} params but received none.`),dt();else if(Array.isArray(ce.params)){let vt=ce.params;ce.method===i4.type.method&&vt.length===2&&lU.is(vt[0])?dt({token:vt[0],value:vt[1]}):(Ge!==void 0&&(Ge.parameterStructures===gr.ParameterStructures.byName&&i.error(`Notification ${ce.method} defines parameters by name but received parameters by position`),Ge.numberOfParams!==ce.params.length&&i.error(`Notification ${ce.method} defines ${Ge.numberOfParams} params but received ${vt.length} arguments`)),dt(...vt))}else Ge!==void 0&&Ge.parameterStructures===gr.ParameterStructures.byPosition&&i.error(`Notification ${ce.method} defines parameters by position but received parameters by name`),dt(ce.params);else h&&h(ce.method,ce.params)}catch(vt){vt.message?i.error(`Notification handler '${ce.method}' failed with message: ${vt.message}`):i.error(`Notification handler '${ce.method}' failed unexpectedly.`)}else ye.fire(ce)}o(br,"handleNotification");function oe(ce){if(!ce){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ce,null,4)}`);let Ge=ce;if(bo.string(Ge.id)||bo.number(Ge.id)){let dt=Ge.id,vt=_.get(dt);vt&&vt.reject(new Error("The received response has neither a result nor an error property."))}}o(oe,"handleInvalidMessage");function Je(ce){if(ce!=null)switch(D){case ci.Verbose:return JSON.stringify(ce,null,4);case ci.Compact:return JSON.stringify(ce);default:return}}o(Je,"stringifyTrace");function pe(ce){if(!(D===ci.Off||!k))if(Q===Nc.Text){let Ge;(D===ci.Verbose||D===ci.Compact)&&ce.params&&(Ge=`Params: ${Je(ce.params)}

`),k.log(`Sending request '${ce.method} - (${ce.id})'.`,Ge)}else Ur("send-request",ce)}o(pe,"traceSendingRequest");function ut(ce){if(!(D===ci.Off||!k))if(Q===Nc.Text){let Ge;(D===ci.Verbose||D===ci.Compact)&&(ce.params?Ge=`Params: ${Je(ce.params)}

`:Ge=`No parameters provided.

`),k.log(`Sending notification '${ce.method}'.`,Ge)}else Ur("send-notification",ce)}o(ut,"traceSendingNotification");function ot(ce,Ge,dt){if(!(D===ci.Off||!k))if(Q===Nc.Text){let vt;(D===ci.Verbose||D===ci.Compact)&&(ce.error&&ce.error.data?vt=`Error data: ${Je(ce.error.data)}

`:ce.result?vt=`Result: ${Je(ce.result)}

`:ce.error===void 0&&(vt=`No result returned.

`)),k.log(`Sending response '${Ge} - (${ce.id})'. Processing request took ${Date.now()-dt}ms`,vt)}else Ur("send-response",ce)}o(ot,"traceSendingResponse");function We(ce){if(!(D===ci.Off||!k))if(Q===Nc.Text){let Ge;(D===ci.Verbose||D===ci.Compact)&&ce.params&&(Ge=`Params: ${Je(ce.params)}

`),k.log(`Received request '${ce.method} - (${ce.id})'.`,Ge)}else Ur("receive-request",ce)}o(We,"traceReceivedRequest");function Pr(ce){if(!(D===ci.Off||!k||ce.method===p6.type.method))if(Q===Nc.Text){let Ge;(D===ci.Verbose||D===ci.Compact)&&(ce.params?Ge=`Params: ${Je(ce.params)}

`:Ge=`No parameters provided.

`),k.log(`Received notification '${ce.method}'.`,Ge)}else Ur("receive-notification",ce)}o(Pr,"traceReceivedNotification");function En(ce,Ge){if(!(D===ci.Off||!k))if(Q===Nc.Text){let dt;if((D===ci.Verbose||D===ci.Compact)&&(ce.error&&ce.error.data?dt=`Error data: ${Je(ce.error.data)}

`:ce.result?dt=`Result: ${Je(ce.result)}

`:ce.error===void 0&&(dt=`No result returned.

`)),Ge){let vt=ce.error?` Request failed: ${ce.error.message} (${ce.error.code}).`:"";k.log(`Received response '${Ge.method} - (${ce.id})' in ${Date.now()-Ge.timerStart}ms.${vt}`,dt)}else k.log(`Received response ${ce.id} without active response promise.`,dt)}else Ur("receive-response",ce)}o(En,"traceReceivedResponse");function Ur(ce,Ge){if(!k||D===ci.Off)return;let dt={isLSPMessage:!0,type:ce,message:Ge,timestamp:Date.now()};k.log(dt)}o(Ur,"logLSPMessage");function Kt(){if(se())throw new H2(o4.Closed,"Connection is closed.");if(ne())throw new H2(o4.Disposed,"Connection is disposed.")}o(Kt,"throwIfClosedOrDisposed");function pi(){if(ee())throw new H2(o4.AlreadyListening,"Connection is already listening")}o(pi,"throwIfListening");function Ho(){if(!ee())throw new Error("Call listen() first.")}o(Ho,"throwIfNotListening");function Fn(ce){return ce===void 0?null:ce}o(Fn,"undefinedToNull");function qo(ce){if(ce!==null)return ce}o(qo,"nullToUndefined");function Jt(ce){return ce!=null&&!Array.isArray(ce)&&typeof ce=="object"}o(Jt,"isNamedParam");function po(ce,Ge){switch(ce){case gr.ParameterStructures.auto:return Jt(Ge)?qo(Ge):[Fn(Ge)];case gr.ParameterStructures.byName:if(!Jt(Ge))throw new Error("Received parameters by name but param is not an object literal.");return qo(Ge);case gr.ParameterStructures.byPosition:return[Fn(Ge)];default:throw new Error(`Unknown parameter structure ${ce.toString()}`)}}o(po,"computeSingleParam");function Bo(ce,Ge){let dt,vt=ce.numberOfParams;switch(vt){case 0:dt=void 0;break;case 1:dt=po(ce.parameterStructures,Ge[0]);break;default:dt=[];for(let Wr=0;Wr<Ge.length&&Wr<vt;Wr++)dt.push(Fn(Ge[Wr]));if(Ge.length<vt)for(let Wr=Ge.length;Wr<vt;Wr++)dt.push(null);break}return dt}o(Bo,"computeMessageParams");let sa={sendNotification:o((ce,...Ge)=>{Kt();let dt,vt;if(bo.string(ce)){dt=ce;let xr=Ge[0],zn=0,ii=gr.ParameterStructures.auto;gr.ParameterStructures.is(xr)&&(zn=1,ii=xr);let Fr=Ge.length,Yr=Fr-zn;switch(Yr){case 0:vt=void 0;break;case 1:vt=po(ii,Ge[zn]);break;default:if(ii===gr.ParameterStructures.byName)throw new Error(`Received ${Yr} parameters for 'by Name' notification parameter structure.`);vt=Ge.slice(zn,Fr).map(Hr=>Fn(Hr));break}}else{let xr=Ge;dt=ce.method,vt=Bo(ce,xr)}let Wr={jsonrpc:l,method:dt,params:vt};return ut(Wr),e.write(Wr).catch(xr=>{throw i.error("Sending notification failed."),xr})},"sendNotification"),onNotification:o((ce,Ge)=>{Kt();let dt;return bo.func(ce)?h=ce:Ge&&(bo.string(ce)?(dt=ce,A.set(ce,{type:void 0,handler:Ge})):(dt=ce.method,A.set(ce.method,{type:ce,handler:Ge}))),{dispose:o(()=>{dt!==void 0?A.delete(dt):h=void 0},"dispose")}},"onNotification"),onProgress:o((ce,Ge,dt)=>{if(g.has(Ge))throw new Error(`Progress handler for token ${Ge} already registered`);return g.set(Ge,dt),{dispose:o(()=>{g.delete(Ge)},"dispose")}},"onProgress"),sendProgress:o((ce,Ge,dt)=>sa.sendNotification(i4.type,{token:Ge,value:dt}),"sendProgress"),onUnhandledProgress:Ae.event,sendRequest:o((ce,...Ge)=>{Kt(),Ho();let dt,vt,Wr;if(bo.string(ce)){dt=ce;let Fr=Ge[0],Yr=Ge[Ge.length-1],Hr=0,fi=gr.ParameterStructures.auto;gr.ParameterStructures.is(Fr)&&(Hr=1,fi=Fr);let qi=Ge.length;cU.CancellationToken.is(Yr)&&(qi=qi-1,Wr=Yr);let Ro=qi-Hr;switch(Ro){case 0:vt=void 0;break;case 1:vt=po(fi,Ge[Hr]);break;default:if(fi===gr.ParameterStructures.byName)throw new Error(`Received ${Ro} parameters for 'by Name' request parameter structure.`);vt=Ge.slice(Hr,qi).map(yc=>Fn(yc));break}}else{let Fr=Ge;dt=ce.method,vt=Bo(ce,Fr);let Yr=ce.numberOfParams;Wr=cU.CancellationToken.is(Fr[Yr])?Fr[Yr]:void 0}let xr=s++,zn;Wr&&(zn=Wr.onCancellationRequested(()=>{let Fr=j.sender.sendCancellation(sa,xr);return Fr===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${xr}`),Promise.resolve()):Fr.catch(()=>{i.log(`Sending cancellation messages for id ${xr} failed`)})}));let ii={jsonrpc:l,id:xr,method:dt,params:vt};return pe(ii),typeof j.sender.enableCancellation=="function"&&j.sender.enableCancellation(ii),new Promise(async(Fr,Yr)=>{let Hr=o(Ro=>{Fr(Ro),j.sender.cleanup(xr),zn?.dispose()},"resolveWithCleanup"),fi=o(Ro=>{Yr(Ro),j.sender.cleanup(xr),zn?.dispose()},"rejectWithCleanup"),qi={method:dt,timerStart:Date.now(),resolve:Hr,reject:fi};try{await e.write(ii),_.set(xr,qi)}catch(Ro){throw i.error("Sending request failed."),qi.reject(new gr.ResponseError(gr.ErrorCodes.MessageWriteError,Ro.message?Ro.message:"Unknown reason")),Ro}})},"sendRequest"),onRequest:o((ce,Ge)=>{Kt();let dt=null;return fU.is(ce)?(dt=void 0,f=ce):bo.string(ce)?(dt=null,Ge!==void 0&&(dt=ce,d.set(ce,{handler:Ge,type:void 0}))):Ge!==void 0&&(dt=ce.method,d.set(ce.method,{type:ce,handler:Ge})),{dispose:o(()=>{dt!==null&&(dt!==void 0?d.delete(dt):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>_.size>0,"hasPendingResponse"),trace:o(async(ce,Ge,dt)=>{let vt=!1,Wr=Nc.Text;dt!==void 0&&(bo.boolean(dt)?vt=dt:(vt=dt.sendNotification||!1,Wr=dt.traceFormat||Nc.Text)),D=ce,Q=Wr,D===ci.Off?k=void 0:k=Ge,vt&&!se()&&!ne()&&await sa.sendNotification(dU.type,{value:ci.toString(ce)})},"trace"),onError:W.event,onClose:re.event,onUnhandledNotification:ye.event,onDispose:z.event,end:o(()=>{e.end()},"end"),dispose:o(()=>{if(ne())return;P=Yu.Disposed,z.fire(void 0);let ce=new gr.ResponseError(gr.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Ge of _.values())Ge.reject(ce);_=new Map,S=new Map,T=new Set,v=new jre.LinkedMap,bo.func(e.dispose)&&e.dispose(),bo.func(t.dispose)&&t.dispose()},"dispose"),listen:o(()=>{Kt(),pi(),P=Yu.Listening,t.listen(qt)},"listen"),inspect:o(()=>{(0,zre.default)().console.log("inspect")},"inspect")};return sa.onNotification(p6.type,ce=>{if(D===ci.Off||!k)return;let Ge=D===ci.Verbose||D===ci.Compact;k.log(ce.message,Ge?ce.verbose:void 0)}),sa.onNotification(i4.type,ce=>{let Ge=g.get(ce.token);Ge?Ge(ce.value):Ae.fire(ce)}),sa}o(y7e,"createMessageConnection");qr.createMessageConnection=y7e});var I6=q($e=>{"use strict";u();Object.defineProperty($e,"__esModule",{value:!0});$e.ProgressType=$e.ProgressToken=$e.createMessageConnection=$e.NullLogger=$e.ConnectionOptions=$e.ConnectionStrategy=$e.AbstractMessageBuffer=$e.WriteableStreamMessageWriter=$e.AbstractMessageWriter=$e.MessageWriter=$e.ReadableStreamMessageReader=$e.AbstractMessageReader=$e.MessageReader=$e.SharedArrayReceiverStrategy=$e.SharedArraySenderStrategy=$e.CancellationToken=$e.CancellationTokenSource=$e.Emitter=$e.Event=$e.Disposable=$e.LRUCache=$e.Touch=$e.LinkedMap=$e.ParameterStructures=$e.NotificationType9=$e.NotificationType8=$e.NotificationType7=$e.NotificationType6=$e.NotificationType5=$e.NotificationType4=$e.NotificationType3=$e.NotificationType2=$e.NotificationType1=$e.NotificationType0=$e.NotificationType=$e.ErrorCodes=$e.ResponseError=$e.RequestType9=$e.RequestType8=$e.RequestType7=$e.RequestType6=$e.RequestType5=$e.RequestType4=$e.RequestType3=$e.RequestType2=$e.RequestType1=$e.RequestType0=$e.RequestType=$e.Message=$e.RAL=void 0;$e.MessageStrategy=$e.CancellationStrategy=$e.CancellationSenderStrategy=$e.CancellationReceiverStrategy=$e.ConnectionError=$e.ConnectionErrors=$e.LogTraceNotification=$e.SetTraceNotification=$e.TraceFormat=$e.TraceValues=$e.Trace=void 0;var Pi=UO();Object.defineProperty($e,"Message",{enumerable:!0,get:o(function(){return Pi.Message},"get")});Object.defineProperty($e,"RequestType",{enumerable:!0,get:o(function(){return Pi.RequestType},"get")});Object.defineProperty($e,"RequestType0",{enumerable:!0,get:o(function(){return Pi.RequestType0},"get")});Object.defineProperty($e,"RequestType1",{enumerable:!0,get:o(function(){return Pi.RequestType1},"get")});Object.defineProperty($e,"RequestType2",{enumerable:!0,get:o(function(){return Pi.RequestType2},"get")});Object.defineProperty($e,"RequestType3",{enumerable:!0,get:o(function(){return Pi.RequestType3},"get")});Object.defineProperty($e,"RequestType4",{enumerable:!0,get:o(function(){return Pi.RequestType4},"get")});Object.defineProperty($e,"RequestType5",{enumerable:!0,get:o(function(){return Pi.RequestType5},"get")});Object.defineProperty($e,"RequestType6",{enumerable:!0,get:o(function(){return Pi.RequestType6},"get")});Object.defineProperty($e,"RequestType7",{enumerable:!0,get:o(function(){return Pi.RequestType7},"get")});Object.defineProperty($e,"RequestType8",{enumerable:!0,get:o(function(){return Pi.RequestType8},"get")});Object.defineProperty($e,"RequestType9",{enumerable:!0,get:o(function(){return Pi.RequestType9},"get")});Object.defineProperty($e,"ResponseError",{enumerable:!0,get:o(function(){return Pi.ResponseError},"get")});Object.defineProperty($e,"ErrorCodes",{enumerable:!0,get:o(function(){return Pi.ErrorCodes},"get")});Object.defineProperty($e,"NotificationType",{enumerable:!0,get:o(function(){return Pi.NotificationType},"get")});Object.defineProperty($e,"NotificationType0",{enumerable:!0,get:o(function(){return Pi.NotificationType0},"get")});Object.defineProperty($e,"NotificationType1",{enumerable:!0,get:o(function(){return Pi.NotificationType1},"get")});Object.defineProperty($e,"NotificationType2",{enumerable:!0,get:o(function(){return Pi.NotificationType2},"get")});Object.defineProperty($e,"NotificationType3",{enumerable:!0,get:o(function(){return Pi.NotificationType3},"get")});Object.defineProperty($e,"NotificationType4",{enumerable:!0,get:o(function(){return Pi.NotificationType4},"get")});Object.defineProperty($e,"NotificationType5",{enumerable:!0,get:o(function(){return Pi.NotificationType5},"get")});Object.defineProperty($e,"NotificationType6",{enumerable:!0,get:o(function(){return Pi.NotificationType6},"get")});Object.defineProperty($e,"NotificationType7",{enumerable:!0,get:o(function(){return Pi.NotificationType7},"get")});Object.defineProperty($e,"NotificationType8",{enumerable:!0,get:o(function(){return Pi.NotificationType8},"get")});Object.defineProperty($e,"NotificationType9",{enumerable:!0,get:o(function(){return Pi.NotificationType9},"get")});Object.defineProperty($e,"ParameterStructures",{enumerable:!0,get:o(function(){return Pi.ParameterStructures},"get")});var pU=qO();Object.defineProperty($e,"LinkedMap",{enumerable:!0,get:o(function(){return pU.LinkedMap},"get")});Object.defineProperty($e,"LRUCache",{enumerable:!0,get:o(function(){return pU.LRUCache},"get")});Object.defineProperty($e,"Touch",{enumerable:!0,get:o(function(){return pU.Touch},"get")});var C7e=Lre();Object.defineProperty($e,"Disposable",{enumerable:!0,get:o(function(){return C7e.Disposable},"get")});var Zre=L2();Object.defineProperty($e,"Event",{enumerable:!0,get:o(function(){return Zre.Event},"get")});Object.defineProperty($e,"Emitter",{enumerable:!0,get:o(function(){return Zre.Emitter},"get")});var ene=u6();Object.defineProperty($e,"CancellationTokenSource",{enumerable:!0,get:o(function(){return ene.CancellationTokenSource},"get")});Object.defineProperty($e,"CancellationToken",{enumerable:!0,get:o(function(){return ene.CancellationToken},"get")});var tne=Ore();Object.defineProperty($e,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return tne.SharedArraySenderStrategy},"get")});Object.defineProperty($e,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return tne.SharedArrayReceiverStrategy},"get")});var mU=Hre();Object.defineProperty($e,"MessageReader",{enumerable:!0,get:o(function(){return mU.MessageReader},"get")});Object.defineProperty($e,"AbstractMessageReader",{enumerable:!0,get:o(function(){return mU.AbstractMessageReader},"get")});Object.defineProperty($e,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return mU.ReadableStreamMessageReader},"get")});var gU=Yre();Object.defineProperty($e,"MessageWriter",{enumerable:!0,get:o(function(){return gU.MessageWriter},"get")});Object.defineProperty($e,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return gU.AbstractMessageWriter},"get")});Object.defineProperty($e,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return gU.WriteableStreamMessageWriter},"get")});var E7e=$re();Object.defineProperty($e,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return E7e.AbstractMessageBuffer},"get")});var pa=Xre();Object.defineProperty($e,"ConnectionStrategy",{enumerable:!0,get:o(function(){return pa.ConnectionStrategy},"get")});Object.defineProperty($e,"ConnectionOptions",{enumerable:!0,get:o(function(){return pa.ConnectionOptions},"get")});Object.defineProperty($e,"NullLogger",{enumerable:!0,get:o(function(){return pa.NullLogger},"get")});Object.defineProperty($e,"createMessageConnection",{enumerable:!0,get:o(function(){return pa.createMessageConnection},"get")});Object.defineProperty($e,"ProgressToken",{enumerable:!0,get:o(function(){return pa.ProgressToken},"get")});Object.defineProperty($e,"ProgressType",{enumerable:!0,get:o(function(){return pa.ProgressType},"get")});Object.defineProperty($e,"Trace",{enumerable:!0,get:o(function(){return pa.Trace},"get")});Object.defineProperty($e,"TraceValues",{enumerable:!0,get:o(function(){return pa.TraceValues},"get")});Object.defineProperty($e,"TraceFormat",{enumerable:!0,get:o(function(){return pa.TraceFormat},"get")});Object.defineProperty($e,"SetTraceNotification",{enumerable:!0,get:o(function(){return pa.SetTraceNotification},"get")});Object.defineProperty($e,"LogTraceNotification",{enumerable:!0,get:o(function(){return pa.LogTraceNotification},"get")});Object.defineProperty($e,"ConnectionErrors",{enumerable:!0,get:o(function(){return pa.ConnectionErrors},"get")});Object.defineProperty($e,"ConnectionError",{enumerable:!0,get:o(function(){return pa.ConnectionError},"get")});Object.defineProperty($e,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return pa.CancellationReceiverStrategy},"get")});Object.defineProperty($e,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return pa.CancellationSenderStrategy},"get")});Object.defineProperty($e,"CancellationStrategy",{enumerable:!0,get:o(function(){return pa.CancellationStrategy},"get")});Object.defineProperty($e,"MessageStrategy",{enumerable:!0,get:o(function(){return pa.MessageStrategy},"get")});var I7e=Lm();$e.RAL=I7e.default});var ine=q(IU=>{"use strict";u();Object.defineProperty(IU,"__esModule",{value:!0});var rne=require("util"),iA=I6(),v6=class t extends iA.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new rne.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};v6.emptyBuffer=Buffer.allocUnsafe(0);var yU=class{static{o(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),iA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),iA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),iA.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),iA.Disposable.create(()=>this.stream.off("data",e))}},CU=class{static{o(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),iA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),iA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),iA.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},nne=Object.freeze({messageBuffer:Object.freeze({create:o(t=>new v6(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new rne.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(t=>new yU(t),"asReadableStream"),asWritableStream:o(t=>new CU(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function EU(){return nne}o(EU,"RIL");(function(t){function e(){iA.RAL.install(nne)}o(e,"install"),t.install=e})(EU||(EU={}));IU.default=EU});var Fy=q(Pn=>{"use strict";u();var v7e=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b7e=Pn&&Pn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&v7e(e,t,r)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.createMessageConnection=Pn.createServerSocketTransport=Pn.createClientSocketTransport=Pn.createServerPipeTransport=Pn.createClientPipeTransport=Pn.generateRandomPipeName=Pn.StreamMessageWriter=Pn.StreamMessageReader=Pn.SocketMessageWriter=Pn.SocketMessageReader=Pn.PortMessageWriter=Pn.PortMessageReader=Pn.IPCMessageWriter=Pn.IPCMessageReader=void 0;var q2=ine();q2.default.install();var one=require("path"),x7e=require("os"),T7e=require("crypto"),T6=require("net"),Qc=I6();b7e(I6(),Pn);var vU=class extends Qc.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Qc.Disposable.create(()=>this.process.off("message",e))}};Pn.IPCMessageReader=vU;var bU=class extends Qc.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Pn.IPCMessageWriter=bU;var xU=class extends Qc.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(e){super(),this.onData=new Qc.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Pn.PortMessageReader=xU;var TU=class extends Qc.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Pn.PortMessageWriter=TU;var Qy=class extends Qc.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(e,r="utf-8"){super((0,q2.default)().stream.asReadableStream(e),r)}};Pn.SocketMessageReader=Qy;var Py=class extends Qc.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(e,r){super((0,q2.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Pn.SocketMessageWriter=Py;var b6=class extends Qc.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(e,r){super((0,q2.default)().stream.asReadableStream(e),r)}};Pn.StreamMessageReader=b6;var x6=class extends Qc.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(e,r){super((0,q2.default)().stream.asWritableStream(e),r)}};Pn.StreamMessageWriter=x6;var sne=process.env.XDG_RUNTIME_DIR,_7e=new Map([["linux",107],["darwin",103]]);function S7e(){let t=(0,T7e.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;sne?e=one.join(sne,`vscode-ipc-${t}.sock`):e=one.join(x7e.tmpdir(),`vscode-${t}.sock`);let r=_7e.get(process.platform);return r!==void 0&&e.length>r&&(0,q2.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}o(S7e,"generateRandomPipeName");Pn.generateRandomPipeName=S7e;function w7e(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,T6.createServer)(c=>{a.close(),r([new Qy(c,e),new Py(c,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(w7e,"createClientPipeTransport");Pn.createClientPipeTransport=w7e;function B7e(t,e="utf-8"){let r=(0,T6.createConnection)(t);return[new Qy(r,e),new Py(r,e)]}o(B7e,"createServerPipeTransport");Pn.createServerPipeTransport=B7e;function R7e(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,T6.createServer)(c=>{a.close(),r([new Qy(c,e),new Py(c,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(R7e,"createClientSocketTransport");Pn.createClientSocketTransport=R7e;function k7e(t,e="utf-8"){let r=(0,T6.createConnection)(t,"127.0.0.1");return[new Qy(r,e),new Py(r,e)]}o(k7e,"createServerSocketTransport");Pn.createServerSocketTransport=k7e;function D7e(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}o(D7e,"isReadableStream");function N7e(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}o(N7e,"isWritableStream");function Q7e(t,e,r,n){r||(r=Qc.NullLogger);let i=D7e(t)?new b6(t):t,s=N7e(e)?new x6(e):e;return Qc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Qc.createMessageConnection)(i,s,r,n)}o(Q7e,"createMessageConnection");Pn.createMessageConnection=Q7e});var _U=q((sBt,ane)=>{"use strict";u();ane.exports=Fy()});var S6=q((cne,_6)=>{u();(function(t){if(typeof _6=="object"&&typeof _6.exports=="object"){var e=t(require,cne);e!==void 0&&(_6.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(M){function ae(ge){return typeof ge=="string"}o(ae,"is"),M.is=ae})(r||(e.DocumentUri=r={}));var n;(function(M){function ae(ge){return typeof ge=="string"}o(ae,"is"),M.is=ae})(n||(e.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function ae(ge){return typeof ge=="number"&&M.MIN_VALUE<=ge&&ge<=M.MAX_VALUE}o(ae,"is"),M.is=ae})(i||(e.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function ae(ge){return typeof ge=="number"&&M.MIN_VALUE<=ge&&ge<=M.MAX_VALUE}o(ae,"is"),M.is=ae})(s||(e.uinteger=s={}));var a;(function(M){function ae(K,L){return K===Number.MAX_VALUE&&(K=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:K,character:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&Te.uinteger(L.line)&&Te.uinteger(L.character)}o(ge,"is"),M.is=ge})(a||(e.Position=a={}));var c;(function(M){function ae(K,L,Se,Xe){if(Te.uinteger(K)&&Te.uinteger(L)&&Te.uinteger(Se)&&Te.uinteger(Xe))return{start:a.create(K,L),end:a.create(Se,Xe)};if(a.is(K)&&a.is(L))return{start:K,end:L};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(L,", ").concat(Se,", ").concat(Xe,"]"))}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ge,"is"),M.is=ge})(c||(e.Range=c={}));var l;(function(M){function ae(K,L){return{uri:K,range:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&c.is(L.range)&&(Te.string(L.uri)||Te.undefined(L.uri))}o(ge,"is"),M.is=ge})(l||(e.Location=l={}));var f;(function(M){function ae(K,L,Se,Xe){return{targetUri:K,targetRange:L,targetSelectionRange:Se,originSelectionRange:Xe}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&c.is(L.targetRange)&&Te.string(L.targetUri)&&c.is(L.targetSelectionRange)&&(c.is(L.originSelectionRange)||Te.undefined(L.originSelectionRange))}o(ge,"is"),M.is=ge})(f||(e.LocationLink=f={}));var d;(function(M){function ae(K,L,Se,Xe){return{red:K,green:L,blue:Se,alpha:Xe}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&Te.numberRange(L.red,0,1)&&Te.numberRange(L.green,0,1)&&Te.numberRange(L.blue,0,1)&&Te.numberRange(L.alpha,0,1)}o(ge,"is"),M.is=ge})(d||(e.Color=d={}));var h;(function(M){function ae(K,L){return{range:K,color:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&c.is(L.range)&&d.is(L.color)}o(ge,"is"),M.is=ge})(h||(e.ColorInformation=h={}));var A;(function(M){function ae(K,L,Se){return{label:K,textEdit:L,additionalTextEdits:Se}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&Te.string(L.label)&&(Te.undefined(L.textEdit)||k.is(L))&&(Te.undefined(L.additionalTextEdits)||Te.typedArray(L.additionalTextEdits,k.is))}o(ge,"is"),M.is=ge})(A||(e.ColorPresentation=A={}));var g;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(g||(e.FoldingRangeKind=g={}));var y;(function(M){function ae(K,L,Se,Xe,rr,mi){var Dn={startLine:K,endLine:L};return Te.defined(Se)&&(Dn.startCharacter=Se),Te.defined(Xe)&&(Dn.endCharacter=Xe),Te.defined(rr)&&(Dn.kind=rr),Te.defined(mi)&&(Dn.collapsedText=mi),Dn}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&Te.uinteger(L.startLine)&&Te.uinteger(L.startLine)&&(Te.undefined(L.startCharacter)||Te.uinteger(L.startCharacter))&&(Te.undefined(L.endCharacter)||Te.uinteger(L.endCharacter))&&(Te.undefined(L.kind)||Te.string(L.kind))}o(ge,"is"),M.is=ge})(y||(e.FoldingRange=y={}));var v;(function(M){function ae(K,L){return{location:K,message:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&l.is(L.location)&&Te.string(L.message)}o(ge,"is"),M.is=ge})(v||(e.DiagnosticRelatedInformation=v={}));var _;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(_||(e.DiagnosticSeverity=_={}));var T;(function(M){M.Unnecessary=1,M.Deprecated=2})(T||(e.DiagnosticTag=T={}));var S;(function(M){function ae(ge){var K=ge;return Te.objectLiteral(K)&&Te.string(K.href)}o(ae,"is"),M.is=ae})(S||(e.CodeDescription=S={}));var D;(function(M){function ae(K,L,Se,Xe,rr,mi){var Dn={range:K,message:L};return Te.defined(Se)&&(Dn.severity=Se),Te.defined(Xe)&&(Dn.code=Xe),Te.defined(rr)&&(Dn.source=rr),Te.defined(mi)&&(Dn.relatedInformation=mi),Dn}o(ae,"create"),M.create=ae;function ge(K){var L,Se=K;return Te.defined(Se)&&c.is(Se.range)&&Te.string(Se.message)&&(Te.number(Se.severity)||Te.undefined(Se.severity))&&(Te.integer(Se.code)||Te.string(Se.code)||Te.undefined(Se.code))&&(Te.undefined(Se.codeDescription)||Te.string((L=Se.codeDescription)===null||L===void 0?void 0:L.href))&&(Te.string(Se.source)||Te.undefined(Se.source))&&(Te.undefined(Se.relatedInformation)||Te.typedArray(Se.relatedInformation,v.is))}o(ge,"is"),M.is=ge})(D||(e.Diagnostic=D={}));var Q;(function(M){function ae(K,L){for(var Se=[],Xe=2;Xe<arguments.length;Xe++)Se[Xe-2]=arguments[Xe];var rr={title:K,command:L};return Te.defined(Se)&&Se.length>0&&(rr.arguments=Se),rr}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.string(L.title)&&Te.string(L.command)}o(ge,"is"),M.is=ge})(Q||(e.Command=Q={}));var k;(function(M){function ae(Se,Xe){return{range:Se,newText:Xe}}o(ae,"replace"),M.replace=ae;function ge(Se,Xe){return{range:{start:Se,end:Se},newText:Xe}}o(ge,"insert"),M.insert=ge;function K(Se){return{range:Se,newText:""}}o(K,"del"),M.del=K;function L(Se){var Xe=Se;return Te.objectLiteral(Xe)&&Te.string(Xe.newText)&&c.is(Xe.range)}o(L,"is"),M.is=L})(k||(e.TextEdit=k={}));var P;(function(M){function ae(K,L,Se){var Xe={label:K};return L!==void 0&&(Xe.needsConfirmation=L),Se!==void 0&&(Xe.description=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&Te.string(L.label)&&(Te.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(Te.string(L.description)||L.description===void 0)}o(ge,"is"),M.is=ge})(P||(e.ChangeAnnotation=P={}));var W;(function(M){function ae(ge){var K=ge;return Te.string(K)}o(ae,"is"),M.is=ae})(W||(e.ChangeAnnotationIdentifier=W={}));var re;(function(M){function ae(Se,Xe,rr){return{range:Se,newText:Xe,annotationId:rr}}o(ae,"replace"),M.replace=ae;function ge(Se,Xe,rr){return{range:{start:Se,end:Se},newText:Xe,annotationId:rr}}o(ge,"insert"),M.insert=ge;function K(Se,Xe){return{range:Se,newText:"",annotationId:Xe}}o(K,"del"),M.del=K;function L(Se){var Xe=Se;return k.is(Xe)&&(P.is(Xe.annotationId)||W.is(Xe.annotationId))}o(L,"is"),M.is=L})(re||(e.AnnotatedTextEdit=re={}));var ye;(function(M){function ae(K,L){return{textDocument:K,edits:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&se.is(L.textDocument)&&Array.isArray(L.edits)}o(ge,"is"),M.is=ge})(ye||(e.TextDocumentEdit=ye={}));var Ae;(function(M){function ae(K,L,Se){var Xe={kind:"create",uri:K};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Xe.options=L),Se!==void 0&&(Xe.annotationId=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&L.kind==="create"&&Te.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||Te.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Te.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ge,"is"),M.is=ge})(Ae||(e.CreateFile=Ae={}));var z;(function(M){function ae(K,L,Se,Xe){var rr={kind:"rename",oldUri:K,newUri:L};return Se!==void 0&&(Se.overwrite!==void 0||Se.ignoreIfExists!==void 0)&&(rr.options=Se),Xe!==void 0&&(rr.annotationId=Xe),rr}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&L.kind==="rename"&&Te.string(L.oldUri)&&Te.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||Te.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Te.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ge,"is"),M.is=ge})(z||(e.RenameFile=z={}));var j;(function(M){function ae(K,L,Se){var Xe={kind:"delete",uri:K};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Xe.options=L),Se!==void 0&&(Xe.annotationId=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&L.kind==="delete"&&Te.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||Te.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||Te.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ge,"is"),M.is=ge})(j||(e.DeleteFile=j={}));var Ie;(function(M){function ae(ge){var K=ge;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(L){return Te.string(L.kind)?Ae.is(L)||z.is(L)||j.is(L):ye.is(L)}))}o(ae,"is"),M.is=ae})(Ie||(e.WorkspaceEdit=Ie={}));var ue=function(){function M(ae,ge){this.edits=ae,this.changeAnnotations=ge}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(ae,ge,K){var L,Se;if(K===void 0?L=k.insert(ae,ge):W.is(K)?(Se=K,L=re.insert(ae,ge,K)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(K),L=re.insert(ae,ge,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.replace=function(ae,ge,K){var L,Se;if(K===void 0?L=k.replace(ae,ge):W.is(K)?(Se=K,L=re.replace(ae,ge,K)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(K),L=re.replace(ae,ge,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.delete=function(ae,ge){var K,L;if(ge===void 0?K=k.del(ae):W.is(ge)?(L=ge,K=re.del(ae,ge)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ge),K=re.del(ae,L)),this.edits.push(K),L!==void 0)return L},M.prototype.add=function(ae){this.edits.push(ae)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(ae){if(ae===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),J=function(){function M(ae){this._annotations=ae===void 0?Object.create(null):ae,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(ae,ge){var K;if(W.is(ae)?K=ae:(K=this.nextId(),ge=ae),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(ge===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=ge,this._size++,K},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),H=function(){function M(ae){var ge=this;this._textEditChanges=Object.create(null),ae!==void 0?(this._workspaceEdit=ae,ae.documentChanges?(this._changeAnnotations=new J(ae.changeAnnotations),ae.changeAnnotations=this._changeAnnotations.all(),ae.documentChanges.forEach(function(K){if(ye.is(K)){var L=new ue(K.edits,ge._changeAnnotations);ge._textEditChanges[K.textDocument.uri]=L}})):ae.changes&&Object.keys(ae.changes).forEach(function(K){var L=new ue(ae.changes[K]);ge._textEditChanges[K]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(ae){if(se.is(ae)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ge={uri:ae.uri,version:ae.version},K=this._textEditChanges[ge.uri];if(!K){var L=[],Se={textDocument:ge,edits:L};this._workspaceEdit.documentChanges.push(Se),K=new ue(L,this._changeAnnotations),this._textEditChanges[ge.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[ae];if(!K){var L=[];this._workspaceEdit.changes[ae]=L,K=new ue(L),this._textEditChanges[ae]=K}return K}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new J,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(ae,ge,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;P.is(ge)||W.is(ge)?L=ge:K=ge;var Se,Xe;if(L===void 0?Se=Ae.create(ae,K):(Xe=W.is(L)?L:this._changeAnnotations.manage(L),Se=Ae.create(ae,K,Xe)),this._workspaceEdit.documentChanges.push(Se),Xe!==void 0)return Xe},M.prototype.renameFile=function(ae,ge,K,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Se;P.is(K)||W.is(K)?Se=K:L=K;var Xe,rr;if(Se===void 0?Xe=z.create(ae,ge,L):(rr=W.is(Se)?Se:this._changeAnnotations.manage(Se),Xe=z.create(ae,ge,L,rr)),this._workspaceEdit.documentChanges.push(Xe),rr!==void 0)return rr},M.prototype.deleteFile=function(ae,ge,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;P.is(ge)||W.is(ge)?L=ge:K=ge;var Se,Xe;if(L===void 0?Se=j.create(ae,K):(Xe=W.is(L)?L:this._changeAnnotations.manage(L),Se=j.create(ae,K,Xe)),this._workspaceEdit.documentChanges.push(Se),Xe!==void 0)return Xe},M}();e.WorkspaceChange=H;var Z;(function(M){function ae(K){return{uri:K}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.string(L.uri)}o(ge,"is"),M.is=ge})(Z||(e.TextDocumentIdentifier=Z={}));var ee;(function(M){function ae(K,L){return{uri:K,version:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.string(L.uri)&&Te.integer(L.version)}o(ge,"is"),M.is=ge})(ee||(e.VersionedTextDocumentIdentifier=ee={}));var se;(function(M){function ae(K,L){return{uri:K,version:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.string(L.uri)&&(L.version===null||Te.integer(L.version))}o(ge,"is"),M.is=ge})(se||(e.OptionalVersionedTextDocumentIdentifier=se={}));var ne;(function(M){function ae(K,L,Se,Xe){return{uri:K,languageId:L,version:Se,text:Xe}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.string(L.uri)&&Te.string(L.languageId)&&Te.integer(L.version)&&Te.string(L.text)}o(ge,"is"),M.is=ge})(ne||(e.TextDocumentItem=ne={}));var le;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function ae(ge){var K=ge;return K===M.PlainText||K===M.Markdown}o(ae,"is"),M.is=ae})(le||(e.MarkupKind=le={}));var he;(function(M){function ae(ge){var K=ge;return Te.objectLiteral(ge)&&le.is(K.kind)&&Te.string(K.value)}o(ae,"is"),M.is=ae})(he||(e.MarkupContent=he={}));var Ke;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Ke||(e.CompletionItemKind=Ke={}));var tt;(function(M){M.PlainText=1,M.Snippet=2})(tt||(e.InsertTextFormat=tt={}));var ct;(function(M){M.Deprecated=1})(ct||(e.CompletionItemTag=ct={}));var Ct;(function(M){function ae(K,L,Se){return{newText:K,insert:L,replace:Se}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&Te.string(L.newText)&&c.is(L.insert)&&c.is(L.replace)}o(ge,"is"),M.is=ge})(Ct||(e.InsertReplaceEdit=Ct={}));var qt;(function(M){M.asIs=1,M.adjustIndentation=2})(qt||(e.InsertTextMode=qt={}));var Or;(function(M){function ae(ge){var K=ge;return K&&(Te.string(K.detail)||K.detail===void 0)&&(Te.string(K.description)||K.description===void 0)}o(ae,"is"),M.is=ae})(Or||(e.CompletionItemLabelDetails=Or={}));var kn;(function(M){function ae(ge){return{label:ge}}o(ae,"create"),M.create=ae})(kn||(e.CompletionItem=kn={}));var br;(function(M){function ae(ge,K){return{items:ge||[],isIncomplete:!!K}}o(ae,"create"),M.create=ae})(br||(e.CompletionList=br={}));var oe;(function(M){function ae(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(ae,"fromPlainText"),M.fromPlainText=ae;function ge(K){var L=K;return Te.string(L)||Te.objectLiteral(L)&&Te.string(L.language)&&Te.string(L.value)}o(ge,"is"),M.is=ge})(oe||(e.MarkedString=oe={}));var Je;(function(M){function ae(ge){var K=ge;return!!K&&Te.objectLiteral(K)&&(he.is(K.contents)||oe.is(K.contents)||Te.typedArray(K.contents,oe.is))&&(ge.range===void 0||c.is(ge.range))}o(ae,"is"),M.is=ae})(Je||(e.Hover=Je={}));var pe;(function(M){function ae(ge,K){return K?{label:ge,documentation:K}:{label:ge}}o(ae,"create"),M.create=ae})(pe||(e.ParameterInformation=pe={}));var ut;(function(M){function ae(ge,K){for(var L=[],Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];var Xe={label:ge};return Te.defined(K)&&(Xe.documentation=K),Te.defined(L)?Xe.parameters=L:Xe.parameters=[],Xe}o(ae,"create"),M.create=ae})(ut||(e.SignatureInformation=ut={}));var ot;(function(M){M.Text=1,M.Read=2,M.Write=3})(ot||(e.DocumentHighlightKind=ot={}));var We;(function(M){function ae(ge,K){var L={range:ge};return Te.number(K)&&(L.kind=K),L}o(ae,"create"),M.create=ae})(We||(e.DocumentHighlight=We={}));var Pr;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Pr||(e.SymbolKind=Pr={}));var En;(function(M){M.Deprecated=1})(En||(e.SymbolTag=En={}));var Ur;(function(M){function ae(ge,K,L,Se,Xe){var rr={name:ge,kind:K,location:{uri:Se,range:L}};return Xe&&(rr.containerName=Xe),rr}o(ae,"create"),M.create=ae})(Ur||(e.SymbolInformation=Ur={}));var Kt;(function(M){function ae(ge,K,L,Se){return Se!==void 0?{name:ge,kind:K,location:{uri:L,range:Se}}:{name:ge,kind:K,location:{uri:L}}}o(ae,"create"),M.create=ae})(Kt||(e.WorkspaceSymbol=Kt={}));var pi;(function(M){function ae(K,L,Se,Xe,rr,mi){var Dn={name:K,detail:L,kind:Se,range:Xe,selectionRange:rr};return mi!==void 0&&(Dn.children=mi),Dn}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&Te.string(L.name)&&Te.number(L.kind)&&c.is(L.range)&&c.is(L.selectionRange)&&(L.detail===void 0||Te.string(L.detail))&&(L.deprecated===void 0||Te.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ge,"is"),M.is=ge})(pi||(e.DocumentSymbol=pi={}));var Ho;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Ho||(e.CodeActionKind=Ho={}));var Fn;(function(M){M.Invoked=1,M.Automatic=2})(Fn||(e.CodeActionTriggerKind=Fn={}));var qo;(function(M){function ae(K,L,Se){var Xe={diagnostics:K};return L!=null&&(Xe.only=L),Se!=null&&(Xe.triggerKind=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.typedArray(L.diagnostics,D.is)&&(L.only===void 0||Te.typedArray(L.only,Te.string))&&(L.triggerKind===void 0||L.triggerKind===Fn.Invoked||L.triggerKind===Fn.Automatic)}o(ge,"is"),M.is=ge})(qo||(e.CodeActionContext=qo={}));var Jt;(function(M){function ae(K,L,Se){var Xe={title:K},rr=!0;return typeof L=="string"?(rr=!1,Xe.kind=L):Q.is(L)?Xe.command=L:Xe.edit=L,rr&&Se!==void 0&&(Xe.kind=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L&&Te.string(L.title)&&(L.diagnostics===void 0||Te.typedArray(L.diagnostics,D.is))&&(L.kind===void 0||Te.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||Q.is(L.command))&&(L.isPreferred===void 0||Te.boolean(L.isPreferred))&&(L.edit===void 0||Ie.is(L.edit))}o(ge,"is"),M.is=ge})(Jt||(e.CodeAction=Jt={}));var po;(function(M){function ae(K,L){var Se={range:K};return Te.defined(L)&&(Se.data=L),Se}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&c.is(L.range)&&(Te.undefined(L.command)||Q.is(L.command))}o(ge,"is"),M.is=ge})(po||(e.CodeLens=po={}));var Bo;(function(M){function ae(K,L){return{tabSize:K,insertSpaces:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&Te.uinteger(L.tabSize)&&Te.boolean(L.insertSpaces)}o(ge,"is"),M.is=ge})(Bo||(e.FormattingOptions=Bo={}));var sa;(function(M){function ae(K,L,Se){return{range:K,target:L,data:Se}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&c.is(L.range)&&(Te.undefined(L.target)||Te.string(L.target))}o(ge,"is"),M.is=ge})(sa||(e.DocumentLink=sa={}));var ce;(function(M){function ae(K,L){return{range:K,parent:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&c.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ge,"is"),M.is=ge})(ce||(e.SelectionRange=ce={}));var Ge;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Ge||(e.SemanticTokenTypes=Ge={}));var dt;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(dt||(e.SemanticTokenModifiers=dt={}));var vt;(function(M){function ae(ge){var K=ge;return Te.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}o(ae,"is"),M.is=ae})(vt||(e.SemanticTokens=vt={}));var Wr;(function(M){function ae(K,L){return{range:K,text:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L!=null&&c.is(L.range)&&Te.string(L.text)}o(ge,"is"),M.is=ge})(Wr||(e.InlineValueText=Wr={}));var xr;(function(M){function ae(K,L,Se){return{range:K,variableName:L,caseSensitiveLookup:Se}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L!=null&&c.is(L.range)&&Te.boolean(L.caseSensitiveLookup)&&(Te.string(L.variableName)||L.variableName===void 0)}o(ge,"is"),M.is=ge})(xr||(e.InlineValueVariableLookup=xr={}));var zn;(function(M){function ae(K,L){return{range:K,expression:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return L!=null&&c.is(L.range)&&(Te.string(L.expression)||L.expression===void 0)}o(ge,"is"),M.is=ge})(zn||(e.InlineValueEvaluatableExpression=zn={}));var ii;(function(M){function ae(K,L){return{frameId:K,stoppedLocation:L}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.defined(L)&&c.is(K.stoppedLocation)}o(ge,"is"),M.is=ge})(ii||(e.InlineValueContext=ii={}));var Fr;(function(M){M.Type=1,M.Parameter=2;function ae(ge){return ge===1||ge===2}o(ae,"is"),M.is=ae})(Fr||(e.InlayHintKind=Fr={}));var Yr;(function(M){function ae(K){return{value:K}}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&(L.tooltip===void 0||Te.string(L.tooltip)||he.is(L.tooltip))&&(L.location===void 0||l.is(L.location))&&(L.command===void 0||Q.is(L.command))}o(ge,"is"),M.is=ge})(Yr||(e.InlayHintLabelPart=Yr={}));var Hr;(function(M){function ae(K,L,Se){var Xe={position:K,label:L};return Se!==void 0&&(Xe.kind=Se),Xe}o(ae,"create"),M.create=ae;function ge(K){var L=K;return Te.objectLiteral(L)&&a.is(L.position)&&(Te.string(L.label)||Te.typedArray(L.label,Yr.is))&&(L.kind===void 0||Fr.is(L.kind))&&L.textEdits===void 0||Te.typedArray(L.textEdits,k.is)&&(L.tooltip===void 0||Te.string(L.tooltip)||he.is(L.tooltip))&&(L.paddingLeft===void 0||Te.boolean(L.paddingLeft))&&(L.paddingRight===void 0||Te.boolean(L.paddingRight))}o(ge,"is"),M.is=ge})(Hr||(e.InlayHint=Hr={}));var fi;(function(M){function ae(ge){return{kind:"snippet",value:ge}}o(ae,"createSnippet"),M.createSnippet=ae})(fi||(e.StringValue=fi={}));var qi;(function(M){function ae(ge,K,L,Se){return{insertText:ge,filterText:K,range:L,command:Se}}o(ae,"create"),M.create=ae})(qi||(e.InlineCompletionItem=qi={}));var Ro;(function(M){function ae(ge){return{items:ge}}o(ae,"create"),M.create=ae})(Ro||(e.InlineCompletionList=Ro={}));var yc;(function(M){M.Invoked=0,M.Automatic=1})(yc||(e.InlineCompletionTriggerKind=yc={}));var kf;(function(M){function ae(ge,K){return{range:ge,text:K}}o(ae,"create"),M.create=ae})(kf||(e.SelectedCompletionInfo=kf={}));var w0;(function(M){function ae(ge,K){return{triggerKind:ge,selectedCompletionInfo:K}}o(ae,"create"),M.create=ae})(w0||(e.InlineCompletionContext=w0={}));var hu;(function(M){function ae(ge){var K=ge;return Te.objectLiteral(K)&&n.is(K.uri)&&Te.string(K.name)}o(ae,"is"),M.is=ae})(hu||(e.WorkspaceFolder=hu={})),e.EOL=[`
`,`\r
`,"\r"];var rs;(function(M){function ae(Se,Xe,rr,mi){return new Au(Se,Xe,rr,mi)}o(ae,"create"),M.create=ae;function ge(Se){var Xe=Se;return!!(Te.defined(Xe)&&Te.string(Xe.uri)&&(Te.undefined(Xe.languageId)||Te.string(Xe.languageId))&&Te.uinteger(Xe.lineCount)&&Te.func(Xe.getText)&&Te.func(Xe.positionAt)&&Te.func(Xe.offsetAt))}o(ge,"is"),M.is=ge;function K(Se,Xe){for(var rr=Se.getText(),mi=L(Xe,function(B0,ns){var pu=B0.range.start.line-ns.range.start.line;return pu===0?B0.range.start.character-ns.range.start.character:pu}),Dn=rr.length,Ps=mi.length-1;Ps>=0;Ps--){var aa=mi[Ps],oi=Se.offsetAt(aa.range.start),Br=Se.offsetAt(aa.range.end);if(Br<=Dn)rr=rr.substring(0,oi)+aa.newText+rr.substring(Br,rr.length);else throw new Error("Overlapping edit");Dn=oi}return rr}o(K,"applyEdits"),M.applyEdits=K;function L(Se,Xe){if(Se.length<=1)return Se;var rr=Se.length/2|0,mi=Se.slice(0,rr),Dn=Se.slice(rr);L(mi,Xe),L(Dn,Xe);for(var Ps=0,aa=0,oi=0;Ps<mi.length&&aa<Dn.length;){var Br=Xe(mi[Ps],Dn[aa]);Br<=0?Se[oi++]=mi[Ps++]:Se[oi++]=Dn[aa++]}for(;Ps<mi.length;)Se[oi++]=mi[Ps++];for(;aa<Dn.length;)Se[oi++]=Dn[aa++];return Se}o(L,"mergeSort")})(rs||(e.TextDocument=rs={}));var Au=function(){function M(ae,ge,K,L){this._uri=ae,this._languageId=ge,this._version=K,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(ae){if(ae){var ge=this.offsetAt(ae.start),K=this.offsetAt(ae.end);return this._content.substring(ge,K)}return this._content},M.prototype.update=function(ae,ge){this._content=ae.text,this._version=ge,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var ae=[],ge=this._content,K=!0,L=0;L<ge.length;L++){K&&(ae.push(L),K=!1);var Se=ge.charAt(L);K=Se==="\r"||Se===`
`,Se==="\r"&&L+1<ge.length&&ge.charAt(L+1)===`
`&&L++}K&&ge.length>0&&ae.push(ge.length),this._lineOffsets=ae}return this._lineOffsets},M.prototype.positionAt=function(ae){ae=Math.max(Math.min(ae,this._content.length),0);var ge=this.getLineOffsets(),K=0,L=ge.length;if(L===0)return a.create(0,ae);for(;K<L;){var Se=Math.floor((K+L)/2);ge[Se]>ae?L=Se:K=Se+1}var Xe=K-1;return a.create(Xe,ae-ge[Xe])},M.prototype.offsetAt=function(ae){var ge=this.getLineOffsets();if(ae.line>=ge.length)return this._content.length;if(ae.line<0)return 0;var K=ge[ae.line],L=ae.line+1<ge.length?ge[ae.line+1]:this._content.length;return Math.max(Math.min(K+ae.character,L),K)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),Te;(function(M){var ae=Object.prototype.toString;function ge(Br){return typeof Br<"u"}o(ge,"defined"),M.defined=ge;function K(Br){return typeof Br>"u"}o(K,"undefined"),M.undefined=K;function L(Br){return Br===!0||Br===!1}o(L,"boolean"),M.boolean=L;function Se(Br){return ae.call(Br)==="[object String]"}o(Se,"string"),M.string=Se;function Xe(Br){return ae.call(Br)==="[object Number]"}o(Xe,"number"),M.number=Xe;function rr(Br,B0,ns){return ae.call(Br)==="[object Number]"&&B0<=Br&&Br<=ns}o(rr,"numberRange"),M.numberRange=rr;function mi(Br){return ae.call(Br)==="[object Number]"&&-2147483648<=Br&&Br<=2147483647}o(mi,"integer"),M.integer=mi;function Dn(Br){return ae.call(Br)==="[object Number]"&&0<=Br&&Br<=2147483647}o(Dn,"uinteger"),M.uinteger=Dn;function Ps(Br){return ae.call(Br)==="[object Function]"}o(Ps,"func"),M.func=Ps;function aa(Br){return Br!==null&&typeof Br=="object"}o(aa,"objectLiteral"),M.objectLiteral=aa;function oi(Br,B0){return Array.isArray(Br)&&Br.every(B0)}o(oi,"typedArray"),M.typedArray=oi})(Te||(Te={}))})});var lo=q(W0=>{"use strict";u();Object.defineProperty(W0,"__esModule",{value:!0});W0.ProtocolNotificationType=W0.ProtocolNotificationType0=W0.ProtocolRequestType=W0.ProtocolRequestType0=W0.RegistrationType=W0.MessageDirection=void 0;var G2=Fy(),lne;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(lne||(W0.MessageDirection=lne={}));var SU=class{static{o(this,"RegistrationType")}constructor(e){this.method=e}};W0.RegistrationType=SU;var wU=class extends G2.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(e){super(e)}};W0.ProtocolRequestType0=wU;var BU=class extends G2.RequestType{static{o(this,"ProtocolRequestType")}constructor(e){super(e,G2.ParameterStructures.byName)}};W0.ProtocolRequestType=BU;var RU=class extends G2.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(e){super(e)}};W0.ProtocolNotificationType0=RU;var kU=class extends G2.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(e){super(e,G2.ParameterStructures.byName)}};W0.ProtocolNotificationType=kU});var w6=q(ds=>{"use strict";u();Object.defineProperty(ds,"__esModule",{value:!0});ds.objectLiteral=ds.typedArray=ds.stringArray=ds.array=ds.func=ds.error=ds.number=ds.string=ds.boolean=void 0;function P7e(t){return t===!0||t===!1}o(P7e,"boolean");ds.boolean=P7e;function une(t){return typeof t=="string"||t instanceof String}o(une,"string");ds.string=une;function F7e(t){return typeof t=="number"||t instanceof Number}o(F7e,"number");ds.number=F7e;function L7e(t){return t instanceof Error}o(L7e,"error");ds.error=L7e;function M7e(t){return typeof t=="function"}o(M7e,"func");ds.func=M7e;function fne(t){return Array.isArray(t)}o(fne,"array");ds.array=fne;function O7e(t){return fne(t)&&t.every(e=>une(e))}o(O7e,"stringArray");ds.stringArray=O7e;function U7e(t,e){return Array.isArray(t)&&t.every(e)}o(U7e,"typedArray");ds.typedArray=U7e;function H7e(t){return t!==null&&typeof t=="object"}o(H7e,"objectLiteral");ds.objectLiteral=H7e});var Ane=q(B6=>{"use strict";u();Object.defineProperty(B6,"__esModule",{value:!0});B6.ImplementationRequest=void 0;var dne=lo(),hne;(function(t){t.method="textDocument/implementation",t.messageDirection=dne.MessageDirection.clientToServer,t.type=new dne.ProtocolRequestType(t.method)})(hne||(B6.ImplementationRequest=hne={}))});var gne=q(R6=>{"use strict";u();Object.defineProperty(R6,"__esModule",{value:!0});R6.TypeDefinitionRequest=void 0;var pne=lo(),mne;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=pne.MessageDirection.clientToServer,t.type=new pne.ProtocolRequestType(t.method)})(mne||(R6.TypeDefinitionRequest=mne={}))});var Ene=q(V2=>{"use strict";u();Object.defineProperty(V2,"__esModule",{value:!0});V2.DidChangeWorkspaceFoldersNotification=V2.WorkspaceFoldersRequest=void 0;var k6=lo(),yne;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=k6.MessageDirection.serverToClient,t.type=new k6.ProtocolRequestType0(t.method)})(yne||(V2.WorkspaceFoldersRequest=yne={}));var Cne;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=k6.MessageDirection.clientToServer,t.type=new k6.ProtocolNotificationType(t.method)})(Cne||(V2.DidChangeWorkspaceFoldersNotification=Cne={}))});var bne=q(D6=>{"use strict";u();Object.defineProperty(D6,"__esModule",{value:!0});D6.ConfigurationRequest=void 0;var Ine=lo(),vne;(function(t){t.method="workspace/configuration",t.messageDirection=Ine.MessageDirection.serverToClient,t.type=new Ine.ProtocolRequestType(t.method)})(vne||(D6.ConfigurationRequest=vne={}))});var _ne=q(W2=>{"use strict";u();Object.defineProperty(W2,"__esModule",{value:!0});W2.ColorPresentationRequest=W2.DocumentColorRequest=void 0;var N6=lo(),xne;(function(t){t.method="textDocument/documentColor",t.messageDirection=N6.MessageDirection.clientToServer,t.type=new N6.ProtocolRequestType(t.method)})(xne||(W2.DocumentColorRequest=xne={}));var Tne;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=N6.MessageDirection.clientToServer,t.type=new N6.ProtocolRequestType(t.method)})(Tne||(W2.ColorPresentationRequest=Tne={}))});var Bne=q(Y2=>{"use strict";u();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.FoldingRangeRefreshRequest=Y2.FoldingRangeRequest=void 0;var Q6=lo(),Sne;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Q6.MessageDirection.clientToServer,t.type=new Q6.ProtocolRequestType(t.method)})(Sne||(Y2.FoldingRangeRequest=Sne={}));var wne;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Q6.MessageDirection.serverToClient,t.type=new Q6.ProtocolRequestType0(t.method)})(wne||(Y2.FoldingRangeRefreshRequest=wne={}))});var Dne=q(P6=>{"use strict";u();Object.defineProperty(P6,"__esModule",{value:!0});P6.DeclarationRequest=void 0;var Rne=lo(),kne;(function(t){t.method="textDocument/declaration",t.messageDirection=Rne.MessageDirection.clientToServer,t.type=new Rne.ProtocolRequestType(t.method)})(kne||(P6.DeclarationRequest=kne={}))});var Pne=q(F6=>{"use strict";u();Object.defineProperty(F6,"__esModule",{value:!0});F6.SelectionRangeRequest=void 0;var Nne=lo(),Qne;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Nne.MessageDirection.clientToServer,t.type=new Nne.ProtocolRequestType(t.method)})(Qne||(F6.SelectionRangeRequest=Qne={}))});var One=q(Um=>{"use strict";u();Object.defineProperty(Um,"__esModule",{value:!0});Um.WorkDoneProgressCancelNotification=Um.WorkDoneProgressCreateRequest=Um.WorkDoneProgress=void 0;var q7e=Fy(),L6=lo(),Fne;(function(t){t.type=new q7e.ProgressType;function e(r){return r===t.type}o(e,"is"),t.is=e})(Fne||(Um.WorkDoneProgress=Fne={}));var Lne;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=L6.MessageDirection.serverToClient,t.type=new L6.ProtocolRequestType(t.method)})(Lne||(Um.WorkDoneProgressCreateRequest=Lne={}));var Mne;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=L6.MessageDirection.clientToServer,t.type=new L6.ProtocolNotificationType(t.method)})(Mne||(Um.WorkDoneProgressCancelNotification=Mne={}))});var Gne=q(Hm=>{"use strict";u();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.CallHierarchyOutgoingCallsRequest=Hm.CallHierarchyIncomingCallsRequest=Hm.CallHierarchyPrepareRequest=void 0;var $2=lo(),Une;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=$2.MessageDirection.clientToServer,t.type=new $2.ProtocolRequestType(t.method)})(Une||(Hm.CallHierarchyPrepareRequest=Une={}));var Hne;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=$2.MessageDirection.clientToServer,t.type=new $2.ProtocolRequestType(t.method)})(Hne||(Hm.CallHierarchyIncomingCallsRequest=Hne={}));var qne;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=$2.MessageDirection.clientToServer,t.type=new $2.ProtocolRequestType(t.method)})(qne||(Hm.CallHierarchyOutgoingCallsRequest=qne={}))});var jne=q(Y0=>{"use strict";u();Object.defineProperty(Y0,"__esModule",{value:!0});Y0.SemanticTokensRefreshRequest=Y0.SemanticTokensRangeRequest=Y0.SemanticTokensDeltaRequest=Y0.SemanticTokensRequest=Y0.SemanticTokensRegistrationType=Y0.TokenFormat=void 0;var oA=lo(),Vne;(function(t){t.Relative="relative"})(Vne||(Y0.TokenFormat=Vne={}));var a4;(function(t){t.method="textDocument/semanticTokens",t.type=new oA.RegistrationType(t.method)})(a4||(Y0.SemanticTokensRegistrationType=a4={}));var Wne;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=oA.MessageDirection.clientToServer,t.type=new oA.ProtocolRequestType(t.method),t.registrationMethod=a4.method})(Wne||(Y0.SemanticTokensRequest=Wne={}));var Yne;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=oA.MessageDirection.clientToServer,t.type=new oA.ProtocolRequestType(t.method),t.registrationMethod=a4.method})(Yne||(Y0.SemanticTokensDeltaRequest=Yne={}));var $ne;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=oA.MessageDirection.clientToServer,t.type=new oA.ProtocolRequestType(t.method),t.registrationMethod=a4.method})($ne||(Y0.SemanticTokensRangeRequest=$ne={}));var zne;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=oA.MessageDirection.serverToClient,t.type=new oA.ProtocolRequestType0(t.method)})(zne||(Y0.SemanticTokensRefreshRequest=zne={}))});var Xne=q(M6=>{"use strict";u();Object.defineProperty(M6,"__esModule",{value:!0});M6.ShowDocumentRequest=void 0;var Kne=lo(),Jne;(function(t){t.method="window/showDocument",t.messageDirection=Kne.MessageDirection.serverToClient,t.type=new Kne.ProtocolRequestType(t.method)})(Jne||(M6.ShowDocumentRequest=Jne={}))});var tie=q(O6=>{"use strict";u();Object.defineProperty(O6,"__esModule",{value:!0});O6.LinkedEditingRangeRequest=void 0;var Zne=lo(),eie;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Zne.MessageDirection.clientToServer,t.type=new Zne.ProtocolRequestType(t.method)})(eie||(O6.LinkedEditingRangeRequest=eie={}))});var lie=q(Ya=>{"use strict";u();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.WillDeleteFilesRequest=Ya.DidDeleteFilesNotification=Ya.DidRenameFilesNotification=Ya.WillRenameFilesRequest=Ya.DidCreateFilesNotification=Ya.WillCreateFilesRequest=Ya.FileOperationPatternKind=void 0;var Dl=lo(),rie;(function(t){t.file="file",t.folder="folder"})(rie||(Ya.FileOperationPatternKind=rie={}));var nie;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(nie||(Ya.WillCreateFilesRequest=nie={}));var iie;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(iie||(Ya.DidCreateFilesNotification=iie={}));var oie;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(oie||(Ya.WillRenameFilesRequest=oie={}));var sie;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(sie||(Ya.DidRenameFilesNotification=sie={}));var aie;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(aie||(Ya.DidDeleteFilesNotification=aie={}));var cie;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(cie||(Ya.WillDeleteFilesRequest=cie={}))});var Aie=q(qm=>{"use strict";u();Object.defineProperty(qm,"__esModule",{value:!0});qm.MonikerRequest=qm.MonikerKind=qm.UniquenessLevel=void 0;var uie=lo(),fie;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(fie||(qm.UniquenessLevel=fie={}));var die;(function(t){t.$import="import",t.$export="export",t.local="local"})(die||(qm.MonikerKind=die={}));var hie;(function(t){t.method="textDocument/moniker",t.messageDirection=uie.MessageDirection.clientToServer,t.type=new uie.ProtocolRequestType(t.method)})(hie||(qm.MonikerRequest=hie={}))});var yie=q(Gm=>{"use strict";u();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.TypeHierarchySubtypesRequest=Gm.TypeHierarchySupertypesRequest=Gm.TypeHierarchyPrepareRequest=void 0;var z2=lo(),pie;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=z2.MessageDirection.clientToServer,t.type=new z2.ProtocolRequestType(t.method)})(pie||(Gm.TypeHierarchyPrepareRequest=pie={}));var mie;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=z2.MessageDirection.clientToServer,t.type=new z2.ProtocolRequestType(t.method)})(mie||(Gm.TypeHierarchySupertypesRequest=mie={}));var gie;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=z2.MessageDirection.clientToServer,t.type=new z2.ProtocolRequestType(t.method)})(gie||(Gm.TypeHierarchySubtypesRequest=gie={}))});var Iie=q(j2=>{"use strict";u();Object.defineProperty(j2,"__esModule",{value:!0});j2.InlineValueRefreshRequest=j2.InlineValueRequest=void 0;var U6=lo(),Cie;(function(t){t.method="textDocument/inlineValue",t.messageDirection=U6.MessageDirection.clientToServer,t.type=new U6.ProtocolRequestType(t.method)})(Cie||(j2.InlineValueRequest=Cie={}));var Eie;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=U6.MessageDirection.serverToClient,t.type=new U6.ProtocolRequestType0(t.method)})(Eie||(j2.InlineValueRefreshRequest=Eie={}))});var Tie=q(Vm=>{"use strict";u();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.InlayHintRefreshRequest=Vm.InlayHintResolveRequest=Vm.InlayHintRequest=void 0;var K2=lo(),vie;(function(t){t.method="textDocument/inlayHint",t.messageDirection=K2.MessageDirection.clientToServer,t.type=new K2.ProtocolRequestType(t.method)})(vie||(Vm.InlayHintRequest=vie={}));var bie;(function(t){t.method="inlayHint/resolve",t.messageDirection=K2.MessageDirection.clientToServer,t.type=new K2.ProtocolRequestType(t.method)})(bie||(Vm.InlayHintResolveRequest=bie={}));var xie;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=K2.MessageDirection.serverToClient,t.type=new K2.ProtocolRequestType0(t.method)})(xie||(Vm.InlayHintRefreshRequest=xie={}))});var Die=q(Nl=>{"use strict";u();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.DiagnosticRefreshRequest=Nl.WorkspaceDiagnosticRequest=Nl.DocumentDiagnosticRequest=Nl.DocumentDiagnosticReportKind=Nl.DiagnosticServerCancellationData=void 0;var kie=Fy(),G7e=w6(),J2=lo(),_ie;(function(t){function e(r){let n=r;return n&&G7e.boolean(n.retriggerRequest)}o(e,"is"),t.is=e})(_ie||(Nl.DiagnosticServerCancellationData=_ie={}));var Sie;(function(t){t.Full="full",t.Unchanged="unchanged"})(Sie||(Nl.DocumentDiagnosticReportKind=Sie={}));var wie;(function(t){t.method="textDocument/diagnostic",t.messageDirection=J2.MessageDirection.clientToServer,t.type=new J2.ProtocolRequestType(t.method),t.partialResult=new kie.ProgressType})(wie||(Nl.DocumentDiagnosticRequest=wie={}));var Bie;(function(t){t.method="workspace/diagnostic",t.messageDirection=J2.MessageDirection.clientToServer,t.type=new J2.ProtocolRequestType(t.method),t.partialResult=new kie.ProgressType})(Bie||(Nl.WorkspaceDiagnosticRequest=Bie={}));var Rie;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=J2.MessageDirection.serverToClient,t.type=new J2.ProtocolRequestType0(t.method)})(Rie||(Nl.DiagnosticRefreshRequest=Rie={}))});var Oie=q(No=>{"use strict";u();Object.defineProperty(No,"__esModule",{value:!0});No.DidCloseNotebookDocumentNotification=No.DidSaveNotebookDocumentNotification=No.DidChangeNotebookDocumentNotification=No.NotebookCellArrayChange=No.DidOpenNotebookDocumentNotification=No.NotebookDocumentSyncRegistrationType=No.NotebookDocument=No.NotebookCell=No.ExecutionSummary=No.NotebookCellKind=void 0;var c4=S6(),$u=w6(),pd=lo(),DU;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}o(e,"is"),t.is=e})(DU||(No.NotebookCellKind=DU={}));var NU;(function(t){function e(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(e,"create"),t.create=e;function r(i){let s=i;return $u.objectLiteral(s)&&c4.uinteger.is(s.executionOrder)&&(s.success===void 0||$u.boolean(s.success))}o(r,"is"),t.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),t.equals=n})(NU||(No.ExecutionSummary=NU={}));var H6;(function(t){function e(s,a){return{kind:s,document:a}}o(e,"create"),t.create=e;function r(s){let a=s;return $u.objectLiteral(a)&&DU.is(a.kind)&&c4.DocumentUri.is(a.document)&&(a.metadata===void 0||$u.objectLiteral(a.metadata))}o(r,"is"),t.is=r;function n(s,a){let c=new Set;return s.document!==a.document&&c.add("document"),s.kind!==a.kind&&c.add("kind"),s.executionSummary!==a.executionSummary&&c.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&c.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!NU.equals(s.executionSummary,a.executionSummary)&&c.add("executionSummary"),c}o(n,"diff"),t.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let c=Array.isArray(s),l=Array.isArray(a);if(c!==l)return!1;if(c&&l){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++)if(!i(s[f],a[f]))return!1}if($u.objectLiteral(s)&&$u.objectLiteral(a)){let f=Object.keys(s),d=Object.keys(a);if(f.length!==d.length||(f.sort(),d.sort(),!i(f,d)))return!1;for(let h=0;h<f.length;h++){let A=f[h];if(!i(s[A],a[A]))return!1}}return!0}o(i,"equalsMetadata")})(H6||(No.NotebookCell=H6={}));var Nie;(function(t){function e(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(e,"create"),t.create=e;function r(n){let i=n;return $u.objectLiteral(i)&&$u.string(i.uri)&&c4.integer.is(i.version)&&$u.typedArray(i.cells,H6.is)}o(r,"is"),t.is=r})(Nie||(No.NotebookDocument=Nie={}));var X2;(function(t){t.method="notebookDocument/sync",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.RegistrationType(t.method)})(X2||(No.NotebookDocumentSyncRegistrationType=X2={}));var Qie;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=X2.method})(Qie||(No.DidOpenNotebookDocumentNotification=Qie={}));var Pie;(function(t){function e(n){let i=n;return $u.objectLiteral(i)&&c4.uinteger.is(i.start)&&c4.uinteger.is(i.deleteCount)&&(i.cells===void 0||$u.typedArray(i.cells,H6.is))}o(e,"is"),t.is=e;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),t.create=r})(Pie||(No.NotebookCellArrayChange=Pie={}));var Fie;(function(t){t.method="notebookDocument/didChange",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=X2.method})(Fie||(No.DidChangeNotebookDocumentNotification=Fie={}));var Lie;(function(t){t.method="notebookDocument/didSave",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=X2.method})(Lie||(No.DidSaveNotebookDocumentNotification=Lie={}));var Mie;(function(t){t.method="notebookDocument/didClose",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=X2.method})(Mie||(No.DidCloseNotebookDocumentNotification=Mie={}))});var qie=q(q6=>{"use strict";u();Object.defineProperty(q6,"__esModule",{value:!0});q6.InlineCompletionRequest=void 0;var Uie=lo(),Hie;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Uie.MessageDirection.clientToServer,t.type=new Uie.ProtocolRequestType(t.method)})(Hie||(q6.InlineCompletionRequest=Hie={}))});var tse=q(ie=>{"use strict";u();Object.defineProperty(ie,"__esModule",{value:!0});ie.WorkspaceSymbolRequest=ie.CodeActionResolveRequest=ie.CodeActionRequest=ie.DocumentSymbolRequest=ie.DocumentHighlightRequest=ie.ReferencesRequest=ie.DefinitionRequest=ie.SignatureHelpRequest=ie.SignatureHelpTriggerKind=ie.HoverRequest=ie.CompletionResolveRequest=ie.CompletionRequest=ie.CompletionTriggerKind=ie.PublishDiagnosticsNotification=ie.WatchKind=ie.RelativePattern=ie.FileChangeType=ie.DidChangeWatchedFilesNotification=ie.WillSaveTextDocumentWaitUntilRequest=ie.WillSaveTextDocumentNotification=ie.TextDocumentSaveReason=ie.DidSaveTextDocumentNotification=ie.DidCloseTextDocumentNotification=ie.DidChangeTextDocumentNotification=ie.TextDocumentContentChangeEvent=ie.DidOpenTextDocumentNotification=ie.TextDocumentSyncKind=ie.TelemetryEventNotification=ie.LogMessageNotification=ie.ShowMessageRequest=ie.ShowMessageNotification=ie.MessageType=ie.DidChangeConfigurationNotification=ie.ExitNotification=ie.ShutdownRequest=ie.InitializedNotification=ie.InitializeErrorCodes=ie.InitializeRequest=ie.WorkDoneProgressOptions=ie.TextDocumentRegistrationOptions=ie.StaticRegistrationOptions=ie.PositionEncodingKind=ie.FailureHandlingKind=ie.ResourceOperationKind=ie.UnregistrationRequest=ie.RegistrationRequest=ie.DocumentSelector=ie.NotebookCellTextDocumentFilter=ie.NotebookDocumentFilter=ie.TextDocumentFilter=void 0;ie.MonikerRequest=ie.MonikerKind=ie.UniquenessLevel=ie.WillDeleteFilesRequest=ie.DidDeleteFilesNotification=ie.WillRenameFilesRequest=ie.DidRenameFilesNotification=ie.WillCreateFilesRequest=ie.DidCreateFilesNotification=ie.FileOperationPatternKind=ie.LinkedEditingRangeRequest=ie.ShowDocumentRequest=ie.SemanticTokensRegistrationType=ie.SemanticTokensRefreshRequest=ie.SemanticTokensRangeRequest=ie.SemanticTokensDeltaRequest=ie.SemanticTokensRequest=ie.TokenFormat=ie.CallHierarchyPrepareRequest=ie.CallHierarchyOutgoingCallsRequest=ie.CallHierarchyIncomingCallsRequest=ie.WorkDoneProgressCancelNotification=ie.WorkDoneProgressCreateRequest=ie.WorkDoneProgress=ie.SelectionRangeRequest=ie.DeclarationRequest=ie.FoldingRangeRefreshRequest=ie.FoldingRangeRequest=ie.ColorPresentationRequest=ie.DocumentColorRequest=ie.ConfigurationRequest=ie.DidChangeWorkspaceFoldersNotification=ie.WorkspaceFoldersRequest=ie.TypeDefinitionRequest=ie.ImplementationRequest=ie.ApplyWorkspaceEditRequest=ie.ExecuteCommandRequest=ie.PrepareRenameRequest=ie.RenameRequest=ie.PrepareSupportDefaultBehavior=ie.DocumentOnTypeFormattingRequest=ie.DocumentRangesFormattingRequest=ie.DocumentRangeFormattingRequest=ie.DocumentFormattingRequest=ie.DocumentLinkResolveRequest=ie.DocumentLinkRequest=ie.CodeLensRefreshRequest=ie.CodeLensResolveRequest=ie.CodeLensRequest=ie.WorkspaceSymbolResolveRequest=void 0;ie.InlineCompletionRequest=ie.DidCloseNotebookDocumentNotification=ie.DidSaveNotebookDocumentNotification=ie.DidChangeNotebookDocumentNotification=ie.NotebookCellArrayChange=ie.DidOpenNotebookDocumentNotification=ie.NotebookDocumentSyncRegistrationType=ie.NotebookDocument=ie.NotebookCell=ie.ExecutionSummary=ie.NotebookCellKind=ie.DiagnosticRefreshRequest=ie.WorkspaceDiagnosticRequest=ie.DocumentDiagnosticRequest=ie.DocumentDiagnosticReportKind=ie.DiagnosticServerCancellationData=ie.InlayHintRefreshRequest=ie.InlayHintResolveRequest=ie.InlayHintRequest=ie.InlineValueRefreshRequest=ie.InlineValueRequest=ie.TypeHierarchySupertypesRequest=ie.TypeHierarchySubtypesRequest=ie.TypeHierarchyPrepareRequest=void 0;var pt=lo(),Gie=S6(),Gs=w6(),V7e=Ane();Object.defineProperty(ie,"ImplementationRequest",{enumerable:!0,get:o(function(){return V7e.ImplementationRequest},"get")});var W7e=gne();Object.defineProperty(ie,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return W7e.TypeDefinitionRequest},"get")});var Joe=Ene();Object.defineProperty(ie,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return Joe.WorkspaceFoldersRequest},"get")});Object.defineProperty(ie,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return Joe.DidChangeWorkspaceFoldersNotification},"get")});var Y7e=bne();Object.defineProperty(ie,"ConfigurationRequest",{enumerable:!0,get:o(function(){return Y7e.ConfigurationRequest},"get")});var Xoe=_ne();Object.defineProperty(ie,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Xoe.DocumentColorRequest},"get")});Object.defineProperty(ie,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Xoe.ColorPresentationRequest},"get")});var Zoe=Bne();Object.defineProperty(ie,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return Zoe.FoldingRangeRequest},"get")});Object.defineProperty(ie,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return Zoe.FoldingRangeRefreshRequest},"get")});var $7e=Dne();Object.defineProperty(ie,"DeclarationRequest",{enumerable:!0,get:o(function(){return $7e.DeclarationRequest},"get")});var z7e=Pne();Object.defineProperty(ie,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return z7e.SelectionRangeRequest},"get")});var MU=One();Object.defineProperty(ie,"WorkDoneProgress",{enumerable:!0,get:o(function(){return MU.WorkDoneProgress},"get")});Object.defineProperty(ie,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return MU.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(ie,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return MU.WorkDoneProgressCancelNotification},"get")});var OU=Gne();Object.defineProperty(ie,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return OU.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(ie,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return OU.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(ie,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return OU.CallHierarchyPrepareRequest},"get")});var Z2=jne();Object.defineProperty(ie,"TokenFormat",{enumerable:!0,get:o(function(){return Z2.TokenFormat},"get")});Object.defineProperty(ie,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return Z2.SemanticTokensRequest},"get")});Object.defineProperty(ie,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return Z2.SemanticTokensDeltaRequest},"get")});Object.defineProperty(ie,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return Z2.SemanticTokensRangeRequest},"get")});Object.defineProperty(ie,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return Z2.SemanticTokensRefreshRequest},"get")});Object.defineProperty(ie,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return Z2.SemanticTokensRegistrationType},"get")});var j7e=Xne();Object.defineProperty(ie,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return j7e.ShowDocumentRequest},"get")});var K7e=tie();Object.defineProperty(ie,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return K7e.LinkedEditingRangeRequest},"get")});var Ly=lie();Object.defineProperty(ie,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return Ly.FileOperationPatternKind},"get")});Object.defineProperty(ie,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return Ly.DidCreateFilesNotification},"get")});Object.defineProperty(ie,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return Ly.WillCreateFilesRequest},"get")});Object.defineProperty(ie,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return Ly.DidRenameFilesNotification},"get")});Object.defineProperty(ie,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return Ly.WillRenameFilesRequest},"get")});Object.defineProperty(ie,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return Ly.DidDeleteFilesNotification},"get")});Object.defineProperty(ie,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return Ly.WillDeleteFilesRequest},"get")});var UU=Aie();Object.defineProperty(ie,"UniquenessLevel",{enumerable:!0,get:o(function(){return UU.UniquenessLevel},"get")});Object.defineProperty(ie,"MonikerKind",{enumerable:!0,get:o(function(){return UU.MonikerKind},"get")});Object.defineProperty(ie,"MonikerRequest",{enumerable:!0,get:o(function(){return UU.MonikerRequest},"get")});var HU=yie();Object.defineProperty(ie,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return HU.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(ie,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return HU.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(ie,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return HU.TypeHierarchySupertypesRequest},"get")});var ese=Iie();Object.defineProperty(ie,"InlineValueRequest",{enumerable:!0,get:o(function(){return ese.InlineValueRequest},"get")});Object.defineProperty(ie,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return ese.InlineValueRefreshRequest},"get")});var qU=Tie();Object.defineProperty(ie,"InlayHintRequest",{enumerable:!0,get:o(function(){return qU.InlayHintRequest},"get")});Object.defineProperty(ie,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return qU.InlayHintResolveRequest},"get")});Object.defineProperty(ie,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return qU.InlayHintRefreshRequest},"get")});var l4=Die();Object.defineProperty(ie,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return l4.DiagnosticServerCancellationData},"get")});Object.defineProperty(ie,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return l4.DocumentDiagnosticReportKind},"get")});Object.defineProperty(ie,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return l4.DocumentDiagnosticRequest},"get")});Object.defineProperty(ie,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return l4.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(ie,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return l4.DiagnosticRefreshRequest},"get")});var md=Oie();Object.defineProperty(ie,"NotebookCellKind",{enumerable:!0,get:o(function(){return md.NotebookCellKind},"get")});Object.defineProperty(ie,"ExecutionSummary",{enumerable:!0,get:o(function(){return md.ExecutionSummary},"get")});Object.defineProperty(ie,"NotebookCell",{enumerable:!0,get:o(function(){return md.NotebookCell},"get")});Object.defineProperty(ie,"NotebookDocument",{enumerable:!0,get:o(function(){return md.NotebookDocument},"get")});Object.defineProperty(ie,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return md.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(ie,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return md.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(ie,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return md.NotebookCellArrayChange},"get")});Object.defineProperty(ie,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return md.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(ie,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return md.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(ie,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return md.DidCloseNotebookDocumentNotification},"get")});var J7e=qie();Object.defineProperty(ie,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return J7e.InlineCompletionRequest},"get")});var QU;(function(t){function e(r){let n=r;return Gs.string(n)||Gs.string(n.language)||Gs.string(n.scheme)||Gs.string(n.pattern)}o(e,"is"),t.is=e})(QU||(ie.TextDocumentFilter=QU={}));var PU;(function(t){function e(r){let n=r;return Gs.objectLiteral(n)&&(Gs.string(n.notebookType)||Gs.string(n.scheme)||Gs.string(n.pattern))}o(e,"is"),t.is=e})(PU||(ie.NotebookDocumentFilter=PU={}));var FU;(function(t){function e(r){let n=r;return Gs.objectLiteral(n)&&(Gs.string(n.notebook)||PU.is(n.notebook))&&(n.language===void 0||Gs.string(n.language))}o(e,"is"),t.is=e})(FU||(ie.NotebookCellTextDocumentFilter=FU={}));var LU;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Gs.string(n)&&!QU.is(n)&&!FU.is(n))return!1;return!0}o(e,"is"),t.is=e})(LU||(ie.DocumentSelector=LU={}));var Vie;(function(t){t.method="client/registerCapability",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(Vie||(ie.RegistrationRequest=Vie={}));var Wie;(function(t){t.method="client/unregisterCapability",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(Wie||(ie.UnregistrationRequest=Wie={}));var Yie;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Yie||(ie.ResourceOperationKind=Yie={}));var $ie;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})($ie||(ie.FailureHandlingKind=$ie={}));var zie;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(zie||(ie.PositionEncodingKind=zie={}));var jie;(function(t){function e(r){let n=r;return n&&Gs.string(n.id)&&n.id.length>0}o(e,"hasId"),t.hasId=e})(jie||(ie.StaticRegistrationOptions=jie={}));var Kie;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||LU.is(n.documentSelector))}o(e,"is"),t.is=e})(Kie||(ie.TextDocumentRegistrationOptions=Kie={}));var Jie;(function(t){function e(n){let i=n;return Gs.objectLiteral(i)&&(i.workDoneProgress===void 0||Gs.boolean(i.workDoneProgress))}o(e,"is"),t.is=e;function r(n){let i=n;return i&&Gs.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(Jie||(ie.WorkDoneProgressOptions=Jie={}));var Xie;(function(t){t.method="initialize",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Xie||(ie.InitializeRequest=Xie={}));var Zie;(function(t){t.unknownProtocolVersion=1})(Zie||(ie.InitializeErrorCodes=Zie={}));var eoe;(function(t){t.method="initialized",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(eoe||(ie.InitializedNotification=eoe={}));var toe;(function(t){t.method="shutdown",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType0(t.method)})(toe||(ie.ShutdownRequest=toe={}));var roe;(function(t){t.method="exit",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType0(t.method)})(roe||(ie.ExitNotification=roe={}));var noe;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(noe||(ie.DidChangeConfigurationNotification=noe={}));var ioe;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(ioe||(ie.MessageType=ioe={}));var ooe;(function(t){t.method="window/showMessage",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(ooe||(ie.ShowMessageNotification=ooe={}));var soe;(function(t){t.method="window/showMessageRequest",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType(t.method)})(soe||(ie.ShowMessageRequest=soe={}));var aoe;(function(t){t.method="window/logMessage",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(aoe||(ie.LogMessageNotification=aoe={}));var coe;(function(t){t.method="telemetry/event",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(coe||(ie.TelemetryEventNotification=coe={}));var loe;(function(t){t.None=0,t.Full=1,t.Incremental=2})(loe||(ie.TextDocumentSyncKind=loe={}));var uoe;(function(t){t.method="textDocument/didOpen",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(uoe||(ie.DidOpenTextDocumentNotification=uoe={}));var foe;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(e,"isIncremental"),t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),t.isFull=r})(foe||(ie.TextDocumentContentChangeEvent=foe={}));var doe;(function(t){t.method="textDocument/didChange",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(doe||(ie.DidChangeTextDocumentNotification=doe={}));var hoe;(function(t){t.method="textDocument/didClose",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(hoe||(ie.DidCloseTextDocumentNotification=hoe={}));var Aoe;(function(t){t.method="textDocument/didSave",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(Aoe||(ie.DidSaveTextDocumentNotification=Aoe={}));var poe;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(poe||(ie.TextDocumentSaveReason=poe={}));var moe;(function(t){t.method="textDocument/willSave",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(moe||(ie.WillSaveTextDocumentNotification=moe={}));var goe;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(goe||(ie.WillSaveTextDocumentWaitUntilRequest=goe={}));var yoe;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolNotificationType(t.method)})(yoe||(ie.DidChangeWatchedFilesNotification=yoe={}));var Coe;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Coe||(ie.FileChangeType=Coe={}));var Eoe;(function(t){function e(r){let n=r;return Gs.objectLiteral(n)&&(Gie.URI.is(n.baseUri)||Gie.WorkspaceFolder.is(n.baseUri))&&Gs.string(n.pattern)}o(e,"is"),t.is=e})(Eoe||(ie.RelativePattern=Eoe={}));var Ioe;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Ioe||(ie.WatchKind=Ioe={}));var voe;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolNotificationType(t.method)})(voe||(ie.PublishDiagnosticsNotification=voe={}));var boe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(boe||(ie.CompletionTriggerKind=boe={}));var xoe;(function(t){t.method="textDocument/completion",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(xoe||(ie.CompletionRequest=xoe={}));var Toe;(function(t){t.method="completionItem/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Toe||(ie.CompletionResolveRequest=Toe={}));var _oe;(function(t){t.method="textDocument/hover",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(_oe||(ie.HoverRequest=_oe={}));var Soe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Soe||(ie.SignatureHelpTriggerKind=Soe={}));var woe;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(woe||(ie.SignatureHelpRequest=woe={}));var Boe;(function(t){t.method="textDocument/definition",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Boe||(ie.DefinitionRequest=Boe={}));var Roe;(function(t){t.method="textDocument/references",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Roe||(ie.ReferencesRequest=Roe={}));var koe;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(koe||(ie.DocumentHighlightRequest=koe={}));var Doe;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Doe||(ie.DocumentSymbolRequest=Doe={}));var Noe;(function(t){t.method="textDocument/codeAction",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Noe||(ie.CodeActionRequest=Noe={}));var Qoe;(function(t){t.method="codeAction/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Qoe||(ie.CodeActionResolveRequest=Qoe={}));var Poe;(function(t){t.method="workspace/symbol",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Poe||(ie.WorkspaceSymbolRequest=Poe={}));var Foe;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Foe||(ie.WorkspaceSymbolResolveRequest=Foe={}));var Loe;(function(t){t.method="textDocument/codeLens",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Loe||(ie.CodeLensRequest=Loe={}));var Moe;(function(t){t.method="codeLens/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Moe||(ie.CodeLensResolveRequest=Moe={}));var Ooe;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType0(t.method)})(Ooe||(ie.CodeLensRefreshRequest=Ooe={}));var Uoe;(function(t){t.method="textDocument/documentLink",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Uoe||(ie.DocumentLinkRequest=Uoe={}));var Hoe;(function(t){t.method="documentLink/resolve",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Hoe||(ie.DocumentLinkResolveRequest=Hoe={}));var qoe;(function(t){t.method="textDocument/formatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(qoe||(ie.DocumentFormattingRequest=qoe={}));var Goe;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Goe||(ie.DocumentRangeFormattingRequest=Goe={}));var Voe;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Voe||(ie.DocumentRangesFormattingRequest=Voe={}));var Woe;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(Woe||(ie.DocumentOnTypeFormattingRequest=Woe={}));var Yoe;(function(t){t.Identifier=1})(Yoe||(ie.PrepareSupportDefaultBehavior=Yoe={}));var $oe;(function(t){t.method="textDocument/rename",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})($oe||(ie.RenameRequest=$oe={}));var zoe;(function(t){t.method="textDocument/prepareRename",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(zoe||(ie.PrepareRenameRequest=zoe={}));var joe;(function(t){t.method="workspace/executeCommand",t.messageDirection=pt.MessageDirection.clientToServer,t.type=new pt.ProtocolRequestType(t.method)})(joe||(ie.ExecuteCommandRequest=joe={}));var Koe;(function(t){t.method="workspace/applyEdit",t.messageDirection=pt.MessageDirection.serverToClient,t.type=new pt.ProtocolRequestType("workspace/applyEdit")})(Koe||(ie.ApplyWorkspaceEditRequest=Koe={}))});var nse=q(G6=>{"use strict";u();Object.defineProperty(G6,"__esModule",{value:!0});G6.createProtocolConnection=void 0;var rse=Fy();function X7e(t,e,r,n){return rse.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,rse.createMessageConnection)(t,e,r,n)}o(X7e,"createProtocolConnection");G6.createProtocolConnection=X7e});var ose=q($0=>{"use strict";u();var Z7e=$0&&$0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V6=$0&&$0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Z7e(e,t,r)};Object.defineProperty($0,"__esModule",{value:!0});$0.LSPErrorCodes=$0.createProtocolConnection=void 0;V6(Fy(),$0);V6(S6(),$0);V6(lo(),$0);V6(tse(),$0);var eke=nse();Object.defineProperty($0,"createProtocolConnection",{enumerable:!0,get:o(function(){return eke.createProtocolConnection},"get")});var ise;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(ise||($0.LSPErrorCodes=ise={}))});var $a=q(gd=>{"use strict";u();var tke=gd&&gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sse=gd&&gd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tke(e,t,r)};Object.defineProperty(gd,"__esModule",{value:!0});gd.createProtocolConnection=void 0;var rke=_U();sse(_U(),gd);sse(ose(),gd);function nke(t,e,r,n){return(0,rke.createMessageConnection)(t,e,r,n)}o(nke,"createProtocolConnection");gd.createProtocolConnection=nke});var xn=q(($6,bse)=>{u();(function(t,e){typeof $6=="object"?bse.exports=$6=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})($6,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function T(){}return o(T,"F"),function(S){var D;return T.prototype=S,D=new T,T.prototype=null,D}}(),a={},c=a.lib={},l=c.Base=function(){return{extend:o(function(T){var S=s(this);return T&&S.mixIn(T),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},"extend"),create:o(function(){var T=this.extend();return T.init.apply(T,arguments),T},"create"),init:o(function(){},"init"),mixIn:o(function(T){for(var S in T)T.hasOwnProperty(S)&&(this[S]=T[S]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),f=c.WordArray=l.extend({init:o(function(T,S){T=this.words=T||[],S!=r?this.sigBytes=S:this.sigBytes=T.length*4},"init"),toString:o(function(T){return(T||h).stringify(this)},"toString"),concat:o(function(T){var S=this.words,D=T.words,Q=this.sigBytes,k=T.sigBytes;if(this.clamp(),Q%4)for(var P=0;P<k;P++){var W=D[P>>>2]>>>24-P%4*8&255;S[Q+P>>>2]|=W<<24-(Q+P)%4*8}else for(var re=0;re<k;re+=4)S[Q+re>>>2]=D[re>>>2];return this.sigBytes+=k,this},"concat"),clamp:o(function(){var T=this.words,S=this.sigBytes;T[S>>>2]&=4294967295<<32-S%4*8,T.length=e.ceil(S/4)},"clamp"),clone:o(function(){var T=l.clone.call(this);return T.words=this.words.slice(0),T},"clone"),random:o(function(T){for(var S=[],D=0;D<T;D+=4)S.push(i());return new f.init(S,T)},"random")}),d=a.enc={},h=d.Hex={stringify:o(function(T){for(var S=T.words,D=T.sigBytes,Q=[],k=0;k<D;k++){var P=S[k>>>2]>>>24-k%4*8&255;Q.push((P>>>4).toString(16)),Q.push((P&15).toString(16))}return Q.join("")},"stringify"),parse:o(function(T){for(var S=T.length,D=[],Q=0;Q<S;Q+=2)D[Q>>>3]|=parseInt(T.substr(Q,2),16)<<24-Q%8*4;return new f.init(D,S/2)},"parse")},A=d.Latin1={stringify:o(function(T){for(var S=T.words,D=T.sigBytes,Q=[],k=0;k<D;k++){var P=S[k>>>2]>>>24-k%4*8&255;Q.push(String.fromCharCode(P))}return Q.join("")},"stringify"),parse:o(function(T){for(var S=T.length,D=[],Q=0;Q<S;Q++)D[Q>>>2]|=(T.charCodeAt(Q)&255)<<24-Q%4*8;return new f.init(D,S)},"parse")},g=d.Utf8={stringify:o(function(T){try{return decodeURIComponent(escape(A.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(T){return A.parse(unescape(encodeURIComponent(T)))},"parse")},y=c.BufferedBlockAlgorithm=l.extend({reset:o(function(){this._data=new f.init,this._nDataBytes=0},"reset"),_append:o(function(T){typeof T=="string"&&(T=g.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},"_append"),_process:o(function(T){var S,D=this._data,Q=D.words,k=D.sigBytes,P=this.blockSize,W=P*4,re=k/W;T?re=e.ceil(re):re=e.max((re|0)-this._minBufferSize,0);var ye=re*P,Ae=e.min(ye*4,k);if(ye){for(var z=0;z<ye;z+=P)this._doProcessBlock(Q,z);S=Q.splice(0,ye),D.sigBytes-=Ae}return new f.init(S,Ae)},"_process"),clone:o(function(){var T=l.clone.call(this);return T._data=this._data.clone(),T},"clone"),_minBufferSize:0}),v=c.Hasher=y.extend({cfg:l.extend(),init:o(function(T){this.cfg=this.cfg.extend(T),this.reset()},"init"),reset:o(function(){y.reset.call(this),this._doReset()},"reset"),update:o(function(T){return this._append(T),this._process(),this},"update"),finalize:o(function(T){T&&this._append(T);var S=this._doFinalize();return S},"finalize"),blockSize:512/32,_createHelper:o(function(T){return function(S,D){return new T.init(D).finalize(S)}},"_createHelper"),_createHmacHelper:o(function(T){return function(S,D){return new _.HMAC.init(T,D).finalize(S)}},"_createHmacHelper")}),_=a.algo={};return a}(Math);return t})});var f4=q((z6,xse)=>{u();(function(t,e){typeof z6=="object"?xse.exports=z6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(z6,function(t){return function(e){var r=t,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},c=a.Word=i.extend({init:o(function(f,d){this.high=f,this.low=d},"init")}),l=a.WordArray=i.extend({init:o(function(f,d){f=this.words=f||[],d!=e?this.sigBytes=d:this.sigBytes=f.length*8},"init"),toX32:o(function(){for(var f=this.words,d=f.length,h=[],A=0;A<d;A++){var g=f[A];h.push(g.high),h.push(g.low)}return s.create(h,this.sigBytes)},"toX32"),clone:o(function(){for(var f=i.clone.call(this),d=f.words=this.words.slice(0),h=d.length,A=0;A<h;A++)d[A]=d[A].clone();return f},"clone")})}(),t})});var _se=q((j6,Tse)=>{u();(function(t,e){typeof j6=="object"?Tse.exports=j6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(j6,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var c=a.byteLength,l=[],f=0;f<c;f++)l[f>>>2]|=a[f]<<24-f%4*8;i.call(this,l,c)}else i.apply(this,arguments)};s.prototype=n}}(),t.lib.WordArray})});var wse=q((K6,Sse)=>{u();(function(t,e){typeof K6=="object"?Sse.exports=K6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(K6,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(c){for(var l=c.words,f=c.sigBytes,d=[],h=0;h<f;h+=2){var A=l[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(A))}return d.join("")},"stringify"),parse:o(function(c){for(var l=c.length,f=[],d=0;d<l;d++)f[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return n.create(f,l*2)},"parse")};i.Utf16LE={stringify:o(function(c){for(var l=c.words,f=c.sigBytes,d=[],h=0;h<f;h+=2){var A=a(l[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(A))}return d.join("")},"stringify"),parse:o(function(c){for(var l=c.length,f=[],d=0;d<l;d++)f[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return n.create(f,l*2)},"parse")};function a(c){return c<<8&4278255360|c>>>8&16711935}o(a,"swapEndian")}(),t.enc.Utf16})});var $m=q((J6,Bse)=>{u();(function(t,e){typeof J6=="object"?Bse.exports=J6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(J6,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Base64={stringify:o(function(c){var l=c.words,f=c.sigBytes,d=this._map;c.clamp();for(var h=[],A=0;A<f;A+=3)for(var g=l[A>>>2]>>>24-A%4*8&255,y=l[A+1>>>2]>>>24-(A+1)%4*8&255,v=l[A+2>>>2]>>>24-(A+2)%4*8&255,_=g<<16|y<<8|v,T=0;T<4&&A+T*.75<f;T++)h.push(d.charAt(_>>>6*(3-T)&63));var S=d.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(c){var l=c.length,f=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var A=f.charAt(64);if(A){var g=c.indexOf(A);g!==-1&&(l=g)}return a(c,l,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,f){for(var d=[],h=0,A=0;A<l;A++)if(A%4){var g=f[c.charCodeAt(A-1)]<<A%4*2,y=f[c.charCodeAt(A)]>>>6-A%4*2,v=g|y;d[h>>>2]|=v<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),t.enc.Base64})});var kse=q((X6,Rse)=>{u();(function(t,e){typeof X6=="object"?Rse.exports=X6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(X6,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.enc,s=i.Base64url={stringify:o(function(c,l){l===void 0&&(l=!0);var f=c.words,d=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var A=[],g=0;g<d;g+=3)for(var y=f[g>>>2]>>>24-g%4*8&255,v=f[g+1>>>2]>>>24-(g+1)%4*8&255,_=f[g+2>>>2]>>>24-(g+2)%4*8&255,T=y<<16|v<<8|_,S=0;S<4&&g+S*.75<d;S++)A.push(h.charAt(T>>>6*(3-S)&63));var D=h.charAt(64);if(D)for(;A.length%4;)A.push(D);return A.join("")},"stringify"),parse:o(function(c,l){l===void 0&&(l=!0);var f=c.length,d=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var A=0;A<d.length;A++)h[d.charCodeAt(A)]=A}var g=d.charAt(64);if(g){var y=c.indexOf(g);y!==-1&&(f=y)}return a(c,f,h)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,l,f){for(var d=[],h=0,A=0;A<l;A++)if(A%4){var g=f[c.charCodeAt(A-1)]<<A%4*2,y=f[c.charCodeAt(A)]>>>6-A%4*2,v=g|y;d[h>>>2]|=v<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),t.enc.Base64url})});var zm=q((Z6,Dse)=>{u();(function(t,e){typeof Z6=="object"?Dse.exports=Z6=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Z6,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=[];(function(){for(var g=0;g<64;g++)c[g]=e.abs(e.sin(g+1))*4294967296|0})();var l=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(g,y){for(var v=0;v<16;v++){var _=y+v,T=g[_];g[_]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var S=this._hash.words,D=g[y+0],Q=g[y+1],k=g[y+2],P=g[y+3],W=g[y+4],re=g[y+5],ye=g[y+6],Ae=g[y+7],z=g[y+8],j=g[y+9],Ie=g[y+10],ue=g[y+11],J=g[y+12],H=g[y+13],Z=g[y+14],ee=g[y+15],se=S[0],ne=S[1],le=S[2],he=S[3];se=f(se,ne,le,he,D,7,c[0]),he=f(he,se,ne,le,Q,12,c[1]),le=f(le,he,se,ne,k,17,c[2]),ne=f(ne,le,he,se,P,22,c[3]),se=f(se,ne,le,he,W,7,c[4]),he=f(he,se,ne,le,re,12,c[5]),le=f(le,he,se,ne,ye,17,c[6]),ne=f(ne,le,he,se,Ae,22,c[7]),se=f(se,ne,le,he,z,7,c[8]),he=f(he,se,ne,le,j,12,c[9]),le=f(le,he,se,ne,Ie,17,c[10]),ne=f(ne,le,he,se,ue,22,c[11]),se=f(se,ne,le,he,J,7,c[12]),he=f(he,se,ne,le,H,12,c[13]),le=f(le,he,se,ne,Z,17,c[14]),ne=f(ne,le,he,se,ee,22,c[15]),se=d(se,ne,le,he,Q,5,c[16]),he=d(he,se,ne,le,ye,9,c[17]),le=d(le,he,se,ne,ue,14,c[18]),ne=d(ne,le,he,se,D,20,c[19]),se=d(se,ne,le,he,re,5,c[20]),he=d(he,se,ne,le,Ie,9,c[21]),le=d(le,he,se,ne,ee,14,c[22]),ne=d(ne,le,he,se,W,20,c[23]),se=d(se,ne,le,he,j,5,c[24]),he=d(he,se,ne,le,Z,9,c[25]),le=d(le,he,se,ne,P,14,c[26]),ne=d(ne,le,he,se,z,20,c[27]),se=d(se,ne,le,he,H,5,c[28]),he=d(he,se,ne,le,k,9,c[29]),le=d(le,he,se,ne,Ae,14,c[30]),ne=d(ne,le,he,se,J,20,c[31]),se=h(se,ne,le,he,re,4,c[32]),he=h(he,se,ne,le,z,11,c[33]),le=h(le,he,se,ne,ue,16,c[34]),ne=h(ne,le,he,se,Z,23,c[35]),se=h(se,ne,le,he,Q,4,c[36]),he=h(he,se,ne,le,W,11,c[37]),le=h(le,he,se,ne,Ae,16,c[38]),ne=h(ne,le,he,se,Ie,23,c[39]),se=h(se,ne,le,he,H,4,c[40]),he=h(he,se,ne,le,D,11,c[41]),le=h(le,he,se,ne,P,16,c[42]),ne=h(ne,le,he,se,ye,23,c[43]),se=h(se,ne,le,he,j,4,c[44]),he=h(he,se,ne,le,J,11,c[45]),le=h(le,he,se,ne,ee,16,c[46]),ne=h(ne,le,he,se,k,23,c[47]),se=A(se,ne,le,he,D,6,c[48]),he=A(he,se,ne,le,Ae,10,c[49]),le=A(le,he,se,ne,Z,15,c[50]),ne=A(ne,le,he,se,re,21,c[51]),se=A(se,ne,le,he,J,6,c[52]),he=A(he,se,ne,le,P,10,c[53]),le=A(le,he,se,ne,Ie,15,c[54]),ne=A(ne,le,he,se,Q,21,c[55]),se=A(se,ne,le,he,z,6,c[56]),he=A(he,se,ne,le,ee,10,c[57]),le=A(le,he,se,ne,ye,15,c[58]),ne=A(ne,le,he,se,H,21,c[59]),se=A(se,ne,le,he,W,6,c[60]),he=A(he,se,ne,le,ue,10,c[61]),le=A(le,he,se,ne,k,15,c[62]),ne=A(ne,le,he,se,j,21,c[63]),S[0]=S[0]+se|0,S[1]=S[1]+ne|0,S[2]=S[2]+le|0,S[3]=S[3]+he|0},"_doProcessBlock"),_doFinalize:o(function(){var g=this._data,y=g.words,v=this._nDataBytes*8,_=g.sigBytes*8;y[_>>>5]|=128<<24-_%32;var T=e.floor(v/4294967296),S=v;y[(_+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y[(_+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,g.sigBytes=(y.length+1)*4,this._process();for(var D=this._hash,Q=D.words,k=0;k<4;k++){var P=Q[k];Q[k]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return D},"_doFinalize"),clone:o(function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},"clone")});function f(g,y,v,_,T,S,D){var Q=g+(y&v|~y&_)+T+D;return(Q<<S|Q>>>32-S)+y}o(f,"FF");function d(g,y,v,_,T,S,D){var Q=g+(y&_|v&~_)+T+D;return(Q<<S|Q>>>32-S)+y}o(d,"GG");function h(g,y,v,_,T,S,D){var Q=g+(y^v^_)+T+D;return(Q<<S|Q>>>32-S)+y}o(h,"HH");function A(g,y,v,_,T,S,D){var Q=g+(v^(y|~_))+T+D;return(Q<<S|Q>>>32-S)+y}o(A,"II"),r.MD5=s._createHelper(l),r.HmacMD5=s._createHmacHelper(l)}(Math),t.MD5})});var WU=q((e9,Nse)=>{u();(function(t,e){typeof e9=="object"?Nse.exports=e9=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(e9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=r.Hasher,s=e.algo,a=[],c=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(l,f){for(var d=this._hash.words,h=d[0],A=d[1],g=d[2],y=d[3],v=d[4],_=0;_<80;_++){if(_<16)a[_]=l[f+_]|0;else{var T=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=T<<1|T>>>31}var S=(h<<5|h>>>27)+v+a[_];_<20?S+=(A&g|~A&y)+1518500249:_<40?S+=(A^g^y)+1859775393:_<60?S+=(A&g|A&y|g&y)-1894007588:S+=(A^g^y)-899497514,v=y,y=g,g=A<<30|A>>>2,A=h,h=S}d[0]=d[0]+h|0,d[1]=d[1]+A|0,d[2]=d[2]+g|0,d[3]=d[3]+y|0,d[4]=d[4]+v|0},"_doProcessBlock"),_doFinalize:o(function(){var l=this._data,f=l.words,d=this._nDataBytes*8,h=l.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,l.sigBytes=f.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var l=i.clone.call(this);return l._hash=this._hash.clone(),l},"clone")});e.SHA1=i._createHelper(c),e.HmacSHA1=i._createHmacHelper(c)}(),t.SHA1})});var r9=q((t9,Qse)=>{u();(function(t,e){typeof t9=="object"?Qse.exports=t9=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(t9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=[],l=[];(function(){function h(v){for(var _=e.sqrt(v),T=2;T<=_;T++)if(!(v%T))return!1;return!0}o(h,"isPrime");function A(v){return(v-(v|0))*4294967296|0}o(A,"getFractionalBits");for(var g=2,y=0;y<64;)h(g)&&(y<8&&(c[y]=A(e.pow(g,1/2))),l[y]=A(e.pow(g,1/3)),y++),g++})();var f=[],d=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(c.slice(0))},"_doReset"),_doProcessBlock:o(function(h,A){for(var g=this._hash.words,y=g[0],v=g[1],_=g[2],T=g[3],S=g[4],D=g[5],Q=g[6],k=g[7],P=0;P<64;P++){if(P<16)f[P]=h[A+P]|0;else{var W=f[P-15],re=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,ye=f[P-2],Ae=(ye<<15|ye>>>17)^(ye<<13|ye>>>19)^ye>>>10;f[P]=re+f[P-7]+Ae+f[P-16]}var z=S&D^~S&Q,j=y&v^y&_^v&_,Ie=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),ue=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),J=k+ue+z+l[P]+f[P],H=Ie+j;k=Q,Q=D,D=S,S=T+J|0,T=_,_=v,v=y,y=J+H|0}g[0]=g[0]+y|0,g[1]=g[1]+v|0,g[2]=g[2]+_|0,g[3]=g[3]+T|0,g[4]=g[4]+S|0,g[5]=g[5]+D|0,g[6]=g[6]+Q|0,g[7]=g[7]+k|0},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,A=h.words,g=this._nDataBytes*8,y=h.sigBytes*8;return A[y>>>5]|=128<<24-y%32,A[(y+64>>>9<<4)+14]=e.floor(g/4294967296),A[(y+64>>>9<<4)+15]=g,h.sigBytes=A.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h},"clone")});r.SHA256=s._createHelper(d),r.HmacSHA256=s._createHmacHelper(d)}(Math),t.SHA256})});var Fse=q((n9,Pse)=>{u();(function(t,e,r){typeof n9=="object"?Pse.exports=n9=e(xn(),r9()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(n9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=e.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var c=s._doFinalize.call(this);return c.sigBytes-=4,c},"_doFinalize")});e.SHA224=s._createHelper(a),e.HmacSHA224=s._createHmacHelper(a)}(),t.SHA224})});var YU=q((i9,Lse)=>{u();(function(t,e,r){typeof i9=="object"?Lse.exports=i9=e(xn(),f4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(i9,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,i=e.x64,s=i.Word,a=i.WordArray,c=e.algo;function l(){return s.create.apply(s,arguments)}o(l,"X64Word_create");var f=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var A=0;A<80;A++)d[A]=l()})();var h=c.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(A,g){for(var y=this._hash.words,v=y[0],_=y[1],T=y[2],S=y[3],D=y[4],Q=y[5],k=y[6],P=y[7],W=v.high,re=v.low,ye=_.high,Ae=_.low,z=T.high,j=T.low,Ie=S.high,ue=S.low,J=D.high,H=D.low,Z=Q.high,ee=Q.low,se=k.high,ne=k.low,le=P.high,he=P.low,Ke=W,tt=re,ct=ye,Ct=Ae,qt=z,Or=j,kn=Ie,br=ue,oe=J,Je=H,pe=Z,ut=ee,ot=se,We=ne,Pr=le,En=he,Ur=0;Ur<80;Ur++){var Kt,pi,Ho=d[Ur];if(Ur<16)pi=Ho.high=A[g+Ur*2]|0,Kt=Ho.low=A[g+Ur*2+1]|0;else{var Fn=d[Ur-15],qo=Fn.high,Jt=Fn.low,po=(qo>>>1|Jt<<31)^(qo>>>8|Jt<<24)^qo>>>7,Bo=(Jt>>>1|qo<<31)^(Jt>>>8|qo<<24)^(Jt>>>7|qo<<25),sa=d[Ur-2],ce=sa.high,Ge=sa.low,dt=(ce>>>19|Ge<<13)^(ce<<3|Ge>>>29)^ce>>>6,vt=(Ge>>>19|ce<<13)^(Ge<<3|ce>>>29)^(Ge>>>6|ce<<26),Wr=d[Ur-7],xr=Wr.high,zn=Wr.low,ii=d[Ur-16],Fr=ii.high,Yr=ii.low;Kt=Bo+zn,pi=po+xr+(Kt>>>0<Bo>>>0?1:0),Kt=Kt+vt,pi=pi+dt+(Kt>>>0<vt>>>0?1:0),Kt=Kt+Yr,pi=pi+Fr+(Kt>>>0<Yr>>>0?1:0),Ho.high=pi,Ho.low=Kt}var Hr=oe&pe^~oe&ot,fi=Je&ut^~Je&We,qi=Ke&ct^Ke&qt^ct&qt,Ro=tt&Ct^tt&Or^Ct&Or,yc=(Ke>>>28|tt<<4)^(Ke<<30|tt>>>2)^(Ke<<25|tt>>>7),kf=(tt>>>28|Ke<<4)^(tt<<30|Ke>>>2)^(tt<<25|Ke>>>7),w0=(oe>>>14|Je<<18)^(oe>>>18|Je<<14)^(oe<<23|Je>>>9),hu=(Je>>>14|oe<<18)^(Je>>>18|oe<<14)^(Je<<23|oe>>>9),rs=f[Ur],Au=rs.high,Te=rs.low,M=En+hu,ae=Pr+w0+(M>>>0<En>>>0?1:0),M=M+fi,ae=ae+Hr+(M>>>0<fi>>>0?1:0),M=M+Te,ae=ae+Au+(M>>>0<Te>>>0?1:0),M=M+Kt,ae=ae+pi+(M>>>0<Kt>>>0?1:0),ge=kf+Ro,K=yc+qi+(ge>>>0<kf>>>0?1:0);Pr=ot,En=We,ot=pe,We=ut,pe=oe,ut=Je,Je=br+M|0,oe=kn+ae+(Je>>>0<br>>>0?1:0)|0,kn=qt,br=Or,qt=ct,Or=Ct,ct=Ke,Ct=tt,tt=M+ge|0,Ke=ae+K+(tt>>>0<M>>>0?1:0)|0}re=v.low=re+tt,v.high=W+Ke+(re>>>0<tt>>>0?1:0),Ae=_.low=Ae+Ct,_.high=ye+ct+(Ae>>>0<Ct>>>0?1:0),j=T.low=j+Or,T.high=z+qt+(j>>>0<Or>>>0?1:0),ue=S.low=ue+br,S.high=Ie+kn+(ue>>>0<br>>>0?1:0),H=D.low=H+Je,D.high=J+oe+(H>>>0<Je>>>0?1:0),ee=Q.low=ee+ut,Q.high=Z+pe+(ee>>>0<ut>>>0?1:0),ne=k.low=ne+We,k.high=se+ot+(ne>>>0<We>>>0?1:0),he=P.low=he+En,P.high=le+Pr+(he>>>0<En>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,g=A.words,y=this._nDataBytes*8,v=A.sigBytes*8;g[v>>>5]|=128<<24-v%32,g[(v+128>>>10<<5)+30]=Math.floor(y/4294967296),g[(v+128>>>10<<5)+31]=y,A.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},"_doFinalize"),clone:o(function(){var A=n.clone.call(this);return A._hash=this._hash.clone(),A},"clone"),blockSize:1024/32});e.SHA512=n._createHelper(h),e.HmacSHA512=n._createHmacHelper(h)}(),t.SHA512})});var Ose=q((o9,Mse)=>{u();(function(t,e,r){typeof o9=="object"?Mse.exports=o9=e(xn(),f4(),YU()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(o9,function(t){return function(){var e=t,r=e.x64,n=r.Word,i=r.WordArray,s=e.algo,a=s.SHA512,c=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var l=a._doFinalize.call(this);return l.sigBytes-=16,l},"_doFinalize")});e.SHA384=a._createHelper(c),e.HmacSHA384=a._createHmacHelper(c)}(),t.SHA384})});var Hse=q((s9,Use)=>{u();(function(t,e,r){typeof s9=="object"?Use.exports=s9=e(xn(),f4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(s9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,c=a.Word,l=r.algo,f=[],d=[],h=[];(function(){for(var y=1,v=0,_=0;_<24;_++){f[y+5*v]=(_+1)*(_+2)/2%64;var T=v%5,S=(2*y+3*v)%5;y=T,v=S}for(var y=0;y<5;y++)for(var v=0;v<5;v++)d[y+5*v]=v+(2*y+3*v)%5*5;for(var D=1,Q=0;Q<24;Q++){for(var k=0,P=0,W=0;W<7;W++){if(D&1){var re=(1<<W)-1;re<32?P^=1<<re:k^=1<<re-32}D&128?D=D<<1^113:D<<=1}h[Q]=c.create(k,P)}})();var A=[];(function(){for(var y=0;y<25;y++)A[y]=c.create()})();var g=l.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var y=this._state=[],v=0;v<25;v++)y[v]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(y,v){for(var _=this._state,T=this.blockSize/2,S=0;S<T;S++){var D=y[v+2*S],Q=y[v+2*S+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,Q=(Q<<8|Q>>>24)&16711935|(Q<<24|Q>>>8)&4278255360;var k=_[S];k.high^=Q,k.low^=D}for(var P=0;P<24;P++){for(var W=0;W<5;W++){for(var re=0,ye=0,Ae=0;Ae<5;Ae++){var k=_[W+5*Ae];re^=k.high,ye^=k.low}var z=A[W];z.high=re,z.low=ye}for(var W=0;W<5;W++)for(var j=A[(W+4)%5],Ie=A[(W+1)%5],ue=Ie.high,J=Ie.low,re=j.high^(ue<<1|J>>>31),ye=j.low^(J<<1|ue>>>31),Ae=0;Ae<5;Ae++){var k=_[W+5*Ae];k.high^=re,k.low^=ye}for(var H=1;H<25;H++){var re,ye,k=_[H],Z=k.high,ee=k.low,se=f[H];se<32?(re=Z<<se|ee>>>32-se,ye=ee<<se|Z>>>32-se):(re=ee<<se-32|Z>>>64-se,ye=Z<<se-32|ee>>>64-se);var ne=A[d[H]];ne.high=re,ne.low=ye}var le=A[0],he=_[0];le.high=he.high,le.low=he.low;for(var W=0;W<5;W++)for(var Ae=0;Ae<5;Ae++){var H=W+5*Ae,k=_[H],Ke=A[H],tt=A[(W+1)%5+5*Ae],ct=A[(W+2)%5+5*Ae];k.high=Ke.high^~tt.high&ct.high,k.low=Ke.low^~tt.low&ct.low}var k=_[0],Ct=h[P];k.high^=Ct.high,k.low^=Ct.low}},"_doProcessBlock"),_doFinalize:o(function(){var y=this._data,v=y.words,_=this._nDataBytes*8,T=y.sigBytes*8,S=this.blockSize*32;v[T>>>5]|=1<<24-T%32,v[(e.ceil((T+1)/S)*S>>>5)-1]|=128,y.sigBytes=v.length*4,this._process();for(var D=this._state,Q=this.cfg.outputLength/8,k=Q/8,P=[],W=0;W<k;W++){var re=D[W],ye=re.high,Ae=re.low;ye=(ye<<8|ye>>>24)&16711935|(ye<<24|ye>>>8)&4278255360,Ae=(Ae<<8|Ae>>>24)&16711935|(Ae<<24|Ae>>>8)&4278255360,P.push(Ae),P.push(ye)}return new i.init(P,Q)},"_doFinalize"),clone:o(function(){for(var y=s.clone.call(this),v=y._state=this._state.slice(0),_=0;_<25;_++)v[_]=v[_].clone();return y},"clone")});r.SHA3=s._createHelper(g),r.HmacSHA3=s._createHmacHelper(g)}(Math),t.SHA3})});var Gse=q((a9,qse)=>{u();(function(t,e){typeof a9=="object"?qse.exports=a9=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(a9,function(t){return function(e){var r=t,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,c=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),A=i.create([1352829926,1548603684,1836072691,2053994217,0]),g=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(Q,k){for(var P=0;P<16;P++){var W=k+P,re=Q[W];Q[W]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360}var ye=this._hash.words,Ae=h.words,z=A.words,j=c.words,Ie=l.words,ue=f.words,J=d.words,H,Z,ee,se,ne,le,he,Ke,tt,ct;le=H=ye[0],he=Z=ye[1],Ke=ee=ye[2],tt=se=ye[3],ct=ne=ye[4];for(var Ct,P=0;P<80;P+=1)Ct=H+Q[k+j[P]]|0,P<16?Ct+=y(Z,ee,se)+Ae[0]:P<32?Ct+=v(Z,ee,se)+Ae[1]:P<48?Ct+=_(Z,ee,se)+Ae[2]:P<64?Ct+=T(Z,ee,se)+Ae[3]:Ct+=S(Z,ee,se)+Ae[4],Ct=Ct|0,Ct=D(Ct,ue[P]),Ct=Ct+ne|0,H=ne,ne=se,se=D(ee,10),ee=Z,Z=Ct,Ct=le+Q[k+Ie[P]]|0,P<16?Ct+=S(he,Ke,tt)+z[0]:P<32?Ct+=T(he,Ke,tt)+z[1]:P<48?Ct+=_(he,Ke,tt)+z[2]:P<64?Ct+=v(he,Ke,tt)+z[3]:Ct+=y(he,Ke,tt)+z[4],Ct=Ct|0,Ct=D(Ct,J[P]),Ct=Ct+ct|0,le=ct,ct=tt,tt=D(Ke,10),Ke=he,he=Ct;Ct=ye[1]+ee+tt|0,ye[1]=ye[2]+se+ct|0,ye[2]=ye[3]+ne+le|0,ye[3]=ye[4]+H+he|0,ye[4]=ye[0]+Z+Ke|0,ye[0]=Ct},"_doProcessBlock"),_doFinalize:o(function(){var Q=this._data,k=Q.words,P=this._nDataBytes*8,W=Q.sigBytes*8;k[W>>>5]|=128<<24-W%32,k[(W+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,Q.sigBytes=(k.length+1)*4,this._process();for(var re=this._hash,ye=re.words,Ae=0;Ae<5;Ae++){var z=ye[Ae];ye[Ae]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return re},"_doFinalize"),clone:o(function(){var Q=s.clone.call(this);return Q._hash=this._hash.clone(),Q},"clone")});function y(Q,k,P){return Q^k^P}o(y,"f1");function v(Q,k,P){return Q&k|~Q&P}o(v,"f2");function _(Q,k,P){return(Q|~k)^P}o(_,"f3");function T(Q,k,P){return Q&P|k&~P}o(T,"f4");function S(Q,k,P){return Q^(k|~P)}o(S,"f5");function D(Q,k){return Q<<k|Q>>>32-k}o(D,"rotl"),r.RIPEMD160=s._createHelper(g),r.HmacRIPEMD160=s._createHmacHelper(g)}(Math),t.RIPEMD160})});var l9=q((c9,Vse)=>{u();(function(t,e){typeof c9=="object"?Vse.exports=c9=e(xn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(c9,function(t){(function(){var e=t,r=e.lib,n=r.Base,i=e.enc,s=i.Utf8,a=e.algo,c=a.HMAC=n.extend({init:o(function(l,f){l=this._hasher=new l.init,typeof f=="string"&&(f=s.parse(f));var d=l.blockSize,h=d*4;f.sigBytes>h&&(f=l.finalize(f)),f.clamp();for(var A=this._oKey=f.clone(),g=this._iKey=f.clone(),y=A.words,v=g.words,_=0;_<d;_++)y[_]^=1549556828,v[_]^=909522486;A.sigBytes=g.sigBytes=h,this.reset()},"init"),reset:o(function(){var l=this._hasher;l.reset(),l.update(this._iKey)},"reset"),update:o(function(l){return this._hasher.update(l),this},"update"),finalize:o(function(l){var f=this._hasher,d=f.finalize(l);f.reset();var h=f.finalize(this._oKey.clone().concat(d));return h},"finalize")})})()})});var Yse=q((u9,Wse)=>{u();(function(t,e,r){typeof u9=="object"?Wse.exports=u9=e(xn(),r9(),l9()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(u9,function(t){return function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,s=e.algo,a=s.SHA256,c=s.HMAC,l=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(f){this.cfg=this.cfg.extend(f)},"init"),compute:o(function(f,d){for(var h=this.cfg,A=c.create(h.hasher,f),g=i.create(),y=i.create([1]),v=g.words,_=y.words,T=h.keySize,S=h.iterations;v.length<T;){var D=A.update(d).finalize(y);A.reset();for(var Q=D.words,k=Q.length,P=D,W=1;W<S;W++){P=A.finalize(P),A.reset();for(var re=P.words,ye=0;ye<k;ye++)Q[ye]^=re[ye]}g.concat(D),_[0]++}return g.sigBytes=T*4,g},"compute")});e.PBKDF2=function(f,d,h){return l.create(h).compute(f,d)}}(),t.PBKDF2})});var sA=q((f9,$se)=>{u();(function(t,e,r){typeof f9=="object"?$se.exports=f9=e(xn(),WU(),l9()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(f9,function(t){return function(){var e=t,r=e.lib,n=r.Base,i=r.WordArray,s=e.algo,a=s.MD5,c=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(l){this.cfg=this.cfg.extend(l)},"init"),compute:o(function(l,f){for(var d,h=this.cfg,A=h.hasher.create(),g=i.create(),y=g.words,v=h.keySize,_=h.iterations;y.length<v;){d&&A.update(d),d=A.update(l).finalize(f),A.reset();for(var T=1;T<_;T++)d=A.finalize(d),A.reset();g.concat(d)}return g.sigBytes=v*4,g},"compute")});e.EvpKDF=function(l,f,d){return c.create(d).compute(l,f)}}(),t.EvpKDF})});var _s=q((d9,zse)=>{u();(function(t,e,r){typeof d9=="object"?zse.exports=d9=e(xn(),sA()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(d9,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,c=r.enc,l=c.Utf8,f=c.Base64,d=r.algo,h=d.EvpKDF,A=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(z,j){return this.create(this._ENC_XFORM_MODE,z,j)},"createEncryptor"),createDecryptor:o(function(z,j){return this.create(this._DEC_XFORM_MODE,z,j)},"createDecryptor"),init:o(function(z,j,Ie){this.cfg=this.cfg.extend(Ie),this._xformMode=z,this._key=j,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(z){return this._append(z),this._process()},"process"),finalize:o(function(z){z&&this._append(z);var j=this._doFinalize();return j},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function z(j){return typeof j=="string"?Ae:W}return o(z,"selectCipherStrategy"),function(j){return{encrypt:o(function(Ie,ue,J){return z(ue).encrypt(j,Ie,ue,J)},"encrypt"),decrypt:o(function(Ie,ue,J){return z(ue).decrypt(j,Ie,ue,J)},"decrypt")}}}()}),g=n.StreamCipher=A.extend({_doFinalize:o(function(){var z=this._process(!0);return z},"_doFinalize"),blockSize:1}),y=r.mode={},v=n.BlockCipherMode=i.extend({createEncryptor:o(function(z,j){return this.Encryptor.create(z,j)},"createEncryptor"),createDecryptor:o(function(z,j){return this.Decryptor.create(z,j)},"createDecryptor"),init:o(function(z,j){this._cipher=z,this._iv=j},"init")}),_=y.CBC=function(){var z=v.extend();z.Encryptor=z.extend({processBlock:o(function(Ie,ue){var J=this._cipher,H=J.blockSize;j.call(this,Ie,ue,H),J.encryptBlock(Ie,ue),this._prevBlock=Ie.slice(ue,ue+H)},"processBlock")}),z.Decryptor=z.extend({processBlock:o(function(Ie,ue){var J=this._cipher,H=J.blockSize,Z=Ie.slice(ue,ue+H);J.decryptBlock(Ie,ue),j.call(this,Ie,ue,H),this._prevBlock=Z},"processBlock")});function j(Ie,ue,J){var H,Z=this._iv;Z?(H=Z,this._iv=e):H=this._prevBlock;for(var ee=0;ee<J;ee++)Ie[ue+ee]^=H[ee]}return o(j,"xorBlock"),z}(),T=r.pad={},S=T.Pkcs7={pad:o(function(z,j){for(var Ie=j*4,ue=Ie-z.sigBytes%Ie,J=ue<<24|ue<<16|ue<<8|ue,H=[],Z=0;Z<ue;Z+=4)H.push(J);var ee=s.create(H,ue);z.concat(ee)},"pad"),unpad:o(function(z){var j=z.words[z.sigBytes-1>>>2]&255;z.sigBytes-=j},"unpad")},D=n.BlockCipher=A.extend({cfg:A.cfg.extend({mode:_,padding:S}),reset:o(function(){var z;A.reset.call(this);var j=this.cfg,Ie=j.iv,ue=j.mode;this._xformMode==this._ENC_XFORM_MODE?z=ue.createEncryptor:(z=ue.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,Ie&&Ie.words):(this._mode=z.call(ue,this,Ie&&Ie.words),this._mode.__creator=z)},"reset"),_doProcessBlock:o(function(z,j){this._mode.processBlock(z,j)},"_doProcessBlock"),_doFinalize:o(function(){var z,j=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(j.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),j.unpad(z)),z},"_doFinalize"),blockSize:128/32}),Q=n.CipherParams=i.extend({init:o(function(z){this.mixIn(z)},"init"),toString:o(function(z){return(z||this.formatter).stringify(this)},"toString")}),k=r.format={},P=k.OpenSSL={stringify:o(function(z){var j,Ie=z.ciphertext,ue=z.salt;return ue?j=s.create([1398893684,1701076831]).concat(ue).concat(Ie):j=Ie,j.toString(f)},"stringify"),parse:o(function(z){var j,Ie=f.parse(z),ue=Ie.words;return ue[0]==1398893684&&ue[1]==1701076831&&(j=s.create(ue.slice(2,4)),ue.splice(0,4),Ie.sigBytes-=16),Q.create({ciphertext:Ie,salt:j})},"parse")},W=n.SerializableCipher=i.extend({cfg:i.extend({format:P}),encrypt:o(function(z,j,Ie,ue){ue=this.cfg.extend(ue);var J=z.createEncryptor(Ie,ue),H=J.finalize(j),Z=J.cfg;return Q.create({ciphertext:H,key:Ie,iv:Z.iv,algorithm:z,mode:Z.mode,padding:Z.padding,blockSize:z.blockSize,formatter:ue.format})},"encrypt"),decrypt:o(function(z,j,Ie,ue){ue=this.cfg.extend(ue),j=this._parse(j,ue.format);var J=z.createDecryptor(Ie,ue).finalize(j.ciphertext);return J},"decrypt"),_parse:o(function(z,j){return typeof z=="string"?j.parse(z,this):z},"_parse")}),re=r.kdf={},ye=re.OpenSSL={execute:o(function(z,j,Ie,ue,J){if(ue||(ue=s.random(64/8)),J)var H=h.create({keySize:j+Ie,hasher:J}).compute(z,ue);else var H=h.create({keySize:j+Ie}).compute(z,ue);var Z=s.create(H.words.slice(j),Ie*4);return H.sigBytes=j*4,Q.create({key:H,iv:Z,salt:ue})},"execute")},Ae=n.PasswordBasedCipher=W.extend({cfg:W.cfg.extend({kdf:ye}),encrypt:o(function(z,j,Ie,ue){ue=this.cfg.extend(ue);var J=ue.kdf.execute(Ie,z.keySize,z.ivSize,ue.salt,ue.hasher);ue.iv=J.iv;var H=W.encrypt.call(this,z,j,J.key,ue);return H.mixIn(J),H},"encrypt"),decrypt:o(function(z,j,Ie,ue){ue=this.cfg.extend(ue),j=this._parse(j,ue.format);var J=ue.kdf.execute(Ie,z.keySize,z.ivSize,j.salt,ue.hasher);ue.iv=J.iv;var H=W.decrypt.call(this,z,j,J.key,ue);return H},"decrypt")})}()})});var Kse=q((h9,jse)=>{u();(function(t,e,r){typeof h9=="object"?jse.exports=h9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(h9,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),e.Decryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=c},"processBlock")});function r(n,i,s,a){var c,l=this._iv;l?(c=l.slice(0),this._iv=void 0):c=this._prevBlock,a.encryptBlock(c,0);for(var f=0;f<s;f++)n[i+f]^=c[f]}return o(r,"generateKeystreamAndEncrypt"),e}(),t.mode.CFB})});var Xse=q((A9,Jse)=>{u();(function(t,e,r){typeof A9=="object"?Jse.exports=A9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(A9,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=this._iv,l=this._counter;c&&(l=this._counter=c.slice(0),this._iv=void 0);var f=l.slice(0);s.encryptBlock(f,0),l[a-1]=l[a-1]+1|0;for(var d=0;d<a;d++)n[i+d]^=f[d]},"processBlock")});return e.Decryptor=r,e}(),t.mode.CTR})});var eae=q((p9,Zse)=>{u();(function(t,e,r){typeof p9=="object"?Zse.exports=p9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(p9,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,c=s>>8&255,l=s&255;a===255?(a=0,c===255?(c=0,l===255?l=0:++l):++c):++a,s=0,s+=a<<16,s+=c<<8,s+=l}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=e.Encryptor=e.extend({processBlock:o(function(s,a){var c=this._cipher,l=c.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),n(d);var h=d.slice(0);c.encryptBlock(h,0);for(var A=0;A<l;A++)s[a+A]^=h[A]},"processBlock")});return e.Decryptor=i,e}(),t.mode.CTRGladman})});var rae=q((m9,tae)=>{u();(function(t,e,r){typeof m9=="object"?tae.exports=m9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(m9,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,c=this._iv,l=this._keystream;c&&(l=this._keystream=c.slice(0),this._iv=void 0),s.encryptBlock(l,0);for(var f=0;f<a;f++)n[i+f]^=l[f]},"processBlock")});return e.Decryptor=r,e}(),t.mode.OFB})});var iae=q((g9,nae)=>{u();(function(t,e,r){typeof g9=="object"?nae.exports=g9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(g9,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),e.Decryptor=e.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),e}(),t.mode.ECB})});var sae=q((y9,oae)=>{u();(function(t,e,r){typeof y9=="object"?oae.exports=y9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(y9,function(t){return t.pad.AnsiX923={pad:o(function(e,r){var n=e.sigBytes,i=r*4,s=i-n%i,a=n+s-1;e.clamp(),e.words[a>>>2]|=s<<24-a%4*8,e.sigBytes+=s},"pad"),unpad:o(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Ansix923})});var cae=q((C9,aae)=>{u();(function(t,e,r){typeof C9=="object"?aae.exports=C9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(C9,function(t){return t.pad.Iso10126={pad:o(function(e,r){var n=r*4,i=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Iso10126})});var uae=q((E9,lae)=>{u();(function(t,e,r){typeof E9=="object"?lae.exports=E9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(E9,function(t){return t.pad.Iso97971={pad:o(function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},"pad"),unpad:o(function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--},"unpad")},t.pad.Iso97971})});var dae=q((I9,fae)=>{u();(function(t,e,r){typeof I9=="object"?fae.exports=I9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(I9,function(t){return t.pad.ZeroPadding={pad:o(function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},"pad"),unpad:o(function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}},"unpad")},t.pad.ZeroPadding})});var Aae=q((v9,hae)=>{u();(function(t,e,r){typeof v9=="object"?hae.exports=v9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(v9,function(t){return t.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},t.pad.NoPadding})});var mae=q((b9,pae)=>{u();(function(t,e,r){typeof b9=="object"?pae.exports=b9=e(xn(),_s()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(b9,function(t){return function(e){var r=t,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,c=r.format,l=c.Hex={stringify:o(function(f){return f.ciphertext.toString(a)},"stringify"),parse:o(function(f){var d=a.parse(f);return i.create({ciphertext:d})},"parse")}}(),t.format.Hex})});var yae=q((x9,gae)=>{u();(function(t,e,r){typeof x9=="object"?gae.exports=x9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(x9,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,i=e.algo,s=[],a=[],c=[],l=[],f=[],d=[],h=[],A=[],g=[],y=[];(function(){for(var T=[],S=0;S<256;S++)S<128?T[S]=S<<1:T[S]=S<<1^283;for(var D=0,Q=0,S=0;S<256;S++){var k=Q^Q<<1^Q<<2^Q<<3^Q<<4;k=k>>>8^k&255^99,s[D]=k,a[k]=D;var P=T[D],W=T[P],re=T[W],ye=T[k]*257^k*16843008;c[D]=ye<<24|ye>>>8,l[D]=ye<<16|ye>>>16,f[D]=ye<<8|ye>>>24,d[D]=ye;var ye=re*16843009^W*65537^P*257^D*16843008;h[k]=ye<<24|ye>>>8,A[k]=ye<<16|ye>>>16,g[k]=ye<<8|ye>>>24,y[k]=ye,D?(D=P^T[T[T[re^P]]],Q^=T[T[Q]]):D=Q=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],_=i.AES=n.extend({_doReset:o(function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,D=S.words,Q=S.sigBytes/4,k=this._nRounds=Q+6,P=(k+1)*4,W=this._keySchedule=[],re=0;re<P;re++)re<Q?W[re]=D[re]:(T=W[re-1],re%Q?Q>6&&re%Q==4&&(T=s[T>>>24]<<24|s[T>>>16&255]<<16|s[T>>>8&255]<<8|s[T&255]):(T=T<<8|T>>>24,T=s[T>>>24]<<24|s[T>>>16&255]<<16|s[T>>>8&255]<<8|s[T&255],T^=v[re/Q|0]<<24),W[re]=W[re-Q]^T);for(var ye=this._invKeySchedule=[],Ae=0;Ae<P;Ae++){var re=P-Ae;if(Ae%4)var T=W[re];else var T=W[re-4];Ae<4||re<=4?ye[Ae]=T:ye[Ae]=h[s[T>>>24]]^A[s[T>>>16&255]]^g[s[T>>>8&255]]^y[s[T&255]]}}},"_doReset"),encryptBlock:o(function(T,S){this._doCryptBlock(T,S,this._keySchedule,c,l,f,d,s)},"encryptBlock"),decryptBlock:o(function(T,S){var D=T[S+1];T[S+1]=T[S+3],T[S+3]=D,this._doCryptBlock(T,S,this._invKeySchedule,h,A,g,y,a);var D=T[S+1];T[S+1]=T[S+3],T[S+3]=D},"decryptBlock"),_doCryptBlock:o(function(T,S,D,Q,k,P,W,re){for(var ye=this._nRounds,Ae=T[S]^D[0],z=T[S+1]^D[1],j=T[S+2]^D[2],Ie=T[S+3]^D[3],ue=4,J=1;J<ye;J++){var H=Q[Ae>>>24]^k[z>>>16&255]^P[j>>>8&255]^W[Ie&255]^D[ue++],Z=Q[z>>>24]^k[j>>>16&255]^P[Ie>>>8&255]^W[Ae&255]^D[ue++],ee=Q[j>>>24]^k[Ie>>>16&255]^P[Ae>>>8&255]^W[z&255]^D[ue++],se=Q[Ie>>>24]^k[Ae>>>16&255]^P[z>>>8&255]^W[j&255]^D[ue++];Ae=H,z=Z,j=ee,Ie=se}var H=(re[Ae>>>24]<<24|re[z>>>16&255]<<16|re[j>>>8&255]<<8|re[Ie&255])^D[ue++],Z=(re[z>>>24]<<24|re[j>>>16&255]<<16|re[Ie>>>8&255]<<8|re[Ae&255])^D[ue++],ee=(re[j>>>24]<<24|re[Ie>>>16&255]<<16|re[Ae>>>8&255]<<8|re[z&255])^D[ue++],se=(re[Ie>>>24]<<24|re[Ae>>>16&255]<<16|re[z>>>8&255]<<8|re[j&255])^D[ue++];T[S]=H,T[S+1]=Z,T[S+2]=ee,T[S+3]=se},"_doCryptBlock"),keySize:256/32});e.AES=n._createHelper(_)}(),t.AES})});var Eae=q((T9,Cae)=>{u();(function(t,e,r){typeof T9=="object"?Cae.exports=T9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(T9,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,i=r.BlockCipher,s=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:o(function(){for(var v=this._key,_=v.words,T=[],S=0;S<56;S++){var D=a[S]-1;T[S]=_[D>>>5]>>>31-D%32&1}for(var Q=this._subKeys=[],k=0;k<16;k++){for(var P=Q[k]=[],W=l[k],S=0;S<24;S++)P[S/6|0]|=T[(c[S]-1+W)%28]<<31-S%6,P[4+(S/6|0)]|=T[28+(c[S+24]-1+W)%28]<<31-S%6;P[0]=P[0]<<1|P[0]>>>31;for(var S=1;S<7;S++)P[S]=P[S]>>>(S-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var re=this._invSubKeys=[],S=0;S<16;S++)re[S]=Q[15-S]},"_doReset"),encryptBlock:o(function(v,_){this._doCryptBlock(v,_,this._subKeys)},"encryptBlock"),decryptBlock:o(function(v,_){this._doCryptBlock(v,_,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(v,_,T){this._lBlock=v[_],this._rBlock=v[_+1],A.call(this,4,252645135),A.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),A.call(this,1,1431655765);for(var S=0;S<16;S++){for(var D=T[S],Q=this._lBlock,k=this._rBlock,P=0,W=0;W<8;W++)P|=f[W][((k^D[W])&d[W])>>>0];this._lBlock=k,this._rBlock=Q^P}var re=this._lBlock;this._lBlock=this._rBlock,this._rBlock=re,A.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),v[_]=this._lBlock,v[_+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function A(v,_){var T=(this._lBlock>>>v^this._rBlock)&_;this._rBlock^=T,this._lBlock^=T<<v}o(A,"exchangeLR");function g(v,_){var T=(this._rBlock>>>v^this._lBlock)&_;this._lBlock^=T,this._rBlock^=T<<v}o(g,"exchangeRL"),e.DES=i._createHelper(h);var y=s.TripleDES=i.extend({_doReset:o(function(){var v=this._key,_=v.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=_.slice(0,2),S=_.length<4?_.slice(0,2):_.slice(2,4),D=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=h.createEncryptor(n.create(T)),this._des2=h.createEncryptor(n.create(S)),this._des3=h.createEncryptor(n.create(D))},"_doReset"),encryptBlock:o(function(v,_){this._des1.encryptBlock(v,_),this._des2.decryptBlock(v,_),this._des3.encryptBlock(v,_)},"encryptBlock"),decryptBlock:o(function(v,_){this._des3.decryptBlock(v,_),this._des2.encryptBlock(v,_),this._des1.decryptBlock(v,_)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=i._createHelper(y)}(),t.TripleDES})});var vae=q((_9,Iae)=>{u();(function(t,e,r){typeof _9=="object"?Iae.exports=_9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(_9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var l=this._key,f=l.words,d=l.sigBytes,h=this._S=[],A=0;A<256;A++)h[A]=A;for(var A=0,g=0;A<256;A++){var y=A%d,v=f[y>>>2]>>>24-y%4*8&255;g=(g+h[A]+v)%256;var _=h[A];h[A]=h[g],h[g]=_}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(l,f){l[f]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var l=this._S,f=this._i,d=this._j,h=0,A=0;A<4;A++){f=(f+1)%256,d=(d+l[f])%256;var g=l[f];l[f]=l[d],l[d]=g,h|=l[(l[f]+l[d])%256]<<24-A*8}return this._i=f,this._j=d,h}o(a,"generateKeystreamWord"),e.RC4=n._createHelper(s);var c=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)a.call(this)},"_doReset")});e.RC4Drop=n._createHelper(c)}(),t.RC4})});var xae=q((S9,bae)=>{u();(function(t,e,r){typeof S9=="object"?bae.exports=S9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(S9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=[],a=[],c=[],l=i.Rabbit=n.extend({_doReset:o(function(){for(var d=this._key.words,h=this.cfg.iv,A=0;A<4;A++)d[A]=(d[A]<<8|d[A]>>>24)&16711935|(d[A]<<24|d[A]>>>8)&4278255360;var g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],y=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var A=0;A<4;A++)f.call(this);for(var A=0;A<8;A++)y[A]^=g[A+4&7];if(h){var v=h.words,_=v[0],T=v[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,D=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,Q=S>>>16|D&4294901760,k=D<<16|S&65535;y[0]^=S,y[1]^=Q,y[2]^=D,y[3]^=k,y[4]^=S,y[5]^=Q,y[6]^=D,y[7]^=k;for(var A=0;A<4;A++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(d,h){var A=this._X;f.call(this),s[0]=A[0]^A[5]>>>16^A[3]<<16,s[1]=A[2]^A[7]>>>16^A[5]<<16,s[2]=A[4]^A[1]>>>16^A[7]<<16,s[3]=A[6]^A[3]>>>16^A[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,d[h+g]^=s[g]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,A=0;A<8;A++)a[A]=h[A];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var A=0;A<8;A++){var g=d[A]+h[A],y=g&65535,v=g>>>16,_=((y*y>>>17)+y*v>>>15)+v*v,T=((g&4294901760)*g|0)+((g&65535)*g|0);c[A]=_^T}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),e.Rabbit=n._createHelper(l)}(),t.Rabbit})});var _ae=q((w9,Tae)=>{u();(function(t,e,r){typeof w9=="object"?Tae.exports=w9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(w9,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,i=e.algo,s=[],a=[],c=[],l=i.RabbitLegacy=n.extend({_doReset:o(function(){var d=this._key.words,h=this.cfg.iv,A=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)g[y]^=A[y+4&7];if(h){var v=h.words,_=v[0],T=v[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,D=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,Q=S>>>16|D&4294901760,k=D<<16|S&65535;g[0]^=S,g[1]^=Q,g[2]^=D,g[3]^=k,g[4]^=S,g[5]^=Q,g[6]^=D,g[7]^=k;for(var y=0;y<4;y++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(d,h){var A=this._X;f.call(this),s[0]=A[0]^A[5]>>>16^A[3]<<16,s[1]=A[2]^A[7]>>>16^A[5]<<16,s[2]=A[4]^A[1]>>>16^A[7]<<16,s[3]=A[6]^A[3]>>>16^A[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,d[h+g]^=s[g]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,A=0;A<8;A++)a[A]=h[A];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var A=0;A<8;A++){var g=d[A]+h[A],y=g&65535,v=g>>>16,_=((y*y>>>17)+y*v>>>15)+v*v,T=((g&4294901760)*g|0)+((g&65535)*g|0);c[A]=_^T}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),e.RabbitLegacy=n._createHelper(l)}(),t.RabbitLegacy})});var wae=q((B9,Sae)=>{u();(function(t,e,r){typeof B9=="object"?Sae.exports=B9=e(xn(),$m(),zm(),sA(),_s()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(B9,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,i=e.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function f(y,v){let _=v>>24&255,T=v>>16&255,S=v>>8&255,D=v&255,Q=y.sbox[0][_]+y.sbox[1][T];return Q=Q^y.sbox[2][S],Q=Q+y.sbox[3][D],Q}o(f,"F");function d(y,v,_){let T=v,S=_,D;for(let Q=0;Q<s;++Q)T=T^y.pbox[Q],S=f(y,T)^S,D=T,T=S,S=D;return D=T,T=S,S=D,S=S^y.pbox[s],T=T^y.pbox[s+1],{left:T,right:S}}o(d,"BlowFish_Encrypt");function h(y,v,_){let T=v,S=_,D;for(let Q=s+1;Q>1;--Q)T=T^y.pbox[Q],S=f(y,T)^S,D=T,T=S,S=D;return D=T,T=S,S=D,S=S^y.pbox[1],T=T^y.pbox[0],{left:T,right:S}}o(h,"BlowFish_Decrypt");function A(y,v,_){for(let k=0;k<4;k++){y.sbox[k]=[];for(let P=0;P<256;P++)y.sbox[k][P]=c[k][P]}let T=0;for(let k=0;k<s+2;k++)y.pbox[k]=a[k]^v[T],T++,T>=_&&(T=0);let S=0,D=0,Q=0;for(let k=0;k<s+2;k+=2)Q=d(y,S,D),S=Q.left,D=Q.right,y.pbox[k]=S,y.pbox[k+1]=D;for(let k=0;k<4;k++)for(let P=0;P<256;P+=2)Q=d(y,S,D),S=Q.left,D=Q.right,y.sbox[k][P]=S,y.sbox[k][P+1]=D;return!0}o(A,"BlowFishInit");var g=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,v=y.words,_=y.sigBytes/4;A(l,v,_)}},"_doReset"),encryptBlock:o(function(y,v){var _=d(l,y[v],y[v+1]);y[v]=_.left,y[v+1]=_.right},"encryptBlock"),decryptBlock:o(function(y,v){var _=h(l,y[v],y[v+1]);y[v]=_.left,y[v+1]=_.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(g)}(),t.Blowfish})});var d4=q((R9,Bae)=>{u();(function(t,e,r){typeof R9=="object"?Bae.exports=R9=e(xn(),f4(),_se(),wse(),$m(),kse(),zm(),WU(),r9(),Fse(),YU(),Ose(),Hse(),Gse(),l9(),Yse(),sA(),_s(),Kse(),Xse(),eae(),rae(),iae(),sae(),cae(),uae(),dae(),Aae(),mae(),yae(),Eae(),vae(),xae(),_ae(),wae()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(R9,function(t){return t})});var jae=q((O9,zae)=>{u();(function(t,e){typeof O9=="object"&&typeof zae<"u"?e(O9):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(O9,function(t){"use strict";function e(I,x){return I||x}o(e,"_pureAssign");function r(I,x){return I[x]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",c="object",l="prototype",f="__proto__",d="undefined",h="constructor",A="Symbol",g="_polyfill",y="length",v="name",_="call",T="toString",S=e(Object),D=r(S,l),Q=e(String),k=r(Q,l),P=e(Math),W=e(Array),re=r(W,l),ye=r(re,"slice");function Ae(I,x){try{return{v:I.apply(this,x)}}catch(w){return{e:w}}}o(Ae,"safe");function z(I){return function(x){return typeof x===I}}o(z,"_createIs");function j(I){var x="[object "+I+"]";return function(w){return!!(w&&Ie(w)===x)}}o(j,"_createObjIs");function Ie(I){return D[T].call(I)}o(Ie,"objToString");function ue(I){return typeof I===d||I===d}o(ue,"isUndefined");function J(I){return!Z(I)}o(J,"isStrictUndefined");function H(I){return I===i||ue(I)}o(H,"isNullOrUndefined");function Z(I){return!!I||I!==n}o(Z,"isDefined");var ee=z("string"),se=z(a);function ne(I){return!I&&H(I)?!1:!!I&&typeof I===c}o(ne,"isObject");var le=r(W,"isArray"),he=j("Error"),Ke=r(S,"getOwnPropertyDescriptor");function tt(I,x){return!!I&&D.hasOwnProperty[_](I,x)}o(tt,"objHasOwnProperty");var ct=e(r(S,"hasOwn"),Ct);function Ct(I,x){return tt(I,x)||!!Ke(I,x)}o(Ct,"polyObjHasOwn");function qt(I,x,w){if(I&&ne(I)){for(var N in I)if(ct(I,N)&&x[_](w||I,N,I[N])===-1)break}}o(qt,"objForEachKey");var Or={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function kn(I){var x={};if(x[Or.c]=!0,x[Or.e]=!0,I.l){x.get=function(){return I.l.v};var w=Ke(I.l,"v");w&&w.set&&(x.set=function(N){I.l.v=N})}return qt(I,function(N,Y){x[Or[N]]=J(Y)?x[Or[N]]:Y}),x}o(kn,"_createProp");var br=r(S,"defineProperty");function oe(I,x,w){return br(I,x,kn(w))}o(oe,"objDefine");function Je(I,x,w,N,Y){var fe={};return qt(I,function(Ce,we){pe(fe,Ce,x?we:Ce),pe(fe,we,w?we:Ce)}),N?N(fe):fe}o(Je,"_createKeyValueMap");function pe(I,x,w,N){br(I,x,{value:w,enumerable:!0,writable:!1})}o(pe,"_assignMapValue");var ut=e(Q),ot="[object Error]";function We(I,x){var w=s,N=D[T][_](I);N===ot&&(I={stack:ut(I.stack),message:ut(I.message),name:ut(I.name)});try{w=JSON.stringify(I,i,x?typeof x=="number"?x:4:n),w=(w?w.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||ut(I)}catch(Y){w=" - "+We(Y,x)}return N+": "+w}o(We,"dumpObj");function Pr(I){throw new Error(I)}o(Pr,"throwError");function En(I){throw new TypeError(I)}o(En,"throwTypeError");var Ur=r(S,"freeze");function Kt(I){return I}o(Kt,"_doNothing");function pi(I){return I[f]||i}o(pi,"_getProto");var Ho=r(S,"assign"),Fn=r(S,"keys"),qo=e(Ur,Kt),Jt=e(r(S,"getPrototypeOf"),pi);function po(I){return Je(I,1,0,qo)}o(po,"createEnum");function Bo(I){var x={};return qt(I,function(w,N){pe(x,w,N[1]),pe(x,N[0],N[1])}),qo(x)}o(Bo,"createSimpleMap");function sa(I){return Bo(I)}o(sa,"createTypeMap");var ce="__tsUtils$gblCfg",Ge;function dt(){var I;return typeof globalThis!==d&&(I=globalThis),!I&&typeof self!==d&&(I=self),!I&&typeof window!==d&&(I=window),!I&&typeof global!==d&&(I=global),I}o(dt,"_getGlobalValue");function vt(){if(!Ge){var I=Ae(dt).v||{};Ge=I[ce]=I[ce]||{}}return Ge}o(vt,"_getGlobalConfig");var Wr=xr;function xr(I,x,w){var N=x?x[I]:i;return function(Y){var fe=(Y?Y[I]:i)||N;if(fe||w){var Ce=arguments;return(fe||w).apply(Y,fe?ye[_](Ce,1):Ce)}En('"'+ut(I)+'" not defined for '+We(Y))}}o(xr,"_unwrapFunctionWithPoly");var zn=r(P,"min"),ii=r(P,"max"),Fr=Wr("slice",k),Yr=Wr("substring",k),Hr=xr("substr",k,fi);function fi(I,x,w){return H(I)&&En("Invalid "+We(I)),w<0?s:(x=x||0,x<0&&(x=ii(x+I[y],0)),ue(w)?Fr(I,x):Fr(I,x,x+w))}o(fi,"polyStrSubstr");function qi(I,x){return Yr(I,0,x)}o(qi,"strLeft");var Ro="_urid",yc;function kf(){if(!yc){var I=vt();yc=I.gblSym=I.gblSym||{k:{},s:{}}}return yc}o(kf,"_globalSymbolRegistry");function w0(I){var x={description:ut(I),toString:o(function(){return A+"("+I+")"},"toString")};return x[g]=!0,x}o(w0,"polyNewSymbol");function hu(I){var x=kf();if(!ct(x.k,I)){var w=w0(I),N=Fn(x.s).length;w[Ro]=function(){return N+"_"+w[T]()},x.k[I]=w,x.s[w[Ro]()]=ut(I)}return x.k[I]}o(hu,"polySymbolFor");var rs;function Au(){rs=vt()}o(Au,"_initTestHooks");function Te(I){return br({toJSON:o(function(){return I},"toJSON")},"v",{value:I})}o(Te,"createCachedValue");var M="window",ae;function ge(I,x){var w;return function(){return!rs&&Au(),(!w||rs.lzy)&&(w=Te(Ae(I,x).v)),w.v}}o(ge,"_getGlobalInstFn");function K(I){return!rs&&Au(),(!ae||I===!1||rs.lzy)&&(ae=Te(Ae(dt).v||i)),ae.v}o(K,"getGlobal");function L(I,x){var w;if(!ae||x===!1?w=K(x):w=ae.v,w&&w[I])return w[I];if(I===M)try{return window}catch{}return i}o(L,"getInst");var Se=ge(L,["document"]);function Xe(){return!!rr()}o(Xe,"hasWindow");var rr=ge(L,[M]);function mi(){return!!Dn()}o(mi,"hasNavigator");var Dn=ge(L,["navigator"]),Ps,aa;function oi(){return Ps=Te(Ae(L,[A]).v),Ps}o(oi,"_initSymbol");function Br(I){var x=(rs.lzy?0:Ps)||oi();return x.v?x.v[I]:n}o(Br,"_getSymbolKey");function B0(I,x){!rs&&Au();var w=(rs.lzy?0:Ps)||oi();return w.v?w.v(I):x?i:w0(I)}o(B0,"newSymbol");function ns(I){return!rs&&Au(),aa=(rs.lzy?0:aa)||Te(Ae(Br,["for"]).v),(aa.v||hu)(I)}o(ns,"symbolFor");function pu(I,x,w){return I.apply(x,w)}o(pu,"fnApply");function Fs(I,x,w){if(I)for(var N=I[y]>>>0,Y=0;Y<N&&!(Y in I&&x[_](w||I,I[Y],Y,I)===-1);Y++);}o(Fs,"arrForEach");var mu=Wr("indexOf",re),ll=Wr("map",re),ko=Wr("reduce",re),Df=e(r(S,"create"),dp);function dp(I){if(!I)return{};var x=typeof I;x!==c&&x!==a&&En("Prototype must be an Object or function: "+We(I));function w(){}return o(w,"tempFunc"),w[l]=I,new w}o(dp,"polyObjCreate");var p5;function gu(I,x){var w=S.setPrototypeOf||function(N,Y){var fe;!p5&&(p5=Te((fe={},fe[f]=[],fe instanceof Array))),p5.v?N[f]=Y:qt(Y,function(Ce,we){return N[Ce]=we})};return w(I,x)}o(gu,"objSetPrototypeOf");function XF(I,x,w){Ae(oe,[x,v,{v:I,c:!0,e:!1}]),x=gu(x,w);function N(){this[h]=x,Ae(oe,[this,v,{v:I,c:!0,e:!1}])}return o(N,"__"),x[l]=w===i?Df(w):(N[l]=w[l],new N),x}o(XF,"_createCustomError");function Nf(I,x){x&&(I[v]=x)}o(Nf,"_setName");function ZF(I,x,w){var N=w||Error,Y=N[l][v],fe=Error.captureStackTrace;return XF(I,function(){var Ce=this,we=arguments;try{Ae(Nf,[N,I]);var Le=pu(N,Ce,ye[_](we))||Ce;if(Le!==Ce){var Ze=Jt(Ce);Ze!==Jt(Le)&&gu(Le,Ze)}return fe&&fe(Le,Ce[h]),x&&x(Le,we),Le}finally{Ae(Nf,[N,Y])}},N)}o(ZF,"createCustomError");function Eh(){return(Date.now||m5)()}o(Eh,"utcNow");function m5(){return new Date().getTime()}o(m5,"polyUtcNow");function XE(I){return o(function(w){return H(w)&&En("strTrim called ["+We(w)+"]"),w&&w.replace&&(w=w.replace(I,s)),w},"_doTrim")}o(XE,"_createTrimFn");var eL=XE(/^\s+|(?=\s)\s+$/g),Pa=xr("trim",k,eL),Qf=r(P,"floor"),T1,Ih,_1;function Pf(I){if(!I||typeof I!==c)return!1;_1||(_1=Xe()?rr():!0);var x=!1;if(I!==_1){Ih||(T1=Function[l][T],Ih=T1[_](S));try{var w=Jt(I);x=!w,x||(tt(w,h)&&(w=w[h]),x=!!(w&&typeof w===a&&T1[_](w)===Ih))}catch{}}return x}o(Pf,"isPlainObject");var ZE;function S1(){return!rs&&Au(),(!ZE||rs.lzy)&&(ZE=Te(Ae(L,["performance"]).v)),ZE.v}o(S1,"getPerformance");var g5=r(P,"round"),hp=xr("endsWith",k,Ap);function Ap(I,x,w){ee(I)||En("'"+We(I)+"' is not a string");var N=ee(x)?x:ut(x),Y=!ue(w)&&w<I[y]?w:I[y];return Yr(I,Y-N[y],Y)===N}o(Ap,"polyStrEndsWith");var Wt=Wr("indexOf",k),n0="ref",vh="unref",pp="hasRef",tL="enabled";function Ff(I,x,w){var N=!0,Y=I?x(i):i,fe;function Ce(){return N=!1,Y&&Y[vh]&&Y[vh](),fe}o(Ce,"_unref");function we(){Y&&w(Y),Y=i}o(we,"_cancel");function Le(){return Y=x(Y),N||Ce(),fe}o(Le,"_refresh");function Ze(St){!St&&Y&&we(),St&&!Y&&Le()}return o(Ze,"_setEnabled"),fe={cancel:we,refresh:Le},fe[pp]=function(){return Y&&Y[pp]?Y[pp]():N},fe[n0]=function(){return N=!0,Y&&Y[n0]&&Y[n0](),fe},fe[vh]=Ce,fe=br(fe,tL,{get:o(function(){return!!Y},"get"),set:Ze}),{h:fe,dn:o(function(){Y=i},"dn")}}o(Ff,"_createTimerHandler");function rL(I,x,w){var N=le(x),Y=N?x.length:0,fe=(Y>0?x[0]:N?n:x)||setTimeout,Ce=(Y>1?x[1]:n)||clearTimeout,we=w[0];w[0]=function(){Le.dn(),pu(we,n,ye[_](arguments))};var Le=Ff(I,function(Ze){if(Ze){if(Ze.refresh)return Ze.refresh(),Ze;pu(Ce,n,[Ze])}return pu(fe,n,w)},function(Ze){pu(Ce,n,[Ze])});return Le.h}o(rL,"_createTimeoutWith");function y5(I,x){return rL(!0,n,ye[_](arguments))}o(y5,"scheduleTimeout");var w1=po,nL=sa,B1="toLowerCase",is="length",Lf="warnToConsole",R1="throwInternal",Jw="watch",iL="apply",Ln="push",bh="splice",Mf="logger",C5="cancel",k1="name",i0="unload",Xw="version",Zw="loggingLevelConsole",E5="messageId",xh="message",I5="diagLog",e8="userAgent",v5="split",mp="replace",Of="type",t8="evtName",eI="traceFlags",b5="getAttribute",tI;function oL(I,x){tI||(tI=ZF("AggregationError",function(N,Y){Y[is]>1&&(N.errors=Y[1])}));var w=I||"One or more errors occurred.";throw Fs(x,function(N,Y){w+=`
`.concat(Y," > ").concat(We(N))}),new tI(w,x||[])}o(oL,"throwAggregationError");var sL="function",r8="object",aL="undefined",yu="prototype",rI=Object,x5=rI[yu];(K()||{}).Symbol,(K()||{}).Reflect;var nI="hasOwnProperty",cL=o(function(I){for(var x,w=1,N=arguments.length;w<N;w++){x=arguments[w];for(var Y in x)x5[nI].call(x,Y)&&(I[Y]=x[Y])}return I},"__objAssignFnImpl"),iI=Ho||cL,oI=o(function(I,x){return oI=rI.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,N){w.__proto__=N}||function(w,N){for(var Y in N)N[nI](Y)&&(w[Y]=N[Y])},oI(I,x)},"extendStaticsFn");function Uf(I,x){typeof x!==sL&&x!==null&&En("Class extends value "+String(x)+" is not a constructor or null"),oI(I,x);function w(){this.constructor=I}o(w,"__"),I[yu]=x===null?Df(x):(w[yu]=x[yu],new w)}o(Uf,"__extendsFn");var sI,Th="constructor",R0="prototype",k0="function",_h="_dynInstFuncs",gp="_isDynProxy",Hf="_dynClass",yp="_dynCls$",T5="_dynInstChk",Sh=T5,Cp="_dfOpts",_5="_unknown_",aI="__proto__",Ep="_dyn"+aI,D1="__dynProto$Gbl",cI="_dynInstProto",Ip="useBaseInst",vp="setInstFuncs",N1=Object,wh=N1.getPrototypeOf,bp=N1.getOwnPropertyNames,S5=K(),lI=S5[D1]||(S5[D1]={o:(sI={},sI[vp]=!0,sI[Ip]=!0,sI),n:1e3});function xp(I){return I&&(I===N1[R0]||I===Array[R0])}o(xp,"_isObjectOrArrayPrototype");function Tp(I){return xp(I)||I===Function[R0]}o(Tp,"_isObjectArrayOrFunctionPrototype");function Cu(I){var x;if(I){if(wh)return wh(I);var w=I[aI]||I[R0]||(I[Th]?I[Th][R0]:null);x=I[Ep]||w,tt(I,Ep)||(delete I[cI],x=I[Ep]=I[cI]||I[Ep],I[cI]=w)}return x}o(Cu,"_getObjProto");function ul(I,x){var w=[];if(bp)w=bp(I);else for(var N in I)typeof N=="string"&&tt(I,N)&&w.push(N);if(w&&w.length>0)for(var Y=0;Y<w.length;Y++)x(w[Y])}o(ul,"_forEachProp");function _p(I,x,w){return x!==Th&&typeof I[x]===k0&&(w||tt(I,x))&&x!==aI&&x!==R0}o(_p,"_isDynamicCandidate");function Sp(I){En("DynamicProto: "+I)}o(Sp,"_throwTypeError");function uI(I){var x=Df(null);return ul(I,function(w){!x[w]&&_p(I,w,!1)&&(x[w]=I[w])}),x}o(uI,"_getInstanceFuncs");function w5(I,x){for(var w=I.length-1;w>=0;w--)if(I[w]===x)return!0;return!1}o(w5,"_hasVisited");function B5(I,x,w,N){function Y(Le,Ze,St){var Ar=Ze[St];if(Ar[gp]&&N){var wr=Le[_h]||{};wr[Sh]!==!1&&(Ar=(wr[Ze[Hf]]||{})[St]||Ar)}return function(){return Ar.apply(Le,arguments)}}o(Y,"_instFuncProxy");var fe=Df(null);ul(w,function(Le){fe[Le]=Y(x,w,Le)});for(var Ce=Cu(I),we=[];Ce&&!Tp(Ce)&&!w5(we,Ce);)ul(Ce,function(Le){!fe[Le]&&_p(Ce,Le,!wh)&&(fe[Le]=Y(x,Ce,Le))}),we.push(Ce),Ce=Cu(Ce);return fe}o(B5,"_getBaseFuncs");function lL(I,x,w,N){var Y=null;if(I&&tt(w,Hf)){var fe=I[_h]||Df(null);if(Y=(fe[w[Hf]]||Df(null))[x],Y||Sp("Missing ["+x+"] "+k0),!Y[T5]&&fe[Sh]!==!1){for(var Ce=!tt(I,x),we=Cu(I),Le=[];Ce&&we&&!Tp(we)&&!w5(Le,we);){var Ze=we[x];if(Ze){Ce=Ze===N;break}Le.push(we),we=Cu(we)}try{Ce&&(I[x]=Y),Y[T5]=1}catch{fe[Sh]=!1}}}return Y}o(lL,"_getInstFunc");function uL(I,x,w){var N=x[I];return N===w&&(N=Cu(x)[I]),typeof N!==k0&&Sp("["+I+"] is not a "+k0),N}o(uL,"_getProtoFunc");function fL(I,x,w,N,Y){function fe(Le,Ze){var St=o(function(){var Ar=lL(this,Ze,Le,St)||uL(Ze,Le,St);return Ar.apply(this,arguments)},"dynProtoProxy");return St[gp]=1,St}if(o(fe,"_createDynamicPrototype"),!xp(I)){var Ce=w[_h]=w[_h]||Df(null);if(!xp(Ce)){var we=Ce[x]=Ce[x]||Df(null);Ce[Sh]!==!1&&(Ce[Sh]=!!Y),xp(we)||ul(w,function(Le){_p(w,Le,!1)&&w[Le]!==N[Le]&&(we[Le]=w[Le],delete w[Le],(!tt(I,Le)||I[Le]&&!I[Le][gp])&&(I[Le]=fe(I,Le)))})}}}o(fL,"_populatePrototype");function dL(I,x){if(wh){for(var w=[],N=Cu(x);N&&!Tp(N)&&!w5(w,N);){if(N===I)return!0;w.push(N),N=Cu(N)}return!1}return!0}o(dL,"_checkPrototype");function R5(I,x){return tt(I,R0)?I.name||x||_5:((I||{})[Th]||{}).name||x||_5}o(R5,"_getObjName");function Q1(I,x,w,N){tt(I,R0)||Sp("theClass is an invalid class definition.");var Y=I[R0];dL(Y,x)||Sp("["+R5(I)+"] not in hierarchy of ["+R5(x)+"]");var fe=null;tt(Y,Hf)?fe=Y[Hf]:(fe=yp+R5(I,"_")+"$"+lI.n,lI.n++,Y[Hf]=fe);var Ce=Q1[Cp],we=!!Ce[Ip];we&&N&&N[Ip]!==void 0&&(we=!!N[Ip]);var Le=uI(x),Ze=B5(Y,x,Le,we);w(x,Ze);var St=!!wh&&!!Ce[vp];St&&N&&(St=!!N[vp]),fL(Y,fe,x,Le,St!==!1)}o(Q1,"dynamicProto"),Q1[Cp]=lI.o;var ca=void 0,mo="",n8="Not dynamic - ",i8=/-([a-z])/g,P1=/([^\w\d_$])/g,k5=/^(\d+[\w\d_$])/;function D5(I){return!H(I)}o(D5,"isNotNullOrUndefined");function fI(I){var x=I;return x&&ee(x)&&(x=x[mp](i8,function(w,N){return N.toUpperCase()}),x=x[mp](P1,"_"),x=x[mp](k5,function(w,N){return"_"+N})),x}o(fI,"normalizeJsName");function o8(I,x){return I&&x?Wt(I,x)!==-1:!1}o(o8,"strContains");function Eu(I){return I&&I.toISOString()||""}o(Eu,"toISOString");function qf(I){return he(I)?I[k1]:mo}o(qf,"getExceptionName");function F1(I){return function(){function x(){var w=this;I&&qt(I,function(N,Y){w[N]=Y})}return o(x,"class_1"),x}()}o(F1,"createClassFromInterface");var s8="console",dI="JSON",hL="crypto",Gf="msCrypto",wp="msie",Lr="trident/",Bp=null,Bh=null,Iu=null;function hI(){return typeof console!==aL?console:L(s8)}o(hI,"getConsole");function Mn(){return!!(typeof JSON===r8&&JSON||L(dI)!==null)}o(Mn,"hasJSON");function Rp(){return Mn()?JSON||L(dI):null}o(Rp,"getJSON");function Go(){return L(hL)}o(Go,"getCrypto");function kp(){return L(Gf)}o(kp,"getMsCrypto");function L1(){var I=Dn();if(I&&(I[e8]!==Bh||Bp===null)){Bh=I[e8];var x=(Bh||mo)[B1]();Bp=o8(x,wp)||o8(x,Lr)}return Bp}o(L1,"isIE");function Vf(I){return(Iu===null||I===!1)&&(Iu=mi()&&!!Dn().sendBeacon),Iu}o(Vf,"isBeaconsSupported");function M1(I,x){if(I)for(var w=0;w<I[is];w++){var N=I[w];if(N[k1]&&N[k1]===x)return N}return{}}o(M1,"_getNamedValue");function AI(I){var x=Se();return x&&I?M1(x.querySelectorAll("meta"),I).content:null}o(AI,"findMetaTag");function fl(I){var x,w=S1();if(w){var N=w.getEntriesByType("navigation")||[];x=M1((N[is]>0?N[0]:{}).serverTiming,I).description}return x}o(fl,"findNamedServerTiming");var Dp=4294967296,Cc=4294967295,Np=123456789,Wf=987654321,Ls=!1,Qp=Np,dl=Wf;function a8(I){I<0&&(I>>>=0),Qp=Np+I&Cc,dl=Wf-I&Cc,Ls=!0}o(a8,"_mwcSeed");function Rh(){try{var I=Eh()&2147483647;a8((Math.random()*Dp^I)+I)}catch{}}o(Rh,"_autoSeedMwc");function pI(I){return I>0?Qf(Pp()/Cc*(I+1))>>>0:0}o(pI,"randomValue");function Pp(I){var x=0,w=Go()||kp();return w&&w.getRandomValues&&(x=w.getRandomValues(new Uint32Array(1))[0]&Cc),x===0&&L1()&&(Ls||Rh(),x=c8()&Cc),x===0&&(x=Qf(Dp*Math.random()|0)),I||(x>>>=0),x}o(Pp,"random32");function c8(I){dl=36969*(dl&65535)+(dl>>16)&Cc,Qp=18e3*(Qp&65535)+(Qp>>16)&Cc;var x=(dl<<16)+(Qp&65535)>>>0&Cc|0;return I||(x>>>=0),x}o(c8,"mwcRandom32");function kh(I){I===void 0&&(I=22);for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=Pp()>>>0,N=0,Y=mo;Y[is]<I;)N++,Y+=x.charAt(w&63),w>>>=6,N===5&&(w=(Pp()<<2&4294967295|w&3)>>>0,N=0);return Y}o(kh,"newId");var hl="3.3.6",mI="."+kh(6),Dh=0;function Al(I){return I.nodeType===1||I.nodeType===9||!+I.nodeType}o(Al,"_canAcceptData");function gI(I,x){var w=x[I.id];if(!w){w={};try{Al(x)&&oe(x,I.id,{e:!1,v:w})}catch{}}return w}o(gI,"_getCache");function vu(I,x){return x===void 0&&(x=!1),fI(I+Dh+++(x?"."+hl:mo)+mI)}o(vu,"createUniqueNamespace");function pl(I){var x={id:vu("_aiData-"+(I||mo)+"."+hl),accept:o(function(w){return Al(w)},"accept"),get:o(function(w,N,Y,fe){var Ce=w[x.id];return Ce?Ce[fI(N)]:(fe&&(Ce=gI(x,w),Ce[fI(N)]=Y),Y)},"get"),kill:o(function(w,N){if(w&&w[N])try{delete w[N]}catch{}},"kill")};return x}o(pl,"createElmNodeData");function Yf(I){return I&&ne(I)&&(I.isVal||I.fb||ct(I,"v")||ct(I,"mrg")||ct(I,"ref")||I.set)}o(Yf,"_isConfigDefaults");function yI(I,x,w){var N,Y=w.dfVal||Z;if(x&&w.fb){var fe=w.fb;le(fe)||(fe=[fe]);for(var Ce=0;Ce<fe[is];Ce++){var we=fe[Ce],Le=x[we];if(Y(Le)?N=Le:I&&(Le=I.cfg[we],Y(Le)&&(N=Le),I.set(I.cfg,ut(we),Le)),Y(N))break}}return!Y(N)&&Y(w.v)&&(N=w.v),N}o(yI,"_getDefault");function $f(I,x,w){var N=w;if(w&&Yf(w)&&(N=yI(I,x,w)),N){Yf(N)&&(N=$f(I,x,N));var Y;le(N)?(Y=[],Y[is]=N[is]):Pf(N)&&(Y={}),Y&&(qt(N,function(fe,Ce){Ce&&Yf(Ce)&&(Ce=$f(I,x,Ce)),Y[fe]=Ce}),N=Y)}return N}o($f,"_resolveDefaultValue");function zf(I,x,w,N){var Y,fe,Ce,we=N,Le,Ze,St,Ar;Yf(we)?(Y=we.isVal,fe=we.set,St=we.rdOnly,Ar=we.blkVal,Le=we.mrg,Ze=we.ref,!Ze&&ue(Ze)&&(Ze=!!Le),Ce=yI(I,x,we)):Ce=N,Ar&&I.blkVal(x,w);var wr,Bt=!0,Pt=x[w];(Pt||!H(Pt))&&(wr=Pt,Bt=!1,Y&&wr!==Ce&&!Y(wr)&&(wr=Ce,Bt=!0),fe&&(wr=fe(wr,Ce,x),Bt=wr===Ce)),Bt?Ce?wr=$f(I,x,Ce):wr=Ce:(Pf(wr)||le(Ce))&&Le&&Ce&&(Pf(Ce)||le(Ce))&&qt(Ce,function(Tr,pr){zf(I,wr,Tr,pr)}),I.set(x,w,wr),Ze&&I.ref(x,w),St&&I.rdOnly(x,w)}o(zf,"_applyDefaultValue");var la=ns("[[ai_dynCfg_1]]"),N5=ns("[[ai_blkDynCfg_1]]"),O1=ns("[[ai_frcDynCfg_1]]");function Q5(I){if(I){var x;if(le(I)?(x=[],x[is]=I[is]):Pf(I)&&(x={}),x)return qt(I,function(w,N){x[w]=Q5(N)}),x}return I}o(Q5,"_cfgDeepCopy");function P5(I){if(I){var x=I[la]||I;if(x.cfg&&(x.cfg===I||x.cfg[la]===x))return x}return null}o(P5,"getDynamicConfigHandler");function Fp(I){if(I&&(Pf(I)||le(I)))try{I[N5]=!0}catch{}return I}o(Fp,"blockDynamicConversion");function jf(I,x,w){var N=!1;return w&&!I[x.blkVal]&&(N=w[O1],!N&&!w[N5]&&(N=Pf(w)||le(w))),N}o(jf,"_canMakeDynamic");function Ec(I){En("InvalidAccess:"+I)}o(Ec,"throwInvalidAccess");var l8=["push","pop","shift","unshift","splice"],bu=o(function(I,x,w,N){I&&I[R1](3,108,"".concat(w," [").concat(x,"] failed - ")+We(N))},"_throwDynamicError");function F5(I,x,w){le(x)&&Fs(l8,function(N){var Y=x[N];x[N]=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];var we=Y[iL](this,fe);return Nh(I,x,w,"Patching"),we}})}o(F5,"_patchArray");function xu(I,x){var w=Ke(I,x);return w&&w.get}o(xu,"_getOwnPropGetter");function u8(I,x,w,N){var Y={n:w,h:[],trk:o(function(Ze){Ze&&Ze.fn&&(mu(Y.h,Ze)===-1&&Y.h[Ln](Ze),I.trk(Ze,Y))},"trk"),clr:o(function(Ze){var St=mu(Y.h,Ze);St!==-1&&Y.h[bh](St,1)},"clr")},fe=!0,Ce=!1;function we(){fe&&(Ce=Ce||jf(we,I,N),N&&!N[la]&&Ce&&(N=Nh(I,N,w,"Converting")),fe=!1);var Ze=I.act;return Ze&&Y.trk(Ze),N}o(we,"_getProperty"),we[I.prop]={chng:o(function(){I.add(Y)},"chng")};function Le(Ze){if(N!==Ze){we[I.ro]&&!I.upd&&Ec("["+w+"] is read-only:"+We(x)),fe&&(Ce=Ce||jf(we,I,N),fe=!1);var St=Ce&&we[I.rf];if(Ce)if(St){qt(N,function(wr){N[wr]=Ze?Ze[wr]:ca});try{qt(Ze,function(wr,Bt){Lp(I,N,wr,Bt)}),Ze=N}catch(wr){bu((I.hdlr||{})[Mf],w,"Assigning",wr),Ce=!1}}else N&&N[la]&&qt(N,function(wr){var Bt=xu(N,wr);if(Bt){var Pt=Bt[I.prop];Pt&&Pt.chng()}});if(Ze!==N){var Ar=Ze&&jf(we,I,Ze);!St&&Ar&&(Ze=Nh(I,Ze,w,"Converting")),N=Ze,Ce=Ar}I.add(Y)}}o(Le,"_setProperty"),oe(x,Y.n,{g:we,s:Le})}o(u8,"_createDynamicProperty");function Lp(I,x,w,N){if(x){var Y=xu(x,w),fe=Y&&!!Y[I.prop];fe?x[w]=N:u8(I,x,w,N)}return x}o(Lp,"_setDynamicProperty");function L5(I,x,w,N){if(x){var Y=xu(x,w),fe=Y&&!!Y[I.prop],Ce=N&&N[0],we=N&&N[1],Le=N&&N[2];if(!fe){if(Le)try{Fp(x)}catch(Ze){bu((I.hdlr||{})[Mf],w,"Blocking",Ze)}try{Lp(I,x,w,x[w]),Y=xu(x,w)}catch(Ze){bu((I.hdlr||{})[Mf],w,"State",Ze)}}Ce&&(Y[I.rf]=Ce),we&&(Y[I.ro]=we),Le&&(Y[I.blkVal]=!0)}return x}o(L5,"_setDynamicPropertyState");function Nh(I,x,w,N){try{qt(x,function(Y,fe){Lp(I,x,Y,fe)}),x[la]||(br(x,la,{get:o(function(){return I.hdlr},"get")}),F5(I,x,w))}catch(Y){bu((I.hdlr||{})[Mf],w,N,Y)}return x}o(Nh,"_makeDynamicObject");var Qh="[[ai_",D0="]]";function f8(I){var x=B0(Qh+"get"+I.uid+D0),w=B0(Qh+"ro"+I.uid+D0),N=B0(Qh+"rf"+I.uid+D0),Y=B0(Qh+"blkVal"+I.uid+D0),fe=B0(Qh+"dtl"+I.uid+D0),Ce=null,we=null,Le;function Ze(Bt,Pt){var Tr=Le.act;try{Le.act=Bt,Bt&&Bt[fe]&&(Fs(Bt[fe],function(cn){cn.clr(Bt)}),Bt[fe]=[]),Pt({cfg:I.cfg,set:I.set.bind(I),setDf:I.setDf.bind(I),ref:I.ref.bind(I),rdOnly:I.rdOnly.bind(I)})}catch(cn){var pr=I[Mf];throw pr&&pr[R1](1,107,We(cn)),cn}finally{Le.act=Tr||null}}o(Ze,"_useHandler");function St(){if(Ce){var Bt=Ce;Ce=null,we&&we[C5](),we=null;var Pt=[];if(Fs(Bt,function(Tr){if(Tr&&(Tr[fe]&&(Fs(Tr[fe],function(pr){pr.clr(Tr)}),Tr[fe]=null),Tr.fn))try{Ze(Tr,Tr.fn)}catch(pr){Pt[Ln](pr)}}),Ce)try{St()}catch(Tr){Pt[Ln](Tr)}Pt[is]>0&&oL("Watcher error(s): ",Pt)}}o(St,"_notifyWatchers");function Ar(Bt){if(Bt&&Bt.h[is]>0){Ce||(Ce=[]),we||(we=y5(function(){we=null,St()},0));for(var Pt=0;Pt<Bt.h[is];Pt++){var Tr=Bt.h[Pt];Tr&&mu(Ce,Tr)===-1&&Ce[Ln](Tr)}}}o(Ar,"_addWatcher");function wr(Bt,Pt){if(Bt){var Tr=Bt[fe]=Bt[fe]||[];mu(Tr,Pt)===-1&&Tr[Ln](Pt)}}return o(wr,"_trackHandler"),Le={prop:x,ro:w,rf:N,blkVal:Y,hdlr:I,add:Ar,notify:St,use:Ze,trk:wr},Le}o(f8,"_createState");function AL(I,x){var w={fn:x,rm:o(function(){w.fn=null,I=null,x=null},"rm")};return oe(w,"toJSON",{v:o(function(){return"WatcherHandler"+(w.fn?"":"[X]")},"v")}),I.use(w,x),w}o(AL,"_createAndUseHandler");function d8(I,x,w){var N=P5(x);if(N)return N;var Y=vu("dyncfg",!0),fe=x&&w!==!1?x:Q5(x),Ce;function we(){Ce.notify()}o(we,"_notifyWatchers");function Le(pr,cn,jn){try{pr=Lp(Ce,pr,cn,jn)}catch(In){bu(I,cn,"Setting value",In)}return pr[cn]}o(Le,"_setValue");function Ze(pr){return AL(Ce,pr)}o(Ze,"_watch");function St(pr,cn){Ce.use(null,function(jn){var In=Ce.upd;try{ue(cn)||(Ce.upd=cn),pr(jn)}finally{Ce.upd=In}})}o(St,"_block");function Ar(pr,cn){var jn;return L5(Ce,pr,cn,(jn={},jn[0]=!0,jn))[cn]}o(Ar,"_ref");function wr(pr,cn){var jn;return L5(Ce,pr,cn,(jn={},jn[1]=!0,jn))[cn]}o(wr,"_rdOnly");function Bt(pr,cn){var jn;return L5(Ce,pr,cn,(jn={},jn[2]=!0,jn))[cn]}o(Bt,"_blkPropValue");function Pt(pr,cn){return cn&&qt(cn,function(jn,In){zf(Tr,pr,jn,In)}),pr}o(Pt,"_applyDefaults");var Tr={uid:null,cfg:fe,logger:I,notify:we,set:Le,setDf:Pt,watch:Ze,ref:Ar,rdOnly:wr,blkVal:Bt,_block:St};return oe(Tr,"uid",{c:!1,e:!1,w:!1,v:Y}),Ce=f8(Tr),Nh(Ce,fe,"config","Creating"),Tr}o(d8,"_createDynamicHandler");function h8(I,x){I?(I[Lf](x),I[R1](2,108,x)):Ec(x)}o(h8,"_logInvalidAccess");function U1(I,x,w,N){var Y=d8(w,I||{},N);return x&&Y.setDf(Y.cfg,x),Y}o(U1,"createDynamicConfig");function A8(I,x,w){var N=I[la]||I;return N.cfg&&(N.cfg===I||N.cfg[la]===N)?N[Jw](x):(h8(w,n8+We(I)),U1(I,null,w)[Jw](x))}o(A8,"onConfigChange");var CI=null;function p8(){var I=L("Microsoft");return I&&(CI=I.ApplicationInsights),CI}o(p8,"_getExtensionNamespace");function pL(I){var x=CI;return!x&&I.disableDbgExt!==!0&&(x=CI||p8()),x?x.ChromeDbgExt:null}o(pL,"getDebugExt");var Mp,EI="warnToConsole",m8="AI (Internal): ",g8="AI: ",mL="AITR_",gL={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},y8=(Mp={},Mp[0]=null,Mp[1]="errorToConsole",Mp[2]=EI,Mp[3]="debugToConsole",Mp);function C8(I){return I?'"'+I[mp](/\"/g,mo)+'"':mo}o(C8,"_sanitizeDiagnosticText");function II(I,x){var w=hI();if(w){var N="log";w[I]&&(N=I),se(w[N])&&w[N](x)}}o(II,"_logToConsole");var vI=function(){function I(x,w,N,Y){N===void 0&&(N=!1);var fe=this;fe[E5]=x,fe[xh]=(N?g8:m8)+x;var Ce=mo;Mn()&&(Ce=Rp().stringify(Y));var we=(w?" message:"+C8(w):mo)+(Y?" props:"+C8(Ce):mo);fe[xh]+=we}return o(I,"_InternalLogMessage"),I.dataType="MessageData",I}();function yL(I,x){return(I||{})[Mf]||new bI(x)}o(yL,"safeGetLogger");var bI=function(){function I(x){this.identifier="DiagnosticLogger",this.queue=[];var w=0,N={},Y,fe,Ce,we,Le;Q1(I,this,function(Ze){Le=Ar(x||{}),Ze.consoleLoggingLevel=function(){return Y},Ze[R1]=function(Pt,Tr,pr,cn,jn){jn===void 0&&(jn=!1);var In=new vI(Tr,pr,jn,cn);if(we)throw We(In);var os=y8[Pt]||EI;if(ue(In[xh]))Bt("throw"+(Pt===1?"Critical":"Warning"),In);else{if(jn){var pm=+In[E5];!N[pm]&&Y>=Pt&&(Ze[os](In[xh]),N[pm]=!0)}else Y>=Pt&&Ze[os](In[xh]);St(Pt,In)}},Ze.debugToConsole=function(Pt){II("debug",Pt),Bt("warning",Pt)},Ze[Lf]=function(Pt){II("warn",Pt),Bt("warning",Pt)},Ze.errorToConsole=function(Pt){II("error",Pt),Bt("error",Pt)},Ze.resetInternalMessageCount=function(){w=0,N={}},Ze.logInternalMessage=St,Ze[i0]=function(Pt){Le&&Le.rm(),Le=null};function St(Pt,Tr){if(!wr()){var pr=!0,cn=mL+Tr[E5];if(N[cn]?pr=!1:N[cn]=!0,pr&&(Pt<=fe&&(Ze.queue[Ln](Tr),w++,Bt(Pt===1?"error":"warn",Tr)),w===Ce)){var jn="Internal events throttle limit per PageView reached for this app.",In=new vI(23,jn,!1);Ze.queue[Ln](In),Pt===1?Ze.errorToConsole(jn):Ze[Lf](jn)}}}o(St,"_logInternalMessage");function Ar(Pt){return A8(U1(Pt,gL,Ze).cfg,function(Tr){var pr=Tr.cfg;Y=pr[Zw],fe=pr.loggingLevelTelemetry,Ce=pr.maxMessageLimit,we=pr.enableDebug})}o(Ar,"_setDefaultsFromConfig");function wr(){return w>=Ce}o(wr,"_areInternalMessagesThrottled");function Bt(Pt,Tr){var pr=pL(x||{});pr&&pr[I5]&&pr[I5](Pt,Tr)}o(Bt,"_debugExtMsg")})}return o(I,"DiagnosticLogger"),I.__ieDyn=1,I}();function xI(I){return I||new bI}o(xI,"_getLogger");function o0(I,x,w,N,Y,fe){fe===void 0&&(fe=!1),xI(I)[R1](x,w,N,Y,fe)}o(o0,"_throwInternal");function TI(){for(var I=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],x=mo,w,N=0;N<4;N++)w=Pp(),x+=I[w&15]+I[w>>4&15]+I[w>>8&15]+I[w>>12&15]+I[w>>16&15]+I[w>>20&15]+I[w>>24&15]+I[w>>28&15];var Y=I[8+(Pp()&3)|0];return Hr(x,0,8)+Hr(x,9,4)+"4"+Hr(x,13,3)+Y+Hr(x,16,3)+Hr(x,19,12)}o(TI,"generateW3CId");var Op=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,M5="00",N0="ff",an="00000000000000000000000000000000",Tu="0000000000000000",Vo=1;function Ic(I,x,w){return I&&I[is]===x&&I!==w?!!I.match(/^[\da-f]*$/i):!1}o(Ic,"_isValid");function _I(I,x,w){return Ic(I,x)?I:w}o(_I,"_formatValue");function Ph(I){(isNaN(I)||I<0||I>255)&&(I=1);for(var x=I.toString(16);x[is]<2;)x="0"+x;return x}o(Ph,"_formatFlags");function Up(I,x,w,N){return{version:Ic(N,2,N0)?N:M5,traceId:Hp(I)?I:TI(),spanId:qp(x)?x:qi(TI(),16),traceFlags:w>=0&&w<=255?w:1}}o(Up,"createTraceParent");function Q0(I,x){if(!I||(le(I)&&(I=I[0]||""),!I||!ee(I)||I[is]>8192))return null;if(I.indexOf(",")!==-1){var w=I[v5](",");I=w[x>0&&w[is]>x?x:0]}var N=Op.exec(Pa(I));return!N||N[1]===N0||N[2]===an||N[3]===Tu?null:{version:(N[1]||mo)[B1](),traceId:(N[2]||mo)[B1](),spanId:(N[3]||mo)[B1](),traceFlags:parseInt(N[4],16)}}o(Q0,"parseTraceParent");function Hp(I){return Ic(I,32,an)}o(Hp,"isValidTraceId");function qp(I){return Ic(I,16,Tu)}o(qp,"isValidSpanId");function Gp(I){return!(!I||!Ic(I[Xw],2,N0)||!Ic(I.traceId,32,an)||!Ic(I.spanId,16,Tu)||!Ic(Ph(I[eI]),2))}o(Gp,"isValidTraceParent");function SI(I){return Gp(I)?(I[eI]&Vo)===Vo:!1}o(SI,"isSampledFlag");function Fh(I){if(I){var x=Ph(I[eI]);Ic(x,2)||(x="01");var w=I[Xw]||M5;return w!=="00"&&w!=="ff"&&(w=M5),"".concat(w.toLowerCase(),"-").concat(_I(I.traceId,32,an).toLowerCase(),"-").concat(_I(I.spanId,16,Tu).toLowerCase(),"-").concat(x.toLowerCase())}return""}o(Fh,"formatTraceParent");function O5(I){var x="traceparent",w=Q0(AI(x),I);return w||(w=Q0(fl(x),I)),w}o(O5,"findW3cTraceParent");function U5(I){var x=I.getElementsByTagName("script"),w=[];return Fs(x,function(N){var Y=N[b5]("src");if(Y){var fe=N[b5]("crossorigin"),Ce=N.hasAttribute("async")===!0,we=N.hasAttribute("defer")===!0,Le=N[b5]("referrerpolicy"),Ze={url:Y};fe&&(Ze.crossOrigin=fe),Ce&&(Ze.async=Ce),we&&(Ze.defer=we),Le&&(Ze.referrerPolicy=Le),w[Ln](Ze)}}),w}o(U5,"findAllScripts");var wI="on",H1="attachEvent",BI="addEventListener",RI="detachEvent",E8="removeEventListener",H5="events";vu("aiEvtPageHide"),vu("aiEvtPageShow");var CL=/\.[\.]+/g,EL=/[\.]+$/,kI=1,Vp=pl("events"),Ms=/^([^.]*)(?:\.(.+)|)/;function q1(I){return I&&I[mp]?I[mp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,mo):I}o(q1,"_normalizeNamespace");function bs(I,x){if(x){var w=mo;le(x)?(w=mo,Fs(x,function(Y){Y=q1(Y),Y&&(Y[0]!=="."&&(Y="."+Y),w+=Y)})):w=q1(x),w&&(w[0]!=="."&&(w="."+w),I=(I||mo)+w)}var N=Ms.exec(I||mo)||[];return{type:N[1],ns:(N[2]||mo).replace(CL,".").replace(EL,mo)[v5](".").sort().join(".")}}o(bs,"_getEvtNamespace");function Kf(I,x,w){w===void 0&&(w=!0);var N=Vp.get(I,H5,{},w),Y=N[x];return Y||(Y=N[x]=[]),Y}o(Kf,"_getRegisteredEvents");function I8(I,x,w,N){I&&x&&x[Of]&&(I[E8]?I[E8](x[Of],w,N):I[RI]&&I[RI](wI+x[Of],w))}o(I8,"_doDetach");function IL(I,x,w,N){var Y=!1;return I&&x&&x[Of]&&w&&(I[BI]?(I[BI](x[Of],w,N),Y=!0):I[H1]&&(I[H1](wI+x[Of],w),Y=!0)),Y}o(IL,"_doAttach");function G1(I,x,w,N){for(var Y=x[is];Y--;){var fe=x[Y];fe&&(!w.ns||w.ns===fe[t8].ns)&&(!N||N(fe))&&(I8(I,fe[t8],fe.handler,fe.capture),x[bh](Y,1))}}o(G1,"_doUnregister");function q5(I,x,w){if(x[Of])G1(I,Kf(I,x[Of]),x,w);else{var N=Vp.get(I,H5,{});qt(N,function(Y,fe){G1(I,fe,x,w)}),Fn(N)[is]===0&&Vp.kill(I,H5)}}o(q5,"_unregisterEvents");function vL(I,x){var w;return x?(le(x)?w=[I].concat(x):w=[I,x],w=bs("xx",w).ns[v5](".")):w=I,w}o(vL,"mergeEvtNamespace");function G5(I,x,w,N,Y){Y===void 0&&(Y=!1);var fe=!1;if(I)try{var Ce=bs(x,N);if(fe=IL(I,Ce,w,Y),fe&&Vp.accept(I)){var we={guid:kI++,evtName:Ce,handler:w,capture:Y};Kf(I,Ce.type)[Ln](we)}}catch{}return fe}o(G5,"eventOn");function v8(I,x,w,N,Y){if(Y===void 0&&(Y=!1),I)try{var fe=bs(x,N),Ce=!1;q5(I,fe,function(we){return fe.ns&&!w||we.handler===w?(Ce=!0,!0):!1}),Ce||I8(I,fe,w,Y)}catch{}}o(v8,"eventOff");var DI="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",b8="sampleRate",NI="ProcessLegacy",x8="http.method",V5="https://dc.services.visualstudio.com",V1="/v2/track",ml="not_specified",W5="iKey",T8=nL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Jf="split",hr="length",Wp="toLowerCase",Lh="ingestionendpoint",Mh="toString",Y5="removeItem",W1="message",Yp="count",QI="preTriggerDate",$5="getUTCDate",PI="stringify",$p="pathname",Oh="match",z5="correlationHeaderExcludePatterns",P0="name",zp="extensionConfig",gl="properties",Fa="measurements",jp="sizeInBytes",Y1="typeName",Kp="exceptions",$1="severityLevel",Jp="problemGroup",s0="parsedStack",FI="hasFullStack",LI="assembly",vc="fileName",Xp="line",Xf="aiDataContract",z1="duration";function j5(I,x,w){var N=x[hr],Y=K5(I,x);if(Y[hr]!==N){for(var fe=0,Ce=Y;w[Ce]!==void 0;)fe++,Ce=Yr(Y,0,147)+_8(fe);Y=Ce}return Y}o(j5,"dataSanitizeKeyAndAddUniqueness");function K5(I,x){var w;return x&&(x=Pa(ut(x)),x[hr]>150&&(w=Yr(x,0,150),o0(I,2,57,"name is too long.  It has been truncated to 150 characters.",{name:x},!0))),w||x}o(K5,"dataSanitizeKey");function xs(I,x,w){w===void 0&&(w=1024);var N;return x&&(w=w||1024,x=Pa(ut(x)),x[hr]>w&&(N=Yr(x,0,w),o0(I,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:x},!0))),N||x}o(xs,"dataSanitizeString");function yl(I,x){return X5(I,x,2048,66)}o(yl,"dataSanitizeUrl");function MI(I,x){var w;return x&&x[hr]>32768&&(w=Yr(x,0,32768),o0(I,2,56,"message is too long, it has been truncated to 32768 characters.",{message:x},!0)),w||x}o(MI,"dataSanitizeMessage");function J5(I,x){var w;if(x){var N=""+x;N[hr]>32768&&(w=Yr(N,0,32768),o0(I,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:x},!0))}return w||x}o(J5,"dataSanitizeException");function _u(I,x){if(x){var w={};qt(x,function(N,Y){if(ne(Y)&&Mn())try{Y=Rp()[PI](Y)}catch(fe){o0(I,2,49,"custom property is not valid",{exception:fe},!0)}Y=xs(I,Y,8192),N=j5(I,N,w),w[N]=Y}),x=w}return x}o(_u,"dataSanitizeProperties");function F0(I,x){if(x){var w={};qt(x,function(N,Y){N=j5(I,N,w),w[N]=Y}),x=w}return x}o(F0,"dataSanitizeMeasurements");function Zp(I,x){return x&&X5(I,x,128,69)[Mh]()}o(Zp,"dataSanitizeId");function X5(I,x,w,N){var Y;return x&&(x=Pa(ut(x)),x[hr]>w&&(Y=Yr(x,0,w),o0(I,2,N,"input is too long, it has been truncated to "+w+" characters.",{data:x},!0))),Y||x}o(X5,"dataSanitizeInput");function _8(I){var x="00"+I;return Hr(x,x[hr]-3)}o(_8,"dsPadNumber");var Z5=Se()||{},S8=0,bL=[null,null,null,null,null];function em(I){var x=S8,w=bL,N=w[x];return Z5.createElement?w[x]||(N=w[x]=Z5.createElement("a")):N={host:B8(I,!0)},N.href=I,x++,x>=w[hr]&&(x=0),S8=x,N}o(em,"urlParseUrl");function xL(I){var x,w=em(I);return w&&(x=w.href),x}o(xL,"urlGetAbsoluteUrl");function TL(I){var x,w=em(I);return w&&(x=w[$p]),x}o(TL,"urlGetPathName");function w8(I,x){return I?I.toUpperCase()+" "+x:x}o(w8,"urlGetCompleteUrl");function B8(I,x){var w=Su(I,x)||"";if(w){var N=w[Oh](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(N!=null&&N[hr]>3&&ee(N[2])&&N[2][hr]>0)return N[2]+(N[3]||"")}return w}o(B8,"urlParseHost");function Su(I,x){var w=null;if(I){var N=I[Oh](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(N!=null&&N[hr]>2&&ee(N[2])&&N[2][hr]>0&&(w=N[2]||"",x&&N[hr]>2)){var Y=(N[1]||"")[Wp](),fe=N[3]||"";(Y==="http"&&fe===":80"||Y==="https"&&fe===":443")&&(fe=""),w+=fe}}return w}o(Su,"urlParseFullHost");var R8=[V5+V1,"https://breeze.aimon.applicationinsights.io"+V1,"https://dc-int.services.visualstudio.com"+V1],tm="cid-v1:";function k8(I){return mu(R8,I[Wp]())!==-1}o(k8,"isInternalApplicationInsightsEndpoint");function eT(I){tm=I}o(eT,"correlationIdSetPrefix");function tT(){return tm}o(tT,"correlationIdGetPrefix");function Zf(I,x,w){if(!x||I&&I.disableCorrelationHeaders)return!1;if(I&&I[z5]){for(var N=0;N<I.correlationHeaderExcludePatterns[hr];N++)if(I[z5][N].test(x))return!1}var Y=em(x).host[Wp]();if(Y&&(Wt(Y,":443")!==-1||Wt(Y,":80")!==-1)&&(Y=(Su(x,!0)||"")[Wp]()),(!I||!I.enableCorsCorrelation)&&Y&&Y!==w)return!1;var fe=I&&I.correlationHeaderDomains;if(fe){var Ce;if(Fs(fe,function(Ze){var St=new RegExp(Ze.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ce=Ce||St.test(Y)}),!Ce)return!1}var we=I&&I.correlationHeaderExcludedDomains;if(!we||we[hr]===0)return!0;for(var N=0;N<we[hr];N++){var Le=new RegExp(we[N].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Le.test(Y))return!1}return Y&&Y[hr]>0}o(Zf,"correlationIdCanIncludeCorrelationHeader");function D8(I){if(I){var x=N8(I,T8[1]);if(x&&x!==tm)return x}}o(D8,"correlationIdGetCorrelationContext");function N8(I,x){if(I)for(var w=I[Jf](","),N=0;N<w[hr];++N){var Y=w[N][Jf]("=");if(Y[hr]===2&&Y[0]===x)return Y[1]}}o(N8,"correlationIdGetCorrelationContextValue");function Q8(I,x,w,N){var Y,fe=N,Ce=N;if(x&&x[hr]>0){var we=em(x);if(Y=we.host,!fe)if(we[$p]!=null){var Le=we.pathname[hr]===0?"/":we[$p];Le.charAt(0)!=="/"&&(Le="/"+Le),Ce=we[$p],fe=xs(I,w?w+" "+Le:Le)}else fe=xs(I,x)}else Y=N,fe=N;return{target:Y,name:fe,data:Ce}}o(Q8,"AjaxHelperParseDependencyPath");function _L(){var I=S1();if(I&&I.now&&I.timing){var x=I.now()+I.timing.navigationStart;if(x>0)return x}return Eh()}o(_L,"dateTimeUtilsNow");function SL(I,x){var w=null;return I!==0&&x!==0&&!H(I)&&!H(x)&&(w=x-I),w}o(SL,"dateTimeUtilsDuration");function rT(I,x){var w=I||{};return{getName:o(function(){return w[P0]},"getName"),setName:o(function(N){x&&x.setName(N),w[P0]=N},"setName"),getTraceId:o(function(){return w.traceID},"getTraceId"),setTraceId:o(function(N){x&&x.setTraceId(N),Hp(N)&&(w.traceID=N)},"setTraceId"),getSpanId:o(function(){return w.parentID},"getSpanId"),setSpanId:o(function(N){x&&x.setSpanId(N),qp(N)&&(w.parentID=N)},"setSpanId"),getTraceFlags:o(function(){return w.traceFlags},"getTraceFlags"),setTraceFlags:o(function(N){x&&x.setTraceFlags(N),w.traceFlags=N},"setTraceFlags")}}o(rT,"createDistributedTraceContextFromTrace");var rm=w1({LocalStorage:0,SessionStorage:1}),wL=w1({AI:0,AI_AND_W3C:1,W3C:2}),j1=w1({Normal:1,Critical:2}),ed=void 0,bc=void 0,P8="";function nm(){return OI()?im(rm.LocalStorage):null}o(nm,"_getLocalStorageObject");function im(I){try{if(H(K()))return null;var x=new Date()[Mh](),w=L(I===rm.LocalStorage?"localStorage":"sessionStorage"),N=P8+x;w.setItem(N,x);var Y=w.getItem(N)!==x;if(w[Y5](N),!Y)return w}catch{}return null}o(im,"_getVerifiedStorageObject");function om(){return wu()?im(rm.SessionStorage):null}o(om,"_getSessionStorageObject");function K1(){ed=!1,bc=!1}o(K1,"utlDisableStorage");function J1(I){P8=I||""}o(J1,"utlSetStoragePrefix");function BL(){ed=OI(!0),bc=wu(!0)}o(BL,"utlEnableStorage");function OI(I){return(I||ed===void 0)&&(ed=!!im(rm.LocalStorage)),ed}o(OI,"utlCanUseLocalStorage");function F8(I,x){var w=nm();if(w!==null)try{return w.getItem(x)}catch(N){ed=!1,o0(I,2,1,"Browser failed read of local storage. "+qf(N),{exception:We(N)})}return null}o(F8,"utlGetLocalStorage");function L8(I,x,w){var N=nm();if(N!==null)try{return N.setItem(x,w),!0}catch(Y){ed=!1,o0(I,2,3,"Browser failed write to local storage. "+qf(Y),{exception:We(Y)})}return!1}o(L8,"utlSetLocalStorage");function L0(I,x){var w=nm();if(w!==null)try{return w[Y5](x),!0}catch(N){ed=!1,o0(I,2,5,"Browser failed removal of local storage item. "+qf(N),{exception:We(N)})}return!1}o(L0,"utlRemoveStorage");function wu(I){return(I||bc===void 0)&&(bc=!!im(rm.SessionStorage)),bc}o(wu,"utlCanUseSessionStorage");function sm(){var I=[];return wu()&&qt(L("sessionStorage"),function(x){I.push(x)}),I}o(sm,"utlGetSessionStorageKeys");function M8(I,x){var w=om();if(w!==null)try{return w.getItem(x)}catch(N){bc=!1,o0(I,2,2,"Browser failed read of session storage. "+qf(N),{exception:We(N)})}return null}o(M8,"utlGetSessionStorage");function RL(I,x,w){var N=om();if(N!==null)try{return N.setItem(x,w),!0}catch(Y){bc=!1,o0(I,2,4,"Browser failed write to session storage. "+qf(Y),{exception:We(Y)})}return!1}o(RL,"utlSetSessionStorage");function O8(I,x){var w=om();if(w!==null)try{return w[Y5](x),!0}catch(N){bc=!1,o0(I,2,6,"Browser failed removal of session storage item. "+qf(N),{exception:We(N)})}return!1}o(O8,"utlRemoveSessionStorage");var kL="appInsightsThrottle",DL=function(){function I(x,w){var N=this,Y,fe,Ce,we,Le,Ze,St,Ar=!1,wr=!1;Pt(),N._getDbgPlgTargets=function(){return[St]},N.getConfig=function(){return Ce},N.canThrottle=function(at){var Ot=mT(at),tr=Tr(at);return jn(tr,Y,Ot)},N.isTriggered=function(at){return rB(at)},N.isReady=function(){return Ar},N.flush=function(at){try{var Ot=nB(at);if(Ot&&Ot[hr]>0){var tr=Ot.slice(0);return St[at]=[],Fs(tr,function(bi){Bt(bi.msgID,bi[W1],bi.severity,!1)}),!0}}catch{}return!1},N.flushAll=function(){try{if(St){var at=!0;return qt(St,function(Ot){var tr=N.flush(parseInt(Ot));at=at&&tr}),at}}catch{}return!1},N.onReadyState=function(at,Ot){return Ot===void 0&&(Ot=!0),Ar=H(at)?!0:at,Ar&&Ot?N.flushAll():null},N.sendMessage=function(at,Ot,tr){return Bt(at,Ot,tr,!0)};function Bt(at,Ot,tr,bi){if(Ar){var ss=KL(at);if(!ss)return;var go=Tr(at),as=mT(at),Hh=jn(go,Y,as),od=!1,mm=0,iB=rB(at);try{Hh&&!iB?(mm=zn(go.limit.maxSendNumber,as[Yp]+1),as[Yp]=0,od=!0,Le[at]=!0,as[QI]=new Date):(Le[at]=Hh,as[Yp]+=1);var oB=In(at);pT(fe,oB,as);for(var ZI=0;ZI<mm;ZI++)tB(at,fe,Ot,tr)}catch{}return{isThrottled:od,throttleNum:mm}}else if(bi){var JL=nB(at);JL.push({msgID:at,message:Ot,severity:tr})}return null}o(Bt,"_flushMessage");function Pt(){fe=yL(x),Le={},we={},St={},Ce={},pr(109),Ze=D5(w)?w:"",x.addUnloadHook(A8(x.config,function(at){var Ot=at.cfg;Y=OI();var tr=Ot.throttleMgrCfg||{};qt(tr,function(bi,ss){pr(parseInt(bi),ss)})}))}o(Pt,"_initConfig");function Tr(at){return Ce[at]||Ce[109]}o(Tr,"_getCfgByKey");function pr(at,Ot){var tr,bi;try{var ss=Ot||{},go={};go.disabled=!!ss.disabled;var as=ss.interval||{};wr=as?.daysOfMonth&&as?.daysOfMonth[hr]>0,go.interval=cn(as);var Hh={samplingRate:((tr=ss.limit)===null||tr===void 0?void 0:tr.samplingRate)||100,maxSendNumber:((bi=ss.limit)===null||bi===void 0?void 0:bi.maxSendNumber)||1};go.limit=Hh,Ce[at]=go}catch{}}o(pr,"_setCfgByKey");function cn(at){at=at||{};var Ot=at?.monthInterval,tr=at?.dayInterval;return H(Ot)&&H(tr)&&(at.monthInterval=3,wr||(at.daysOfMonth=[28],wr=!0)),at={monthInterval:at?.monthInterval,dayInterval:at?.dayInterval,daysOfMonth:at?.daysOfMonth},at}o(cn,"_getIntervalConfig");function jn(at,Ot,tr){if(at&&!at.disabled&&Ot&&D5(tr)){var bi=oy(),ss=tr.date,go=at.interval,as=1;if(go?.monthInterval){var Hh=(bi.getUTCFullYear()-ss.getUTCFullYear())*12+bi.getUTCMonth()-ss.getUTCMonth();as=XI(go.monthInterval,0,Hh)}var od=1;if(wr)od=mu(go.daysOfMonth,bi[$5]());else if(go?.dayInterval){var mm=Qf((bi.getTime()-ss.getTime())/864e5);od=XI(go.dayInterval,0,mm)}return as>=0&&od>=0}return!1}o(jn,"_canThrottle");function In(at,Ot){var tr=D5(Ot)?Ot:"";return at?kL+tr+"-"+at:null}o(In,"_getLocalStorageName");function os(at){try{if(at){var Ot=new Date;return at.getUTCFullYear()===Ot.getUTCFullYear()&&at.getUTCMonth()===Ot.getUTCMonth()&&at[$5]()===Ot[$5]()}}catch{}return!1}o(os,"_isTriggeredOnCurDate");function pm(at,Ot,tr){try{var bi={date:oy(),count:0};if(at){var ss=JSON.parse(at),go={date:oy(ss.date)||bi.date,count:ss[Yp]||bi[Yp],preTriggerDate:ss.preTriggerDate?oy(ss[QI]):void 0};return go}else return pT(Ot,tr,bi),bi}catch{}return null}o(pm,"_getLocalStorageObj");function oy(at){try{if(at){var Ot=new Date(at);if(!isNaN(Ot.getDate()))return Ot}else return new Date}catch{}return null}o(oy,"_getThrottleDate");function pT(at,Ot,tr){try{return L8(at,Ot,Pa(JSON[PI](tr)))}catch{}return!1}o(pT,"_resetLocalStorage");function XI(at,Ot,tr){return at<=0?1:tr>=Ot&&(tr-Ot)%at==0?Qf((tr-Ot)/at)+1:-1}o(XI,"_checkInterval");function tB(at,Ot,tr,bi){o0(Ot,bi||1,at,tr)}o(tB,"_sendMessage");function KL(at){try{var Ot=Tr(at);return pI(1e6)<=Ot.limit.samplingRate}catch{}return!1}o(KL,"_canSampledIn");function mT(at){try{var Ot=we[at];if(!Ot){var tr=In(at,Ze);Ot=pm(F8(fe,tr),fe,tr),we[at]=Ot}return we[at]}catch{}return null}o(mT,"_getLocalStorageObjByKey");function rB(at){var Ot=Le[at];if(H(Ot)){Ot=!1;var tr=mT(at);tr&&(Ot=os(tr[QI])),Le[at]=Ot}return Le[at]}o(rB,"_isTrigger");function nB(at){return St=St||{},H(St[at])&&(St[at]=[]),St[at]}o(nB,"_getQueueByKey")}return o(I,"ThrottleMgr"),I}(),nT=";",Cl="=";function UI(I){if(!I)return{};var x=I[Jf](nT),w=ko(x,function(Y,fe){var Ce=fe[Jf](Cl);if(Ce[hr]===2){var we=Ce[0][Wp](),Le=Ce[1];Y[we]=Le}return Y},{});if(Fn(w)[hr]>0){if(w.endpointsuffix){var N=w.location?w.location+".":"";w[Lh]=w[Lh]||"https://"+N+"dc."+w.endpointsuffix}w[Lh]=w[Lh]||V5,hp(w[Lh],"/")&&(w[Lh]=w[Lh].slice(0,-1))}return w}o(UI,"parseConnectionString");var HI={parse:UI},qI=function(){function I(x,w,N){var Y=this,fe=this;fe.ver=1,fe.sampleRate=100,fe.tags={},fe[P0]=xs(x,N)||ml,fe.data=w,fe.time=Eu(new Date),fe[Xf]={time:1,iKey:1,name:1,sampleRate:o(function(){return Y.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(I,"Envelope"),I}(),NL=function(){function I(x,w,N,Y){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var fe=this;fe.ver=2,fe[P0]=xs(x,w)||ml,fe[gl]=_u(x,N),fe[Fa]=F0(x,Y)}return o(I,"Event"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Event",I.dataType="EventData",I}(),QL=58,U8=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,PL=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,am=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,H8=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,FL=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,LL=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,ML=/([^\(\s\n]+):([0-9]+)$/,q8="<no_method>",cm="error",a0="stack",X1="stackDetails",GI="errorSrc",Z1="message",ey="description",iT=[{re:PL,len:5,m:1,fn:2,ln:3,col:4},{chk:VI,pre:Lt,re:am,len:4,m:1,fn:2,ln:3},{re:H8,len:3,m:1,fn:2,hdl:sT},{re:FL,len:2,fn:1,hdl:sT}];function Lt(I){return I.replace(/(\(anonymous\))/,"<anonymous>")}o(Lt,"_scrubAnonymous");function VI(I){return Wt(I,"[native")<0}o(VI,"_ignoreNative");function ty(I,x){var w=I;return w&&!ee(w)&&(JSON&&JSON[PI]?(w=JSON[PI](I),x&&(!w||w==="{}")&&(se(I[Mh])?w=I[Mh]():w=""+I)):w=""+I+" - (Missing JSON.stringify)"),w||""}o(ty,"_stringify");function td(I,x){var w=I;return I&&(w&&!ee(w)&&(w=I[Z1]||I[ey]||w),w&&!ee(w)&&(w=ty(w,!0)),I.filename&&(w=w+" @"+(I.filename||"")+":"+(I.lineno||"?")+":"+(I.colno||"?"))),x&&x!=="String"&&x!=="Object"&&x!=="Error"&&Wt(w||"",x)===-1&&(w=x+": "+w),w||""}o(td,"_formatMessage");function G8(I){try{if(ne(I))return"hasFullStack"in I&&"typeName"in I}catch{}return!1}o(G8,"_isExceptionDetailsInternal");function V8(I){try{if(ne(I))return"ver"in I&&"exceptions"in I&&"properties"in I}catch{}return!1}o(V8,"_isExceptionInternal");function WI(I){return I&&I.src&&ee(I.src)&&I.obj&&le(I.obj)}o(WI,"_isStackDetails");function Bu(I){var x=I||"";ee(x)||(ee(x[a0])?x=x[a0]:x=""+x);var w=x[Jf](`
`);return{src:x,obj:w}}o(Bu,"_convertStackObj");function W8(I){for(var x=[],w=I[Jf](`
`),N=0;N<w[hr];N++){var Y=w[N];w[N+1]&&(Y+="@"+w[N+1],N++),x.push(Y)}return{src:I,obj:x}}o(W8,"_getOperaStack");function YI(I){var x=null;if(I)try{if(I[a0])x=Bu(I[a0]);else if(I[cm]&&I[cm][a0])x=Bu(I[cm][a0]);else if(I.exception&&I.exception[a0])x=Bu(I.exception[a0]);else if(WI(I))x=I;else if(WI(I[X1]))x=I[X1];else if(rr()&&rr().opera&&I[Z1])x=W8(I[W1]);else if(I.reason&&I.reason[a0])x=Bu(I.reason[a0]);else if(ee(I))x=Bu(I);else{var w=I[Z1]||I[ey]||"";ee(I[GI])&&(w&&(w+=`
`),w+=" from "+I[GI]),w&&(x=Bu(w))}}catch(N){x=Bu(N)}return x||{src:"",obj:null}}o(YI,"_getStackFromErrorObj");function Y8(I){var x="";return I&&(I.obj?x=I.obj.join(`
`):x=I.src||""),x}o(Y8,"_formatStackTrace");function $I(I){var x,w=I.obj;if(w&&w[hr]>0){x=[];var N=0,Y=!1,fe=0;Fs(w,function(Tr){if(Y||OL(Tr)){var pr=ut(Tr);Y=!0;var cn=UL(pr,N);cn&&(fe+=cn[jp],x.push(cn),N++)}});var Ce=32*1024;if(fe>Ce)for(var we=0,Le=x[hr]-1,Ze=0,St=we,Ar=Le;we<Le;){var wr=x[we][jp],Bt=x[Le][jp];if(Ze+=wr+Bt,Ze>Ce){var Pt=Ar-St+1;x.splice(St,Pt);break}St=we,Ar=Le,we++,Le--}}return x}o($I,"_parseStack");function lm(I){var x="";if(I&&(x=I.typeName||I[P0]||"",!x))try{var w=/function (.{1,200})\(/,N=w.exec(I.constructor[Mh]());x=N&&N[hr]>1?N[1]:""}catch{}return x}o(lm,"_getErrorType");function zI(I){if(I)try{if(!ee(I)){var x=lm(I),w=ty(I,!1);return(!w||w==="{}")&&(I[cm]&&(I=I[cm],x=lm(I)),w=ty(I,!0)),Wt(w,x)!==0&&x!=="String"?x+":"+w:w}}catch{}return""+(I||"")}o(zI,"_formatErrorCode");var El=function(){function I(x,w,N,Y,fe,Ce){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var we=this;we.ver=2,V8(w)?(we[Kp]=w[Kp]||[],we[gl]=w[gl],we[Fa]=w[Fa],w[$1]&&(we[$1]=w[$1]),w.id&&(we.id=w.id,w[gl].id=w.id),w[Jp]&&(we[Jp]=w[Jp]),H(w.isManual)||(we.isManual=w.isManual)):(N||(N={}),Ce&&(N.id=Ce),we[Kp]=[j8(x,w,N)],we[gl]=_u(x,N),we[Fa]=F0(x,Y),fe&&(we[$1]=fe),Ce&&(we.id=Ce))}return o(I,"Exception"),I.CreateAutoException=function(x,w,N,Y,fe,Ce,we,Le){var Ze=lm(fe||Ce||x);return{message:td(x,Ze),url:w,lineNumber:N,columnNumber:Y,error:zI(fe||Ce||x),evt:zI(Ce||x),typeName:Ze,stackDetails:YI(we||fe||Ce),errorSrc:Le}},I.CreateFromInterface=function(x,w,N,Y){var fe=w[Kp]&&ll(w[Kp],function(we){return oT(x,we)}),Ce=new I(x,iI(iI({},w),{exceptions:fe}),N,Y);return Ce},I.prototype.toInterface=function(){var x=this,w=x.exceptions,N=x.properties,Y=x.measurements,fe=x.severityLevel,Ce=x.problemGroup,we=x.id,Le=x.isManual,Ze=w instanceof Array&&ll(w,function(St){return St.toInterface()})||void 0;return{ver:"4.0",exceptions:Ze,severityLevel:fe,properties:N,measurements:Y,problemGroup:Ce,id:we,isManual:Le}},I.CreateSimpleException=function(x,w,N,Y,fe,Ce){var we;return{exceptions:[(we={},we[FI]=!0,we.message=x,we.stack=fe,we.typeName=w,we)]}},I.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",I.dataType="ExceptionData",I.formatError=zI,I}(),$8=qo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function z8(){var I=this,x=le(I[s0])&&ll(I[s0],function(N){return J8(N)}),w={id:I.id,outerId:I.outerId,typeName:I[Y1],message:I[W1],hasFullStack:I[FI],stack:I[a0],parsedStack:x||void 0};return w}o(z8,"_toInterface");function j8(I,x,w){var N,Y,fe,Ce,we,Le,Ze,St;if(G8(x))Ce=x[Y1],we=x[W1],Ze=x[a0],St=x[s0]||[],Le=x[FI];else{var Ar=x,wr=Ar&&Ar.evt;he(Ar)||(Ar=Ar[cm]||wr||Ar),Ce=xs(I,lm(Ar))||ml,we=MI(I,td(x||Ar,Ce))||ml;var Bt=x[X1]||YI(x);St=$I(Bt),le(St)&&ll(St,function(Pt){Pt[LI]=xs(I,Pt[LI]),Pt[vc]=xs(I,Pt[vc])}),Ze=J5(I,Y8(Bt)),Le=le(St)&&St[hr]>0,w&&(w[Y1]=w[Y1]||Ce)}return N={},N[Xf]=$8,N.id=Y,N.outerId=fe,N.typeName=Ce,N.message=we,N[FI]=Le,N.stack=Ze,N.parsedStack=St,N.toInterface=z8,N}o(j8,"_createExceptionDetails");function oT(I,x){var w=le(x[s0])&&ll(x[s0],function(Y){return K8(Y)})||x[s0],N=j8(I,iI(iI({},x),{parsedStack:w}));return N}o(oT,"_createExDetailsFromInterface");function ry(I,x){var w=x[Oh](LL);if(w&&w[hr]>=4)I[vc]=w[1],I[Xp]=parseInt(w[2]);else{var N=x[Oh](ML);N&&N[hr]>=3?(I[vc]=N[1],I[Xp]=parseInt(N[2])):I[vc]=x}}o(ry,"_parseFilename");function sT(I,x,w){var N=I[vc];x.fn&&w&&w[hr]>x.fn&&(x.ln&&w[hr]>x.ln?(N=Pa(w[x.fn]||""),I[Xp]=parseInt(Pa(w[x.ln]||""))||0):N=Pa(w[x.fn]||"")),N&&ry(I,N)}o(sT,"_handleFilename");function OL(I){var x=!1;if(I&&ee(I)){var w=Pa(I);w&&(x=U8.test(w))}return x}o(OL,"_isStackFrame");var aT=qo({level:1,method:1,assembly:0,fileName:0,line:0});function UL(I,x){var w,N;if(I&&ee(I)&&Pa(I)){N=(w={},w[Xf]=aT,w.level=x,w.assembly=Pa(I),w.method=q8,w.fileName="",w.line=0,w.sizeInBytes=0,w);for(var Y=0;Y<iT[hr];){var fe=iT[Y];if(fe.chk&&!fe.chk(I))break;fe.pre&&(I=fe.pre(I));var Ce=I[Oh](fe.re);if(Ce&&Ce[hr]>=fe.len){fe.m&&(N.method=Pa(Ce[fe.m]||q8)),fe.hdl?fe.hdl(N,fe,Ce):fe.fn&&(fe.ln?(N[vc]=Pa(Ce[fe.fn]||""),N[Xp]=parseInt(Pa(Ce[fe.ln]||""))||0):ry(N,Ce[fe.fn]||""));break}Y++}}return cT(N)}o(UL,"_extractStackFrame");function K8(I){var x,w=(x={},x[Xf]=aT,x.level=I.level,x.method=I.method,x.assembly=I[LI],x.fileName=I[vc],x.line=I[Xp],x.sizeInBytes=0,x);return cT(w)}o(K8,"_stackFrameFromInterface");function cT(I){var x=QL;return I&&(x+=I.method[hr],x+=I.assembly[hr],x+=I.fileName[hr],x+=I.level.toString()[hr],x+=I.line.toString()[hr],I[jp]=x),I}o(cT,"_populateFrameSizeInBytes");function J8(I){return{level:I.level,method:I.method,assembly:I[LI],fileName:I[vc],line:I[Xp]}}o(J8,"_parsedFrameToInterface");var X8=function(){function I(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(I,"DataPoint"),I}(),HL=function(){function I(x,w,N,Y,fe,Ce,we,Le,Ze){this.aiDataContract={ver:1,metrics:1,properties:0};var St=this;St.ver=2;var Ar=new X8;Ar[Yp]=Y>0?Y:void 0,Ar.max=isNaN(Ce)||Ce===null?void 0:Ce,Ar.min=isNaN(fe)||fe===null?void 0:fe,Ar[P0]=xs(x,w)||ml,Ar.value=N,Ar.stdDev=isNaN(we)||we===null?void 0:we,St.metrics=[Ar],St[gl]=_u(x,Le),St[Fa]=F0(x,Ze)}return o(I,"Metric"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",I.dataType="MetricData",I}(),um="";function qL(I,x){return x===void 0&&(x=!1),I==null?x:I.toString()[Wp]()==="true"}o(qL,"stringToBoolOrDefault");function lT(I){(isNaN(I)||I<0)&&(I=0),I=g5(I);var x=um+I%1e3,w=um+Qf(I/1e3)%60,N=um+Qf(I/(1e3*60))%60,Y=um+Qf(I/(1e3*60*60))%24,fe=Qf(I/(1e3*60*60*24));return x=x[hr]===1?"00"+x:x[hr]===2?"0"+x:x,w=w[hr]<2?"0"+w:w,N=N[hr]<2?"0"+N:N,Y=Y[hr]<2?"0"+Y:Y,(fe>0?fe+".":um)+Y+":"+N+":"+w+"."+x}o(lT,"msToTimeSpan");function GL(I,x){var w=null;return Fs(I,function(N){if(N.identifier===x)return w=N,-1}),w}o(GL,"getExtensionByName");function rd(I,x,w,N,Y){return!Y&&ee(I)&&(I==="Script error."||I==="Script error")}o(rd,"isCrossOriginError");var VL=function(){function I(x,w,N,Y,fe,Ce,we){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Le=this;Le.ver=2,Le.id=Zp(x,we),Le.url=yl(x,N),Le[P0]=xs(x,w)||ml,isNaN(Y)||(Le[z1]=lT(Y)),Le[gl]=_u(x,fe),Le[Fa]=F0(x,Ce)}return o(I,"PageView"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",I.dataType="PageviewData",I}(),fm=function(){function I(x,w,N,Y,fe,Ce,we,Le,Ze,St,Ar,wr){Ze===void 0&&(Ze="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Bt=this;Bt.ver=2,Bt.id=w,Bt[z1]=lT(fe),Bt.success=Ce,Bt.resultCode=we+"",Bt.type=xs(x,Ze);var Pt=Q8(x,N,Le,Y);Bt.data=yl(x,Y)||Pt.data,Bt.target=xs(x,Pt.target),St&&(Bt.target="".concat(Bt.target," | ").concat(St)),Bt[P0]=xs(x,Pt[P0]),Bt[gl]=_u(x,Ar),Bt[Fa]=F0(x,wr)}return o(I,"RemoteDependencyData"),I.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",I.dataType="RemoteDependencyData",I}(),uT=function(){function I(x,w,N,Y,fe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ce=this;Ce.ver=2,w=w||ml,Ce[W1]=MI(x,w),Ce[gl]=_u(x,Y),Ce[Fa]=F0(x,fe),N&&(Ce[$1]=N)}return o(I,"Trace"),I.envelopeType="Microsoft.ApplicationInsights.{0}.Message",I.dataType="MessageData",I}(),ny=function(){function I(x,w,N,Y,fe,Ce,we){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Le=this;Le.ver=2,Le.url=yl(x,N),Le[P0]=xs(x,w)||ml,Le[gl]=_u(x,fe),Le[Fa]=F0(x,Ce),we&&(Le.domProcessing=we.domProcessing,Le[z1]=we[z1],Le.networkConnect=we.networkConnect,Le.perfTotal=we.perfTotal,Le.receivedResponse=we.receivedResponse,Le.sentRequest=we.sentRequest)}return o(I,"PageViewPerformance"),I.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",I.dataType="PageviewPerformanceData",I}(),WL=function(){function I(x,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=x,this.baseData=w}return o(I,"Data"),I}(),jI=w1({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),YL=function(){function I(){}return o(I,"ConfigurationManager"),I.getConfig=function(x,w,N,Y){Y===void 0&&(Y=!1);var fe;return N&&x[zp]&&x[zp][N]&&!H(x[zp][N][w])?fe=x[zp][N][w]:fe=x[w],H(fe)?Y:fe},I}();function Il(I){var x="ai."+I+".";return function(w){return x+w}}o(Il,"_aiNameFunc");var dm=Il("application"),Wo=Il("device"),KI=Il("location"),hm=Il("operation"),JI=Il("session"),nd=Il("user"),Uh=Il("cloud"),iy=Il("internal"),id=function(I){Uf(x,I);function x(){return I.call(this)||this}return o(x,"ContextTagKeys"),x}(F1({applicationVersion:dm("ver"),applicationBuild:dm("build"),applicationTypeId:dm("typeId"),applicationId:dm("applicationId"),applicationLayer:dm("layer"),deviceId:Wo("id"),deviceIp:Wo("ip"),deviceLanguage:Wo("language"),deviceLocale:Wo("locale"),deviceModel:Wo("model"),deviceFriendlyName:Wo("friendlyName"),deviceNetwork:Wo("network"),deviceNetworkName:Wo("networkName"),deviceOEMName:Wo("oemName"),deviceOS:Wo("os"),deviceOSVersion:Wo("osVersion"),deviceRoleInstance:Wo("roleInstance"),deviceRoleName:Wo("roleName"),deviceScreenResolution:Wo("screenResolution"),deviceType:Wo("type"),deviceMachineName:Wo("machineName"),deviceVMName:Wo("vmName"),deviceBrowser:Wo("browser"),deviceBrowserVersion:Wo("browserVersion"),locationIp:KI("ip"),locationCountry:KI("country"),locationProvince:KI("province"),locationCity:KI("city"),operationId:hm("id"),operationName:hm("name"),operationParentId:hm("parentId"),operationRootId:hm("rootId"),operationSyntheticSource:hm("syntheticSource"),operationCorrelationVector:hm("correlationVector"),sessionId:JI("id"),sessionIsFirst:JI("isFirst"),sessionIsNew:JI("isNew"),userAccountAcquisitionDate:nd("accountAcquisitionDate"),userAccountId:nd("accountId"),userAgent:nd("userAgent"),userId:nd("id"),userStoreRegion:nd("storeRegion"),userAuthUserId:nd("authUserId"),userAnonymousUserAcquisitionDate:nd("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nd("authUserAcquisitionDate"),cloudName:Uh("name"),cloudRole:Uh("role"),cloudRoleVer:Uh("roleVer"),cloudRoleInstance:Uh("roleInstance"),cloudEnvironment:Uh("environment"),cloudLocation:Uh("location"),cloudDeploymentUnit:Uh("deploymentUnit"),internalNodeName:iy("nodeName"),internalSdkVersion:iy("sdkVersion"),internalAgentVersion:iy("agentVersion"),internalSnippet:iy("snippet"),internalSdkSrc:iy("sdkSrc")}));function fT(I,x,w,N,Y,fe){w=xs(N,w)||ml,(H(I)||H(x)||H(w))&&Pr("Input doesn't contain all required fields");var Ce="";I[W5]&&(Ce=I[W5],delete I[W5]);var we={name:w,time:Eu(new Date),iKey:Ce,ext:fe||{},tags:[],data:{},baseType:x,baseData:I};return H(Y)||qt(Y,function(Le,Ze){we.data[Le]=Ze}),we}o(fT,"createTelemetryItem");var dT=function(){function I(){}return o(I,"TelemetryItemCreator"),I.create=fT,I}(),$L={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},zL=new id;function Z8(I){var x=null;if(se(Event))x=new Event(I);else{var w=Se();w&&w.createEvent&&(x=w.createEvent("Event"),x.initEvent(I,!0,!0))}return x}o(Z8,"createDomEvent");function hT(I,x){v8(I,null,null,x)}o(hT,"_disableEvents");function eB(I){var x=Se(),w=Dn(),N=!1,Y=[],fe=1;w&&!H(w.onLine)&&!w.onLine&&(fe=2);var Ce=0,we=wr(),Le=vL(vu("OfflineListener"),I);try{if(St(rr())&&(N=!0),x){var Ze=x.body||x;Ze.ononline&&St(Ze)&&(N=!0)}}catch{N=!1}function St(In){var os=!1;return In&&(os=G5(In,"online",Tr,Le),os&&G5(In,"offline",pr,Le)),os}o(St,"_enableEvents");function Ar(){return we}o(Ar,"_isOnline");function wr(){return!(Ce===2||fe===2)}o(wr,"calCurrentState");function Bt(){var In=wr();we!==In&&(we=In,Fs(Y,function(os){var pm={isOnline:we,rState:fe,uState:Ce};try{os(pm)}catch{}}))}o(Bt,"listnerNoticeCheck");function Pt(In){Ce=In,Bt()}o(Pt,"setOnlineState");function Tr(){fe=1,Bt()}o(Tr,"_setOnline");function pr(){fe=2,Bt()}o(pr,"_setOffline");function cn(){var In=rr();if(In&&N){if(hT(In,Le),x){var os=x.body||x;ue(os.ononline)||hT(os,Le)}N=!1}}o(cn,"_unload");function jn(In){return Y.push(In),{rm:o(function(){var os=Y.indexOf(In);if(os>-1)return Y.splice(os,1)},"rm")}}return o(jn,"addListener"),{isOnline:Ar,isListening:o(function(){return N},"isListening"),unload:cn,addListener:jn,setOnlineState:Pt}}o(eB,"createOfflineListener");var jL="AppInsightsPropertiesPlugin",AT="AppInsightsChannelPlugin",Am="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=Am,t.BreezeChannelIdentifier=AT,t.ConfigurationManager=YL,t.ConnectionStringParser=HI,t.ContextTagKeys=id,t.CtxTagKeys=zL,t.DEFAULT_BREEZE_ENDPOINT=V5,t.DEFAULT_BREEZE_PATH=V1,t.Data=WL,t.DisabledPropertyName=DI,t.DistributedTracingModes=wL,t.Envelope=qI,t.Event=NL,t.EventPersistence=j1,t.Exception=El,t.Extensions=$L,t.HttpMethod=x8,t.Metric=HL,t.PageView=VL,t.PageViewPerformance=ny,t.ProcessLegacy=NI,t.PropertiesPluginIdentifier=jL,t.RemoteDependencyData=fm,t.RequestHeaders=T8,t.SampleRate=b8,t.SeverityLevel=jI,t.TelemetryItemCreator=dT,t.ThrottleMgr=DL,t.Trace=uT,t.correlationIdCanIncludeCorrelationHeader=Zf,t.correlationIdGetCorrelationContext=D8,t.correlationIdGetCorrelationContextValue=N8,t.correlationIdGetPrefix=tT,t.correlationIdSetPrefix=eT,t.createDistributedTraceContextFromTrace=rT,t.createDomEvent=Z8,t.createOfflineListener=eB,t.createTelemetryItem=fT,t.createTraceParent=Up,t.dataSanitizeException=J5,t.dataSanitizeId=Zp,t.dataSanitizeInput=X5,t.dataSanitizeKey=K5,t.dataSanitizeKeyAndAddUniqueness=j5,t.dataSanitizeMeasurements=F0,t.dataSanitizeMessage=MI,t.dataSanitizeProperties=_u,t.dataSanitizeString=xs,t.dataSanitizeUrl=yl,t.dateTimeUtilsDuration=SL,t.dateTimeUtilsNow=_L,t.dsPadNumber=_8,t.findAllScripts=U5,t.findW3cTraceParent=O5,t.formatTraceParent=Fh,t.getExtensionByName=GL,t.isBeaconApiSupported=Vf,t.isCrossOriginError=rd,t.isInternalApplicationInsightsEndpoint=k8,t.isSampledFlag=SI,t.isValidSpanId=qp,t.isValidTraceId=Hp,t.isValidTraceParent=Gp,t.msToTimeSpan=lT,t.parseConnectionString=UI,t.parseTraceParent=Q0,t.strNotSpecified=ml,t.stringToBoolOrDefault=qL,t.urlGetAbsoluteUrl=xL,t.urlGetCompleteUrl=w8,t.urlGetPathName=TL,t.urlParseFullHost=Su,t.urlParseHost=B8,t.urlParseUrl=em,t.utlCanUseLocalStorage=OI,t.utlCanUseSessionStorage=wu,t.utlDisableStorage=K1,t.utlEnableStorage=BL,t.utlGetLocalStorage=F8,t.utlGetSessionStorage=M8,t.utlGetSessionStorageKeys=sm,t.utlRemoveSessionStorage=O8,t.utlRemoveStorage=L0,t.utlSetLocalStorage=L8,t.utlSetSessionStorage=RL,t.utlSetStoragePrefix=J1})});var Jae=q((U9,Kae)=>{u();(function(t,e){typeof U9=="object"&&typeof Kae<"u"?e(U9):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(U9,function(t){"use strict";function e(p,m){return p||m}o(e,"_pureAssign");function r(p,m){return p[m]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",c="object",l="prototype",f="__proto__",d="undefined",h="constructor",A="Symbol",g="_polyfill",y="length",v="name",_="call",T="toString",S=e(Object),D=r(S,l),Q=e(String),k=r(Q,l),P=e(Math),W=e(Array),re=r(W,l),ye=r(re,"slice");function Ae(p,m){try{return{v:p.apply(this,m)}}catch(E){return{e:E}}}o(Ae,"safe");function z(p,m){var E=Ae(p);return E.e?m:E.v}o(z,"safeGet");var j;function Ie(p){return function(m){return typeof m===p}}o(Ie,"_createIs");function ue(p){var m="[object "+p+"]";return function(E){return!!(E&&J(E)===m)}}o(ue,"_createObjIs");function J(p){return D[T].call(p)}o(J,"objToString");function H(p){return typeof p===d||p===d}o(H,"isUndefined");function Z(p){return!ne(p)}o(Z,"isStrictUndefined");function ee(p){return p===i||H(p)}o(ee,"isNullOrUndefined");function se(p){return p===i||!ne(p)}o(se,"isStrictNullOrUndefined");function ne(p){return!!p||p!==n}o(ne,"isDefined");function le(p){return!j&&(j=["string","number","boolean",d,"symbol","bigint"]),p!==c&&j.indexOf(p)!==-1}o(le,"isPrimitiveType");var he=Ie("string"),Ke=Ie(a);function tt(p){return!p&&ee(p)?!1:!!p&&typeof p===c}o(tt,"isObject");var ct=r(W,"isArray"),Ct=ue("Date"),qt=Ie("number"),Or=Ie("boolean"),kn=ue("Error");function br(p){return!!(p&&p.then&&Ke(p.then))}o(br,"isPromiseLike");function oe(p){return!(!p||z(function(){return!(p&&0+p)},!p))}o(oe,"isTruthy");var Je=r(S,"getOwnPropertyDescriptor");function pe(p,m){return!!p&&D.hasOwnProperty[_](p,m)}o(pe,"objHasOwnProperty");var ut=e(r(S,"hasOwn"),ot);function ot(p,m){return pe(p,m)||!!Je(p,m)}o(ot,"polyObjHasOwn");function We(p,m,E){if(p&&tt(p)){for(var b in p)if(ut(p,b)&&m[_](E||p,b,p[b])===-1)break}}o(We,"objForEachKey");var Pr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function En(p){var m={};if(m[Pr.c]=!0,m[Pr.e]=!0,p.l){m.get=function(){return p.l.v};var E=Je(p.l,"v");E&&E.set&&(m.set=function(b){p.l.v=b})}return We(p,function(b,B){m[Pr[b]]=Z(B)?m[Pr[b]]:B}),m}o(En,"_createProp");var Ur=r(S,"defineProperty");function Kt(p,m,E){return Ur(p,m,En(E))}o(Kt,"objDefine");function pi(p,m,E,b,B){var R={};return We(p,function(F,V){Ho(R,F,m?V:F),Ho(R,V,E?V:F)}),b?b(R):R}o(pi,"_createKeyValueMap");function Ho(p,m,E,b){Ur(p,m,{value:E,enumerable:!0,writable:!1})}o(Ho,"_assignMapValue");var Fn=e(Q),qo="[object Error]";function Jt(p,m){var E=s,b=D[T][_](p);b===qo&&(p={stack:Fn(p.stack),message:Fn(p.message),name:Fn(p.name)});try{E=JSON.stringify(p,i,m?typeof m=="number"?m:4:n),E=(E?E.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Fn(p)}catch(B){E=" - "+Jt(B,m)}return b+": "+E}o(Jt,"dumpObj");function po(p){throw new Error(p)}o(po,"throwError");function Bo(p){throw new TypeError(p)}o(Bo,"throwTypeError");var sa=r(S,"freeze");function ce(p){return p}o(ce,"_doNothing");function Ge(p){return p[f]||i}o(Ge,"_getProto");var dt=r(S,"assign"),vt=r(S,"keys");function Wr(p){return sa&&We(p,function(m,E){(ct(E)||tt(E))&&Wr(E)}),xr(p)}o(Wr,"objDeepFreeze");var xr=e(sa,ce),zn=e(r(S,"getPrototypeOf"),Ge);function ii(p){return pi(p,1,0,xr)}o(ii,"createEnum");function Fr(p){return pi(p,0,0,xr)}o(Fr,"createEnumKeyMap");function Yr(p){var m={};return We(p,function(E,b){Ho(m,E,b[1]),Ho(m,b[0],b[1])}),xr(m)}o(Yr,"createSimpleMap");function Hr(p){return Yr(p)}o(Hr,"createTypeMap");var fi=Fr({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),qi="__tsUtils$gblCfg",Ro;function yc(){var p;return typeof globalThis!==d&&(p=globalThis),!p&&typeof self!==d&&(p=self),!p&&typeof window!==d&&(p=window),!p&&typeof global!==d&&(p=global),p}o(yc,"_getGlobalValue");function kf(){if(!Ro){var p=Ae(yc).v||{};Ro=p[qi]=p[qi]||{}}return Ro}o(kf,"_getGlobalConfig");var w0=hu;function hu(p,m,E){var b=m?m[p]:i;return function(B){var R=(B?B[p]:i)||b;if(R||E){var F=arguments;return(R||E).apply(B,R?ye[_](F,1):F)}Bo('"'+Fn(p)+'" not defined for '+Jt(B))}}o(hu,"_unwrapFunctionWithPoly");function rs(p){return function(m){return m[p]}}o(rs,"_unwrapProp");var Au=r(P,"min"),Te=r(P,"max"),M=w0("slice",k),ae=w0("substring",k),ge=hu("substr",k,K);function K(p,m,E){return ee(p)&&Bo("Invalid "+Jt(p)),E<0?s:(m=m||0,m<0&&(m=Te(m+p[y],0)),H(E)?M(p,m):M(p,m,m+E))}o(K,"polyStrSubstr");function L(p,m){return ae(p,0,m)}o(L,"strLeft");var Se="_urid",Xe;function rr(){if(!Xe){var p=kf();Xe=p.gblSym=p.gblSym||{k:{},s:{}}}return Xe}o(rr,"_globalSymbolRegistry");var mi;function Dn(p){var m={description:Fn(p),toString:o(function(){return A+"("+p+")"},"toString")};return m[g]=!0,m}o(Dn,"polyNewSymbol");function Ps(p){var m=rr();if(!ut(m.k,p)){var E=Dn(p),b=vt(m.s).length;E[Se]=function(){return b+"_"+E[T]()},m.k[p]=E,m.s[E[Se]()]=Fn(p)}return m.k[p]}o(Ps,"polySymbolFor");function aa(p){!mi&&(mi={});var m,E=fi[p];return E&&(m=mi[E]=mi[E]||Dn(A+"."+E)),m}o(aa,"polyGetKnownSymbol");var oi;function Br(){oi=kf()}o(Br,"_initTestHooks");function B0(p){var m={};return!oi&&Br(),m.b=oi.lzy,Ur(m,"v",{configurable:!0,get:o(function(){var E=p();return oi.lzy||Ur(m,"v",{value:E}),m.b=oi.lzy,E},"get")}),m}o(B0,"getLazy");function ns(p){return Ur({toJSON:o(function(){return p},"toJSON")},"v",{value:p})}o(ns,"createCachedValue");var pu="window",Fs;function mu(p,m){var E;return function(){return!oi&&Br(),(!E||oi.lzy)&&(E=ns(Ae(p,m).v)),E.v}}o(mu,"_getGlobalInstFn");function ll(p){return!oi&&Br(),(!Fs||p===!1||oi.lzy)&&(Fs=ns(Ae(yc).v||i)),Fs.v}o(ll,"getGlobal");function ko(p,m){var E;if(!Fs||m===!1?E=ll(m):E=Fs.v,E&&E[p])return E[p];if(p===pu)try{return window}catch{}return i}o(ko,"getInst");function Df(){return!!dp()}o(Df,"hasDocument");var dp=mu(ko,["document"]);function p5(){return!!gu()}o(p5,"hasWindow");var gu=mu(ko,[pu]);function XF(){return!!Nf()}o(XF,"hasNavigator");var Nf=mu(ko,["navigator"]),ZF=mu(function(){return!!Ae(function(){return process&&(process.versions||{}).node}).v}),Eh,m5;function XE(){return Eh=ns(Ae(ko,[A]).v),Eh}o(XE,"_initSymbol");function eL(p){var m=(oi.lzy?0:Eh)||XE();return m.v?m.v[p]:n}o(eL,"_getSymbolKey");function Pa(){return!!Qf()}o(Pa,"hasSymbol");function Qf(){return!oi&&Br(),((oi.lzy?0:Eh)||XE()).v}o(Qf,"getSymbol");function T1(p,m){var E=fi[p];!oi&&Br();var b=(oi.lzy?0:Eh)||XE();return b.v?b.v[E||p]:m?n:aa(p)}o(T1,"getKnownSymbol");function Ih(p,m){!oi&&Br();var E=(oi.lzy?0:Eh)||XE();return E.v?E.v(p):m?i:Dn(p)}o(Ih,"newSymbol");function _1(p){return!oi&&Br(),m5=(oi.lzy?0:m5)||ns(Ae(eL,["for"]).v),(m5.v||Ps)(p)}o(_1,"symbolFor");function Pf(p){return!!p&&Ke(p.next)}o(Pf,"isIterator");function ZE(p){return!se(p)&&Ke(p[T1(3)])}o(ZE,"isIterable");var S1;function g5(p,m,E){if(p&&(Pf(p)||(!S1&&(S1=ns(T1(3))),p=p[S1.v]?p[S1.v]():i),Pf(p))){var b=n,B=n;try{for(var R=0;!(B=p.next()).done&&m[_](E||p,B.value,R,p)!==-1;)R++}catch(F){b={e:F},p.throw&&(B=i,p.throw(b))}finally{try{B&&!B.done&&p.return&&p.return(B)}finally{if(b)throw b.e}}}}o(g5,"iterForOf");function hp(p,m,E){return p.apply(m,E)}o(hp,"fnApply");function Ap(p,m){return!H(m)&&p&&(ct(m)?hp(p.push,p,m):Pf(m)||ZE(m)?g5(m,function(E){p.push(E)}):p.push(m)),p}o(Ap,"arrAppend");function Wt(p,m,E){if(p)for(var b=p[y]>>>0,B=0;B<b&&!(B in p&&m[_](E||p,p[B],B,p)===-1);B++);}o(Wt,"arrForEach");var n0=w0("indexOf",re),vh=w0("map",re);function pp(p,m,E){return((p?p.slice:i)||ye).apply(p,ye[_](arguments,1))}o(pp,"arrSlice");var tL=w0("reduce",re),Ff=e(r(S,"create"),rL);function rL(p){if(!p)return{};var m=typeof p;m!==c&&m!==a&&Bo("Prototype must be an Object or function: "+Jt(p));function E(){}return o(E,"tempFunc"),E[l]=p,new E}o(rL,"polyObjCreate");var y5;function w1(p,m){var E=S.setPrototypeOf||function(b,B){var R;!y5&&(y5=ns((R={},R[f]=[],R instanceof Array))),y5.v?b[f]=B:We(B,function(F,V){return b[F]=V})};return E(p,m)}o(w1,"objSetPrototypeOf");function nL(p,m,E){Ae(Kt,[m,v,{v:p,c:!0,e:!1}]),m=w1(m,E);function b(){this[h]=m,Ae(Kt,[this,v,{v:p,c:!0,e:!1}])}return o(b,"__"),m[l]=E===i?Ff(E):(b[l]=E[l],new b),m}o(nL,"_createCustomError");function B1(p,m){m&&(p[v]=m)}o(B1,"_setName");function is(p,m,E){var b=E||Error,B=b[l][v],R=Error.captureStackTrace;return nL(p,function(){var F=this,V=arguments;try{Ae(B1,[b,p]);var $=hp(b,F,ye[_](V))||F;if($!==F){var te=zn(F);te!==zn($)&&w1($,te)}return R&&R($,F[h]),m&&m($,V),$}finally{Ae(B1,[b,B])}},b)}o(is,"createCustomError");function Lf(){return(Date.now||R1)()}o(Lf,"utcNow");function R1(){return new Date().getTime()}o(R1,"polyUtcNow");function Jw(p){return o(function(E){return ee(E)&&Bo("strTrim called ["+Jt(E)+"]"),E&&E.replace&&(E=E.replace(p,s)),E},"_doTrim")}o(Jw,"_createTrimFn");var iL=Jw(/^\s+|(?=\s)\s+$/g),Ln=hu("trim",k,iL),bh=r(P,"floor"),Mf,C5,k1;function i0(p){if(!p||typeof p!==c)return!1;k1||(k1=p5()?gu():!0);var m=!1;if(p!==k1){C5||(Mf=Function[l][T],C5=Mf[_](S));try{var E=zn(p);m=!E,m||(pe(E,h)&&(E=E[h]),m=!!(E&&typeof E===a&&Mf[_](E)===C5))}catch{}}return m}o(i0,"isPlainObject");function Xw(p){return p.value&&eI(p),!0}o(Xw,"_defaultDeepCopyHandler");var Zw=[mp,eI,t8,Of];function E5(p,m,E,b){var B;return Wt(p,function(R){if(R.k===m)return B=R,-1}),B||(B={k:m,v:m},p.push(B),b(B)),B.v}o(E5,"_getSetVisited");function xh(p,m,E,b){var B=E.handler,R=E.path?b?E.path.concat(b):E.path:[],F={handler:E.handler,src:E.src,path:R},V=typeof m,$=!1,te=m===i;te||(m&&V===c?$=i0(m):te=le(V));var me={type:V,isPrim:te,isPlain:$,value:m,result:m,path:R,origin:E.src,copy:o(function(xe,Qe){return xh(p,xe,Qe?F:E,Qe)},"copy"),copyTo:o(function(xe,Qe){return I5(p,xe,Qe,F)},"copyTo")};return me.isPrim?B&&B[_](E,me)?me.result:m:E5(p,m,R,function(xe){Kt(me,"result",{g:o(function(){return xe.v},"g"),s:o(function(ke){xe.v=ke},"s")});for(var Qe=0,_e=B;!(_e||(Qe<Zw.length?Zw[Qe++]:Xw))[_](E,me);)_e=i})}o(xh,"_deepCopy");function I5(p,m,E,b){if(!ee(E))for(var B in E)m[B]=xh(p,E[B],b,B);return m}o(I5,"_copyProps");function e8(p,m,E){var b={handler:E,src:m,path:[]};return I5([],p,m,b)}o(e8,"objCopyProps");function v5(p,m){var E={handler:m,src:p};return xh([],p,E)}o(v5,"objDeepCopy");function mp(p){var m=p.value;if(ct(m)){var E=p.result=[];return E.length=m.length,p.copyTo(E,m),!0}return!1}o(mp,"arrayDeepCopyHandler");function Of(p){var m=p.value;return Ct(m)?(p.result=new Date(m.getTime()),!0):!1}o(Of,"dateDeepCopyHandler");function t8(p){return p.type===a}o(t8,"functionDeepCopyHandler");function eI(p){var m=p.value;if(m&&p.isPlain){var E=p.result={};return p.copyTo(E,m),!0}return!1}o(eI,"plainObjDeepCopyHandler");function b5(p,m){return Wt(m,function(E){e8(p,E)}),p}o(b5,"_doExtend");function tI(p,m,E,b,B,R,F){return b5(v5(p)||{},ye[_](arguments))}o(tI,"deepExtend");var oL=rs(y),sL=r(P,"round"),r8=hu("endsWith",k,aL);function aL(p,m,E){he(p)||Bo("'"+Jt(p)+"' is not a string");var b=he(m)?m:Fn(m),B=!H(E)&&E<p[y]?E:p[y];return ae(p,B-b[y],B)===b}o(aL,"polyStrEndsWith");var yu=w0("indexOf",k),rI="ref",x5="unref",nI="hasRef",cL="enabled";function iI(p,m,E){var b=!0,B=p?m(i):i,R;function F(){return b=!1,B&&B[x5]&&B[x5](),R}o(F,"_unref");function V(){B&&E(B),B=i}o(V,"_cancel");function $(){return B=m(B),b||F(),R}o($,"_refresh");function te(me){!me&&B&&V(),me&&!B&&$()}return o(te,"_setEnabled"),R={cancel:V,refresh:$},R[nI]=function(){return B&&B[nI]?B[nI]():b},R[rI]=function(){return b=!0,B&&B[rI]&&B[rI](),R},R[x5]=F,R=Ur(R,cL,{get:o(function(){return!!B},"get"),set:te}),{h:R,dn:o(function(){B=i},"dn")}}o(iI,"_createTimerHandler");function oI(p,m,E){var b=ct(m),B=b?m.length:0,R=(B>0?m[0]:b?n:m)||setTimeout,F=(B>1?m[1]:n)||clearTimeout,V=E[0];E[0]=function(){$.dn(),hp(V,n,ye[_](arguments))};var $=iI(p,function(te){if(te){if(te.refresh)return te.refresh(),te;hp(F,n,[te])}return hp(R,n,E)},function(te){hp(F,n,[te])});return $.h}o(oI,"_createTimeoutWith");function Uf(p,m){return oI(!0,n,ye[_](arguments))}o(Uf,"scheduleTimeout");function sI(p,m){return oI(!1,n,ye[_](arguments))}o(sI,"createTimeout");var Th,R0="constructor",k0="prototype",_h="function",gp="_dynInstFuncs",Hf="_isDynProxy",yp="_dynClass",T5="_dynCls$",Sh="_dynInstChk",Cp=Sh,_5="_dfOpts",aI="_unknown_",Ep="__proto__",D1="_dyn"+Ep,cI="__dynProto$Gbl",Ip="_dynInstProto",vp="useBaseInst",N1="setInstFuncs",wh=Object,bp=wh.getPrototypeOf,S5=wh.getOwnPropertyNames,lI=ll(),xp=lI[cI]||(lI[cI]={o:(Th={},Th[N1]=!0,Th[vp]=!0,Th),n:1e3});function Tp(p){return p&&(p===wh[k0]||p===Array[k0])}o(Tp,"_isObjectOrArrayPrototype");function Cu(p){return Tp(p)||p===Function[k0]}o(Cu,"_isObjectArrayOrFunctionPrototype");function ul(p){var m;if(p){if(bp)return bp(p);var E=p[Ep]||p[k0]||(p[R0]?p[R0][k0]:null);m=p[D1]||E,pe(p,D1)||(delete p[Ip],m=p[D1]=p[Ip]||p[D1],p[Ip]=E)}return m}o(ul,"_getObjProto");function _p(p,m){var E=[];if(S5)E=S5(p);else for(var b in p)typeof b=="string"&&pe(p,b)&&E.push(b);if(E&&E.length>0)for(var B=0;B<E.length;B++)m(E[B])}o(_p,"_forEachProp");function Sp(p,m,E){return m!==R0&&typeof p[m]===_h&&(E||pe(p,m))&&m!==Ep&&m!==k0}o(Sp,"_isDynamicCandidate");function uI(p){Bo("DynamicProto: "+p)}o(uI,"_throwTypeError");function w5(p){var m=Ff(null);return _p(p,function(E){!m[E]&&Sp(p,E,!1)&&(m[E]=p[E])}),m}o(w5,"_getInstanceFuncs");function B5(p,m){for(var E=p.length-1;E>=0;E--)if(p[E]===m)return!0;return!1}o(B5,"_hasVisited");function lL(p,m,E,b){function B($,te,me){var xe=te[me];if(xe[Hf]&&b){var Qe=$[gp]||{};Qe[Cp]!==!1&&(xe=(Qe[te[yp]]||{})[me]||xe)}return function(){return xe.apply($,arguments)}}o(B,"_instFuncProxy");var R=Ff(null);_p(E,function($){R[$]=B(m,E,$)});for(var F=ul(p),V=[];F&&!Cu(F)&&!B5(V,F);)_p(F,function($){!R[$]&&Sp(F,$,!bp)&&(R[$]=B(m,F,$))}),V.push(F),F=ul(F);return R}o(lL,"_getBaseFuncs");function uL(p,m,E,b){var B=null;if(p&&pe(E,yp)){var R=p[gp]||Ff(null);if(B=(R[E[yp]]||Ff(null))[m],B||uI("Missing ["+m+"] "+_h),!B[Sh]&&R[Cp]!==!1){for(var F=!pe(p,m),V=ul(p),$=[];F&&V&&!Cu(V)&&!B5($,V);){var te=V[m];if(te){F=te===b;break}$.push(V),V=ul(V)}try{F&&(p[m]=B),B[Sh]=1}catch{R[Cp]=!1}}}return B}o(uL,"_getInstFunc");function fL(p,m,E){var b=m[p];return b===E&&(b=ul(m)[p]),typeof b!==_h&&uI("["+p+"] is not a "+_h),b}o(fL,"_getProtoFunc");function dL(p,m,E,b,B){function R($,te){var me=o(function(){var xe=uL(this,te,$,me)||fL(te,$,me);return xe.apply(this,arguments)},"dynProtoProxy");return me[Hf]=1,me}if(o(R,"_createDynamicPrototype"),!Tp(p)){var F=E[gp]=E[gp]||Ff(null);if(!Tp(F)){var V=F[m]=F[m]||Ff(null);F[Cp]!==!1&&(F[Cp]=!!B),Tp(V)||_p(E,function($){Sp(E,$,!1)&&E[$]!==b[$]&&(V[$]=E[$],delete E[$],(!pe(p,$)||p[$]&&!p[$][Hf])&&(p[$]=R(p,$)))})}}}o(dL,"_populatePrototype");function R5(p,m){if(bp){for(var E=[],b=ul(m);b&&!Cu(b)&&!B5(E,b);){if(b===p)return!0;E.push(b),b=ul(b)}return!1}return!0}o(R5,"_checkPrototype");function Q1(p,m){return pe(p,k0)?p.name||m||aI:((p||{})[R0]||{}).name||m||aI}o(Q1,"_getObjName");function ca(p,m,E,b){pe(p,k0)||uI("theClass is an invalid class definition.");var B=p[k0];R5(B,m)||uI("["+Q1(p)+"] not in hierarchy of ["+Q1(m)+"]");var R=null;pe(B,yp)?R=B[yp]:(R=T5+Q1(p,"_")+"$"+xp.n,xp.n++,B[yp]=R);var F=ca[_5],V=!!F[vp];V&&b&&b[vp]!==void 0&&(V=!!b[vp]);var $=w5(m),te=lL(B,m,$,V);E(m,te);var me=!!bp&&!!F[N1];me&&b&&(me=!!b[N1]),dL(B,R,m,$,me!==!1)}o(ca,"dynamicProto"),ca[_5]=xp.o;var mo="function",n8="object",i8="undefined",P1="prototype",k5=Object,D5=k5[P1];(ll()||{}).Symbol,(ll()||{}).Reflect;var fI="hasOwnProperty",o8=o(function(p){for(var m,E=1,b=arguments.length;E<b;E++){m=arguments[E];for(var B in m)D5[fI].call(m,B)&&(p[B]=m[B])}return p},"__objAssignFnImpl"),Eu=dt||o8,qf=o(function(p,m){return qf=k5.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var B in b)b[fI](B)&&(E[B]=b[B])},qf(p,m)},"extendStaticsFn");function F1(p,m){typeof m!==mo&&m!==null&&Bo("Class extends value "+String(m)+" is not a constructor or null"),qf(p,m);function E(){this.constructor=p}o(E,"__"),p[P1]=m===null?Ff(m):(E[P1]=m[P1],new E)}o(F1,"__extendsFn");function s8(p,m){for(var E=0,b=m.length,B=p.length;E<b;E++,B++)p[B]=m[E];return p}o(s8,"__spreadArrayFn");var dI=ii,hL=Hr,Gf=dI({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),wp="toLowerCase",Lr="length",Bp="warnToConsole",Bh="throwInternal",Iu="watch",hI="apply",Mn="push",Rp="splice",Go="logger",kp="cancel",L1="initialize",Vf="identifier",M1="removeNotificationListener",AI="addNotificationListener",fl="isInitialized",Dp="value",Cc="getNotifyMgr",Np="getPlugin",Wf="name",Ls="processNext",Qp="getProcessTelContext",dl="enabled",a8="stopPollingInternalLogs",Rh="unload",pI="onComplete",Pp="version",c8="loggingLevelConsole",kh="createNew",hl="teardown",mI="messageId",Dh="message",Al="diagLog",gI="_doTeardown",vu="update",pl="getNext",Yf="setNextPlugin",yI="userAgent",$f="split",zf="replace",la="type",N5="evtName",O1="status",Q5="getAllResponseHeaders",P5="isChildEvt",Fp="data",jf="getCtx",Ec="setCtx",l8="itemsReceived",bu="urlString",F5="headers",xu="timeout",u8="traceFlags",Lp;function L5(p,m){Lp||(Lp=is("AggregationError",function(b,B){B[Lr]>1&&(b.errors=B[1])}));var E=p||"One or more errors occurred.";throw Wt(m,function(b,B){E+=`
`.concat(B," > ").concat(Jt(b))}),new Lp(E,m||[])}o(L5,"throwAggregationError");var Nh="Promise",Qh="rejected";function D0(p,m){return f8(p,function(E){return m?m({status:"fulfilled",rejected:!1,value:E}):E},function(E){return m?m({status:Qh,rejected:!0,reason:E}):E})}o(D0,"doAwaitResponse");function f8(p,m,E,b){var B=p;try{if(br(p))(m||E)&&(B=p.then(m,E));else try{m&&(B=m(p))}catch(R){if(E)B=E(R);else throw R}}finally{b&&AL(B,b)}return B}o(f8,"doAwait");function AL(p,m){var E=p;return m&&(br(p)?p.finally?E=p.finally(m):E=p.then(function(b){return m(),b},function(b){throw m(),b}):m()),E}o(AL,"doFinally");var d8=["pending","resolving","resolved",Qh],h8="dispatchEvent",U1;function A8(p){var m;return p&&p.createEvent&&(m=p.createEvent("Event")),!!m&&m.initEvent}o(A8,"_hasInitEventFn");function CI(p,m,E,b){var B=dp();!U1&&(U1=ns(!!Ae(A8,[B]).v));var R=U1.v?B.createEvent("Event"):b?new Event(m):{};if(E&&E(R),U1.v&&R.initEvent(m,!1,!0),R&&p[h8])p[h8](R);else{var F=p["on"+m];if(F)F(R);else{var V=ko("console");V&&(V.error||V.log)(m,Jt(R))}}}o(CI,"emitEvent");var p8="unhandledRejection",pL=p8.toLowerCase(),Mp=10,EI;function m8(p){return Ke(p)?p.toString():Jt(p)}o(m8,"dumpFnObj");function g8(p,m,E){var b=pp(arguments,3),B=0,R=!1,F,V=[],$=!1,te=null,me;function xe(Et,Dt){try{$=!0,te&&te.cancel(),te=null;var Rr=p(function(dn,hn){V.push(function(){try{var si=B===2?Et:Dt,ir=H(si)?F:Ke(si)?si(F):si;br(ir)?ir.then(dn,hn):si?dn(ir):B===3?hn(ir):dn(ir)}catch(Gt){hn(Gt)}}),R&&Ye()},b);return Rr}finally{}}o(xe,"_then");function Qe(Et){return xe(void 0,Et)}o(Qe,"_catch");function _e(Et){var Dt=Et,Rr=Et;return Ke(Et)&&(Dt=o(function(dn){return Et&&Et(),dn},"thenFinally"),Rr=o(function(dn){throw Et&&Et(),dn},"catchFinally")),xe(Dt,Rr)}o(_e,"_finally");function ke(){return d8[B]}o(ke,"_strState");function Ye(){if(V.length>0){var Et=V.slice();V=[],$=!0,te&&te.cancel(),te=null,m(Et)}}o(Ye,"_processQueue");function Oe(Et,Dt){return function(Rr){if(B===Dt){if(Et===2&&br(Rr)){B=1,Rr.then(Oe(2,1),Oe(3,1));return}B=Et,R=!0,F=Rr,Ye(),!$&&Et===3&&!te&&(te=Uf(rt,Mp))}}}o(Oe,"_createSettleIfFn");function rt(){if(!$)if($=!0,ZF())process.emit(p8,F,me);else{var Et=gu()||ll();!EI&&(EI=ns(Ae(ko,[Nh+"RejectionEvent"]).v)),CI(Et,pL,function(Dt){return Kt(Dt,"promise",{g:o(function(){return me},"g")}),Dt.reason=F,Dt},!!EI.v)}}o(rt,"_notifyUnhandledRejection"),me={then:xe,catch:Qe,finally:_e},Ur(me,"state",{get:ke}),Pa()&&(me[T1(11)]="IPromise");function ht(){return"IPromise "+ke()+(R?" - "+m8(F):"")}return o(ht,"_toString"),me.toString=ht,o(function(){Ke(E)||Bo(Nh+": executor is not a function - "+m8(E));var Dt=Oe(3,0);try{E.call(me,Oe(2,0),Dt)}catch(Rr){Dt(Rr)}},"_initialize")(),me}o(g8,"_createPromise");function mL(p){return function(m){var E=pp(arguments,1);return p(function(b,B){try{var R=[],F=1;g5(m,function(V,$){V&&(F++,f8(V,function(te){R[$]=te,--F===0&&b(R)},B))}),F--,F===0&&b(R)}catch(V){B(V)}},E)}}o(mL,"_createAllPromise");function gL(p){return ns(function(m){var E=pp(arguments,1);return p(function(b,B){var R=[],F=1;function V($,te){F++,D0($,function(me){me.rejected?R[te]={status:Qh,reason:me.reason}:R[te]={status:"fulfilled",value:me.value},--F===0&&b(R)})}o(V,"processItem");try{ct(m)?Wt(m,V):ZE(m)?g5(m,V):Bo("Input is not an iterable"),F--,F===0&&b(R)}catch($){B($)}},E)})}o(gL,"_createAllSettledPromise");function y8(p){Wt(p,function(m){try{m()}catch{}})}o(y8,"syncItemProcessor");function C8(p){var m=qt(p)?p:0;return function(E){Uf(function(){y8(E)},m)}}o(C8,"timeoutItemProcessor");function II(p,m){return g8(II,C8(m),p,m)}o(II,"createAsyncPromise");var vI;function yL(p,m){!vI&&(vI=ns(Ae(ko,[Nh]).v||null));var E=vI.v;if(!E)return II(p);Ke(p)||Bo(Nh+": executor is not a function - "+Jt(p));var b=0;function B(){return d8[b]}o(B,"_strState");var R=new E(function(F,V){function $(me){b=2,F(me)}o($,"_resolve");function te(me){b=3,V(me)}o(te,"_reject"),p($,te)});return Ur(R,"state",{get:B}),R}o(yL,"createNativePromise");var bI;function xI(p){return g8(xI,y8,p)}o(xI,"createSyncPromise");function o0(p,m){return!bI&&(bI=gL(xI)),bI.v(p,m)}o(o0,"createSyncAllSettledPromise");var TI;function Op(p,m){return!TI&&(TI=ns(yL)),TI.v.call(this,p,m)}o(Op,"createPromise");var M5=mL(Op),N0=void 0,an="",Tu="channels",Vo="core",Ic="createPerfMgr",_I="disabled",Ph="extensionConfig",Up="extensions",Q0="processTelemetry",Hp="priority",qp="eventsSent",Gp="eventsDiscarded",SI="eventsSendRequest",Fh="perfEvent",O5="offlineEventsStored",U5="offlineBatchSent",wI="offlineBatchDrop",H1="getPerfMgr",BI="domain",RI="path",E8="Not dynamic - ",H5=/-([a-z])/g,CL=/([^\w\d_$])/g,EL=/^(\d+[\w\d_$])/;function kI(p){return!ee(p)}o(kI,"isNotNullOrUndefined");function Vp(p){var m=p;return m&&he(m)&&(m=m[zf](H5,function(E,b){return b.toUpperCase()}),m=m[zf](CL,"_"),m=m[zf](EL,function(E,b){return"_"+b})),m}o(Vp,"normalizeJsName");function Ms(p,m){return p&&m?yu(p,m)!==-1:!1}o(Ms,"strContains");function q1(p){return p&&p.toISOString()||""}o(q1,"toISOString");function bs(p){return kn(p)?p[Wf]:an}o(bs,"getExceptionName");function Kf(p,m,E,b,B){var R=E;return p&&(R=p[m],R!==E&&(!B||B(R))&&(!b||b(E))&&(R=E,p[m]=R)),R}o(Kf,"setValue");function I8(p,m,E){var b;return p?(b=p[m],!b&&ee(b)&&(b=H(E)?{}:E,p[m]=b)):b=H(E)?{}:E,b}o(I8,"getSetValue");function IL(p,m){var E=null,b=null;return Ke(p)?E=p:b=p,function(){var B=arguments;if(E&&(b=E()),b)return b[m][hI](b,B)}}o(IL,"_createProxyFunction");function G1(p,m,E,b,B){p&&m&&E&&(B!==!1||H(p[m]))&&(p[m]=IL(E,b))}o(G1,"proxyFunctionAs");function q5(p,m,E,b){return p&&m&&tt(p)&&ct(E)&&Wt(E,function(B){he(B)&&G1(p,B,m,B,b)}),p}o(q5,"proxyFunctions");function vL(p){return function(){function m(){var E=this;p&&We(p,function(b,B){E[b]=B})}return o(m,"class_1"),m}()}o(vL,"createClassFromInterface");function G5(p){return p&&dt&&(p=k5(dt({},p))),p}o(G5,"optimizeObject");function v8(p,m,E,b,B,R){var F=arguments,V=F[0]||{},$=F[Lr],te=!1,me=1;for($>0&&Or(V)&&(te=V,V=F[me]||{},me++),tt(V)||(V={});me<$;me++){var xe=F[me],Qe=ct(xe),_e=tt(xe);for(var ke in xe){var Ye=Qe&&ke in xe||_e&&ut(xe,ke);if(Ye){var Oe=xe[ke],rt=void 0;if(te&&Oe&&((rt=ct(Oe))||i0(Oe))){var ht=V[ke];rt?ct(ht)||(ht=[]):i0(ht)||(ht={}),Oe=v8(te,ht,Oe)}Oe!==void 0&&(V[ke]=Oe)}}}return V}o(v8,"objExtend");function DI(p){try{return p.responseText}catch{}return null}o(DI,"getResponseText");function b8(p,m){return p?"XDomainRequest,Response:"+DI(p)||"":m}o(b8,"formatErrorMessageXdr");function NI(p,m){return p?"XMLHttpRequest,Status:"+p[O1]+",Response:"+DI(p)||p.response||"":m}o(NI,"formatErrorMessageXhr");function x8(p,m){return m&&(qt(m)?p=[m].concat(p):ct(m)&&(p=m.concat(p))),p}o(x8,"prependTransports");var V5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",V1="withCredentials",ml="timeout";function W5(p,m,E,b,B,R){b===void 0&&(b=!1),B===void 0&&(B=!1);function F($,te,me){try{$[te]=me}catch{}}o(F,"_wrapSetXhrProp");var V=new XMLHttpRequest;return b&&F(V,V5,b),E&&F(V,V1,E),V.open(p,m,!B),E&&F(V,V1,E),!B&&R&&F(V,ml,R),V}o(W5,"openXhr");function T8(p){var m={};if(he(p)){var E=Ln(p)[$f](/[\r\n]+/);Wt(E,function(b){if(b){var B=b.indexOf(": ");if(B!==-1){var R=Ln(b.substring(0,B))[wp](),F=Ln(b.substring(B+1));m[R]=F}else m[Ln(b)]=1}})}return m}o(T8,"convertAllHeadersToMap");function Jf(p,m,E){if(!p[E]&&m&&m.getResponseHeader){var b=m.getResponseHeader(E);b&&(p[E]=Ln(b))}return p}o(Jf,"_appendHeader");var hr="kill-duration",Wp="kill-duration-seconds",Lh="time-delta-millis";function Mh(p,m){var E={};return p[Q5]?E=T8(p[Q5]()):m&&(E=Jf(E,p,Lh),E=Jf(E,p,hr),E=Jf(E,p,Wp)),E}o(Mh,"_getAllResponseHeaders");var Y5="documentMode",W1="location",Yp="console",QI="JSON",$5="crypto",PI="msCrypto",$p="msie",Oh="trident/",z5="XMLHttpRequest",P0=null,zp=null,gl=!1,Fa=null,jp=null;function Y1(p,m){var E=!1;if(p){try{if(E=m in p,!E){var b=p[P1];b&&(E=m in b)}}catch{}if(!E)try{var B=new p;E=!H(B[m])}catch{}}return E}o(Y1,"_hasProperty");function Kp(p){if(p&&gl){var m=ko("__mockLocation");if(m)return m}return typeof location===n8&&location?location:ko(W1)}o(Kp,"getLocation");function $1(){return typeof console!==i8?console:ko(Yp)}o($1,"getConsole");function Jp(){return!!(typeof JSON===n8&&JSON||ko(QI)!==null)}o(Jp,"hasJSON");function s0(){return Jp()?JSON||ko(QI):null}o(s0,"getJSON");function FI(){return ko($5)}o(FI,"getCrypto");function LI(){return ko(PI)}o(LI,"getMsCrypto");function vc(){var p=Nf();if(p&&(p[yI]!==zp||P0===null)){zp=p[yI];var m=(zp||an)[wp]();P0=Ms(m,$p)||Ms(m,Oh)}return P0}o(vc,"isIE");function Xp(p){if(p===void 0&&(p=null),!p){var m=Nf()||{};p=m?(m.userAgent||an)[wp]():an}var E=(p||an)[wp]();if(Ms(E,$p)){var b=dp()||{};return Te(parseInt(E[$f]($p)[1]),b[Y5]||0)}else if(Ms(E,Oh)){var B=parseInt(E[$f](Oh)[1]);if(B)return B+4}return null}o(Xp,"getIEVersion");function Xf(p){return(jp===null||p===!1)&&(jp=XF()&&!!Nf().sendBeacon),jp}o(Xf,"isBeaconsSupported");function z1(p){var m=!1;try{m=!!ko("fetch");var E=ko("Request");m&&p&&E&&(m=Y1(E,"keepalive"))}catch{}return m}o(z1,"isFetchSupported");function j5(){return Fa===null&&(Fa=typeof XDomainRequest!==i8,Fa&&K5()&&(Fa=Fa&&!Y1(ko(z5),"withCredentials"))),Fa}o(j5,"useXDomainRequest");function K5(){var p=!1;try{var m=ko(z5);p=!!m}catch{}return p}o(K5,"isXhrSupported");var xs=4294967296,yl=4294967295,MI=123456789,J5=987654321,_u=!1,F0=MI,Zp=J5;function X5(p){p<0&&(p>>>=0),F0=MI+p&yl,Zp=J5-p&yl,_u=!0}o(X5,"_mwcSeed");function _8(){try{var p=Lf()&2147483647;X5((Math.random()*xs^p)+p)}catch{}}o(_8,"_autoSeedMwc");function Z5(p){var m=0,E=FI()||LI();return E&&E.getRandomValues&&(m=E.getRandomValues(new Uint32Array(1))[0]&yl),m===0&&vc()&&(_u||_8(),m=S8()&yl),m===0&&(m=bh(xs*Math.random()|0)),p||(m>>>=0),m}o(Z5,"random32");function S8(p){Zp=36969*(Zp&65535)+(Zp>>16)&yl,F0=18e3*(F0&65535)+(F0>>16)&yl;var m=(Zp<<16)+(F0&65535)>>>0&yl|0;return p||(m>>>=0),m}o(S8,"mwcRandom32");function bL(p){p===void 0&&(p=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=Z5()>>>0,b=0,B=an;B[Lr]<p;)b++,B+=m.charAt(E&63),E>>>=6,b===5&&(E=(Z5()<<2&4294967295|E&3)>>>0,b=0);return B}o(bL,"newId");var em="3.3.6",xL="."+bL(6),TL=0;function w8(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType}o(w8,"_canAcceptData");function B8(p,m){var E=m[p.id];if(!E){E={};try{w8(m)&&Kt(m,p.id,{e:!1,v:E})}catch{}}return E}o(B8,"_getCache");function Su(p,m){return m===void 0&&(m=!1),Vp(p+TL+++(m?"."+em:an)+xL)}o(Su,"createUniqueNamespace");function R8(p){var m={id:Su("_aiData-"+(p||an)+"."+em),accept:o(function(E){return w8(E)},"accept"),get:o(function(E,b,B,R){var F=E[m.id];return F?F[Vp(b)]:(R&&(F=B8(m,E),F[Vp(b)]=B),B)},"get"),kill:o(function(E,b){if(E&&E[b])try{delete E[b]}catch{}},"kill")};return m}o(R8,"createElmNodeData");function tm(p){return p&&tt(p)&&(p.isVal||p.fb||ut(p,"v")||ut(p,"mrg")||ut(p,"ref")||p.set)}o(tm,"_isConfigDefaults");function k8(p,m,E){var b,B=E.dfVal||ne;if(m&&E.fb){var R=E.fb;ct(R)||(R=[R]);for(var F=0;F<R[Lr];F++){var V=R[F],$=m[V];if(B($)?b=$:p&&($=p.cfg[V],B($)&&(b=$),p.set(p.cfg,Fn(V),$)),B(b))break}}return!B(b)&&B(E.v)&&(b=E.v),b}o(k8,"_getDefault");function eT(p,m,E){var b=E;if(E&&tm(E)&&(b=k8(p,m,E)),b){tm(b)&&(b=eT(p,m,b));var B;ct(b)?(B=[],B[Lr]=b[Lr]):i0(b)&&(B={}),B&&(We(b,function(R,F){F&&tm(F)&&(F=eT(p,m,F)),B[R]=F}),b=B)}return b}o(eT,"_resolveDefaultValue");function tT(p,m,E,b){var B,R,F,V=b,$,te,me,xe;tm(V)?(B=V.isVal,R=V.set,me=V.rdOnly,xe=V.blkVal,$=V.mrg,te=V.ref,!te&&H(te)&&(te=!!$),F=k8(p,m,V)):F=b,xe&&p.blkVal(m,E);var Qe,_e=!0,ke=m[E];(ke||!ee(ke))&&(Qe=ke,_e=!1,B&&Qe!==F&&!B(Qe)&&(Qe=F,_e=!0),R&&(Qe=R(Qe,F,m),_e=Qe===F)),_e?F?Qe=eT(p,m,F):Qe=F:(i0(Qe)||ct(F))&&$&&F&&(i0(F)||ct(F))&&We(F,function(Ye,Oe){tT(p,Qe,Ye,Oe)}),p.set(m,E,Qe),te&&p.ref(m,E),me&&p.rdOnly(m,E)}o(tT,"_applyDefaultValue");var Zf=_1("[[ai_dynCfg_1]]"),D8=_1("[[ai_blkDynCfg_1]]"),N8=_1("[[ai_frcDynCfg_1]]");function Q8(p){if(p){var m;if(ct(p)?(m=[],m[Lr]=p[Lr]):i0(p)&&(m={}),m)return We(p,function(E,b){m[E]=Q8(b)}),m}return p}o(Q8,"_cfgDeepCopy");function _L(p){if(p){var m=p[Zf]||p;if(m.cfg&&(m.cfg===p||m.cfg[Zf]===m))return m}return null}o(_L,"getDynamicConfigHandler");function SL(p){if(p&&(i0(p)||ct(p)))try{p[D8]=!0}catch{}return p}o(SL,"blockDynamicConversion");function rT(p,m,E){var b=!1;return E&&!p[m.blkVal]&&(b=E[N8],!b&&!E[D8]&&(b=i0(E)||ct(E))),b}o(rT,"_canMakeDynamic");function rm(p){Bo("InvalidAccess:"+p)}o(rm,"throwInvalidAccess");var wL=["push","pop","shift","unshift","splice"],j1=o(function(p,m,E,b){p&&p[Bh](3,108,"".concat(E," [").concat(m,"] failed - ")+Jt(b))},"_throwDynamicError");function ed(p,m,E){ct(m)&&Wt(wL,function(b){var B=m[b];m[b]=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];var V=B[hI](this,R);return om(p,m,E,"Patching"),V}})}o(ed,"_patchArray");function bc(p,m){var E=Je(p,m);return E&&E.get}o(bc,"_getOwnPropGetter");function P8(p,m,E,b){var B={n:E,h:[],trk:o(function(te){te&&te.fn&&(n0(B.h,te)===-1&&B.h[Mn](te),p.trk(te,B))},"trk"),clr:o(function(te){var me=n0(B.h,te);me!==-1&&B.h[Rp](me,1)},"clr")},R=!0,F=!1;function V(){R&&(F=F||rT(V,p,b),b&&!b[Zf]&&F&&(b=om(p,b,E,"Converting")),R=!1);var te=p.act;return te&&B.trk(te),b}o(V,"_getProperty"),V[p.prop]={chng:o(function(){p.add(B)},"chng")};function $(te){if(b!==te){V[p.ro]&&!p.upd&&rm("["+E+"] is read-only:"+Jt(m)),R&&(F=F||rT(V,p,b),R=!1);var me=F&&V[p.rf];if(F)if(me){We(b,function(Qe){b[Qe]=te?te[Qe]:N0});try{We(te,function(Qe,_e){nm(p,b,Qe,_e)}),te=b}catch(Qe){j1((p.hdlr||{})[Go],E,"Assigning",Qe),F=!1}}else b&&b[Zf]&&We(b,function(Qe){var _e=bc(b,Qe);if(_e){var ke=_e[p.prop];ke&&ke.chng()}});if(te!==b){var xe=te&&rT(V,p,te);!me&&xe&&(te=om(p,te,E,"Converting")),b=te,F=xe}p.add(B)}}o($,"_setProperty"),Kt(m,B.n,{g:V,s:$})}o(P8,"_createDynamicProperty");function nm(p,m,E,b){if(m){var B=bc(m,E),R=B&&!!B[p.prop];R?m[E]=b:P8(p,m,E,b)}return m}o(nm,"_setDynamicProperty");function im(p,m,E,b){if(m){var B=bc(m,E),R=B&&!!B[p.prop],F=b&&b[0],V=b&&b[1],$=b&&b[2];if(!R){if($)try{SL(m)}catch(te){j1((p.hdlr||{})[Go],E,"Blocking",te)}try{nm(p,m,E,m[E]),B=bc(m,E)}catch(te){j1((p.hdlr||{})[Go],E,"State",te)}}F&&(B[p.rf]=F),V&&(B[p.ro]=V),$&&(B[p.blkVal]=!0)}return m}o(im,"_setDynamicPropertyState");function om(p,m,E,b){try{We(m,function(B,R){nm(p,m,B,R)}),m[Zf]||(Ur(m,Zf,{get:o(function(){return p.hdlr},"get")}),ed(p,m,E))}catch(B){j1((p.hdlr||{})[Go],E,b,B)}return m}o(om,"_makeDynamicObject");var K1="[[ai_",J1="]]";function BL(p){var m=Ih(K1+"get"+p.uid+J1),E=Ih(K1+"ro"+p.uid+J1),b=Ih(K1+"rf"+p.uid+J1),B=Ih(K1+"blkVal"+p.uid+J1),R=Ih(K1+"dtl"+p.uid+J1),F=null,V=null,$;function te(_e,ke){var Ye=$.act;try{$.act=_e,_e&&_e[R]&&(Wt(_e[R],function(rt){rt.clr(_e)}),_e[R]=[]),ke({cfg:p.cfg,set:p.set.bind(p),setDf:p.setDf.bind(p),ref:p.ref.bind(p),rdOnly:p.rdOnly.bind(p)})}catch(rt){var Oe=p[Go];throw Oe&&Oe[Bh](1,107,Jt(rt)),rt}finally{$.act=Ye||null}}o(te,"_useHandler");function me(){if(F){var _e=F;F=null,V&&V[kp](),V=null;var ke=[];if(Wt(_e,function(Ye){if(Ye&&(Ye[R]&&(Wt(Ye[R],function(Oe){Oe.clr(Ye)}),Ye[R]=null),Ye.fn))try{te(Ye,Ye.fn)}catch(Oe){ke[Mn](Oe)}}),F)try{me()}catch(Ye){ke[Mn](Ye)}ke[Lr]>0&&L5("Watcher error(s): ",ke)}}o(me,"_notifyWatchers");function xe(_e){if(_e&&_e.h[Lr]>0){F||(F=[]),V||(V=Uf(function(){V=null,me()},0));for(var ke=0;ke<_e.h[Lr];ke++){var Ye=_e.h[ke];Ye&&n0(F,Ye)===-1&&F[Mn](Ye)}}}o(xe,"_addWatcher");function Qe(_e,ke){if(_e){var Ye=_e[R]=_e[R]||[];n0(Ye,ke)===-1&&Ye[Mn](ke)}}return o(Qe,"_trackHandler"),$={prop:m,ro:E,rf:b,blkVal:B,hdlr:p,add:xe,notify:me,use:te,trk:Qe},$}o(BL,"_createState");function OI(p,m){var E={fn:m,rm:o(function(){E.fn=null,p=null,m=null},"rm")};return Kt(E,"toJSON",{v:o(function(){return"WatcherHandler"+(E.fn?"":"[X]")},"v")}),p.use(E,m),E}o(OI,"_createAndUseHandler");function F8(p,m,E){var b=_L(m);if(b)return b;var B=Su("dyncfg",!0),R=m&&E!==!1?m:Q8(m),F;function V(){F.notify()}o(V,"_notifyWatchers");function $(Oe,rt,ht){try{Oe=nm(F,Oe,rt,ht)}catch(Et){j1(p,rt,"Setting value",Et)}return Oe[rt]}o($,"_setValue");function te(Oe){return OI(F,Oe)}o(te,"_watch");function me(Oe,rt){F.use(null,function(ht){var Et=F.upd;try{H(rt)||(F.upd=rt),Oe(ht)}finally{F.upd=Et}})}o(me,"_block");function xe(Oe,rt){var ht;return im(F,Oe,rt,(ht={},ht[0]=!0,ht))[rt]}o(xe,"_ref");function Qe(Oe,rt){var ht;return im(F,Oe,rt,(ht={},ht[1]=!0,ht))[rt]}o(Qe,"_rdOnly");function _e(Oe,rt){var ht;return im(F,Oe,rt,(ht={},ht[2]=!0,ht))[rt]}o(_e,"_blkPropValue");function ke(Oe,rt){return rt&&We(rt,function(ht,Et){tT(Ye,Oe,ht,Et)}),Oe}o(ke,"_applyDefaults");var Ye={uid:null,cfg:R,logger:p,notify:V,set:$,setDf:ke,watch:te,ref:xe,rdOnly:Qe,blkVal:_e,_block:me};return Kt(Ye,"uid",{c:!1,e:!1,w:!1,v:B}),F=BL(Ye),om(F,R,"config","Creating"),Ye}o(F8,"_createDynamicHandler");function L8(p,m){p?(p[Bp](m),p[Bh](2,108,m)):rm(m)}o(L8,"_logInvalidAccess");function L0(p,m,E,b){var B=F8(E,p||{},b);return m&&B.setDf(B.cfg,m),B}o(L0,"createDynamicConfig");function wu(p,m,E){var b=p[Zf]||p;return b.cfg&&(b.cfg===p||b.cfg[Zf]===b)?b[Iu](m):(L8(E,E8+Jt(p)),L0(p,null,E)[Iu](m))}o(wu,"onConfigChange");function sm(p,m){if(p&&p[Rh])return p[Rh](m)}o(sm,"runTargetUnload");function M8(p,m,E){var b;return E||(b=Op(function(B){E=B})),p&&oL(p)>0?D0(sm(p[0],m),function(){M8(pp(p,1),m,E)}):E(),b}o(M8,"doUnloadAll");var RL=500,O8="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function kL(p,m,E){return!p&&ee(p)?m:Or(p)?p:Fn(p)[wp]()==="true"}o(kL,"_stringToBoolOrDefault");function DL(p){return{mrg:!0,v:p}}o(DL,"cfgDfMerge");function nT(p,m,E){return{fb:E,isVal:p,v:m}}o(nT,"cfgDfValidate");function Cl(p,m){return{fb:m,set:kL,v:!!p}}o(Cl,"cfgDfBoolean");var UI=[qp,Gp,SI,Fh],HI=null,qI;function NL(p,m){return function(){var E=arguments,b=U8(m);if(b){var B=b.listener;B&&B[p]&&B[p][hI](B,E)}}}o(NL,"_listenerProxyFunc");function QL(){var p=ko("Microsoft");return p&&(HI=p.ApplicationInsights),HI}o(QL,"_getExtensionNamespace");function U8(p){var m=HI;return!m&&p.disableDbgExt!==!0&&(m=HI||QL()),m?m.ChromeDbgExt:null}o(U8,"getDebugExt");function PL(p){if(!qI){qI={};for(var m=0;m<UI[Lr];m++)qI[UI[m]]=NL(UI[m],p)}return qI}o(PL,"getDebugListener");var am,H8="warnToConsole",FL="AI (Internal): ",LL="AI: ",ML="AITR_",q8={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},cm=(am={},am[0]=null,am[1]="errorToConsole",am[2]=H8,am[3]="debugToConsole",am);function a0(p){return p?'"'+p[zf](/\"/g,an)+'"':an}o(a0,"_sanitizeDiagnosticText");function X1(p,m){var E=$1();if(E){var b="log";E[p]&&(b=p),Ke(E[b])&&E[b](m)}}o(X1,"_logToConsole");var GI=function(){function p(m,E,b,B){b===void 0&&(b=!1);var R=this;R[mI]=m,R[Dh]=(b?LL:FL)+m;var F=an;Jp()&&(F=s0().stringify(B));var V=(E?" message:"+a0(E):an)+(B?" props:"+a0(F):an);R[Dh]+=V}return o(p,"_InternalLogMessage"),p.dataType="MessageData",p}();function Z1(p,m){return(p||{})[Go]||new ey(m)}o(Z1,"safeGetLogger");var ey=function(){function p(m){this.identifier="DiagnosticLogger",this.queue=[];var E=0,b={},B,R,F,V,$;ca(p,this,function(te){$=xe(m||{}),te.consoleLoggingLevel=function(){return B},te[Bh]=function(ke,Ye,Oe,rt,ht){ht===void 0&&(ht=!1);var Et=new GI(Ye,Oe,ht,rt);if(V)throw Jt(Et);var Dt=cm[ke]||H8;if(H(Et[Dh]))_e("throw"+(ke===1?"Critical":"Warning"),Et);else{if(ht){var Rr=+Et[mI];!b[Rr]&&B>=ke&&(te[Dt](Et[Dh]),b[Rr]=!0)}else B>=ke&&te[Dt](Et[Dh]);me(ke,Et)}},te.debugToConsole=function(ke){X1("debug",ke),_e("warning",ke)},te[Bp]=function(ke){X1("warn",ke),_e("warning",ke)},te.errorToConsole=function(ke){X1("error",ke),_e("error",ke)},te.resetInternalMessageCount=function(){E=0,b={}},te.logInternalMessage=me,te[Rh]=function(ke){$&&$.rm(),$=null};function me(ke,Ye){if(!Qe()){var Oe=!0,rt=ML+Ye[mI];if(b[rt]?Oe=!1:b[rt]=!0,Oe&&(ke<=R&&(te.queue[Mn](Ye),E++,_e(ke===1?"error":"warn",Ye)),E===F)){var ht="Internal events throttle limit per PageView reached for this app.",Et=new GI(23,ht,!1);te.queue[Mn](Et),ke===1?te.errorToConsole(ht):te[Bp](ht)}}}o(me,"_logInternalMessage");function xe(ke){return wu(L0(ke,q8,te).cfg,function(Ye){var Oe=Ye.cfg;B=Oe[c8],R=Oe.loggingLevelTelemetry,F=Oe.maxMessageLimit,V=Oe.enableDebug})}o(xe,"_setDefaultsFromConfig");function Qe(){return E>=F}o(Qe,"_areInternalMessagesThrottled");function _e(ke,Ye){var Oe=U8(m||{});Oe&&Oe[Al]&&Oe[Al](ke,Ye)}o(_e,"_debugExtMsg")})}return o(p,"DiagnosticLogger"),p.__ieDyn=1,p}();function iT(p){return p||new ey}o(iT,"_getLogger");function Lt(p,m,E,b,B,R){R===void 0&&(R=!1),iT(p)[Bh](m,E,b,B,R)}o(Lt,"_throwInternal");function VI(p,m){iT(p)[Bp](m)}o(VI,"_warnToConsole");var ty,td,G8="toGMTString",V8="toUTCString",WI="cookie",Bu="expires",W8="isCookieUseDisabled",YI="disableCookiesUsage",Y8="_ckMgr",$I=null,lm=null,zI=null,El,$8={},z8={},j8=(ty={cookieCfg:DL((td={},td[BI]={fb:"cookieDomain",dfVal:kI},td.path={fb:"cookiePath",dfVal:kI},td.enabled=N0,td.ignoreCookies=N0,td.blockedCookies=N0,td)),cookieDomain:N0,cookiePath:N0},ty[YI]=N0,ty);function oT(){!El&&(El=B0(function(){return dp()}))}o(oT,"_getDoc");function ry(p){return p?p.isEnabled():!0}o(ry,"_isMgrEnabled");function sT(p,m){return m&&p&&ct(p.ignoreCookies)?n0(p.ignoreCookies,m)!==-1:!1}o(sT,"_isIgnoredCookie");function OL(p,m){return m&&p&&ct(p.blockedCookies)&&n0(p.blockedCookies,m)!==-1?!0:sT(p,m)}o(OL,"_isBlockedCookie");function aT(p,m){var E=m[dl];if(ee(E)){var b=void 0;H(p[W8])||(b=!p[W8]),H(p[YI])||(b=!p[YI]),E=b}return E}o(aT,"_isCfgEnabled");function UL(p,m){var E,b,B,R,F,V,$,te;p=L0(p||z8,null,m).cfg,R=wu(p,function(xe){xe.setDf(xe.cfg,j8),E=xe.ref(xe.cfg,"cookieCfg"),b=E[RI]||"/",B=E[BI],F=aT(p,E)!==!1,V=E.getCookie||HL,$=E.setCookie||um,te=E.delCookie||um},m);var me={isEnabled:o(function(){var xe=aT(p,E)!==!1&&F&&K8(m),Qe=z8[Y8];return xe&&Qe&&me!==Qe&&(xe=ry(Qe)),xe},"isEnabled"),setEnabled:o(function(xe){F=xe!==!1,E[dl]=xe},"setEnabled"),set:o(function(xe,Qe,_e,ke,Ye){var Oe=!1;if(ry(me)&&!OL(E,xe)){var rt={},ht=Ln(Qe||an),Et=yu(ht,";");if(Et!==-1&&(ht=Ln(L(Qe,Et)),rt=cT(ae(Qe,Et+1))),Kf(rt,BI,ke||B,oe,H),!ee(_e)){var Dt=vc();if(H(rt[Bu])){var Rr=Lf(),dn=Rr+_e*1e3;if(dn>0){var hn=new Date;hn.setTime(dn),Kf(rt,Bu,J8(hn,Dt?G8:V8)||J8(hn,Dt?G8:V8)||an,oe)}}Dt||Kf(rt,"max-age",an+_e,null,H)}var si=Kp();si&&si.protocol==="https:"&&(Kf(rt,"secure",null,null,H),lm===null&&(lm=!qL((Nf()||{})[yI])),lm&&Kf(rt,"SameSite","None",null,H)),Kf(rt,RI,Ye||b,null,H),$(xe,X8(ht,rt)),Oe=!0}return Oe},"set"),get:o(function(xe){var Qe=an;return ry(me)&&!sT(E,xe)&&(Qe=V(xe)),Qe},"get"),del:o(function(xe,Qe){var _e=!1;return ry(me)&&(_e=me.purge(xe,Qe)),_e},"del"),purge:o(function(xe,Qe){var _e,ke=!1;if(K8(m)){var Ye=(_e={},_e[RI]=Qe||"/",_e[Bu]="Thu, 01 Jan 1970 00:00:01 GMT",_e);vc()||(Ye["max-age"]="0"),te(xe,X8(an,Ye)),ke=!0}return ke},"purge"),unload:o(function(xe){R&&R.rm(),R=null},"unload")};return me[Y8]=me,me}o(UL,"createCookieMgr");function K8(p){if($I===null){$I=!1,!El&&oT();try{var m=El.v||{};$I=m[WI]!==void 0}catch(E){Lt(p,2,68,"Cannot access document.cookie - "+bs(E),{exception:Jt(E)})}}return $I}o(K8,"areCookiesSupported");function cT(p){var m={};if(p&&p[Lr]){var E=Ln(p)[$f](";");Wt(E,function(b){if(b=Ln(b||an),b){var B=yu(b,"=");B===-1?m[b]=null:m[Ln(L(b,B))]=Ln(ae(b,B+1))}})}return m}o(cT,"_extractParts");function J8(p,m){return Ke(p[m])?p[m]():null}o(J8,"_formatDate");function X8(p,m){var E=p||an;return We(m,function(b,B){E+="; "+b+(ee(B)?an:"="+B)}),E}o(X8,"_formatCookieValue");function HL(p){var m=an;if(!El&&oT(),El.v){var E=El.v[WI]||an;zI!==E&&($8=cT(E),zI=E),m=Ln($8[p]||an)}return m}o(HL,"_getCookieValue");function um(p,m){!El&&oT(),El.v&&(El.v[WI]=p+"="+m)}o(um,"_setCookieValue");function qL(p){return he(p)?!!(Ms(p,"CPU iPhone OS 12")||Ms(p,"iPad; CPU OS 12")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&Ms(p,"Version/")&&Ms(p,"Safari")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&r8(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ms(p,"Chrome/5")||Ms(p,"Chrome/6")||Ms(p,"UnrealEngine")&&!Ms(p,"Chrome")||Ms(p,"UCBrowser/12")||Ms(p,"UCBrowser/11")):!1}o(qL,"uaDisallowsSameSiteNone");var lT={perfEvtsSendAll:!1};function GL(p){p.h=null;var m=p.cb;p.cb=[],Wt(m,function(E){Ae(E.fn,[E.arg])})}o(GL,"_runScheduledListeners");function rd(p,m,E,b){Wt(p,function(B){B&&B[m]&&(E?(E.cb[Mn]({fn:b,arg:B}),E.h=E.h||Uf(GL,0,E)):Ae(b,[B]))})}o(rd,"_runListeners");var VL=function(){function p(m){this.listeners=[];var E,b,B=[],R={h:null,cb:[]},F=L0(m,lT);b=F[Iu](function(V){E=!!V.cfg.perfEvtsSendAll}),ca(p,this,function(V){Kt(V,"listeners",{g:o(function(){return B},"g")}),V[AI]=function($){B[Mn]($)},V[M1]=function($){for(var te=n0(B,$);te>-1;)B[Rp](te,1),te=n0(B,$)},V[qp]=function($){rd(B,qp,R,function(te){te[qp]($)})},V[Gp]=function($,te){rd(B,Gp,R,function(me){me[Gp]($,te)})},V[SI]=function($,te){rd(B,SI,te?R:null,function(me){me[SI]($,te)})},V[Fh]=function($){$&&(E||!$[P5]())&&rd(B,Fh,null,function(te){$.isAsync?Uf(function(){return te[Fh]($)},0):te[Fh]($)})},V[O5]=function($){$&&$[Lr]&&rd(B,O5,R,function(te){te[O5]($)})},V[U5]=function($){$&&$[Fp]&&rd(B,U5,R,function(te){te[U5]($)})},V[wI]=function($,te){if($>0){var me=te||0;rd(B,wI,R,function(xe){xe[wI]($,me)})}},V[Rh]=function($){var te=o(function(){b&&b.rm(),b=null,B=[],R.h&&R.h[kp](),R.h=null,R.cb=[]},"_finishUnload"),me;if(rd(B,"unload",null,function(xe){var Qe=xe[Rh]($);Qe&&(me||(me=[]),me[Mn](Qe))}),me)return Op(function(xe){return D0(M5(me),function(){te(),xe()})});te()}})}return o(p,"NotificationManager"),p.__ieDyn=1,p}(),fm="ctx",uT="ParentContextKey",ny="ChildrenContextKey",WL=null,jI=function(){function p(m,E,b){var B=this;if(B.start=Lf(),B[Wf]=m,B.isAsync=b,B[P5]=function(){return!1},Ke(E)){var R;Kt(B,"payload",{g:o(function(){return!R&&Ke(E)&&(R=E(),E=null),R},"g")})}B[jf]=function(F){return F?F===p[uT]||F===p[ny]?B[F]:(B[fm]||{})[F]:null},B[Ec]=function(F,V){if(F)if(F===p[uT])B[F]||(B[P5]=function(){return!0}),B[F]=V;else if(F===p[ny])B[F]=V;else{var $=B[fm]=B[fm]||{};$[F]=V}},B.complete=function(){var F=0,V=B[jf](p[ny]);if(ct(V))for(var $=0;$<V[Lr];$++){var te=V[$];te&&(F+=te.time)}B.time=Lf()-B.start,B.exTime=B.time-F,B.complete=function(){}}}return o(p,"PerfEvent"),p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),YL=function(){function p(m){this.ctx={},ca(p,this,function(E){E.create=function(b,B,R){return new jI(b,B,R)},E.fire=function(b){b&&(b.complete(),m&&Ke(m[Fh])&&m[Fh](b))},E[Ec]=function(b,B){if(b){var R=E[fm]=E[fm]||{};R[b]=B}},E[jf]=function(b){return(E[fm]||{})[b]}})}return o(p,"PerfManager"),p.__ieDyn=1,p}(),Il="CoreUtils.doPerf";function dm(p,m,E,b,B){if(p){var R=p;if(R[H1]&&(R=R[H1]()),R){var F=void 0,V=R[jf](Il);try{if(F=R.create(m(),b,B),F){if(V&&F[Ec]&&(F[Ec](jI[uT],V),V[jf]&&V[Ec])){var $=V[jf](jI[ny]);$||($=[],V[Ec](jI[ny],$)),$[Mn](F)}return R[Ec](Il,F),E(F)}}catch(te){F&&F[Ec]&&F[Ec]("exception",te)}finally{F&&R.fire(F),R[Ec](Il,V)}}}return E()}o(dm,"doPerf");function Wo(){return WL}o(Wo,"getGblPerfMgr");var KI="00000000000000000000000000000000",hm="0000000000000000";function JI(p,m,E){return p&&p[Lr]===m&&p!==E?!!p.match(/^[\da-f]*$/i):!1}o(JI,"_isValid");function nd(p){return JI(p,32,KI)}o(nd,"isValidTraceId");function Uh(p){return JI(p,16,hm)}o(Uh,"isValidSpanId");var iy=R8("plugin");function id(p){return iy.get(p,"state",{},!0)}o(id,"_getPluginState");function fT(p,m){for(var E=[],b=null,B=p[pl](),R;B;){var F=B[Np]();if(F){b&&b[Yf]&&F[Q0]&&b[Yf](F),R=id(F);var V=!!R[fl];F[fl]&&(V=F[fl]()),V||E[Mn](F),b=F,B=B[pl]()}}Wt(E,function($){var te=p[Vo]();$[L1](p.getCfg(),te,m,p[pl]()),R=id($),!$[Vo]&&!R[Vo]&&(R[Vo]=te),R[fl]=!0,delete R[hl]})}o(fT,"initializePlugins");function dT(p){return p.sort(function(m,E){var b=0;if(E){var B=E[Q0];m[Q0]?b=B?m[Hp]-E[Hp]:1:B&&(b=-1)}else b=m?1:-1;return b})}o(dT,"sortPlugins");function $L(p){var m={};return{getName:o(function(){return m[Wf]},"getName"),setName:o(function(E){p&&p.setName(E),m[Wf]=E},"setName"),getTraceId:o(function(){return m.traceId},"getTraceId"),setTraceId:o(function(E){p&&p.setTraceId(E),nd(E)&&(m.traceId=E)},"setTraceId"),getSpanId:o(function(){return m.spanId},"getSpanId"),setSpanId:o(function(E){p&&p.setSpanId(E),Uh(E)&&(m.spanId=E)},"setSpanId"),getTraceFlags:o(function(){return m[u8]},"getTraceFlags"),setTraceFlags:o(function(E){p&&p.setTraceFlags(E),m[u8]=E},"setTraceFlags")}}o($L,"createDistributedTraceContext");var zL="TelemetryPluginChain",Z8="_hasRun",hT="_getTelCtx",eB=0;function jL(p,m,E){for(;p;){if(p[Np]()===E)return p;p=p[pl]()}return w([E],m.config||{},m)}o(jL,"_getNextProxyStart");function AT(p,m,E,b){var B=null,R=[];m||(m=L0({},null,E[Go])),b!==null&&(B=b?jL(p,E,b):p);var F={_next:$,ctx:{core:o(function(){return E},"core"),diagLog:o(function(){return Z1(E,m.cfg)},"diagLog"),getCfg:o(function(){return m.cfg},"getCfg"),getExtCfg:me,getConfig:xe,hasNext:o(function(){return!!B},"hasNext"),getNext:o(function(){return B},"getNext"),setNext:o(function(_e){B=_e},"setNext"),iterate:Qe,onComplete:V}};function V(_e,ke){for(var Ye=[],Oe=2;Oe<arguments.length;Oe++)Ye[Oe-2]=arguments[Oe];_e&&R[Mn]({func:_e,self:H(ke)?F.ctx:ke,args:Ye})}o(V,"_addOnComplete");function $(){var _e=B;if(B=_e?_e[pl]():null,!_e){var ke=R;ke&&ke[Lr]>0&&(Wt(ke,function(Ye){try{Ye.func.call(Ye.self,Ye.args)}catch(Oe){Lt(E[Go],2,73,"Unexpected Exception during onComplete - "+Jt(Oe))}}),R=[])}return _e}o($,"_moveNext");function te(_e,ke){var Ye=null,Oe=m.cfg;if(Oe&&_e){var rt=Oe[Ph];!rt&&ke&&(rt={}),Oe[Ph]=rt,rt=m.ref(Oe,Ph),rt&&(Ye=rt[_e],!Ye&&ke&&(Ye={}),rt[_e]=Ye,Ye=m.ref(rt,_e))}return Ye}o(te,"_getExtCfg");function me(_e,ke){var Ye=te(_e,!0);return ke&&We(ke,function(Oe,rt){if(ee(Ye[Oe])){var ht=m.cfg[Oe];(ht||!ee(ht))&&(Ye[Oe]=ht)}tT(m,Ye,Oe,rt)}),m.setDf(Ye,ke)}o(me,"_resolveExtCfg");function xe(_e,ke,Ye){Ye===void 0&&(Ye=!1);var Oe,rt=te(_e,!1),ht=m.cfg;return rt&&(rt[ke]||!ee(rt[ke]))?Oe=rt[ke]:(ht[ke]||!ee(ht[ke]))&&(Oe=ht[ke]),Oe||!ee(Oe)?Oe:Ye}o(xe,"_getConfig");function Qe(_e){for(var ke;ke=F._next();){var Ye=ke[Np]();Ye&&_e(Ye)}}return o(Qe,"_iterateChain"),F}o(AT,"_createInternalContext");function Am(p,m,E,b){var B=L0(m),R=AT(p,B,E,b),F=R.ctx;function V(te){var me=R._next();return me&&me[Q0](te,F),!me}o(V,"_processNext");function $(te,me){return te===void 0&&(te=null),ct(te)&&(te=w(te,B.cfg,E,me)),Am(te||F[pl](),B.cfg,E,me)}return o($,"_createNew"),F[Ls]=V,F[kh]=$,F}o(Am,"createProcessTelemetryContext");function I(p,m,E){var b=L0(m.config),B=AT(p,b,m,E),R=B.ctx;function F($){var te=B._next();return te&&te[Rh](R,$),!te}o(F,"_processNext");function V($,te){return $===void 0&&($=null),ct($)&&($=w($,b.cfg,m,te)),I($||R[pl](),m,te)}return o(V,"_createNew"),R[Ls]=F,R[kh]=V,R}o(I,"createProcessTelemetryUnloadContext");function x(p,m,E){var b=L0(m.config),B=AT(p,b,m,E),R=B.ctx;function F($){return R.iterate(function(te){Ke(te[vu])&&te[vu](R,$)})}o(F,"_processNext");function V($,te){return $===void 0&&($=null),ct($)&&($=w($,b.cfg,m,te)),x($||R[pl](),m,te)}return o(V,"_createNew"),R[Ls]=F,R[kh]=V,R}o(x,"createProcessTelemetryUpdateContext");function w(p,m,E,b){var B=null,R=!b;if(ct(p)&&p[Lr]>0){var F=null;Wt(p,function(V){if(!R&&b===V&&(R=!0),R&&V&&Ke(V[Q0])){var $=N(V,m,E);B||(B=$),F&&F._setNext($),F=$}})}return b&&!B?w([b],m,E):B}o(w,"createTelemetryProxyChain");function N(p,m,E){var b=null,B=Ke(p[Q0]),R=Ke(p[Yf]),F;p?F=p[Vf]+"-"+p[Hp]+"-"+eB++:F="Unknown-0-"+eB++;var V={getPlugin:o(function(){return p},"getPlugin"),getNext:o(function(){return b},"getNext"),processTelemetry:me,unload:xe,update:Qe,_id:F,_setNext:o(function(_e){b=_e},"_setNext")};function $(){var _e;return p&&Ke(p[hT])&&(_e=p[hT]()),_e||(_e=Am(V,m,E)),_e}o($,"_getTelCtx");function te(_e,ke,Ye,Oe,rt){var ht=!1,Et=p?p[Vf]:zL,Dt=_e[Z8];return Dt||(Dt=_e[Z8]={}),_e.setNext(b),p&&dm(_e[Vo](),function(){return Et+":"+Ye},function(){Dt[F]=!0;try{var Rr=b?b._id:an;Rr&&(Dt[Rr]=!1),ht=ke(_e)}catch(hn){var dn=b?Dt[b._id]:!0;dn&&(ht=!0),(!b||!dn)&&Lt(_e[Al](),1,73,"Plugin ["+Et+"] failed during "+Ye+" - "+Jt(hn)+", run flags: "+Jt(Dt))}},Oe,rt),ht}o(te,"_processChain");function me(_e,ke){ke=ke||$();function Ye(Oe){if(!p||!B)return!1;var rt=id(p);return rt[hl]||rt[_I]?!1:(R&&p[Yf](b),p[Q0](_e,Oe),!0)}o(Ye,"_callProcessTelemetry"),te(ke,Ye,"processTelemetry",function(){return{item:_e}},!_e.sync)||ke[Ls](_e)}o(me,"_processTelemetry");function xe(_e,ke){function Ye(){var Oe=!1;if(p){var rt=id(p),ht=p[Vo]||rt[Vo];p&&(!ht||ht===_e.core())&&!rt[hl]&&(rt[Vo]=null,rt[hl]=!0,rt[fl]=!1,p[hl]&&p[hl](_e,ke)===!0&&(Oe=!0))}return Oe}o(Ye,"_callTeardown"),te(_e,Ye,"unload",function(){},ke.isAsync)||_e[Ls](ke)}o(xe,"_unloadPlugin");function Qe(_e,ke){function Ye(){var Oe=!1;if(p){var rt=id(p),ht=p[Vo]||rt[Vo];p&&(!ht||ht===_e.core())&&!rt[hl]&&p[vu]&&p[vu](_e,ke)===!0&&(Oe=!0)}return Oe}o(Ye,"_callUpdate"),te(_e,Ye,"update",function(){},!1)||_e[Ls](ke)}return o(Qe,"_updatePlugin"),xr(V)}o(N,"createTelemetryPluginProxy");function Y(){var p=[];function m(b){b&&p[Mn](b)}o(m,"_addHandler");function E(b,B){Wt(p,function(R){try{R(b,B)}catch(F){Lt(b[Al](),2,73,"Unexpected error calling unload handler - "+Jt(F))}}),p=[]}return o(E,"_runHandlers"),{add:m,run:E}}o(Y,"createUnloadHandlerContainer");function fe(){var p=[];function m(b){var B=p;p=[],Wt(B,function(R){try{(R.rm||R.remove).call(R)}catch(F){Lt(b,2,73,"Unloading:"+Jt(F))}})}o(m,"_doUnload");function E(b){b&&Ap(p,b)}return o(E,"_addHook"),{run:m,add:E}}o(fe,"createUnloadHookContainer");var Ce,we="getPlugin",Le=(Ce={},Ce[Ph]={isVal:kI,v:{}},Ce),Ze=function(){function p(){var m=this,E,b,B,R,F;te(),ca(p,m,function(me){me[L1]=function(xe,Qe,_e,ke){$(xe,Qe,ke),E=!0},me[hl]=function(xe,Qe){var _e=me[Vo];if(!_e||xe&&_e!==xe[Vo]())return;var ke,Ye=!1,Oe=xe||I(null,_e,B&&B[we]?B[we]():B),rt=Qe||{reason:0,isAsync:!1};function ht(){Ye||(Ye=!0,R.run(Oe,Qe),F.run(Oe[Al]()),ke===!0&&Oe[Ls](rt),te())}return o(ht,"_unloadCallback"),!me[gI]||me[gI](Oe,rt,ht)!==!0?ht():ke=!0,ke},me[vu]=function(xe,Qe){var _e=me[Vo];if(!_e||xe&&_e!==xe[Vo]())return;var ke,Ye=!1,Oe=xe||x(null,_e,B&&B[we]?B[we]():B),rt=Qe||{reason:0};function ht(){Ye||(Ye=!0,$(Oe.getCfg(),Oe.core(),Oe[pl]()))}return o(ht,"_updateCallback"),!me._doUpdate||me._doUpdate(Oe,rt,ht)!==!0?ht():ke=!0,ke},G1(me,"_addUnloadCb",function(){return R},"add"),G1(me,"_addHook",function(){return F},"add"),Kt(me,"_unloadHooks",{g:o(function(){return F},"g")})}),m[Al]=function(me){return V(me)[Al]()},m[fl]=function(){return E},m.setInitialized=function(me){E=me},m[Yf]=function(me){B=me},m[Ls]=function(me,xe){xe?xe[Ls](me):B&&Ke(B[Q0])&&B[Q0](me,null)},m._getTelCtx=V;function V(me){me===void 0&&(me=null);var xe=me;if(!xe){var Qe=b||Am(null,{},m[Vo]);B&&B[we]?xe=Qe[kh](null,B[we]):xe=Qe[kh](null,B)}return xe}o(V,"_getTelCtx");function $(me,xe,Qe){L0(me,Le,Z1(xe)),!Qe&&xe&&(Qe=xe[Qp]()[pl]());var _e=B;B&&B[we]&&(_e=B[we]()),m[Vo]=xe,b=Am(Qe,me,xe,_e)}o($,"_setDefaults");function te(){E=!1,m[Vo]=null,b=null,B=null,F=fe(),R=Y()}o(te,"_initDefaults")}return o(p,"BaseTelemetryPlugin"),p.__ieDyn=1,p}();function St(p,m,E){var b={id:m,fn:E};Ap(p,b);var B={remove:o(function(){Wt(p,function(R,F){if(R.id===b.id)return p[Rp](F,1),-1})},"remove")};return B}o(St,"_addInitializer");function Ar(p,m,E){for(var b=!1,B=p[Lr],R=0;R<B;++R){var F=p[R];if(F)try{if(F.fn[hI](null,[m])===!1){b=!0;break}}catch(V){Lt(E,2,64,"Telemetry initializer failed: "+bs(V),{exception:Jt(V)},!0)}}return!b}o(Ar,"_runInitializers");var wr=function(p){F1(m,p);function m(){var E=p.call(this)||this;E.identifier="TelemetryInitializerPlugin",E.priority=199;var b,B;R(),ca(m,E,function(F,V){F.addTelemetryInitializer=function($){return St(B,b++,$)},F[Q0]=function($,te){Ar(B,$,te?te[Al]():F[Al]())&&F[Ls]($,te)},F[gI]=function(){R()}});function R(){b=0,B=[]}return o(R,"_initDefaults"),E}return o(m,"TelemetryInitializerPlugin"),m.__ieDyn=1,m}(Ze),Bt,Pt="Plugins must provide initialize method",Tr="_notificationManager",pr="SDK is still unloading...",cn="SDK is not initialized",jn=100,In=5e4,os=Wr((Bt={cookieCfg:{}},Bt[Up]={rdOnly:!0,ref:!0,v:[]},Bt[Tu]={rdOnly:!0,ref:!0,v:[]},Bt[Ph]={ref:!0,v:{}},Bt[Ic]=N0,Bt.loggingLevelConsole=0,Bt.diagnosticLogInterval=N0,Bt));function pm(p,m){return new YL(m)}o(pm,"_createPerfManager");function oy(p,m,E){var b=[],B=[],R={};return Wt(E,function(F){(ee(F)||ee(F[L1]))&&po(Pt);var V=F[Hp],$=F[Vf];F&&V&&(ee(R[V])?R[V]=$:VI(p,"Two extensions have same priority #"+V+" - "+R[V]+", "+$)),!V||V<m?b[Mn](F):B[Mn](F)}),{core:b,channels:B}}o(oy,"_validateExtensions");function pT(p,m){var E=!1;return Wt(m,function(b){if(b===p)return E=!0,-1}),E}o(pT,"_isPluginPresent");function XI(p,m,E,b){E&&We(E,function(B,R){b&&i0(R)&&i0(m[B])&&XI(p,m[B],R,b),b&&i0(R)&&i0(m[B])?XI(p,m[B],R,b):p.set(m,B,R)})}o(XI,"_deepMergeConfig");function tB(p,m){var E=null,b=-1;return Wt(p,function(B,R){if(B.w===m)return E=B,b=R,-1}),{i:b,l:E}}o(tB,"_findWatcher");function KL(p,m){var E=tB(p,m).l;return E||(E={w:m,rm:o(function(){var b=tB(p,m);b.i!==-1&&p[Rp](b.i,1)},"rm")},p[Mn](E)),E}o(KL,"_addDelayedCfgListener");function mT(p,m,E){Wt(m,function(b){var B=wu(p,b.w,E);delete b.w,b.rm=function(){B.rm()}})}o(mT,"_registerDelayedCfgListener");function rB(p,m,E,b){return m.add(p[Iu](function(B){var R=B.cfg.disableDbgExt;R===!0&&b&&(E[M1](b),b=null),E&&!b&&R!==!0&&(b=PL(B.cfg),E[AI](b))})),b}o(rB,"_initDebugListener");function nB(p){return Kt({rm:o(function(){p.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(p)+">"},"v")})}o(nB,"_createUnloadHook");var at=function(){function p(){var m,E,b,B,R,F,V,$,te,me,xe,Qe,_e,ke,Ye,Oe,rt,ht,Et,Dt,Rr,dn,hn,si,ir,Gt,An,oo,wi,At,Vt,Kn;ca(p,this,function(st){qe(),st._getDbgPlgTargets=function(){return[hn,B]},st[fl]=function(){return E},st.activeStatus=function(){return Gt},st._setPendingStatus=function(){Gt=3},st[L1]=function(ze,kt,Er,Ut){_e&&po(pr),st[fl]()&&po("Core cannot be initialized more than once"),m=L0(ze,os,Er||st[Go],!1),ze=m.cfg,fa(m[Iu](function(gi){var Vi=gi.cfg,Oa=Gt===3;if(!Oa){oo=Vi.initInMemoMaxSize||jn;var M0=Vi.instrumentationKey,Du=Vi.endpointUrl;if(ee(M0)){Rr=null,Gt=Gf.INACTIVE;var Nu="Please provide instrumentation key";E?(Lt(b,1,100,Nu),yo()):po(Nu);return}var f2=[];if(br(M0)?(f2[Mn](M0),Rr=null):Rr=M0,br(Du)?(f2[Mn](Du),An=null):An=Du,f2[Lr]){wi=!1,Gt=3;var FT=kI(Vi.initTimeOut)?Vi.initTimeOut:In,wM=o0(f2);Uf(function(){wi||mr()},FT),D0(wM,function(_m){try{if(wi)return;if(!_m.rejected){var Sm=_m[Dp];if(Sm&&Sm[Lr]){var SB=Sm[0];if(Rr=SB&&SB[Dp],Sm[Lr]>1){var wB=Sm[1];An=wB&&wB[Dp]}}Rr&&(ze.instrumentationKey=Rr,ze.endpointUrl=An)}mr()}catch{wi||mr()}})}else mr();var d2=gi.ref(gi.cfg,Ph);We(d2,function(_m){gi.ref(d2,_m)})}})),R=Ut,Et=rB(m,ht,R&&st[Cc](),Et),xm(),st[Go]=Er;var Ir=ze[Up];if(me=[],me[Mn].apply(me,s8(s8([],kt,!1),Ir)),xe=ze[Tu],Co(null),(!Qe||Qe[Lr]===0)&&po("No "+Tu+" available"),xe&&xe[Lr]>1){var di=st[Np]("TeeChannelController");(!di||!di.plugin)&&Lt(b,1,28,"TeeChannel required")}mT(ze,dn,b),dn=null,E=!0,Gt===Gf.ACTIVE&&yo()},st.getChannels=function(){var ze=[];return Qe&&Wt(Qe,function(kt){ze[Mn](kt)}),xr(ze)},st.track=function(ze){dm(st[H1](),function(){return"AppInsightsCore:track"},function(){ze===null&&(so(ze),po("Invalid telemetry item")),!ze[Wf]&&ee(ze[Wf])&&(so(ze),po("telemetry name required")),ze.iKey=ze.iKey||Rr,ze.time=ze.time||q1(new Date),ze.ver=ze.ver||"4.0",!_e&&st[fl]()&&Gt===Gf.ACTIVE?cs()[Ls](ze):Gt!==Gf.INACTIVE&&B[Lr]<=oo&&B[Mn](ze)},function(){return{item:ze}},!ze.sync)},st[Qp]=cs,st[Cc]=function(){return R||(R=new VL(m.cfg),st[Tr]=R),R},st[AI]=function(ze){st.getNotifyMgr()[AI](ze)},st[M1]=function(ze){R&&R[M1](ze)},st.getCookieMgr=function(){return $||($=UL(m.cfg,st[Go])),$},st.setCookieMgr=function(ze){$!==ze&&(sm($,!1),$=ze)},st[H1]=function(){return F||V||Wo()},st.setPerfMgr=function(ze){F=ze},st.eventCnt=function(){return B[Lr]},st.releaseQueue=function(){if(E&&B[Lr]>0){var ze=B;B=[],Gt===2?Wt(ze,function(kt){kt.iKey=kt.iKey||Rr,cs()[Ls](kt)}):Lt(b,2,20,"core init status is not active")}},st.pollInternalLogs=function(ze){return Ye=ze||null,Kn=!1,At&&At[kp](),ai(!0)};function mr(){wi=!0,ee(Rr)?(Gt=Gf.INACTIVE,Lt(b,1,112,"ikey can't be resolved from promises")):Gt=Gf.ACTIVE,yo()}o(mr,"_setStatus");function yo(){E&&(st.releaseQueue(),st.pollInternalLogs())}o(yo,"_releaseQueues");function ai(ze){if((!At||!At[dl])&&!Kn){var kt=ze||b&&b.queue[Lr]>0;kt&&(Vt||(Vt=!0,fa(m[Iu](function(Er){var Ut=Er.cfg.diagnosticLogInterval;(!Ut||!(Ut>0))&&(Ut=1e4);var Ir=!1;At&&(Ir=At[dl],At[kp]()),At=sI(bm,Ut),At.unref(),At[dl]=Ir}))),At[dl]=!0)}return At}o(ai,"_startLogPoller"),st[a8]=function(){Kn=!0,At&&At[kp](),bm()},q5(st,function(){return ke},["addTelemetryInitializer"]),st[Rh]=function(ze,kt,Er){ze===void 0&&(ze=!0),E||po(cn),_e&&po(pr);var Ut={reason:50,isAsync:ze,flushComplete:!1},Ir;ze&&!kt&&(Ir=Op(function(Vi){kt=Vi}));var di=I(bl(),st);di[pI](function(){ht.run(st[Go]),M8([$,R,b],ze,function(){qe(),kt&&kt(Ut)})},st);function gi(Vi){Ut.flushComplete=Vi,_e=!0,rt.run(di,Ut),st[a8](),di[Ls](Ut)}return o(gi,"_doUnload"),bm(),Ru(ze,gi,6,Er),Ir},st[Np]=qs,st.addPlugin=function(ze,kt,Er,Ut){if(!ze){Ut&&Ut(!1),Tm(Pt);return}var Ir=qs(ze[Vf]);if(Ir&&!kt){Ut&&Ut(!1),Tm("Plugin ["+ze[Vf]+"] is already loaded!");return}var di={reason:16};function gi(M0){me[Mn](ze),di.added=[ze],Co(di),Ut&&Ut(!0)}if(o(gi,"_addPlugin"),Ir){var Vi=[Ir.plugin],Oa={reason:2,isAsync:!!Er};c0(Vi,Oa,function(M0){M0?(di.removed=Vi,di.reason|=32,gi()):Ut&&Ut(!1)})}else gi()},st.updateCfg=function(ze,kt){kt===void 0&&(kt=!0);var Er;if(st[fl]()){Er={reason:1,cfg:m.cfg,oldCfg:tI({},m.cfg),newConfig:tI({},ze),merge:kt},ze=Er.newConfig;var Ut=m.cfg;ze[Up]=Ut[Up],ze[Tu]=Ut[Tu]}m._block(function(Ir){var di=Ir.cfg;XI(Ir,di,ze,kt),kt||We(di,function(gi){ut(ze,gi)||Ir.set(di,gi,N0)}),Ir.setDf(di,os)},!0),m.notify(),Er&&ku(Er)},st.evtNamespace=function(){return Oe},st.flush=Ru,st.getTraceCtx=function(ze){return Dt||(Dt=$L()),Dt},st.setTraceCtx=function(ze){Dt=ze||null},st.addUnloadHook=fa,G1(st,"addUnloadCb",function(){return rt},"add"),st.onCfgChange=function(ze){var kt;return E?kt=wu(m.cfg,ze,st[Go]):kt=KL(dn,ze),nB(kt)},st.getWParam=function(){return Df()||m.cfg.enableWParam?0:-1};function Hs(){var ze={};si=[];var kt=o(function(Er){Er&&Wt(Er,function(Ut){if(Ut[Vf]&&Ut[Pp]&&!ze[Ut.identifier]){var Ir=Ut[Vf]+"="+Ut[Pp];si[Mn](Ir),ze[Ut.identifier]=Ut}})},"_addPluginVersions");kt(Qe),xe&&Wt(xe,function(Er){kt(Er)}),kt(me)}o(Hs,"_setPluginVersions");function qe(){E=!1,m=L0({},os,st[Go]),m.cfg[c8]=1,Kt(st,"config",{g:o(function(){return m.cfg},"g"),s:o(function(kt){st.updateCfg(kt,!1)},"s")}),Kt(st,"pluginVersionStringArr",{g:o(function(){return si||Hs(),si},"g")}),Kt(st,"pluginVersionString",{g:o(function(){return ir||(si||Hs(),ir=si.join(";")),ir||an},"g")}),Kt(st,"logger",{g:o(function(){return b||(b=new ey(m.cfg),m[Go]=b),b},"g"),s:o(function(kt){m[Go]=kt,b!==kt&&(sm(b,!1),b=kt)},"s")}),st[Go]=new ey(m.cfg),hn=[];var ze=st.config[Up]||[];ze.splice(0,ze[Lr]),Ap(ze,hn),ke=new wr,B=[],sm(R,!1),R=null,F=null,V=null,sm($,!1),$=null,te=null,me=[],xe=null,Qe=null,_e=!1,Ye=null,Oe=Su("AIBaseCore",!0),rt=Y(),Dt=null,Rr=null,ht=fe(),dn=[],ir=null,si=null,Kn=!1,At=null,Vt=!1,Gt=0,An=null,oo=null,wi=!1}o(qe,"_initDefaults");function cs(){var ze=Am(bl(),m.cfg,st);return ze[pI](ai),ze}o(cs,"_createTelCtx");function Co(ze){var kt=oy(st[Go],RL,me);te=null,ir=null,si=null,Qe=(xe||[])[0]||[],Qe=dT(Ap(Qe,kt[Tu]));var Er=Ap(dT(kt[Vo]),Qe);hn=xr(Er);var Ut=st.config[Up]||[];Ut.splice(0,Ut[Lr]),Ap(Ut,hn);var Ir=cs();Qe&&Qe[Lr]>0&&fT(Ir[kh](Qe),Er),fT(Ir,Er),ze&&ku(ze)}o(Co,"_initPluginChain");function qs(ze){var kt=null,Er=null,Ut=[];return Wt(hn,function(Ir){if(Ir[Vf]===ze&&Ir!==ke)return Er=Ir,-1;Ir.getChannel&&Ut[Mn](Ir)}),!Er&&Ut[Lr]>0&&Wt(Ut,function(Ir){if(Er=Ir.getChannel(ze),!Er)return-1}),Er&&(kt={plugin:Er,setEnabled:o(function(Ir){id(Er)[_I]=!Ir},"setEnabled"),isEnabled:o(function(){var Ir=id(Er);return!Ir[hl]&&!Ir[_I]},"isEnabled"),remove:o(function(Ir,di){Ir===void 0&&(Ir=!0);var gi=[Er],Vi={reason:1,isAsync:Ir};c0(gi,Vi,function(Oa){Oa&&Co({reason:32,removed:gi}),di&&di(Oa)})},"remove")}),kt}o(qs,"_getPlugin");function bl(){if(!te){var ze=(hn||[]).slice();n0(ze,ke)===-1&&ze[Mn](ke),te=w(dT(ze),m.cfg,st)}return te}o(bl,"_getPluginChain");function c0(ze,kt,Er){if(ze&&ze[Lr]>0){var Ut=w(ze,m.cfg,st),Ir=I(Ut,st);Ir[pI](function(){var di=!1,gi=[];Wt(me,function(Oa,M0){pT(Oa,ze)?di=!0:gi[Mn](Oa)}),me=gi,ir=null,si=null;var Vi=[];xe&&(Wt(xe,function(Oa,M0){var Du=[];Wt(Oa,function(Nu){pT(Nu,ze)?di=!0:Du[Mn](Nu)}),Vi[Mn](Du)}),xe=Vi),Er&&Er(di),ai()}),Ir[Ls](kt)}else Er(!1)}o(c0,"_removePlugins");function bm(){if(b&&b.queue){var ze=b.queue.slice(0);b.queue[Lr]=0,Wt(ze,function(kt){var Er={name:Ye||"InternalMessageId: "+kt[mI],iKey:Rr,time:q1(new Date),baseType:GI.dataType,baseData:{message:kt[Dh]}};st.track(Er)})}}o(bm,"_flushInternalLogs");function Ru(ze,kt,Er,Ut){var Ir=1,di=!1,gi=null;Ut=Ut||5e3;function Vi(){Ir--,di&&Ir===0&&(gi&&gi[kp](),gi=null,kt&&kt(di),kt=null)}if(o(Vi,"doCallback"),Qe&&Qe[Lr]>0){var Oa=cs()[kh](Qe);Oa.iterate(function(M0){if(M0.flush){Ir++;var Du=!1;M0.flush(ze,function(){Du=!0,Vi()},Er)||Du||(ze&&gi==null?gi=Uf(function(){gi=null,Vi()},Ut):Vi())}})}return di=!0,Vi(),!0}o(Ru,"_flushChannels");function xm(){var ze;fa(m[Iu](function(kt){var Er=kt.cfg.enablePerfMgr;if(Er){var Ut=kt.cfg[Ic];(ze!==Ut||!ze)&&(Ut||(Ut=pm),I8(kt.cfg,Ic,Ut),ze=Ut,V=null),!F&&!V&&Ke(Ut)&&(V=Ut(st,st[Cc]()))}else V=null,ze=null}))}o(xm,"_initPerfManager");function ku(ze){var kt=x(bl(),st);kt[pI](ai),(!st._updateHook||st._updateHook(kt,ze)!==!0)&&kt[Ls](ze)}o(ku,"_doUpdate");function Tm(ze){var kt=st[Go];kt?(Lt(kt,2,73,ze),ai()):po(ze)}o(Tm,"_logOrThrowError");function so(ze){var kt=st[Cc]();kt&&kt[Gp]([ze],2)}o(so,"_notifyInvalidEvent");function fa(ze){ht.add(ze)}o(fa,"_addUnloadHook")})}return o(p,"AppInsightsCore"),p.__ieDyn=1,p}();function Ot(p,m){try{if(p&&p!==""){var E=s0().parse(p);if(E&&E[l8]&&E[l8]>=E.itemsAccepted&&E.itemsReceived-E.itemsAccepted===E.errors[Lr])return E}}catch(b){Lt(m,1,43,"Cannot parse the response. "+(b[Wf]||Jt(b)),{response:p})}return null}o(Ot,"parseResponse");var tr="",bi="NoResponseBody",ss="&"+bi+"=true",go="POST",as=function(){function p(){var m=0,E,b,B,R,F,V,$,te,me,xe,Qe,_e,ke,Ye;ca(p,this,function(Oe,rt){var ht=!0;wi(),Oe[L1]=function(At,Vt){B=Vt,b&&Lt(B,1,28,"Sender is already initialized"),Oe.SetConfig(At),b=!0},Oe._getDbgPlgTargets=function(){return[b,R,V,E]},Oe.SetConfig=function(At){try{if(F=At.senderOnCompleteCallBack||{},V=!!At.disableCredentials,$=At.fetchCredentials,R=!!At.isOneDs,E=!!At.enableSendPromise,me=!!At.disableXhr,xe=!!At.disableBeacon,Qe=!!At.disableBeaconSync,Ye=At.timeWrapper,ke=!!At.addNoResponse,_e=!!At.disableFetchKeepAlive,te={sendPOST:Gt},R||(ht=!1),V){var Vt=Kp();Vt&&Vt.protocol&&Vt.protocol[wp]()==="file:"&&(ht=!1)}return!0}catch{}return!1},Oe.getSyncFetchPayload=function(){return m},Oe.getSenderInst=function(At,Vt){return At&&At[Lr]?dn(At,Vt):null},Oe.getFallbackInst=function(){return te},Oe[gI]=function(At,Vt){wi()};function Et(At,Vt){hn(Vt,200,{},At)}o(Et,"_onSuccess");function Dt(At,Vt){Lt(B,2,26,"Failed to send telemetry.",{message:At}),hn(Vt,400,{})}o(Dt,"_onError");function Rr(At){Dt("No endpoint url is provided for the batch",At)}o(Rr,"_onNoPayloadUrl");function dn(At,Vt){for(var Kn=0,st=null,mr=0;st==null&&mr<At[Lr];)Kn=At[mr],!me&&Kn===1?j5()?st=oo:K5()&&(st=Gt):Kn===2&&z1(Vt)&&(!Vt||!_e)?st=An:Kn===3&&Xf()&&(Vt?!Qe:!xe)&&(st=ir),mr++;return st?{_transport:Kn,_isSync:Vt,sendPOST:st}:null}o(dn,"_getSenderInterface");function hn(At,Vt,Kn,st){try{At&&At(Vt,Kn,st)}catch{}}o(hn,"_doOnComplete");function si(At,Vt){var Kn=Nf(),st=At[bu];if(!st)return Rr(Vt),!0;st=At[bu]+(ke?ss:tr);var mr=At[Fp],yo=R?mr:new Blob([mr],{type:"text/plain;charset=UTF-8"}),ai=Kn.sendBeacon(st,yo);return ai}o(si,"_doBeaconSend");function ir(At,Vt,Kn){var st=At[Fp];try{if(st)if(si(At,Vt))Et(tr,Vt);else{var mr=F&&F.beaconOnRetry;mr&&Ke(mr)?mr(At,Vt,si):(te&&te.sendPOST(At,Vt,!0),Lt(B,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(yo){R&&VI(B,"Failed to send telemetry using sendBeacon API. Ex:"+Jt(yo)),hn(Vt,R?0:400,{},tr)}}o(ir,"_beaconSender");function Gt(At,Vt,Kn){var st,mr,yo,ai=At[F5]||{};!Kn&&E&&(st=Op(function(Co,qs){mr=Co,yo=qs})),R&&Kn&&At.disableXhrSync&&(Kn=!1);var Hs=At[bu];if(!Hs){Rr(Vt),mr&&mr(!1);return}var qe=W5(go,Hs,ht,!0,Kn,At[xu]);R||qe.setRequestHeader("Content-type","application/json"),Wt(vt(ai),function(Co){qe.setRequestHeader(Co,ai[Co])}),qe.onreadystatechange=function(){R||(cs(qe),qe.readyState===4&&mr&&mr(!0))},qe.onload=function(){R&&cs(qe)};function cs(Co){var qs=F&&F.xhrOnComplete,bl=qs&&Ke(qs);if(bl)qs(Co,Vt,At);else{var c0=DI(Co);hn(Vt,Co[O1],Mh(Co,R),c0)}}return o(cs,"_doOnReadyFunc"),qe.onerror=function(Co){hn(Vt,R?qe[O1]:400,Mh(qe,R),R?tr:NI(qe)),yo&&yo(Co)},qe.ontimeout=function(){hn(Vt,R?qe[O1]:500,Mh(qe,R),R?tr:NI(qe)),mr&&mr(!1)},qe.send(At[Fp]),st}o(Gt,"_xhrSender");function An(At,Vt,Kn){var st,mr=At[bu],yo=At[Fp],ai=R?yo:new Blob([yo],{type:"application/json"}),Hs,qe,cs,Co=new Headers,qs=yo[Lr],bl=!1,c0=!1,bm=At[F5]||{},Ru=(st={method:go,body:ai},st[O8]=!0,st);At.headers&&vt(At.headers)[Lr]>0&&(Wt(vt(bm),function(so){Co.append(so,bm[so])}),Ru[F5]=Co),$?Ru.credentials=$:ht&&R&&(Ru.credentials="include"),Kn&&(Ru.keepalive=!0,m+=qs,R?At._sendReason===2&&(bl=!0,ke&&(mr+=ss)):bl=!0);var xm=new Request(mr,Ru);try{xm[O8]=!0}catch{}if(!Kn&&E&&(Hs=Op(function(so,fa){qe=so,cs=fa})),!mr){Rr(Vt),qe&&qe(!1);return}function ku(so){hn(Vt,R?0:400,{},R?tr:so)}o(ku,"_handleError");function Tm(so,fa,ze){var kt=so[O1],Er=F.fetchOnComplete;Er&&Ke(Er)?Er(so,Vt,ze||tr,fa):hn(Vt,kt,{},ze||tr)}o(Tm,"_onFetchComplete");try{D0(fetch(R?mr:xm,R?Ru:null),function(so){if(Kn&&(m-=qs,qs=0),!c0)if(c0=!0,so.rejected)ku(so.reason&&so.reason[Dh]),cs&&cs(so.reason);else{var fa=so[Dp];try{!R&&!fa.ok?(ku(fa.statusText),qe&&qe(!1)):R&&!fa.body?(Tm(fa,null,tr),qe&&qe(!0)):D0(fa.text(),function(ze){Tm(fa,At,ze[Dp]),qe&&qe(!0)})}catch(ze){ku(Jt(ze)),cs&&cs(ze)}}})}catch(so){c0||(ku(Jt(so)),cs&&cs(so))}return bl&&!c0&&(c0=!0,hn(Vt,200,{}),qe&&qe(!0)),R&&!c0&&At[xu]>0&&Ye&&Ye.set(function(){c0||(c0=!0,hn(Vt,500,{}),qe&&qe(!0))},At[xu]),Hs}o(An,"_doFetchSender");function oo(At,Vt,Kn){var st=gu(),mr=new XDomainRequest,yo=At[Fp];mr.onload=function(){var Co=DI(mr),qs=F&&F.xdrOnComplete;qs&&Ke(qs)?qs(mr,Vt,At):hn(Vt,200,{},Co)},mr.onerror=function(){hn(Vt,400,{},R?tr:b8(mr))},mr.ontimeout=function(){hn(Vt,500,{})},mr.onprogress=function(){};var ai=st&&st.location&&st.location.protocol||"",Hs=At[bu];if(!Hs){Rr(Vt);return}if(!R&&Hs.lastIndexOf(ai,0)!==0){var qe="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Lt(B,2,40,". "+qe),Dt(qe,Vt);return}var cs=R?Hs:Hs[zf](/^(https?:)/,"");mr.open(go,cs),At[xu]&&(mr[xu]=At[xu]),mr.send(yo),R&&Kn?Ye&&Ye.set(function(){mr.send(yo)},0):mr.send(yo)}o(oo,"_xdrSender");function wi(){m=0,b=!1,E=!1,B=null,R=null,F=null,V=null,$=null,te=null,me=!1,xe=!1,Qe=!1,_e=!1,ke=!1,Ye=null}o(wi,"_initDefaults")})}return o(p,"SenderPostManager"),p.__ieDyn=1,p}(),Hh="on",od="attachEvent",mm="addEventListener",iB="detachEvent",oB="removeEventListener",ZI="events";Su("aiEvtPageHide"),Su("aiEvtPageShow");var JL=/\.[\.]+/g,EZ=/[\.]+$/,HSe=1,sB=R8("events"),qSe=/^([^.]*)(?:\.(.+)|)/;function IZ(p){return p&&p[zf]?p[zf](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,an):p}o(IZ,"_normalizeNamespace");function XL(p,m){if(m){var E=an;ct(m)?(E=an,Wt(m,function(B){B=IZ(B),B&&(B[0]!=="."&&(B="."+B),E+=B)})):E=IZ(m),E&&(E[0]!=="."&&(E="."+E),p=(p||an)+E)}var b=qSe.exec(p||an)||[];return{type:b[1],ns:(b[2]||an).replace(JL,".").replace(EZ,an)[$f](".").sort().join(".")}}o(XL,"_getEvtNamespace");function vZ(p,m,E){E===void 0&&(E=!0);var b=sB.get(p,ZI,{},E),B=b[m];return B||(B=b[m]=[]),B}o(vZ,"_getRegisteredEvents");function bZ(p,m,E,b){p&&m&&m[la]&&(p[oB]?p[oB](m[la],E,b):p[iB]&&p[iB](Hh+m[la],E))}o(bZ,"_doDetach");function GSe(p,m,E,b){var B=!1;return p&&m&&m[la]&&E&&(p[mm]?(p[mm](m[la],E,b),B=!0):p[od]&&(p[od](Hh+m[la],E),B=!0)),B}o(GSe,"_doAttach");function xZ(p,m,E,b){for(var B=m[Lr];B--;){var R=m[B];R&&(!E.ns||E.ns===R[N5].ns)&&(!b||b(R))&&(bZ(p,R[N5],R.handler,R.capture),m[Rp](B,1))}}o(xZ,"_doUnregister");function VSe(p,m,E){if(m[la])xZ(p,vZ(p,m[la]),m,E);else{var b=sB.get(p,ZI,{});We(b,function(B,R){xZ(p,R,m,E)}),vt(b)[Lr]===0&&sB.kill(p,ZI)}}o(VSe,"_unregisterEvents");function TZ(p,m){var E;return m?(ct(m)?E=[p].concat(m):E=[p,m],E=XL("xx",E).ns[$f](".")):E=p,E}o(TZ,"mergeEvtNamespace");function _Z(p,m,E,b,B){B===void 0&&(B=!1);var R=!1;if(p)try{var F=XL(m,b);if(R=GSe(p,F,E,B),R&&sB.accept(p)){var V={guid:HSe++,evtName:F,handler:E,capture:B};vZ(p,F.type)[Mn](V)}}catch{}return R}o(_Z,"eventOn");function WSe(p,m,E,b,B){if(B===void 0&&(B=!1),p)try{var R=XL(m,b),F=!1;VSe(p,R,function(V){return R.ns&&!E||V.handler===E?(F=!0,!0):!1}),F||bZ(p,R,E,B)}catch{}}o(WSe,"eventOff");var SZ="sampleRate",ZL="ProcessLegacy",wZ="http.method",eM="https://dc.services.visualstudio.com",e2="/v2/track",gm="not_specified",BZ=hL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),aB="split",tn="length",tM="toLowerCase",sy="ingestionendpoint",gT="toString",RZ="removeItem",cB="message",YSe="count",rM="stringify",nM="pathname",yT="match",ym="name",sd="properties",qh="measurements",lB="sizeInBytes",uB="typeName",CT="exceptions",ET="severityLevel",iM="problemGroup",t2="parsedStack",fB="hasFullStack",dB="assembly",Gh="fileName",r2="line",hB="aiDataContract",AB="duration";function kZ(p,m,E){var b=m[tn],B=$Se(p,m);if(B[tn]!==b){for(var R=0,F=B;E[F]!==void 0;)R++,F=ae(B,0,147)+KSe(R);B=F}return B}o(kZ,"dataSanitizeKeyAndAddUniqueness");function $Se(p,m){var E;return m&&(m=Ln(Fn(m)),m[tn]>150&&(E=ae(m,0,150),Lt(p,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),E||m}o($Se,"dataSanitizeKey");function La(p,m,E){E===void 0&&(E=1024);var b;return m&&(E=E||1024,m=Ln(Fn(m)),m[tn]>E&&(b=ae(m,0,E),Lt(p,2,61,"string value is too long. It has been truncated to "+E+" characters.",{value:m},!0))),b||m}o(La,"dataSanitizeString");function oM(p,m){return NZ(p,m,2048,66)}o(oM,"dataSanitizeUrl");function DZ(p,m){var E;return m&&m[tn]>32768&&(E=ae(m,0,32768),Lt(p,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),E||m}o(DZ,"dataSanitizeMessage");function zSe(p,m){var E;if(m){var b=""+m;b[tn]>32768&&(E=ae(b,0,32768),Lt(p,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return E||m}o(zSe,"dataSanitizeException");function ay(p,m){if(m){var E={};We(m,function(b,B){if(tt(B)&&Jp())try{B=s0()[rM](B)}catch(R){Lt(p,2,49,"custom property is not valid",{exception:R},!0)}B=La(p,B,8192),b=kZ(p,b,E),E[b]=B}),m=E}return m}o(ay,"dataSanitizeProperties");function cy(p,m){if(m){var E={};We(m,function(b,B){b=kZ(p,b,E),E[b]=B}),m=E}return m}o(cy,"dataSanitizeMeasurements");function jSe(p,m){return m&&NZ(p,m,128,69)[gT]()}o(jSe,"dataSanitizeId");function NZ(p,m,E,b){var B;return m&&(m=Ln(Fn(m)),m[tn]>E&&(B=ae(m,0,E),Lt(p,2,b,"input is too long, it has been truncated to "+E+" characters.",{data:m},!0))),B||m}o(NZ,"dataSanitizeInput");function KSe(p){var m="00"+p;return ge(m,m[tn]-3)}o(KSe,"dsPadNumber");var QZ=dp()||{},PZ=0,JSe=[null,null,null,null,null];function XSe(p){var m=PZ,E=JSe,b=E[m];return QZ.createElement?E[m]||(b=E[m]=QZ.createElement("a")):b={host:ZSe(p,!0)},b.href=p,m++,m>=E[tn]&&(m=0),PZ=m,b}o(XSe,"urlParseUrl");function ZSe(p,m){var E=ewe(p,m)||"";if(E){var b=E[yT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[tn]>3&&he(b[2])&&b[2][tn]>0)return b[2]+(b[3]||"")}return E}o(ZSe,"urlParseHost");function ewe(p,m){var E=null;if(p){var b=p[yT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[tn]>2&&he(b[2])&&b[2][tn]>0&&(E=b[2]||"",m&&b[tn]>2)){var B=(b[1]||"")[tM](),R=b[3]||"";(B==="http"&&R===":80"||B==="https"&&R===":443")&&(R=""),E+=R}}return E}o(ewe,"urlParseFullHost");var twe=[eM+e2,"https://breeze.aimon.applicationinsights.io"+e2,"https://dc-int.services.visualstudio.com"+e2];function FZ(p){return n0(twe,p[tM]())!==-1}o(FZ,"isInternalApplicationInsightsEndpoint");function rwe(p,m,E,b){var B,R=b,F=b;if(m&&m[tn]>0){var V=XSe(m);if(B=V.host,!R)if(V[nM]!=null){var $=V.pathname[tn]===0?"/":V[nM];$.charAt(0)!=="/"&&($="/"+$),F=V[nM],R=La(p,E?E+" "+$:$)}else R=La(p,m)}else B=b,R=b;return{target:B,name:R,data:F}}o(rwe,"AjaxHelperParseDependencyPath");var sM=dI({LocalStorage:0,SessionStorage:1}),n2=void 0,LZ="";function MZ(p){try{if(ee(ll()))return null;var m=new Date()[gT](),E=ko(p===sM.LocalStorage?"localStorage":"sessionStorage"),b=LZ+m;E.setItem(b,m);var B=E.getItem(b)!==m;if(E[RZ](b),!B)return E}catch{}return null}o(MZ,"_getVerifiedStorageObject");function aM(){return OZ()?MZ(sM.SessionStorage):null}o(aM,"_getSessionStorageObject");function nwe(p){LZ=p||""}o(nwe,"utlSetStoragePrefix");function OZ(p){return(p||n2===void 0)&&(n2=!!MZ(sM.SessionStorage)),n2}o(OZ,"utlCanUseSessionStorage");function iwe(p,m){var E=aM();if(E!==null)try{return E.getItem(m)}catch(b){n2=!1,Lt(p,2,2,"Browser failed read of session storage. "+bs(b),{exception:Jt(b)})}return null}o(iwe,"utlGetSessionStorage");function owe(p,m,E){var b=aM();if(b!==null)try{return b.setItem(m,E),!0}catch(B){n2=!1,Lt(p,2,4,"Browser failed write to session storage. "+bs(B),{exception:Jt(B)})}return!1}o(owe,"utlSetSessionStorage");function swe(p,m){var E=aM();if(E!==null)try{return E[RZ](m),!0}catch(b){n2=!1,Lt(p,2,6,"Browser failed removal of session storage item. "+bs(b),{exception:Jt(b)})}return!1}o(swe,"utlRemoveSessionStorage");var awe=";",cwe="=";function cM(p){if(!p)return{};var m=p[aB](awe),E=tL(m,function(B,R){var F=R[aB](cwe);if(F[tn]===2){var V=F[0][tM](),$=F[1];B[V]=$}return B},{});if(vt(E)[tn]>0){if(E.endpointsuffix){var b=E.location?E.location+".":"";E[sy]=E[sy]||"https://"+b+"dc."+E.endpointsuffix}E[sy]=E[sy]||eM,r8(E[sy],"/")&&(E[sy]=E[sy].slice(0,-1))}return E}o(cM,"parseConnectionString");var lwe=function(){function p(m,E,b){var B=this,R=this;R.ver=1,R.sampleRate=100,R.tags={},R[ym]=La(m,b)||gm,R.data=E,R.time=q1(new Date),R[hB]={time:1,iKey:1,name:1,sampleRate:o(function(){return B.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(p,"Envelope"),p}(),i2=function(){function p(m,E,b,B){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var R=this;R.ver=2,R[ym]=La(m,E)||gm,R[sd]=ay(m,b),R[qh]=cy(m,B)}return o(p,"Event"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Event",p.dataType="EventData",p}(),uwe=58,fwe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,dwe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,hwe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Awe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,pwe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,mwe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,gwe=/([^\(\s\n]+):([0-9]+)$/,UZ="<no_method>",o2="error",vl="stack",lM="stackDetails",HZ="errorSrc",uM="message",qZ="description",GZ=[{re:dwe,len:5,m:1,fn:2,ln:3,col:4},{chk:Cwe,pre:ywe,re:hwe,len:4,m:1,fn:2,ln:3},{re:Awe,len:3,m:1,fn:2,hdl:jZ},{re:pwe,len:2,fn:1,hdl:jZ}];function ywe(p){return p.replace(/(\(anonymous\))/,"<anonymous>")}o(ywe,"_scrubAnonymous");function Cwe(p){return yu(p,"[native")<0}o(Cwe,"_ignoreNative");function fM(p,m){var E=p;return E&&!he(E)&&(JSON&&JSON[rM]?(E=JSON[rM](p),m&&(!E||E==="{}")&&(Ke(p[gT])?E=p[gT]():E=""+p)):E=""+p+" - (Missing JSON.stringify)"),E||""}o(fM,"_stringify");function VZ(p,m){var E=p;return p&&(E&&!he(E)&&(E=p[uM]||p[qZ]||E),E&&!he(E)&&(E=fM(E,!0)),p.filename&&(E=E+" @"+(p.filename||"")+":"+(p.lineno||"?")+":"+(p.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&yu(E||"",m)===-1&&(E=m+": "+E),E||""}o(VZ,"_formatMessage");function Ewe(p){try{if(tt(p))return"hasFullStack"in p&&"typeName"in p}catch{}return!1}o(Ewe,"_isExceptionDetailsInternal");function Iwe(p){try{if(tt(p))return"ver"in p&&"exceptions"in p&&"properties"in p}catch{}return!1}o(Iwe,"_isExceptionInternal");function WZ(p){return p&&p.src&&he(p.src)&&p.obj&&ct(p.obj)}o(WZ,"_isStackDetails");function ly(p){var m=p||"";he(m)||(he(m[vl])?m=m[vl]:m=""+m);var E=m[aB](`
`);return{src:m,obj:E}}o(ly,"_convertStackObj");function vwe(p){for(var m=[],E=p[aB](`
`),b=0;b<E[tn];b++){var B=E[b];E[b+1]&&(B+="@"+E[b+1],b++),m.push(B)}return{src:p,obj:m}}o(vwe,"_getOperaStack");function YZ(p){var m=null;if(p)try{if(p[vl])m=ly(p[vl]);else if(p[o2]&&p[o2][vl])m=ly(p[o2][vl]);else if(p.exception&&p.exception[vl])m=ly(p.exception[vl]);else if(WZ(p))m=p;else if(WZ(p[lM]))m=p[lM];else if(gu()&&gu().opera&&p[uM])m=vwe(p[cB]);else if(p.reason&&p.reason[vl])m=ly(p.reason[vl]);else if(he(p))m=ly(p);else{var E=p[uM]||p[qZ]||"";he(p[HZ])&&(E&&(E+=`
`),E+=" from "+p[HZ]),E&&(m=ly(E))}}catch(b){m=ly(b)}return m||{src:"",obj:null}}o(YZ,"_getStackFromErrorObj");function bwe(p){var m="";return p&&(p.obj?m=p.obj.join(`
`):m=p.src||""),m}o(bwe,"_formatStackTrace");function xwe(p){var m,E=p.obj;if(E&&E[tn]>0){m=[];var b=0,B=!1,R=0;Wt(E,function(Ye){if(B||wwe(Ye)){var Oe=Fn(Ye);B=!0;var rt=Bwe(Oe,b);rt&&(R+=rt[lB],m.push(rt),b++)}});var F=32*1024;if(R>F)for(var V=0,$=m[tn]-1,te=0,me=V,xe=$;V<$;){var Qe=m[V][lB],_e=m[$][lB];if(te+=Qe+_e,te>F){var ke=xe-me+1;m.splice(me,ke);break}me=V,xe=$,V++,$--}}return m}o(xwe,"_parseStack");function pB(p){var m="";if(p&&(m=p.typeName||p[ym]||"",!m))try{var E=/function (.{1,200})\(/,b=E.exec(p.constructor[gT]());m=b&&b[tn]>1?b[1]:""}catch{}return m}o(pB,"_getErrorType");function dM(p){if(p)try{if(!he(p)){var m=pB(p),E=fM(p,!1);return(!E||E==="{}")&&(p[o2]&&(p=p[o2],m=pB(p)),E=fM(p,!0)),yu(E,m)!==0&&m!=="String"?m+":"+E:E}}catch{}return""+(p||"")}o(dM,"_formatErrorCode");var mB=function(){function p(m,E,b,B,R,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,Iwe(E)?(V[CT]=E[CT]||[],V[sd]=E[sd],V[qh]=E[qh],E[ET]&&(V[ET]=E[ET]),E.id&&(V.id=E.id,E[sd].id=E.id),E[iM]&&(V[iM]=E[iM]),ee(E.isManual)||(V.isManual=E.isManual)):(b||(b={}),F&&(b.id=F),V[CT]=[$Z(m,E,b)],V[sd]=ay(m,b),V[qh]=cy(m,B),R&&(V[ET]=R),F&&(V.id=F))}return o(p,"Exception"),p.CreateAutoException=function(m,E,b,B,R,F,V,$){var te=pB(R||F||m);return{message:VZ(m,te),url:E,lineNumber:b,columnNumber:B,error:dM(R||F||m),evt:dM(F||m),typeName:te,stackDetails:YZ(V||R||F),errorSrc:$}},p.CreateFromInterface=function(m,E,b,B){var R=E[CT]&&vh(E[CT],function(V){return Swe(m,V)}),F=new p(m,Eu(Eu({},E),{exceptions:R}),b,B);return F},p.prototype.toInterface=function(){var m=this,E=m.exceptions,b=m.properties,B=m.measurements,R=m.severityLevel,F=m.problemGroup,V=m.id,$=m.isManual,te=E instanceof Array&&vh(E,function(me){return me.toInterface()})||void 0;return{ver:"4.0",exceptions:te,severityLevel:R,properties:b,measurements:B,problemGroup:F,id:V,isManual:$}},p.CreateSimpleException=function(m,E,b,B,R,F){var V;return{exceptions:[(V={},V[fB]=!0,V.message=m,V.stack=R,V.typeName=E,V)]}},p.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",p.dataType="ExceptionData",p.formatError=dM,p}(),Twe=xr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function _we(){var p=this,m=ct(p[t2])&&vh(p[t2],function(b){return kwe(b)}),E={id:p.id,outerId:p.outerId,typeName:p[uB],message:p[cB],hasFullStack:p[fB],stack:p[vl],parsedStack:m||void 0};return E}o(_we,"_toInterface");function $Z(p,m,E){var b,B,R,F,V,$,te,me;if(Ewe(m))F=m[uB],V=m[cB],te=m[vl],me=m[t2]||[],$=m[fB];else{var xe=m,Qe=xe&&xe.evt;kn(xe)||(xe=xe[o2]||Qe||xe),F=La(p,pB(xe))||gm,V=DZ(p,VZ(m||xe,F))||gm;var _e=m[lM]||YZ(m);me=xwe(_e),ct(me)&&vh(me,function(ke){ke[dB]=La(p,ke[dB]),ke[Gh]=La(p,ke[Gh])}),te=zSe(p,bwe(_e)),$=ct(me)&&me[tn]>0,E&&(E[uB]=E[uB]||F)}return b={},b[hB]=Twe,b.id=B,b.outerId=R,b.typeName=F,b.message=V,b[fB]=$,b.stack=te,b.parsedStack=me,b.toInterface=_we,b}o($Z,"_createExceptionDetails");function Swe(p,m){var E=ct(m[t2])&&vh(m[t2],function(B){return Rwe(B)})||m[t2],b=$Z(p,Eu(Eu({},m),{parsedStack:E}));return b}o(Swe,"_createExDetailsFromInterface");function zZ(p,m){var E=m[yT](mwe);if(E&&E[tn]>=4)p[Gh]=E[1],p[r2]=parseInt(E[2]);else{var b=m[yT](gwe);b&&b[tn]>=3?(p[Gh]=b[1],p[r2]=parseInt(b[2])):p[Gh]=m}}o(zZ,"_parseFilename");function jZ(p,m,E){var b=p[Gh];m.fn&&E&&E[tn]>m.fn&&(m.ln&&E[tn]>m.ln?(b=Ln(E[m.fn]||""),p[r2]=parseInt(Ln(E[m.ln]||""))||0):b=Ln(E[m.fn]||"")),b&&zZ(p,b)}o(jZ,"_handleFilename");function wwe(p){var m=!1;if(p&&he(p)){var E=Ln(p);E&&(m=fwe.test(E))}return m}o(wwe,"_isStackFrame");var KZ=xr({level:1,method:1,assembly:0,fileName:0,line:0});function Bwe(p,m){var E,b;if(p&&he(p)&&Ln(p)){b=(E={},E[hB]=KZ,E.level=m,E.assembly=Ln(p),E.method=UZ,E.fileName="",E.line=0,E.sizeInBytes=0,E);for(var B=0;B<GZ[tn];){var R=GZ[B];if(R.chk&&!R.chk(p))break;R.pre&&(p=R.pre(p));var F=p[yT](R.re);if(F&&F[tn]>=R.len){R.m&&(b.method=Ln(F[R.m]||UZ)),R.hdl?R.hdl(b,R,F):R.fn&&(R.ln?(b[Gh]=Ln(F[R.fn]||""),b[r2]=parseInt(Ln(F[R.ln]||""))||0):zZ(b,F[R.fn]||""));break}B++}}return JZ(b)}o(Bwe,"_extractStackFrame");function Rwe(p){var m,E=(m={},m[hB]=KZ,m.level=p.level,m.method=p.method,m.assembly=p[dB],m.fileName=p[Gh],m.line=p[r2],m.sizeInBytes=0,m);return JZ(E)}o(Rwe,"_stackFrameFromInterface");function JZ(p){var m=uwe;return p&&(m+=p.method[tn],m+=p.assembly[tn],m+=p.fileName[tn],m+=p.level.toString()[tn],m+=p.line.toString()[tn],p[lB]=m),p}o(JZ,"_populateFrameSizeInBytes");function kwe(p){return{level:p.level,method:p.method,assembly:p[dB],fileName:p[Gh],line:p[r2]}}o(kwe,"_parsedFrameToInterface");var Dwe=function(){function p(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(p,"DataPoint"),p}(),IT=function(){function p(m,E,b,B,R,F,V,$,te){this.aiDataContract={ver:1,metrics:1,properties:0};var me=this;me.ver=2;var xe=new Dwe;xe[YSe]=B>0?B:void 0,xe.max=isNaN(F)||F===null?void 0:F,xe.min=isNaN(R)||R===null?void 0:R,xe[ym]=La(m,E)||gm,xe.value=b,xe.stdDev=isNaN(V)||V===null?void 0:V,me.metrics=[xe],me[sd]=ay(m,$),me[qh]=cy(m,te)}return o(p,"Metric"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",p.dataType="MetricData",p}(),vT="";function XZ(p){(isNaN(p)||p<0)&&(p=0),p=sL(p);var m=vT+p%1e3,E=vT+bh(p/1e3)%60,b=vT+bh(p/(1e3*60))%60,B=vT+bh(p/(1e3*60*60))%24,R=bh(p/(1e3*60*60*24));return m=m[tn]===1?"00"+m:m[tn]===2?"0"+m:m,E=E[tn]<2?"0"+E:E,b=b[tn]<2?"0"+b:b,B=B[tn]<2?"0"+B:B,(R>0?R+".":vT)+B+":"+b+":"+E+"."+m}o(XZ,"msToTimeSpan");var gB=function(){function p(m,E,b,B,R,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var $=this;$.ver=2,$.id=jSe(m,V),$.url=oM(m,b),$[ym]=La(m,E)||gm,isNaN(B)||($[AB]=XZ(B)),$[sd]=ay(m,R),$[qh]=cy(m,F)}return o(p,"PageView"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",p.dataType="PageviewData",p}(),yB=function(){function p(m,E,b,B,R,F,V,$,te,me,xe,Qe){te===void 0&&(te="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var _e=this;_e.ver=2,_e.id=E,_e[AB]=XZ(R),_e.success=F,_e.resultCode=V+"",_e.type=La(m,te);var ke=rwe(m,b,$,B);_e.data=oM(m,B)||ke.data,_e.target=La(m,ke.target),me&&(_e.target="".concat(_e.target," | ").concat(me)),_e[ym]=La(m,ke[ym]),_e[sd]=ay(m,xe),_e[qh]=cy(m,Qe)}return o(p,"RemoteDependencyData"),p.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",p.dataType="RemoteDependencyData",p}(),CB=function(){function p(m,E,b,B,R){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,E=E||gm,F[cB]=DZ(m,E),F[sd]=ay(m,B),F[qh]=cy(m,R),b&&(F[ET]=b)}return o(p,"Trace"),p.envelopeType="Microsoft.ApplicationInsights.{0}.Message",p.dataType="MessageData",p}(),EB=function(){function p(m,E,b,B,R,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var $=this;$.ver=2,$.url=oM(m,b),$[ym]=La(m,E)||gm,$[sd]=ay(m,R),$[qh]=cy(m,F),V&&($.domProcessing=V.domProcessing,$[AB]=V[AB],$.networkConnect=V.networkConnect,$.perfTotal=V.perfTotal,$.receivedResponse=V.receivedResponse,$.sentRequest=V.sentRequest)}return o(p,"PageViewPerformance"),p.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",p.dataType="PageviewPerformanceData",p}(),uy=function(){function p(m,E){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=E}return o(p,"Data"),p}(),Nwe=dI({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Cm(p){var m="ai."+p+".";return function(E){return m+E}}o(Cm,"_aiNameFunc");var bT=Cm("application"),Ts=Cm("device"),IB=Cm("location"),s2=Cm("operation"),hM=Cm("session"),Em=Cm("user"),fy=Cm("cloud"),xT=Cm("internal"),ZZ=function(p){F1(m,p);function m(){return p.call(this)||this}return o(m,"ContextTagKeys"),m}(vL({applicationVersion:bT("ver"),applicationBuild:bT("build"),applicationTypeId:bT("typeId"),applicationId:bT("applicationId"),applicationLayer:bT("layer"),deviceId:Ts("id"),deviceIp:Ts("ip"),deviceLanguage:Ts("language"),deviceLocale:Ts("locale"),deviceModel:Ts("model"),deviceFriendlyName:Ts("friendlyName"),deviceNetwork:Ts("network"),deviceNetworkName:Ts("networkName"),deviceOEMName:Ts("oemName"),deviceOS:Ts("os"),deviceOSVersion:Ts("osVersion"),deviceRoleInstance:Ts("roleInstance"),deviceRoleName:Ts("roleName"),deviceScreenResolution:Ts("screenResolution"),deviceType:Ts("type"),deviceMachineName:Ts("machineName"),deviceVMName:Ts("vmName"),deviceBrowser:Ts("browser"),deviceBrowserVersion:Ts("browserVersion"),locationIp:IB("ip"),locationCountry:IB("country"),locationProvince:IB("province"),locationCity:IB("city"),operationId:s2("id"),operationName:s2("name"),operationParentId:s2("parentId"),operationRootId:s2("rootId"),operationSyntheticSource:s2("syntheticSource"),operationCorrelationVector:s2("correlationVector"),sessionId:hM("id"),sessionIsFirst:hM("isFirst"),sessionIsNew:hM("isNew"),userAccountAcquisitionDate:Em("accountAcquisitionDate"),userAccountId:Em("accountId"),userAgent:Em("userAgent"),userId:Em("id"),userStoreRegion:Em("storeRegion"),userAuthUserId:Em("authUserId"),userAnonymousUserAcquisitionDate:Em("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Em("authUserAcquisitionDate"),cloudName:fy("name"),cloudRole:fy("role"),cloudRoleVer:fy("roleVer"),cloudRoleInstance:fy("roleInstance"),cloudEnvironment:fy("environment"),cloudLocation:fy("location"),cloudDeploymentUnit:fy("deploymentUnit"),internalNodeName:xT("nodeName"),internalSdkVersion:xT("sdkVersion"),internalAgentVersion:xT("agentVersion"),internalSnippet:xT("snippet"),internalSdkSrc:xT("sdkSrc")})),Os=new ZZ;function eee(p,m){WSe(p,null,null,m)}o(eee,"_disableEvents");function Qwe(p){var m=dp(),E=Nf(),b=!1,B=[],R=1;E&&!ee(E.onLine)&&!E.onLine&&(R=2);var F=0,V=Qe(),$=TZ(Su("OfflineListener"),p);try{if(me(gu())&&(b=!0),m){var te=m.body||m;te.ononline&&me(te)&&(b=!0)}}catch{b=!1}function me(Et){var Dt=!1;return Et&&(Dt=_Z(Et,"online",Ye,$),Dt&&_Z(Et,"offline",Oe,$)),Dt}o(me,"_enableEvents");function xe(){return V}o(xe,"_isOnline");function Qe(){return!(F===2||R===2)}o(Qe,"calCurrentState");function _e(){var Et=Qe();V!==Et&&(V=Et,Wt(B,function(Dt){var Rr={isOnline:V,rState:R,uState:F};try{Dt(Rr)}catch{}}))}o(_e,"listnerNoticeCheck");function ke(Et){F=Et,_e()}o(ke,"setOnlineState");function Ye(){R=1,_e()}o(Ye,"_setOnline");function Oe(){R=2,_e()}o(Oe,"_setOffline");function rt(){var Et=gu();if(Et&&b){if(eee(Et,$),m){var Dt=m.body||m;H(Dt.ononline)||eee(Dt,$)}b=!1}}o(rt,"_unload");function ht(Et){return B.push(Et),{rm:o(function(){var Dt=B.indexOf(Et);if(Dt>-1)return B.splice(Dt,1)},"rm")}}return o(ht,"addListener"),{isOnline:xe,isListening:o(function(){return b},"isListening"),unload:rt,addListener:ht,setOnlineState:ke}}o(Qwe,"createOfflineListener");var Pwe="AppInsightsChannelPlugin",dy="duration",ua="tags",AM="deviceType",xc="data",Vh="name",TT="traceID",ln="length",_T="stringify",hy="measurements",ad="dataType",Ay="envelopeType",py="toString",my="enqueue",gy="count",Wh="push",pM="emitLineDelimitedJson",a2="clear",vB="markAsSent",ST="clearSent",mM="bufferOverride",wT="BUFFER_KEY",Im="SENT_BUFFER_KEY",c2="concat",BT="MAX_BUFFER_SIZE",RT="triggerSend",Ma="diagLog",gM="initialize",kT="_sender",DT="endpointUrl",NT="instrumentationKey",yM="customHeaders",tee="maxBatchSizeInBytes",CM="onunloadDisableBeacon",EM="isBeaconApiDisabled",ree="alwaysUseXhrOverride",nee="enableSessionStorageBuffer",cd="_buffer",iee="onunloadDisableFetch",oee="disableSendBeaconSplit",bB="getSenderInst",yy="_onError",IM="_onPartialSuccess",xB="_onSuccess",vM="itemsReceived",bM="itemsAccepted",xM="baseType",TB="sampleRate",Fwe="getHashCodeScore",TM="baseType",io="baseData",Us="properties",see="true";function Yo(p,m,E){return Kf(p,m,E,oe)}o(Yo,"_setValueIf");function Lwe(p,m,E){var b=E[ua]=E[ua]||{},B=m.ext=m.ext||{},R=m[ua]=m[ua]||[],F=B.user;F&&(Yo(b,Os.userAuthUserId,F.authId),Yo(b,Os.userId,F.id||F.localId));var V=B.app;V&&Yo(b,Os.sessionId,V.sesId);var $=B.device;$&&(Yo(b,Os.deviceId,$.id||$.localId),Yo(b,Os[AM],$.deviceClass),Yo(b,Os.deviceIp,$.ip),Yo(b,Os.deviceModel,$.model),Yo(b,Os[AM],$[AM]));var te=m.ext.web;if(te){Yo(b,Os.deviceLanguage,te.browserLang),Yo(b,Os.deviceBrowserVersion,te.browserVer),Yo(b,Os.deviceBrowser,te.browser);var me=E[xc]=E[xc]||{},xe=me[io]=me[io]||{},Qe=xe[Us]=xe[Us]||{};Yo(Qe,"domain",te.domain),Yo(Qe,"isManual",te.isManual?see:null),Yo(Qe,"screenRes",te.screenRes),Yo(Qe,"userConsent",te.userConsent?see:null)}var _e=B.os;_e&&(Yo(b,Os.deviceOS,_e[Vh]),Yo(b,Os.deviceOSVersion,_e.osVer));var ke=B.trace;ke&&(Yo(b,Os.operationParentId,ke.parentID),Yo(b,Os.operationName,La(p,ke[Vh])),Yo(b,Os.operationId,ke[TT]));for(var Ye={},Oe=R[ln]-1;Oe>=0;Oe--){var rt=R[Oe];We(rt,function(Et,Dt){Ye[Et]=Dt}),R.splice(Oe,1)}We(R,function(Et,Dt){Ye[Et]=Dt});var ht=Eu(Eu({},b),Ye);ht[Os.internalSdkVersion]||(ht[Os.internalSdkVersion]=La(p,"javascript:".concat(Mwe.Version),64)),E[ua]=G5(ht)}o(Lwe,"_extractPartAExtensions");function vm(p,m,E){ee(p)||We(p,function(b,B){qt(B)?E[b]=B:he(B)?m[b]=B:Jp()&&(m[b]=s0()[_T](B))})}o(vm,"_extractPropsAndMeasurements");function Cy(p,m){ee(p)||We(p,function(E,b){p[E]=b||m})}o(Cy,"_convertPropsUndefinedToCustomDefinedValue");function Ey(p,m,E,b){var B=new lwe(p,b,m);Yo(B,"sampleRate",E[SZ]),(E[io]||{}).startTime&&(B.time=q1(E[io].startTime)),B.iKey=E.iKey;var R=E.iKey.replace(/-/g,"");return B[Vh]=B[Vh].replace("{0}",R),Lwe(p,E,B),E[ua]=E[ua]||[],G5(B)}o(Ey,"_createEnvelope");function Iy(p,m){ee(m[io])&&Lt(p,1,46,"telemetryItem.baseData cannot be null.")}o(Iy,"EnvelopeCreatorInit");var Mwe={Version:"3.3.6"};function Owe(p,m,E){Iy(p,m);var b=m[io][hy]||{},B=m[io][Us]||{};vm(m[xc],B,b),ee(E)||Cy(B,E);var R=m[io];if(ee(R))return VI(p,"Invalid input for dependency data"),null;var F=R[Us]&&R[Us][wZ]?R[Us][wZ]:"GET",V=new yB(p,R.id,R.target,R[Vh],R[dy],R.success,R.responseCode,F,R.type,R.correlationContext,B,b),$=new uy(yB[ad],V);return Ey(p,yB[Ay],m,$)}o(Owe,"DependencyEnvelopeCreator");function aee(p,m,E){Iy(p,m);var b={},B={};m[TM]!==i2[ad]&&(b.baseTypeSource=m[TM]),m[TM]===i2[ad]?(b=m[io][Us]||{},B=m[io][hy]||{}):m[io]&&vm(m[io],b,B),vm(m[xc],b,B),ee(E)||Cy(b,E);var R=m[io][Vh],F=new i2(p,R,b,B),V=new uy(i2[ad],F);return Ey(p,i2[Ay],m,V)}o(aee,"EventEnvelopeCreator");function Uwe(p,m,E){Iy(p,m);var b=m[io][hy]||{},B=m[io][Us]||{};vm(m[xc],B,b),ee(E)||Cy(B,E);var R=m[io],F=mB.CreateFromInterface(p,R,B,b),V=new uy(mB[ad],F);return Ey(p,mB[Ay],m,V)}o(Uwe,"ExceptionEnvelopeCreator");function Hwe(p,m,E){Iy(p,m);var b=m[io],B=b[Us]||{},R=b[hy]||{};vm(m[xc],B,R),ee(E)||Cy(B,E);var F=new IT(p,b[Vh],b.average,b.sampleCount,b.min,b.max,b.stdDev,B,R),V=new uy(IT[ad],F);return Ey(p,IT[Ay],m,V)}o(Hwe,"MetricEnvelopeCreator");function qwe(p,m,E){Iy(p,m);var b,B=m[io];!ee(B)&&!ee(B[Us])&&!ee(B[Us][dy])?(b=B[Us][dy],delete B[Us][dy]):!ee(m[xc])&&!ee(m[xc][dy])&&(b=m[xc][dy],delete m[xc][dy]);var R=m[io],F;((m.ext||{}).trace||{})[TT]&&(F=m.ext.trace[TT]);var V=R.id||F,$=R[Vh],te=R.uri,me=R[Us]||{},xe=R[hy]||{};if(ee(R.refUri)||(me.refUri=R.refUri),ee(R.pageType)||(me.pageType=R.pageType),ee(R.isLoggedIn)||(me.isLoggedIn=R.isLoggedIn[py]()),!ee(R[Us])){var Qe=R[Us];We(Qe,function(Ye,Oe){me[Ye]=Oe})}vm(m[xc],me,xe),ee(E)||Cy(me,E);var _e=new gB(p,$,te,b,me,xe,V),ke=new uy(gB[ad],_e);return Ey(p,gB[Ay],m,ke)}o(qwe,"PageViewEnvelopeCreator");function Gwe(p,m,E){Iy(p,m);var b=m[io],B=b[Vh],R=b.uri||b.url,F=b[Us]||{},V=b[hy]||{};vm(m[xc],F,V),ee(E)||Cy(F,E);var $=new EB(p,B,R,void 0,F,V,b),te=new uy(EB[ad],$);return Ey(p,EB[Ay],m,te)}o(Gwe,"PageViewPerformanceEnvelopeCreator");function Vwe(p,m,E){Iy(p,m);var b=m[io].message,B=m[io].severityLevel,R=m[io][Us]||{},F=m[io][hy]||{};vm(m[xc],R,F),ee(E)||Cy(R,E);var V=new CB(p,b,B,R,F),$=new uy(CB[ad],V);return Ey(p,CB[Ay],m,$)}o(Vwe,"TraceEnvelopeCreator");var cee=function(){function p(m,E){var b=[],B=!1,R=E.maxRetryCnt;this._get=function(){return b},this._set=function(F){return b=F,b},ca(p,this,function(F){F[my]=function(V){if(F[gy]()>=E.eventsLimitInMem){B||(Lt(m,2,105,"Maximum in-memory buffer size reached: "+F[gy](),!0),B=!0);return}V.cnt=V.cnt||0,!(!ee(R)&&V.cnt>R)&&b[Wh](V)},F[gy]=function(){return b[ln]},F.size=function(){for(var V=b[ln],$=0;$<b[ln];$++)V+=b[$].item[ln];return E[pM]||(V+=2),V},F[a2]=function(){b=[],B=!1},F.getItems=function(){return b.slice(0)},F.batchPayloads=function(V){if(V&&V[ln]>0){var $=[];Wt(V,function(me){$[Wh](me.item)});var te=E[pM]?$.join(`
`):"["+$.join(",")+"]";return te}return null},F.createNew=function(V,$,te){var me=b.slice(0);V=V||m,$=$||{};var xe=te?new lee(V,$):new _M(V,$);return Wt(me,function(Qe){xe[my](Qe)}),xe}})}return o(p,"BaseSendBuffer"),p.__ieDyn=1,p}(),_M=function(p){F1(m,p);function m(E,b){var B=p.call(this,E,b)||this;return ca(m,B,function(R,F){R[vB]=function(V){F[a2]()},R[ST]=function(V){}}),B}return o(m,"ArraySendBuffer"),m.__ieDyn=1,m}(cee),Wwe=["AI_buffer","AI_sentBuffer"],lee=function(p){F1(m,p);function m(b,B){var R=p.call(this,b,B)||this,F=!1,V=B?.namePrefix,$=B[mM]||{getItem:iwe,setItem:owe},te=$.getItem,me=$.setItem,xe=B.maxRetryCnt;return ca(m,R,function(Qe,_e){var ke=Dt(m[wT]),Ye=Dt(m[Im]),Oe=hn(),rt=Ye[c2](Oe),ht=Qe._set(ke[c2](rt));ht[ln]>m[BT]&&(ht[ln]=m[BT]),dn(m[Im],[]),dn(m[wT],ht),Qe[my]=function(ir){if(Qe[gy]()>=m[BT]){F||(Lt(b,2,67,"Maximum buffer size reached: "+Qe[gy](),!0),F=!0);return}ir.cnt=ir.cnt||0,!(!ee(xe)&&ir.cnt>xe)&&(_e[my](ir),dn(m[wT],Qe._get()))},Qe[a2]=function(){_e[a2](),dn(m[wT],Qe._get()),dn(m[Im],[]),F=!1},Qe[vB]=function(ir){dn(m[wT],Qe._set(Et(ir,Qe._get())));var Gt=Dt(m[Im]);Gt instanceof Array&&ir instanceof Array&&(Gt=Gt[c2](ir),Gt[ln]>m[BT]&&(Lt(b,1,67,"Sent buffer reached its maximum size: "+Gt[ln],!0),Gt[ln]=m[BT]),dn(m[Im],Gt))},Qe[ST]=function(ir){var Gt=Dt(m[Im]);Gt=Et(ir,Gt),dn(m[Im],Gt)},Qe.createNew=function(ir,Gt,An){An=!!An;var oo=Qe._get().slice(0),wi=Dt(m[Im]).slice(0);ir=ir||b,Gt=Gt||{},Qe[a2]();var At=An?new m(ir,Gt):new _M(ir,Gt);return Wt(oo,function(Vt){At[my](Vt)}),An&&At[vB](wi),At};function Et(ir,Gt){var An=[],oo=[];return Wt(ir,function(wi){oo[Wh](wi.item)}),Wt(Gt,function(wi){!Ke(wi)&&n0(oo,wi.item)===-1&&An[Wh](wi)}),An}o(Et,"_removePayloadsFromBuffer");function Dt(ir){var Gt=ir;return Gt=V?V+"_"+Gt:Gt,Rr(Gt)}o(Dt,"_getBuffer");function Rr(ir){try{var Gt=te(b,ir);if(Gt){var An=s0().parse(Gt);if(he(An)&&(An=s0().parse(An)),An&&ct(An))return An}}catch(oo){Lt(b,1,42," storage key: "+ir+", "+bs(oo),{exception:Jt(oo)})}return[]}o(Rr,"_getBufferBase");function dn(ir,Gt){var An=ir;try{An=V?V+"_"+An:An;var oo=JSON[_T](Gt);me(b,An,oo)}catch(wi){me(b,An,JSON[_T]([])),Lt(b,2,41," storage key: "+An+", "+bs(wi)+". Buffer cleared",{exception:Jt(wi)})}}o(dn,"_setBuffer");function hn(){var ir=[];try{return Wt(Wwe,function(Gt){var An=si(Gt);if(ir=ir[c2](An),V){var oo=V+"_"+Gt,wi=si(oo);ir=ir[c2](wi)}}),ir}catch(Gt){Lt(b,2,41,"Transfer events from previous buffers: "+bs(Gt)+". previous Buffer items can not be removed",{exception:Jt(Gt)})}return[]}o(hn,"_getPreviousEvents");function si(ir){try{var Gt=Rr(ir),An=[];return Wt(Gt,function(oo){var wi={item:oo,cnt:0};An[Wh](wi)}),swe(b,ir),An}catch{}return[]}o(si,"_getItemsFromPreviousKey")}),R}o(m,"SessionStorageSendBuffer");var E;return E=m,m.VERSION="_1",m.BUFFER_KEY="AI_buffer"+E.VERSION,m.SENT_BUFFER_KEY="AI_sentBuffer"+E.VERSION,m.MAX_BUFFER_SIZE=2e3,m}(cee),Ywe=function(){function p(m){ca(p,this,function(E){E.serialize=function(F){var V=b(F,"root");try{return s0()[_T](V)}catch($){Lt(m,1,48,$&&Ke($[py])?$[py]():"Error serializing object",null,!0)}};function b(F,V){var $="__aiCircularRefCheck",te={};if(!F)return Lt(m,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),te;if(F[$])return Lt(m,2,50,"Circular reference detected while serializing object",{name:V},!0),te;if(!F.aiDataContract){if(V==="measurements")te=R(F,"number",V);else if(V==="properties")te=R(F,"string",V);else if(V==="tags")te=R(F,"string",V);else if(ct(F))te=B(F,V);else{Lt(m,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{s0()[_T](F),te=F}catch(me){Lt(m,1,48,me&&Ke(me[py])?me[py]():"Error serializing object",null,!0)}}return te}return F[$]=!0,We(F.aiDataContract,function(me,xe){var Qe=Ke(xe)?xe()&1:xe&1,_e=Ke(xe)?xe()&4:xe&4,ke=xe&2,Ye=F[me]!==void 0,Oe=tt(F[me])&&F[me]!==null;if(Qe&&!Ye&&!ke)Lt(m,1,24,"Missing required field specification. The field is required but not present on source",{field:me,name:V});else if(!_e){var rt=void 0;Oe?ke?rt=B(F[me],me):rt=b(F[me],me):rt=F[me],rt!==void 0&&(te[me]=rt)}}),delete F[$],te}o(b,"_serializeObject");function B(F,V){var $;if(F)if(!ct(F))Lt(m,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{$=[];for(var te=0;te<F[ln];te++){var me=F[te],xe=b(me,V+"["+te+"]");$[Wh](xe)}}return $}o(B,"_serializeArray");function R(F,V,$){var te;return F&&(te={},We(F,function(me,xe){if(V==="string")xe===void 0?te[me]="undefined":xe===null?te[me]="null":xe[py]?te[me]=xe[py]():te[me]="invalid field: toString() is not defined.";else if(V==="number")if(xe===void 0)te[me]="undefined";else if(xe===null)te[me]="null";else{var Qe=parseFloat(xe);te[me]=Qe}else te[me]="invalid field: "+$+" is of unknown type.",Lt(m,1,te[me],null,!0)})),te}o(R,"_serializeStringMap")})}return o(p,"Serializer"),p.__ieDyn=1,p}(),$we=8,zwe=function(){function p(){}return o(p,"HashCodeScoreGenerator"),p.prototype.getHashCodeScore=function(m){var E=this.getHashCode(m)/p.INT_MAX_VALUE;return E*100},p.prototype.getHashCode=function(m){if(m==="")return 0;for(;m[ln]<$we;)m=m[c2](m);for(var E=5381,b=0;b<m[ln];++b)E=(E<<5)+E+m.charCodeAt(b),E=E&E;return Math.abs(E)},p.INT_MAX_VALUE=2147483647,p}(),jwe=function(){function p(){var m=this,E=new zwe,b=new ZZ;m.getSamplingScore=function(B){var R=0;return B[ua]&&B[ua][b.userId]?R=E.getHashCodeScore(B[ua][b.userId]):B.ext&&B.ext.user&&B.ext.user.id?R=E[Fwe](B.ext.user.id):B[ua]&&B[ua][b.operationId]?R=E.getHashCodeScore(B[ua][b.operationId]):B.ext&&B.ext.telemetryTrace&&B.ext.telemetryTrace[TT]?R=E.getHashCodeScore(B.ext.telemetryTrace[TT]):R=Math.random()*100,R}}return o(p,"SamplingScoreGenerator"),p}(),Kwe=function(){function p(m,E){this.INT_MAX_VALUE=2147483647;var b=E||Z1(null);(m>100||m<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:m},!0),m=100),this[TB]=m,this.samplingScoreGenerator=new jwe}return o(p,"Sample"),p.prototype.isSampledIn=function(m){var E=this[TB],b=!1;return E==null||E>=100||m.baseType===IT[ad]?!0:(b=this.samplingScoreGenerator.getSamplingScore(m)<E,b)},p}(),Gi,Yh,ld=void 0,uee="",Jwe=65e3;function fee(p){try{return p.responseText}catch{}return null}o(fee,"_getResponseText");function Xwe(p){return p&&p.sendPOST}o(Xwe,"isOverrideFn");var dee=Wr((Gi={endpointUrl:nT(oe,eM+e2)},Gi[pM]=Cl(),Gi.maxBatchInterval=15e3,Gi[tee]=102400,Gi.disableTelemetry=Cl(),Gi[nee]=Cl(!0),Gi.isRetryDisabled=Cl(),Gi[EM]=Cl(!0),Gi[oee]=Cl(!0),Gi.disableXhr=Cl(),Gi[iee]=Cl(),Gi[CM]=Cl(),Gi[NT]=ld,Gi.namePrefix=ld,Gi.samplingPercentage=nT(Zwe,100),Gi[yM]=ld,Gi.convertUndefined=ld,Gi.eventsLimitInMem=1e4,Gi[mM]=!1,Gi.httpXHROverride={isVal:Xwe,v:ld},Gi[ree]=Cl(),Gi.transports=ld,Gi.retryCodes=ld,Gi.maxRetryCnt={isVal:qt,v:10},Gi));function Zwe(p){return!isNaN(p)&&p>0&&p<=100}o(Zwe,"_chkSampling");var e8e=(Yh={},Yh[i2.dataType]=aee,Yh[CB.dataType]=Vwe,Yh[gB.dataType]=qwe,Yh[EB.dataType]=Gwe,Yh[mB.dataType]=Uwe,Yh[IT.dataType]=Hwe,Yh[yB.dataType]=Owe,Yh),hee=function(p){F1(m,p);function m(){var E=p.call(this)||this;E.priority=1001,E.identifier=Pwe;var b,B,R,F,V,$,te,me=0,xe,Qe,_e,ke,Ye,Oe,rt,ht,Et,Dt,Rr,dn,hn,si,ir,Gt,An,oo,wi,At,Vt,Kn,st,mr,yo,ai,Hs;return ca(m,E,function(qe,cs){pee(),qe.pause=function(){_m(),R=!0},qe.resume=function(){R&&(R=!1,B=null,gi(),d2())},qe.flush=function(Be,et,bt){if(Be===void 0&&(Be=!0),!R){_m();try{return qe[RT](Be,null,bt||1)}catch(Mt){Lt(qe[Ma](),1,22,"flush failed, telemetry will not be collected: "+bs(Mt),{exception:Jt(Mt)})}}},qe.onunloadFlush=function(){if(!R)if(rt||At)try{return qe[RT](!0,M0,2)}catch(Be){Lt(qe[Ma](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+bs(Be),{exception:Jt(Be)})}else qe.flush(!1)},qe.addHeader=function(Be,et){te[Be]=et},qe[gM]=function(Be,et,bt,Mt){qe.isInitialized()&&Lt(qe[Ma](),1,28,"Sender is already initialized"),cs[gM](Be,et,bt,Mt);var vr=qe.identifier;V=new Ywe(et.logger),b=0,B=null,qe[kT]=null,$=0;var sr=qe[Ma]();_e=TZ(Su("Sender"),et.evtNamespace&&et.evtNamespace()),Qe=Qwe(_e),qe._addHook(wu(Be,function(On){var $o=On.cfg;$o.storagePrefix&&nwe($o.storagePrefix);var Tc=Am(null,$o,et),Jr=Tc.getExtCfg(vr,dee),mee=Jr[DT];if(ke&&mee===ke){var BM=$o[DT];BM&&BM!==mee&&(Jr[DT]=BM)}br(Jr[NT])&&(Jr[NT]=$o[NT]),Kt(qe,"_senderConfig",{g:o(function(){return Jr},"g")}),Ye!==Jr[DT]&&(ke=Ye=Jr[DT]),et.activeStatus()===Gf.PENDING?qe.pause():et.activeStatus()===Gf.ACTIVE&&qe.resume(),Dt&&Dt!==Jr[yM]&&Wt(Dt,function(da){delete te[da.header]}),Oe=Jr[tee],rt=(Jr[CM]===!1||Jr[EM]===!1)&&Xf(),ht=Jr[CM]===!1&&Xf(),Et=Jr[EM]===!1&&Xf(),At=Jr[ree],Vt=!!Jr.disableXhr,Hs=Jr.retryCodes;var RM=Jr[mM],h2=!!Jr[nee]&&(!!RM||OZ()),gee=Jr.namePrefix,i8e=h2!==Gt||h2&&oo!==gee||h2&&An!==RM;if(qe[cd]){if(i8e)try{qe[cd]=qe[cd].createNew(sr,Jr,h2)}catch(da){Lt(qe[Ma](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+bs(da),{exception:Jt(da)})}gi()}else qe[cd]=h2?new lee(sr,Jr):new _M(sr,Jr);oo=gee,Gt=h2,An=RM,Kn=!Jr[iee]&&z1(!0),yo=!!Jr[oee],qe._sample=new Kwe(Jr.samplingPercentage,sr),dn=Jr[NT],!br(dn)&&!Aee(dn,$o)&&Lt(sr,1,100,"Invalid Instrumentation key "+dn),Dt=Jr[yM],he(ke)&&!FZ(ke)&&Dt&&Dt[ln]>0?Wt(Dt,function(da){E.addHeader(da.header,da.value)}):Dt=null,wi=Jr.enableSendPromise;var yee=qs();ai?ai.SetConfig(yee):(ai=new as,ai[gM](yee,sr));var BB=Jr.httpXHROverride,RB=null,LT=null,o8e=x8([3,1,2],Jr.transports);RB=ai&&ai[bB](o8e,!1);var kM=ai&&ai.getFallbackInst();st=o(function(da,vy){return Ut(kM,da,vy)},"_xhrSend"),mr=o(function(da,vy){return Ut(kM,da,vy,!1)},"_fallbackSend"),RB=At?BB:RB||BB||kM,qe[kT]=function(da,vy){return Ut(RB,da,vy)},Kn&&(xe=f2);var DM=x8([3,1],Jr.unloadTransports);Kn||(DM=DM.filter(function(da){return da!==2})),LT=ai&&ai[bB](DM,!0),LT=At?BB:LT||BB,(At||Jr.unloadTransports||!xe)&&LT&&(xe=o(function(da,vy){return Ut(LT,da,vy)},"_syncUnloadSender")),xe||(xe=st),Rr=Jr.disableTelemetry,hn=Jr.convertUndefined||ld,si=Jr.isRetryDisabled,ir=Jr.maxBatchInterval}))},qe.processTelemetry=function(Be,et){et=qe._getTelCtx(et);var bt=et[Ma]();try{var Mt=ku(Be,bt);if(!Mt)return;var vr=Tm(Be,bt);if(!vr)return;var sr=V.serialize(vr),On=qe[cd];gi(sr);var $o={item:sr,cnt:0};On[my]($o),d2()}catch(Tc){Lt(bt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+bs(Tc),{exception:Jt(Tc)})}qe.processNext(Be,et)},qe.isCompletelyIdle=function(){return!R&&me===0&&qe._buffer[gy]()===0},qe.getOfflineListener=function(){return Qe},qe._xhrReadyStateChange=function(Be,et,bt){if(!Nu(et))return bl(Be,et,bt)},qe[RT]=function(Be,et,bt){Be===void 0&&(Be=!0);var Mt;if(!R)try{var vr=qe[cd];if(Rr)vr[a2]();else if(vr[gy]()>0){var sr=vr.getItems();wB(bt||0,Be),et?Mt=et.call(qe,sr,Be):Mt=qe[kT](sr,Be)}_m()}catch($o){var On=Xp();(!On||On>9)&&Lt(qe[Ma](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+bs($o),{exception:Jt($o)})}return Mt},qe.getOfflineSupport=function(){return{getUrl:o(function(){return ke},"getUrl"),createPayload:ze,serialize:so,batch:fa,shouldProcess:o(function(Be){return!!ku(Be)},"shouldProcess")}},qe._doTeardown=function(Be,et){qe.onunloadFlush(),sm(Qe,!1),pee()},qe[yy]=function(Be,et,bt){if(!Nu(Be))return c0(Be,et)},qe[IM]=function(Be,et){if(!Nu(Be))return bm(Be,et)},qe[xB]=function(Be,et){if(!Nu(Be))return Ru(Be)},qe._xdrOnLoad=function(Be,et){if(!Nu(et))return Co(Be,et)};function Co(Be,et){var bt=fee(Be);if(Be&&(bt+""=="200"||bt===""))b=0,qe[xB](et,0);else{var Mt=Ot(bt);Mt&&Mt[vM]&&Mt[vM]>Mt[bM]&&!si?qe[IM](et,Mt):qe[yy](et,b8(Be))}}o(Co,"_xdrOnLoad");function qs(){try{var Be={xdrOnComplete:o(function(bt,Mt,vr){var sr=xm(vr);if(sr)return Co(bt,sr)},"xdrOnComplete"),fetchOnComplete:o(function(bt,Mt,vr,sr){var On=xm(sr);if(On)return Vi(bt.status,On,bt.url,On[ln],bt.statusText,vr||"")},"fetchOnComplete"),xhrOnComplete:o(function(bt,Mt,vr){var sr=xm(vr);if(sr)return bl(bt,sr,sr[ln])},"xhrOnComplete"),beaconOnRetry:o(function(bt,Mt,vr){return Du(bt,Mt,vr)},"beaconOnRetry")},et={enableSendPromise:wi,isOneDs:!1,disableCredentials:!1,disableXhr:Vt,disableBeacon:!Et,disableBeaconSync:!ht,senderOnCompleteCallBack:Be};return et}catch{}return null}o(qs,"_getSendPostMgrConfig");function bl(Be,et,bt){Be.readyState===4&&Vi(Be.status,et,Be.responseURL,bt,NI(Be),fee(Be)||Be.response)}o(bl,"_xhrReadyStateChange");function c0(Be,et,bt){Lt(qe[Ma](),2,26,"Failed to send telemetry.",{message:et}),qe._buffer&&qe._buffer[ST](Be)}o(c0,"_onError");function bm(Be,et){for(var bt=[],Mt=[],vr=et.errors.reverse(),sr=0,On=vr;sr<On.length;sr++){var $o=On[sr],Tc=Be.splice($o.index,1)[0];Sm($o.statusCode)?Mt[Wh](Tc):bt[Wh](Tc)}Be[ln]>0&&qe[xB](Be,et[bM]),bt[ln]>0&&qe[yy](bt,NI(null,["partial success",et[bM],"of",et.itemsReceived].join(" "))),Mt[ln]>0&&(FT(Mt),Lt(qe[Ma](),2,40,"Partial success. Delivered: "+Be[ln]+", Failed: "+bt[ln]+". Will retry to send "+Mt[ln]+" our of "+et[vM]+" items"))}o(bm,"_onPartialSuccess");function Ru(Be,et){qe._buffer&&qe._buffer[ST](Be)}o(Ru,"_onSuccess");function xm(Be){try{if(Be){var et=Be,bt=et.oriPayload;return bt&&bt[ln]?bt:null}}catch{}return null}o(xm,"_getPayloadArr");function ku(Be,et){if(Rr)return!1;if(!Be)return et&&Lt(et,1,7,"Cannot send empty telemetry"),!1;if(Be.baseData&&!Be[xM])return et&&Lt(et,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(Be[xM]||(Be[xM]="EventData"),!qe[kT])return et&&Lt(et,1,28,"Sender was not initialized"),!1;if(kt(Be))Be[SZ]=qe._sample[TB];else return et&&Lt(et,2,33,"Telemetry item was sampled out and not sent",{SampleRate:qe._sample[TB]}),!1;return!0}o(ku,"_validate");function Tm(Be,et){var bt=Be.iKey||dn,Mt=m.constructEnvelope(Be,bt,et,hn);if(!Mt){Lt(et,1,47,"Unable to create an AppInsights envelope");return}var vr=!1;if(Be[ua]&&Be[ua][ZL]&&(Wt(Be[ua][ZL],function(sr){try{sr&&sr(Mt)===!1&&(vr=!0,VI(et,"Telemetry processor check returns false"))}catch(On){Lt(et,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+bs(On),{exception:Jt(On)},!0)}}),delete Be[ua][ZL]),!vr)return Mt}o(Tm,"_getEnvelope");function so(Be){var et=uee,bt=qe[Ma]();try{var Mt=ku(Be,bt),vr=null;Mt&&(vr=Tm(Be,bt)),vr&&(et=V.serialize(vr))}catch{}return et}o(so,"_serialize");function fa(Be){var et=uee;return Be&&Be[ln]&&(et="["+Be.join(",")+"]"),et}o(fa,"_batch");function ze(Be){var et=di();return{urlString:ke,data:Be,headers:et}}o(ze,"_createPayload");function kt(Be){return qe._sample.isSampledIn(Be)}o(kt,"_isSampledIn");function Er(Be,et,bt,Mt){et===200&&Be?qe._onSuccess(Be,Be[ln]):Mt&&qe[yy](Be,Mt)}o(Er,"_getOnComplete");function Ut(Be,et,bt,Mt){Mt===void 0&&(Mt=!0);var vr=o(function($o,Tc,Jr){return Er(et,$o,Tc,Jr)},"onComplete"),sr=Ir(et),On=Be&&Be.sendPOST;return On&&sr?(Mt&&qe._buffer[vB](et),On(sr,vr,!bt)):null}o(Ut,"_doSend");function Ir(Be){if(ct(Be)&&Be[ln]>0){var et=qe[cd].batchPayloads(Be),bt=di(),Mt={data:et,urlString:ke,headers:bt,disableXhrSync:Vt,disableFetchKeepAlive:!Kn,oriPayload:Be};return Mt}return null}o(Ir,"_getPayload");function di(){try{var Be=te||{};return FZ(ke)&&(Be[BZ[6]]=BZ[7]),Be}catch{}return null}o(di,"_getHeaders");function gi(Be){var et=Be?Be[ln]:0;return qe[cd].size()+et>Oe?((!Qe||Qe.isOnline())&&qe[RT](!0,null,10),!0):!1}o(gi,"_checkMaxSize");function Vi(Be,et,bt,Mt,vr,sr){var On=null;if(qe._appId||(On=Ot(sr),On&&On.appId&&(qe._appId=On.appId)),(Be<200||Be>=300)&&Be!==0){if((Be===301||Be===307||Be===308)&&!Oa(bt)){qe[yy](et,vr);return}if(Qe&&!Qe.isOnline()){if(!si){var $o=10;FT(et,$o),Lt(qe[Ma](),2,40,". Offline - Response Code: ".concat(Be,". Offline status: ").concat(!Qe.isOnline(),". Will retry to send ").concat(et.length," items."))}return}!si&&Sm(Be)?(FT(et),Lt(qe[Ma](),2,40,". Response code "+Be+". Will retry to send "+et[ln]+" items.")):qe[yy](et,vr)}else Oa(bt),Be===206?(On||(On=Ot(sr)),On&&!si?qe[IM](et,On):qe[yy](et,vr)):(b=0,qe[xB](et,Mt))}o(Vi,"_checkResponsStatus");function Oa(Be){return $>=10?!1:!ee(Be)&&Be!==""&&Be!==ke?(ke=Be,++$,!0):!1}o(Oa,"_checkAndUpdateEndPointUrl");function M0(Be,et){if(xe)xe(Be,!1);else{var bt=ai&&ai[bB]([3],!0);return Ut(bt,Be,et)}}o(M0,"_doUnloadSend");function Du(Be,et,bt){var Mt=Be,vr=Mt&&Mt.oriPayload;if(yo)mr&&mr(vr,!0),Lt(qe[Ma](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var sr=[],On=0;On<vr[ln];On++){var $o=vr[On],Tc=[$o],Jr=Ir(Tc);bt(Jr,et)?qe._onSuccess(Tc,Tc[ln]):sr[Wh]($o)}sr[ln]>0&&(mr&&mr(sr,!0),Lt(qe[Ma](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Du,"_onBeaconRetry");function Nu(Be){try{if(Be&&Be[ln])return he(Be[0])}catch{}return null}o(Nu,"_isStringArr");function f2(Be,et){var bt=null;if(ct(Be)){for(var Mt=Be[ln],vr=0;vr<Be[ln];vr++)Mt+=Be[vr].item[ln];var sr=ai.getSyncFetchPayload();sr+Mt<=Jwe?bt=2:Xf()?bt=3:(bt=1,Lt(qe[Ma](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var On=ai&&ai[bB]([bt],!0);return Ut(On,Be,et)}return null}o(f2,"_fetchKeepAliveSender");function FT(Be,et){if(et===void 0&&(et=1),!(!Be||Be[ln]===0)){var bt=qe[cd];bt[ST](Be),b++;for(var Mt=0,vr=Be;Mt<vr.length;Mt++){var sr=vr[Mt];sr.cnt=sr.cnt||0,sr.cnt++,bt[my](sr)}wM(et),d2()}}o(FT,"_resendPayload");function wM(Be){var et=10,bt;if(b<=1)bt=et;else{var Mt=(Math.pow(2,b)-1)/2,vr=bh(Math.random()*Mt*et)+1;vr=Be*vr,bt=Te(Au(vr,3600),et)}var sr=Lf()+bt*1e3;B=sr}o(wM,"_setRetryTime");function d2(){if(!F&&!R){var Be=B?Te(0,B-Lf()):0,et=Te(ir,Be);F=Uf(function(){F=null,qe[RT](!0,null,1)},et)}}o(d2,"_setupTimer");function _m(){F&&F.cancel(),F=null,B=null}o(_m,"_clearScheduledTimer");function Sm(Be){return ee(Hs)?Be===401||Be===408||Be===429||Be===500||Be===502||Be===503||Be===504:Hs[ln]&&Hs.indexOf(Be)>-1}o(Sm,"_isRetriable");function SB(){var Be="getNotifyMgr";return qe.core[Be]?qe.core[Be]():qe.core._notificationManager}o(SB,"_getNotifyMgr");function wB(Be,et){var bt=SB();if(bt&&bt.eventsSendRequest)try{bt.eventsSendRequest(Be,et)}catch(Mt){Lt(qe[Ma](),1,74,"send request notification failed: "+bs(Mt),{exception:Jt(Mt)})}}o(wB,"_notifySendRequest");function Aee(Be,et){var bt=et.disableInstrumentationKeyValidation,Mt=ee(bt)?!1:bt;if(Mt)return!0;var vr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",sr=new RegExp(vr);return sr.test(Be)}o(Aee,"_validateInstrumentationKey");function pee(){qe[kT]=null,qe[cd]=null,qe._appId=null,qe._sample=null,te={},Qe=null,b=0,B=null,R=!1,F=null,V=null,$=0,me=0,xe=null,_e=null,ke=null,Ye=null,Oe=0,rt=!1,Dt=null,Rr=!1,dn=null,hn=ld,si=!1,Gt=null,oo=ld,Vt=!1,Kn=!1,yo=!1,st=null,mr=null,ai=null,Kt(qe,"_senderConfig",{g:o(function(){return v8({},dee)},"g")})}o(pee,"_initDefaults")}),E}return o(m,"Sender"),m.constructEnvelope=function(E,b,B,R){var F;b!==E.iKey&&!ee(b)?F=Eu(Eu({},E),{iKey:b}):F=E;var V=e8e[F.baseType]||aee;return V(B,F,R)},m}(Ze),l2="instrumentationKey",_B="connectionString",QT="endpointUrl",PT="userOverrideEndpointUrl",u2,SM=void 0,t8e=(u2={diagnosticLogInterval:nT(r8e,1e4)},u2[_B]=SM,u2.endpointUrl=SM,u2[l2]=SM,u2.extensionConfig={},u2);function r8e(p){return p&&p>0}o(r8e,"_chkDiagLevel");var n8e=function(){function p(m){var E=new at,b;(ee(m)||ee(m[l2])&&ee(m[_B]))&&po("Invalid input configuration"),ca(p,this,function(R){Kt(R,"config",{g:o(function(){return b},"g")}),F(),R.initialize=F,R.track=B,q5(R,E,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function F(){var V=L0(m||{},t8e);b=V.cfg,E.addUnloadHook(wu(V,function(){var $=b[_B];if(br($)){var te=xI(function(_e,ke){D0($,function(Ye){var Oe=Ye.value,rt=b[l2];if(!Ye.rejected&&Oe){b[_B]=Oe;var ht=cM(Oe);rt=ht.instrumentationkey||rt}_e(rt)})}),me=xI(function(_e,ke){D0($,function(Ye){var Oe=Ye.value,rt=b[QT];if(!Ye.rejected&&Oe){var ht=cM(Oe),Et=ht.ingestionendpoint;rt=Et?Et+e2:rt}_e(rt)})});b[l2]=te,b[QT]=b[PT]||me}if(he($)){var xe=cM($),Qe=xe.ingestionendpoint;b[QT]=b[PT]?b[PT]:Qe+e2,b[l2]=xe.instrumentationkey||b[l2]}b[QT]=b[PT]?b[PT]:b[QT]})),E.initialize(b,[new hee])}o(F,"_initialize")});function B(R){R&&(R.baseData=R.baseData||{},R.baseType=R.baseType||"EventData"),E.track(R)}o(B,"_track")}return o(p,"ApplicationInsights"),p.__ieDyn=1,p}();t.AppInsightsCore=at,t.ApplicationInsights=n8e,t.Sender=hee,t.SeverityLevel=Nwe,t.arrForEach=Wt,t.isNullOrUndefined=ee,t.proxyFunctions=q5,t.throwError=po})});var PH=q((DFt,fce)=>{u();var Av=1e3,pv=Av*60,mv=pv*60,Xy=mv*24,yDe=Xy*7,CDe=Xy*365.25;fce.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return EDe(t);if(r==="number"&&isFinite(t))return e.long?vDe(t):IDe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function EDe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*CDe;case"weeks":case"week":case"w":return r*yDe;case"days":case"day":case"d":return r*Xy;case"hours":case"hour":case"hrs":case"hr":case"h":return r*mv;case"minutes":case"minute":case"mins":case"min":case"m":return r*pv;case"seconds":case"second":case"secs":case"sec":case"s":return r*Av;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(EDe,"parse");function IDe(t){var e=Math.abs(t);return e>=Xy?Math.round(t/Xy)+"d":e>=mv?Math.round(t/mv)+"h":e>=pv?Math.round(t/pv)+"m":e>=Av?Math.round(t/Av)+"s":t+"ms"}o(IDe,"fmtShort");function vDe(t){var e=Math.abs(t);return e>=Xy?pR(t,e,Xy,"day"):e>=mv?pR(t,e,mv,"hour"):e>=pv?pR(t,e,pv,"minute"):e>=Av?pR(t,e,Av,"second"):t+" ms"}o(vDe,"fmtLong");function pR(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}o(pR,"plural")});var FH=q((PFt,dce)=>{u();function bDe(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=a,r.humanize=PH(),r.destroy=f,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let h=0;for(let A=0;A<d.length;A++)h=(h<<5)-h+d.charCodeAt(A),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(e,"selectColor"),r.selectColor=e;function r(d){let h,A=null,g,y;function v(..._){if(!v.enabled)return;let T=v,S=Number(new Date),D=S-(h||S);T.diff=D,T.prev=h,T.curr=S,h=S,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let Q=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(P,W)=>{if(P==="%%")return"%";Q++;let re=r.formatters[W];if(typeof re=="function"){let ye=_[Q];P=re.call(T,ye),_.splice(Q,1),Q--}return P}),r.formatArgs.call(T,_),(T.log||r.log).apply(T,_)}return o(v,"debug"),v.namespace=d,v.useColors=r.useColors(),v.color=r.selectColor(d),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:o(()=>A!==null?A:(g!==r.namespaces&&(g=r.namespaces,y=r.enabled(d)),y),"get"),set:o(_=>{A=_},"set")}),typeof r.init=="function"&&r.init(v),v}o(r,"createDebug");function n(d,h){let A=r(this.namespace+(typeof h>"u"?":":h)+d);return A.log=this.log,A}o(n,"extend");function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,A=(typeof d=="string"?d:"").split(/[\s,]+/),g=A.length;for(h=0;h<g;h++)A[h]&&(d=A[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(i,"enable");function s(){let d=[...r.names.map(c),...r.skips.map(c).map(h=>"-"+h)].join(",");return r.enable(""),d}o(s,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,A;for(h=0,A=r.skips.length;h<A;h++)if(r.skips[h].test(d))return!1;for(h=0,A=r.names.length;h<A;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(c,"toNamespace");function l(d){return d instanceof Error?d.stack||d.message:d}o(l,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),r.enable(r.load()),r}o(bDe,"setup");dce.exports=bDe});var hce=q((Mc,mR)=>{u();Mc.formatArgs=TDe;Mc.save=_De;Mc.load=SDe;Mc.useColors=xDe;Mc.storage=wDe();Mc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Mc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xDe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(xDe,"useColors");function TDe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+mR.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}o(TDe,"formatArgs");Mc.log=console.debug||console.log||(()=>{});function _De(t){try{t?Mc.storage.setItem("debug",t):Mc.storage.removeItem("debug")}catch{}}o(_De,"save");function SDe(){let t;try{t=Mc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}o(SDe,"load");function wDe(){try{return localStorage}catch{}}o(wDe,"localstorage");mR.exports=FH()(Mc);var{formatters:BDe}=mR.exports;BDe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var pce=q((UFt,Ace)=>{"use strict";u();Ace.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var yce=q((qFt,gce)=>{"use strict";u();var RDe=require("os"),mce=require("tty"),Fl=pce(),{env:zs}=process,ng;Fl("no-color")||Fl("no-colors")||Fl("color=false")||Fl("color=never")?ng=0:(Fl("color")||Fl("colors")||Fl("color=true")||Fl("color=always"))&&(ng=1);"FORCE_COLOR"in zs&&(zs.FORCE_COLOR==="true"?ng=1:zs.FORCE_COLOR==="false"?ng=0:ng=zs.FORCE_COLOR.length===0?1:Math.min(parseInt(zs.FORCE_COLOR,10),3));function LH(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(LH,"translateLevel");function MH(t,e){if(ng===0)return 0;if(Fl("color=16m")||Fl("color=full")||Fl("color=truecolor"))return 3;if(Fl("color=256"))return 2;if(t&&!e&&ng===void 0)return 0;let r=ng||0;if(zs.TERM==="dumb")return r;if(process.platform==="win32"){let n=RDe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in zs)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in zs)||zs.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in zs)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(zs.TEAMCITY_VERSION)?1:0;if(zs.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in zs){let n=parseInt((zs.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(zs.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(zs.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(zs.TERM)||"COLORTERM"in zs?1:r}o(MH,"supportsColor");function kDe(t){let e=MH(t,t&&t.isTTY);return LH(e)}o(kDe,"getSupportLevel");gce.exports={supportsColor:kDe,stdout:LH(MH(!0,mce.isatty(1))),stderr:LH(MH(!0,mce.isatty(2)))}});var Ece=q((Ia,yR)=>{u();var DDe=require("tty"),gR=require("util");Ia.init=ODe;Ia.log=FDe;Ia.formatArgs=QDe;Ia.save=LDe;Ia.load=MDe;Ia.useColors=NDe;Ia.destroy=gR.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ia.colors=[6,2,3,4,5,1];try{let t=yce();t&&(t.stderr||t).level>=2&&(Ia.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ia.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function NDe(){return"colors"in Ia.inspectOpts?!!Ia.inspectOpts.colors:DDe.isatty(process.stderr.fd)}o(NDe,"useColors");function QDe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+yR.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=PDe()+e+" "+t[0]}o(QDe,"formatArgs");function PDe(){return Ia.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(PDe,"getDate");function FDe(...t){return process.stderr.write(gR.format(...t)+`
`)}o(FDe,"log");function LDe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(LDe,"save");function MDe(){return process.env.DEBUG}o(MDe,"load");function ODe(t){t.inspectOpts={};let e=Object.keys(Ia.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Ia.inspectOpts[e[r]]}o(ODe,"init");yR.exports=FH()(Ia);var{formatters:Cce}=yR.exports;Cce.o=function(t){return this.inspectOpts.colors=this.useColors,gR.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Cce.O=function(t){return this.inspectOpts.colors=this.useColors,gR.inspect(t,this.inspectOpts)}});var xd=q(($Ft,OH)=>{u();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?OH.exports=hce():OH.exports=Ece()});var bce=q(K0=>{"use strict";u();var UDe=K0&&K0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HDe=K0&&K0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ice=K0&&K0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UDe(e,t,r);return HDe(e,t),e};Object.defineProperty(K0,"__esModule",{value:!0});K0.req=K0.json=K0.toBuffer=void 0;var qDe=Ice(require("http")),GDe=Ice(require("https"));async function vce(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}o(vce,"toBuffer");K0.toBuffer=vce;async function VDe(t){let r=(await vce(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let i=n;throw i.message+=` (input: ${r})`,i}}o(VDe,"json");K0.json=VDe;function WDe(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?GDe:qDe).request(t,e),i=new Promise((s,a)=>{n.once("response",s).once("error",a).end()});return n.then=i.then.bind(i),n}o(WDe,"req");K0.req=WDe});var HH=q(Oc=>{"use strict";u();var Tce=Oc&&Oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YDe=Oc&&Oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_ce=Oc&&Oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tce(e,t,r);return YDe(e,t),e},$De=Oc&&Oc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tce(e,t,r)};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Agent=void 0;var zDe=_ce(require("net")),xce=_ce(require("http")),jDe=require("https");$De(bce(),Oc);var Td=Symbol("AgentBaseInternalState"),UH=class extends xce.Agent{static{o(this,"Agent")}constructor(e){super(e),this[Td]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new zDe.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],i=n.indexOf(r);i!==-1&&(n.splice(i,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?jDe.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let i={...r,secureEndpoint:this.isSecureEndpoint(r)},s=this.getName(i),a=this.incrementSockets(s);Promise.resolve().then(()=>this.connect(e,i)).then(c=>{if(this.decrementSockets(s,a),c instanceof xce.Agent)return c.addRequest(e,i);this[Td].currentSocket=c,super.createSocket(e,r,n)},c=>{this.decrementSockets(s,a),n(c)})}createConnection(){let e=this[Td].currentSocket;if(this[Td].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Td].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Td]&&(this[Td].defaultPort=e)}get protocol(){return this[Td].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Td]&&(this[Td].protocol=e)}};Oc.Agent=UH});var Sce=q(gv=>{"use strict";u();var KDe=gv&&gv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gv,"__esModule",{value:!0});gv.parseProxyResponse=void 0;var JDe=KDe(xd()),CR=(0,JDe.default)("https-proxy-agent:parse-proxy-response");function XDe(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?f(d):t.once("readable",s)}o(s,"read");function a(){t.removeListener("end",c),t.removeListener("error",l),t.removeListener("readable",s)}o(a,"cleanup");function c(){a(),CR("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}o(c,"onend");function l(d){a(),CR("onerror %o",d),r(d)}o(l,"onerror");function f(d){i.push(d),n+=d.length;let h=Buffer.concat(i,n),A=h.indexOf(`\r
\r
`);if(A===-1){CR("have not received end of HTTP headers yet..."),s();return}let g=h.slice(0,A).toString("ascii").split(`\r
`),y=g.shift();if(!y)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let v=y.split(" "),_=+v[1],T=v.slice(2).join(" "),S={};for(let D of g){if(!D)continue;let Q=D.indexOf(":");if(Q===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${D}"`));let k=D.slice(0,Q).toLowerCase(),P=D.slice(Q+1).trimStart(),W=S[k];typeof W=="string"?S[k]=[W,P]:Array.isArray(W)?W.push(P):S[k]=P}CR("got proxy server response: %o %o",y,S),a(),e({connect:{statusCode:_,statusText:T,headers:S},buffered:h})}o(f,"ondata"),t.on("error",l),t.on("end",c),s()})}o(XDe,"parseProxyResponse");gv.parseProxyResponse=XDe});var Dce=q(Ll=>{"use strict";u();var ZDe=Ll&&Ll.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eNe=Ll&&Ll.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rce=Ll&&Ll.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZDe(e,t,r);return eNe(e,t),e},kce=Ll&&Ll.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.HttpsProxyAgent=void 0;var qH=Rce(require("net")),wce=Rce(require("tls")),tNe=kce(require("assert")),rNe=kce(xd()),nNe=HH(),iNe=require("url"),oNe=Sce(),_4=(0,rNe.default)("https-proxy-agent"),ER=class extends nNe.Agent{static{o(this,"HttpsProxyAgent")}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new iNe.URL(e):e,this.proxyHeaders=r?.headers??{},_4("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?Bce(r,"headers"):null,host:n,port:i}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){_4("Creating `tls.Socket`: %o",this.connectOpts);let A=this.connectOpts.servername||this.connectOpts.host;i=wce.connect({...this.connectOpts,servername:A})}else _4("Creating `net.Socket`: %o",this.connectOpts),i=qH.connect(this.connectOpts);let s=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},a=qH.isIPv6(r.host)?`[${r.host}]`:r.host,c=`CONNECT ${a}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let A=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(A).toString("base64")}`}s.Host=`${a}:${r.port}`,s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let A of Object.keys(s))c+=`${A}: ${s[A]}\r
`;let l=(0,oNe.parseProxyResponse)(i);i.write(`${c}\r
`);let{connect:f,buffered:d}=await l;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),f.statusCode===200){if(e.once("socket",sNe),r.secureEndpoint){_4("Upgrading socket connection to TLS");let A=r.servername||r.host;return wce.connect({...Bce(r,"host","path","port"),socket:i,servername:A})}return i}i.destroy();let h=new qH.Socket({writable:!1});return h.readable=!0,e.once("socket",A=>{_4("Replaying proxy buffer for failed request"),(0,tNe.default)(A.listenerCount("data")>0),A.push(d),A.push(null)}),h}};ER.protocols=["http","https"];Ll.HttpsProxyAgent=ER;function sNe(t){t.resume()}o(sNe,"resume");function Bce(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(Bce,"omit")});var Pce=q(Ml=>{"use strict";u();var aNe=Ml&&Ml.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cNe=Ml&&Ml.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qce=Ml&&Ml.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aNe(e,t,r);return cNe(e,t),e},lNe=Ml&&Ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.HttpProxyAgent=void 0;var uNe=Qce(require("net")),fNe=Qce(require("tls")),dNe=lNe(xd()),hNe=require("events"),ANe=HH(),Nce=require("url"),yv=(0,dNe.default)("http-proxy-agent"),IR=class extends ANe.Agent{static{o(this,"HttpProxyAgent")}constructor(e,r){super(r),this.proxy=typeof e=="string"?new Nce.URL(e):e,this.proxyHeaders=r?.headers??{},yv("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?pNe(r,"headers"):null,host:n,port:i}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,i=r.secureEndpoint?"https:":"http:",s=e.getHeader("host")||"localhost",a=`${i}//${s}`,c=new Nce.URL(e.path,a);r.port!==80&&(c.port=String(r.port)),e.path=String(c);let l=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;l["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}l["Proxy-Connection"]||(l["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(l)){let d=l[f];d&&e.setHeader(f,d)}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let n,i;yv("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(yv("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),yv("Output buffer: %o",e.outputData[0].data));let s;return this.proxy.protocol==="https:"?(yv("Creating `tls.Socket`: %o",this.connectOpts),s=fNe.connect(this.connectOpts)):(yv("Creating `net.Socket`: %o",this.connectOpts),s=uNe.connect(this.connectOpts)),await(0,hNe.once)(s,"connect"),s}};IR.protocols=["http","https"];Ml.HttpProxyAgent=IR;function pNe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(pNe,"omit")});var nle=q(FR=>{"use strict";u();Object.defineProperty(FR,"__esModule",{value:!0});FR.state=void 0;FR.state={instrumenterImplementation:void 0}});var fle=q(HR=>{"use strict";u();Object.defineProperty(HR,"__esModule",{value:!0});HR.state=void 0;HR.state={operationRequestMap:new WeakMap}});var qv=q((GG,pue)=>{u();var N7=require("buffer"),Fd=N7.Buffer;function Aue(t,e){for(var r in t)e[r]=t[r]}o(Aue,"copyProps");Fd.from&&Fd.alloc&&Fd.allocUnsafe&&Fd.allocUnsafeSlow?pue.exports=N7:(Aue(N7,GG),GG.Buffer=HC);function HC(t,e,r){return Fd(t,e,r)}o(HC,"SafeBuffer");HC.prototype=Object.create(Fd.prototype);Aue(Fd,HC);HC.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Fd(t,e,r)};HC.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Fd(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};HC.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Fd(t)};HC.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return N7.SlowBuffer(t)}});var VG=q((Cnr,mue)=>{u();var Q7=qv().Buffer,$Pe=require("stream"),zPe=require("util");function P7(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Q7.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Q7.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}o(P7,"DataStream");zPe.inherits(P7,$Pe);P7.prototype.write=o(function(e){this.buffer=Q7.concat([this.buffer,Q7.from(e)]),this.emit("data",e)},"write");P7.prototype.end=o(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");mue.exports=P7});var yue=q((vnr,gue)=>{"use strict";u();function WG(t){var e=(t/8|0)+(t%8===0?0:1);return e}o(WG,"getParamSize");var jPe={ES256:WG(256),ES384:WG(384),ES512:WG(521)};function KPe(t){var e=jPe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}o(KPe,"getParamBytesForAlg");gue.exports=KPe});var Tue=q((Tnr,xue)=>{"use strict";u();var F7=qv().Buffer,Eue=yue(),L7=128,Iue=0,JPe=32,XPe=16,ZPe=2,vue=XPe|JPe|Iue<<6,M7=ZPe|Iue<<6;function eFe(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(eFe,"base64Url");function bue(t){if(F7.isBuffer(t))return t;if(typeof t=="string")return F7.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}o(bue,"signatureAsBuffer");function tFe(t,e){t=bue(t);var r=Eue(e),n=r+1,i=t.length,s=0;if(t[s++]!==vue)throw new Error('Could not find expected "seq"');var a=t[s++];if(a===(L7|1)&&(a=t[s++]),i-s<a)throw new Error('"seq" specified length of "'+a+'", only "'+(i-s)+'" remaining');if(t[s++]!==M7)throw new Error('Could not find expected "int" for "r"');var c=t[s++];if(i-s-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(i-s-2)+'" available');if(n<c)throw new Error('"r" specified length of "'+c+'", max of "'+n+'" is acceptable');var l=s;if(s+=c,t[s++]!==M7)throw new Error('Could not find expected "int" for "s"');var f=t[s++];if(i-s!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-s)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var d=s;if(s+=f,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var h=r-c,A=r-f,g=F7.allocUnsafe(h+c+A+f);for(s=0;s<h;++s)g[s]=0;t.copy(g,s,l+Math.max(-h,0),l+c),s=r;for(var y=s;s<y+A;++s)g[s]=0;return t.copy(g,s,d+Math.max(-A,0),d+f),g=g.toString("base64"),g=eFe(g),g}o(tFe,"derToJose");function Cue(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var i=t[e+n]>=L7;return i&&--n,n}o(Cue,"countPadding");function rFe(t,e){t=bue(t);var r=Eue(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=Cue(t,0,r),s=Cue(t,r,t.length),a=r-i,c=r-s,l=2+a+1+1+c,f=l<L7,d=F7.allocUnsafe((f?2:3)+l),h=0;return d[h++]=vue,f?d[h++]=l:(d[h++]=L7|1,d[h++]=l&255),d[h++]=M7,d[h++]=a,i<0?(d[h++]=0,h+=t.copy(d,h,0,r)):h+=t.copy(d,h,i,r),d[h++]=M7,d[h++]=c,s<0?(d[h++]=0,t.copy(d,h,r)):t.copy(d,h,r+s),d}o(rFe,"joseToDer");xue.exports={derToJose:tFe,joseToDer:rFe}});var Sue=q((wnr,_ue)=>{"use strict";u();var M_=require("buffer").Buffer,YG=require("buffer").SlowBuffer;_ue.exports=O7;function O7(t,e){if(!M_.isBuffer(t)||!M_.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(O7,"bufferEq");O7.install=function(){M_.prototype.equal=YG.prototype.equal=o(function(e){return O7(this,e)},"equal")};var nFe=M_.prototype.equal,iFe=YG.prototype.equal;O7.restore=function(){M_.prototype.equal=nFe,YG.prototype.equal=iFe}});var KG=q((knr,Fue)=>{u();var Vv=qv().Buffer,Hl=require("crypto"),Bue=Tue(),wue=require("util"),oFe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,O_="secret must be a string or buffer",Gv="key must be a string or a buffer",sFe="key must be a string, a buffer or an object",zG=typeof Hl.createPublicKey=="function";zG&&(Gv+=" or a KeyObject",O_+="or a KeyObject");function Rue(t){if(!Vv.isBuffer(t)&&typeof t!="string"&&(!zG||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw ef(Gv)}o(Rue,"checkIsPublicKey");function kue(t){if(!Vv.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw ef(sFe)}o(kue,"checkIsPrivateKey");function aFe(t){if(!Vv.isBuffer(t)){if(typeof t=="string")return t;if(!zG||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw ef(O_)}}o(aFe,"checkIsSecretKey");function jG(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(jG,"fromBase64");function Due(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}o(Due,"toBase64");function ef(t){var e=[].slice.call(arguments,1),r=wue.format.bind(wue,t).apply(null,e);return new TypeError(r)}o(ef,"typeError");function cFe(t){return Vv.isBuffer(t)||typeof t=="string"}o(cFe,"bufferOrString");function U_(t){return cFe(t)||(t=JSON.stringify(t)),t}o(U_,"normalizeInput");function Nue(t){return o(function(r,n){aFe(n),r=U_(r);var i=Hl.createHmac("sha"+t,n),s=(i.update(r),i.digest("base64"));return jG(s)},"sign")}o(Nue,"createHmacSigner");var $G,lFe="timingSafeEqual"in Hl?o(function(e,r){return e.byteLength!==r.byteLength?!1:Hl.timingSafeEqual(e,r)},"timingSafeEqual"):o(function(e,r){return $G||($G=Sue()),$G(e,r)},"timingSafeEqual");function uFe(t){return o(function(r,n,i){var s=Nue(t)(r,i);return lFe(Vv.from(n),Vv.from(s))},"verify")}o(uFe,"createHmacVerifier");function Que(t){return o(function(r,n){kue(n),r=U_(r);var i=Hl.createSign("RSA-SHA"+t),s=(i.update(r),i.sign(n,"base64"));return jG(s)},"sign")}o(Que,"createKeySigner");function Pue(t){return o(function(r,n,i){Rue(i),r=U_(r),n=Due(n);var s=Hl.createVerify("RSA-SHA"+t);return s.update(r),s.verify(i,n,"base64")},"verify")}o(Pue,"createKeyVerifier");function fFe(t){return o(function(r,n){kue(n),r=U_(r);var i=Hl.createSign("RSA-SHA"+t),s=(i.update(r),i.sign({key:n,padding:Hl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Hl.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return jG(s)},"sign")}o(fFe,"createPSSKeySigner");function dFe(t){return o(function(r,n,i){Rue(i),r=U_(r),n=Due(n);var s=Hl.createVerify("RSA-SHA"+t);return s.update(r),s.verify({key:i,padding:Hl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Hl.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}o(dFe,"createPSSKeyVerifier");function hFe(t){var e=Que(t);return o(function(){var n=e.apply(null,arguments);return n=Bue.derToJose(n,"ES"+t),n},"sign")}o(hFe,"createECDSASigner");function AFe(t){var e=Pue(t);return o(function(n,i,s){i=Bue.joseToDer(i,"ES"+t).toString("base64");var a=e(n,i,s);return a},"verify")}o(AFe,"createECDSAVerifer");function pFe(){return o(function(){return""},"sign")}o(pFe,"createNoneSigner");function mFe(){return o(function(e,r){return r===""},"verify")}o(mFe,"createNoneVerifier");Fue.exports=o(function(e){var r={hs:Nue,rs:Que,ps:fFe,es:hFe,none:pFe},n={hs:uFe,rs:Pue,ps:dFe,es:AFe,none:mFe},i=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw ef(oFe,e);var s=(i[1]||i[3]).toLowerCase(),a=i[2];return{sign:r[s](a),verify:n[s](a)}},"jwa")});var JG=q((Qnr,Lue)=>{u();var gFe=require("buffer").Buffer;Lue.exports=o(function(e){return typeof e=="string"?e:typeof e=="number"||gFe.isBuffer(e)?e.toString():JSON.stringify(e)},"toString")});var Gue=q((Lnr,que)=>{u();var yFe=qv().Buffer,Mue=VG(),CFe=KG(),EFe=require("stream"),Oue=JG(),XG=require("util");function Uue(t,e){return yFe.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o(Uue,"base64url");function IFe(t,e,r){r=r||"utf8";var n=Uue(Oue(t),"binary"),i=Uue(Oue(e),r);return XG.format("%s.%s",n,i)}o(IFe,"jwsSecuredInput");function Hue(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,s=CFe(e.alg),a=IFe(e,r,i),c=s.sign(a,n);return XG.format("%s.%s",a,c)}o(Hue,"jwsSign");function U7(t){var e=t.secret||t.privateKey||t.key,r=new Mue(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Mue(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}o(U7,"SignStream");XG.inherits(U7,EFe);U7.prototype.sign=o(function(){try{var e=Hue({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");U7.sign=Hue;que.exports=U7});var Zue=q((Unr,Xue)=>{u();var Wue=qv().Buffer,Vue=VG(),vFe=KG(),bFe=require("stream"),Yue=JG(),xFe=require("util"),TFe=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function _Fe(t){return Object.prototype.toString.call(t)==="[object Object]"}o(_Fe,"isObject");function SFe(t){if(_Fe(t))return t;try{return JSON.parse(t)}catch{return}}o(SFe,"safeJsonParse");function $ue(t){var e=t.split(".",1)[0];return SFe(Wue.from(e,"base64").toString("binary"))}o($ue,"headerFromJWS");function wFe(t){return t.split(".",2).join(".")}o(wFe,"securedInputFromJWS");function zue(t){return t.split(".")[2]}o(zue,"signatureFromJWS");function BFe(t,e){e=e||"utf8";var r=t.split(".")[1];return Wue.from(r,"base64").toString(e)}o(BFe,"payloadFromJWS");function jue(t){return TFe.test(t)&&!!$ue(t)}o(jue,"isValidJws");function Kue(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=Yue(t);var i=zue(t),s=wFe(t),a=vFe(e);return a.verify(s,i,r)}o(Kue,"jwsVerify");function Jue(t,e){if(e=e||{},t=Yue(t),!jue(t))return null;var r=$ue(t);if(!r)return null;var n=BFe(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:zue(t)}}o(Jue,"jwsDecode");function Wv(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new Vue(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new Vue(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}o(Wv,"VerifyStream");xFe.inherits(Wv,bFe);Wv.prototype.verify=o(function(){try{var e=Kue(this.signature.buffer,this.algorithm,this.key.buffer),r=Jue(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");Wv.decode=Jue;Wv.isValid=jue;Wv.verify=Kue;Xue.exports=Wv});var q7=q(xg=>{u();var efe=Gue(),H7=Zue(),RFe=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];xg.ALGORITHMS=RFe;xg.sign=efe.sign;xg.verify=H7.verify;xg.decode=H7.decode;xg.isValid=H7.isValid;xg.createSign=o(function(e){return new efe(e)},"createSign");xg.createVerify=o(function(e){return new H7(e)},"createVerify")});var ZG=q((Ynr,tfe)=>{u();var kFe=q7();tfe.exports=function(t,e){e=e||{};var r=kFe.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var H_=q((znr,rfe)=>{u();var G7=o(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError");G7.prototype=Object.create(Error.prototype);G7.prototype.constructor=G7;rfe.exports=G7});var eV=q((Jnr,ife)=>{u();var nfe=H_(),V7=o(function(t,e){nfe.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError");V7.prototype=Object.create(nfe.prototype);V7.prototype.constructor=V7;ife.exports=V7});var tV=q((eir,sfe)=>{u();var ofe=H_(),W7=o(function(t,e){ofe.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError");W7.prototype=Object.create(ofe.prototype);W7.prototype.constructor=W7;sfe.exports=W7});var rV=q((nir,afe)=>{u();var DFe=PH();afe.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=DFe(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var q_=q((oir,cfe)=>{"use strict";u();var NFe="2.0.0",QFe=Number.MAX_SAFE_INTEGER||9007199254740991,PFe=16,FFe=250,LFe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];cfe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:PFe,MAX_SAFE_BUILD_LENGTH:FFe,MAX_SAFE_INTEGER:QFe,RELEASE_TYPES:LFe,SEMVER_SPEC_VERSION:NFe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var G_=q((air,lfe)=>{"use strict";u();var MFe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};lfe.exports=MFe});var Yv=q((Ld,ufe)=>{"use strict";u();var{MAX_SAFE_COMPONENT_LENGTH:nV,MAX_SAFE_BUILD_LENGTH:OFe,MAX_LENGTH:UFe}=q_(),HFe=G_();Ld=ufe.exports={};var qFe=Ld.re=[],GFe=Ld.safeRe=[],Nt=Ld.src=[],VFe=Ld.safeSrc=[],Qt=Ld.t={},WFe=0,iV="[a-zA-Z0-9-]",YFe=[["\\s",1],["\\d",UFe],[iV,OFe]],$Fe=o(t=>{for(let[e,r]of YFe)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},"makeSafeRegex"),Gr=o((t,e,r)=>{let n=$Fe(e),i=WFe++;HFe(t,i,e),Qt[t]=i,Nt[i]=e,VFe[i]=n,qFe[i]=new RegExp(e,r?"g":void 0),GFe[i]=new RegExp(n,r?"g":void 0)},"createToken");Gr("NUMERICIDENTIFIER","0|[1-9]\\d*");Gr("NUMERICIDENTIFIERLOOSE","\\d+");Gr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${iV}*`);Gr("MAINVERSION",`(${Nt[Qt.NUMERICIDENTIFIER]})\\.(${Nt[Qt.NUMERICIDENTIFIER]})\\.(${Nt[Qt.NUMERICIDENTIFIER]})`);Gr("MAINVERSIONLOOSE",`(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})\\.(${Nt[Qt.NUMERICIDENTIFIERLOOSE]})`);Gr("PRERELEASEIDENTIFIER",`(?:${Nt[Qt.NONNUMERICIDENTIFIER]}|${Nt[Qt.NUMERICIDENTIFIER]})`);Gr("PRERELEASEIDENTIFIERLOOSE",`(?:${Nt[Qt.NONNUMERICIDENTIFIER]}|${Nt[Qt.NUMERICIDENTIFIERLOOSE]})`);Gr("PRERELEASE",`(?:-(${Nt[Qt.PRERELEASEIDENTIFIER]}(?:\\.${Nt[Qt.PRERELEASEIDENTIFIER]})*))`);Gr("PRERELEASELOOSE",`(?:-?(${Nt[Qt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Nt[Qt.PRERELEASEIDENTIFIERLOOSE]})*))`);Gr("BUILDIDENTIFIER",`${iV}+`);Gr("BUILD",`(?:\\+(${Nt[Qt.BUILDIDENTIFIER]}(?:\\.${Nt[Qt.BUILDIDENTIFIER]})*))`);Gr("FULLPLAIN",`v?${Nt[Qt.MAINVERSION]}${Nt[Qt.PRERELEASE]}?${Nt[Qt.BUILD]}?`);Gr("FULL",`^${Nt[Qt.FULLPLAIN]}$`);Gr("LOOSEPLAIN",`[v=\\s]*${Nt[Qt.MAINVERSIONLOOSE]}${Nt[Qt.PRERELEASELOOSE]}?${Nt[Qt.BUILD]}?`);Gr("LOOSE",`^${Nt[Qt.LOOSEPLAIN]}$`);Gr("GTLT","((?:<|>)?=?)");Gr("XRANGEIDENTIFIERLOOSE",`${Nt[Qt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Gr("XRANGEIDENTIFIER",`${Nt[Qt.NUMERICIDENTIFIER]}|x|X|\\*`);Gr("XRANGEPLAIN",`[v=\\s]*(${Nt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIER]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIER]})(?:${Nt[Qt.PRERELEASE]})?${Nt[Qt.BUILD]}?)?)?`);Gr("XRANGEPLAINLOOSE",`[v=\\s]*(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nt[Qt.XRANGEIDENTIFIERLOOSE]})(?:${Nt[Qt.PRERELEASELOOSE]})?${Nt[Qt.BUILD]}?)?)?`);Gr("XRANGE",`^${Nt[Qt.GTLT]}\\s*${Nt[Qt.XRANGEPLAIN]}$`);Gr("XRANGELOOSE",`^${Nt[Qt.GTLT]}\\s*${Nt[Qt.XRANGEPLAINLOOSE]}$`);Gr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${nV}})(?:\\.(\\d{1,${nV}}))?(?:\\.(\\d{1,${nV}}))?`);Gr("COERCE",`${Nt[Qt.COERCEPLAIN]}(?:$|[^\\d])`);Gr("COERCEFULL",Nt[Qt.COERCEPLAIN]+`(?:${Nt[Qt.PRERELEASE]})?(?:${Nt[Qt.BUILD]})?(?:$|[^\\d])`);Gr("COERCERTL",Nt[Qt.COERCE],!0);Gr("COERCERTLFULL",Nt[Qt.COERCEFULL],!0);Gr("LONETILDE","(?:~>?)");Gr("TILDETRIM",`(\\s*)${Nt[Qt.LONETILDE]}\\s+`,!0);Ld.tildeTrimReplace="$1~";Gr("TILDE",`^${Nt[Qt.LONETILDE]}${Nt[Qt.XRANGEPLAIN]}$`);Gr("TILDELOOSE",`^${Nt[Qt.LONETILDE]}${Nt[Qt.XRANGEPLAINLOOSE]}$`);Gr("LONECARET","(?:\\^)");Gr("CARETTRIM",`(\\s*)${Nt[Qt.LONECARET]}\\s+`,!0);Ld.caretTrimReplace="$1^";Gr("CARET",`^${Nt[Qt.LONECARET]}${Nt[Qt.XRANGEPLAIN]}$`);Gr("CARETLOOSE",`^${Nt[Qt.LONECARET]}${Nt[Qt.XRANGEPLAINLOOSE]}$`);Gr("COMPARATORLOOSE",`^${Nt[Qt.GTLT]}\\s*(${Nt[Qt.LOOSEPLAIN]})$|^$`);Gr("COMPARATOR",`^${Nt[Qt.GTLT]}\\s*(${Nt[Qt.FULLPLAIN]})$|^$`);Gr("COMPARATORTRIM",`(\\s*)${Nt[Qt.GTLT]}\\s*(${Nt[Qt.LOOSEPLAIN]}|${Nt[Qt.XRANGEPLAIN]})`,!0);Ld.comparatorTrimReplace="$1$2$3";Gr("HYPHENRANGE",`^\\s*(${Nt[Qt.XRANGEPLAIN]})\\s+-\\s+(${Nt[Qt.XRANGEPLAIN]})\\s*$`);Gr("HYPHENRANGELOOSE",`^\\s*(${Nt[Qt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Nt[Qt.XRANGEPLAINLOOSE]})\\s*$`);Gr("STAR","(<|>)?=?\\s*\\*");Gr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Gr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Y7=q((fir,ffe)=>{"use strict";u();var zFe=Object.freeze({loose:!0}),jFe=Object.freeze({}),KFe=o(t=>t?typeof t!="object"?zFe:t:jFe,"parseOptions");ffe.exports=KFe});var oV=q((Air,Afe)=>{"use strict";u();var dfe=/^[0-9]+$/,hfe=o((t,e)=>{let r=dfe.test(t),n=dfe.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),JFe=o((t,e)=>hfe(e,t),"rcompareIdentifiers");Afe.exports={compareIdentifiers:hfe,rcompareIdentifiers:JFe}});var ja=q((gir,mfe)=>{"use strict";u();var $7=G_(),{MAX_LENGTH:pfe,MAX_SAFE_INTEGER:z7}=q_(),{safeRe:j7,t:K7}=Yv(),XFe=Y7(),{compareIdentifiers:$v}=oV(),sV=class t{static{o(this,"SemVer")}constructor(e,r){if(r=XFe(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>pfe)throw new TypeError(`version is longer than ${pfe} characters`);$7("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?j7[K7.LOOSE]:j7[K7.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>z7||this.major<0)throw new TypeError("Invalid major version");if(this.minor>z7||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>z7||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<z7)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if($7("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),$v(this.major,e.major)||$v(this.minor,e.minor)||$v(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if($7("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $v(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if($7("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $v(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?j7[K7.PRERELEASELOOSE]:j7[K7.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),$v(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};mfe.exports=sV});var qC=q((Eir,yfe)=>{"use strict";u();var gfe=ja(),ZFe=o((t,e,r=!1)=>{if(t instanceof gfe)return t;try{return new gfe(t,e)}catch(n){if(!r)return null;throw n}},"parse");yfe.exports=ZFe});var Efe=q((bir,Cfe)=>{"use strict";u();var eLe=qC(),tLe=o((t,e)=>{let r=eLe(t,e);return r?r.version:null},"valid");Cfe.exports=tLe});var vfe=q((_ir,Ife)=>{"use strict";u();var rLe=qC(),nLe=o((t,e)=>{let r=rLe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");Ife.exports=nLe});var Tfe=q((Bir,xfe)=>{"use strict";u();var bfe=ja(),iLe=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new bfe(t instanceof bfe?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");xfe.exports=iLe});var wfe=q((Dir,Sfe)=>{"use strict";u();var _fe=qC(),oLe=o((t,e)=>{let r=_fe(t,null,!0),n=_fe(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,c=s?n:r,l=!!a.prerelease.length;if(!!c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(c.compareMain(a)===0)return c.minor&&!c.patch?"minor":"patch"}let d=l?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"},"diff");Sfe.exports=oLe});var Rfe=q((Pir,Bfe)=>{"use strict";u();var sLe=ja(),aLe=o((t,e)=>new sLe(t,e).major,"major");Bfe.exports=aLe});var Dfe=q((Mir,kfe)=>{"use strict";u();var cLe=ja(),lLe=o((t,e)=>new cLe(t,e).minor,"minor");kfe.exports=lLe});var Qfe=q((Hir,Nfe)=>{"use strict";u();var uLe=ja(),fLe=o((t,e)=>new uLe(t,e).patch,"patch");Nfe.exports=fLe});var Ffe=q((Vir,Pfe)=>{"use strict";u();var dLe=qC(),hLe=o((t,e)=>{let r=dLe(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");Pfe.exports=hLe});var ql=q(($ir,Mfe)=>{"use strict";u();var Lfe=ja(),ALe=o((t,e,r)=>new Lfe(t,r).compare(new Lfe(e,r)),"compare");Mfe.exports=ALe});var Ufe=q((Kir,Ofe)=>{"use strict";u();var pLe=ql(),mLe=o((t,e,r)=>pLe(e,t,r),"rcompare");Ofe.exports=mLe});var qfe=q((Zir,Hfe)=>{"use strict";u();var gLe=ql(),yLe=o((t,e)=>gLe(t,e,!0),"compareLoose");Hfe.exports=yLe});var J7=q((ror,Vfe)=>{"use strict";u();var Gfe=ja(),CLe=o((t,e,r)=>{let n=new Gfe(t,r),i=new Gfe(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");Vfe.exports=CLe});var Yfe=q((oor,Wfe)=>{"use strict";u();var ELe=J7(),ILe=o((t,e)=>t.sort((r,n)=>ELe(r,n,e)),"sort");Wfe.exports=ILe});var zfe=q((cor,$fe)=>{"use strict";u();var vLe=J7(),bLe=o((t,e)=>t.sort((r,n)=>vLe(n,r,e)),"rsort");$fe.exports=bLe});var V_=q((dor,jfe)=>{"use strict";u();var xLe=ql(),TLe=o((t,e,r)=>xLe(t,e,r)>0,"gt");jfe.exports=TLe});var X7=q((por,Kfe)=>{"use strict";u();var _Le=ql(),SLe=o((t,e,r)=>_Le(t,e,r)<0,"lt");Kfe.exports=SLe});var aV=q((yor,Jfe)=>{"use strict";u();var wLe=ql(),BLe=o((t,e,r)=>wLe(t,e,r)===0,"eq");Jfe.exports=BLe});var cV=q((Ior,Xfe)=>{"use strict";u();var RLe=ql(),kLe=o((t,e,r)=>RLe(t,e,r)!==0,"neq");Xfe.exports=kLe});var Z7=q((xor,Zfe)=>{"use strict";u();var DLe=ql(),NLe=o((t,e,r)=>DLe(t,e,r)>=0,"gte");Zfe.exports=NLe});var ek=q((Sor,ede)=>{"use strict";u();var QLe=ql(),PLe=o((t,e,r)=>QLe(t,e,r)<=0,"lte");ede.exports=PLe});var lV=q((Ror,tde)=>{"use strict";u();var FLe=aV(),LLe=cV(),MLe=V_(),OLe=Z7(),ULe=X7(),HLe=ek(),qLe=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return FLe(t,r,n);case"!=":return LLe(t,r,n);case">":return MLe(t,r,n);case">=":return OLe(t,r,n);case"<":return ULe(t,r,n);case"<=":return HLe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");tde.exports=qLe});var nde=q((Nor,rde)=>{"use strict";u();var GLe=ja(),VLe=qC(),{safeRe:tk,t:rk}=Yv(),WLe=o((t,e)=>{if(t instanceof GLe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?tk[rk.COERCEFULL]:tk[rk.COERCE]);else{let l=e.includePrerelease?tk[rk.COERCERTLFULL]:tk[rk.COERCERTL],f;for(;(f=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),l.lastIndex=f.index+f[1].length+f[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",c=e.includePrerelease&&r[6]?`+${r[6]}`:"";return VLe(`${n}.${i}.${s}${a}${c}`,e)},"coerce");rde.exports=WLe});var ode=q((For,ide)=>{"use strict";u();var uV=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};ide.exports=uV});var Gl=q((Oor,lde)=>{"use strict";u();var YLe=/\s+/g,fV=class t{static{o(this,"Range")}constructor(e,r){if(r=zLe(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof dV)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(YLe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!ade(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&tMe(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&ZLe)|(this.options.loose&&eMe))+":"+e,i=sde.get(n);if(i)return i;let s=this.options.loose,a=s?rc[g0.HYPHENRANGELOOSE]:rc[g0.HYPHENRANGE];e=e.replace(a,fMe(this.options.includePrerelease)),Zi("hyphen replace",e),e=e.replace(rc[g0.COMPARATORTRIM],KLe),Zi("comparator trim",e),e=e.replace(rc[g0.TILDETRIM],JLe),Zi("tilde trim",e),e=e.replace(rc[g0.CARETTRIM],XLe),Zi("caret trim",e);let c=e.split(" ").map(h=>rMe(h,this.options)).join(" ").split(/\s+/).map(h=>uMe(h,this.options));s&&(c=c.filter(h=>(Zi("loose invalid filter",h,this.options),!!h.match(rc[g0.COMPARATORLOOSE])))),Zi("range list",c);let l=new Map,f=c.map(h=>new dV(h,this.options));for(let h of f){if(ade(h))return[h];l.set(h.value,h)}l.size>1&&l.has("")&&l.delete("");let d=[...l.values()];return sde.set(n,d),d}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>cde(n,r)&&e.set.some(i=>cde(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new jLe(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(dMe(this.set[r],e,this.options))return!0;return!1}};lde.exports=fV;var $Le=ode(),sde=new $Le,zLe=Y7(),dV=W_(),Zi=G_(),jLe=ja(),{safeRe:rc,t:g0,comparatorTrimReplace:KLe,tildeTrimReplace:JLe,caretTrimReplace:XLe}=Yv(),{FLAG_INCLUDE_PRERELEASE:ZLe,FLAG_LOOSE:eMe}=q_(),ade=o(t=>t.value==="<0.0.0-0","isNullSet"),tMe=o(t=>t.value==="","isAny"),cde=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),rMe=o((t,e)=>(Zi("comp",t,e),t=oMe(t,e),Zi("caret",t),t=nMe(t,e),Zi("tildes",t),t=aMe(t,e),Zi("xrange",t),t=lMe(t,e),Zi("stars",t),t),"parseComparator"),y0=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),nMe=o((t,e)=>t.trim().split(/\s+/).map(r=>iMe(r,e)).join(" "),"replaceTildes"),iMe=o((t,e)=>{let r=e.loose?rc[g0.TILDELOOSE]:rc[g0.TILDE];return t.replace(r,(n,i,s,a,c)=>{Zi("tilde",t,n,i,s,a,c);let l;return y0(i)?l="":y0(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:y0(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(Zi("replaceTilde pr",c),l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Zi("tilde return",l),l})},"replaceTilde"),oMe=o((t,e)=>t.trim().split(/\s+/).map(r=>sMe(r,e)).join(" "),"replaceCarets"),sMe=o((t,e)=>{Zi("caret",t,e);let r=e.loose?rc[g0.CARETLOOSE]:rc[g0.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,c,l)=>{Zi("caret",t,i,s,a,c,l);let f;return y0(s)?f="":y0(a)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:y0(c)?s==="0"?f=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Zi("replaceCaret pr",l),s==="0"?a==="0"?f=`>=${s}.${a}.${c}-${l} <${s}.${a}.${+c+1}-0`:f=`>=${s}.${a}.${c}-${l} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${c}-${l} <${+s+1}.0.0-0`):(Zi("no pr"),s==="0"?a==="0"?f=`>=${s}.${a}.${c}${n} <${s}.${a}.${+c+1}-0`:f=`>=${s}.${a}.${c}${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${c} <${+s+1}.0.0-0`),Zi("caret return",f),f})},"replaceCaret"),aMe=o((t,e)=>(Zi("replaceXRanges",t,e),t.split(/\s+/).map(r=>cMe(r,e)).join(" ")),"replaceXRanges"),cMe=o((t,e)=>{t=t.trim();let r=e.loose?rc[g0.XRANGELOOSE]:rc[g0.XRANGE];return t.replace(r,(n,i,s,a,c,l)=>{Zi("xRange",t,n,i,s,a,c,l);let f=y0(s),d=f||y0(a),h=d||y0(c),A=h;return i==="="&&A&&(i=""),l=e.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&A?(d&&(a=0),c=0,i===">"?(i=">=",d?(s=+s+1,a=0,c=0):(a=+a+1,c=0)):i==="<="&&(i="<",d?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${c}${l}`):d?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:h&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Zi("xRange return",n),n})},"replaceXRange"),lMe=o((t,e)=>(Zi("replaceStars",t,e),t.trim().replace(rc[g0.STAR],"")),"replaceStars"),uMe=o((t,e)=>(Zi("replaceGTE0",t,e),t.trim().replace(rc[e.includePrerelease?g0.GTE0PRE:g0.GTE0],"")),"replaceGTE0"),fMe=o(t=>(e,r,n,i,s,a,c,l,f,d,h,A)=>(y0(n)?r="":y0(i)?r=`>=${n}.0.0${t?"-0":""}`:y0(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,y0(f)?l="":y0(d)?l=`<${+f+1}.0.0-0`:y0(h)?l=`<${f}.${+d+1}.0-0`:A?l=`<=${f}.${d}.${h}-${A}`:t?l=`<${f}.${d}.${+h+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),dMe=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Zi(t[n].semver),t[n].semver!==dV.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var W_=q((qor,pde)=>{"use strict";u();var Y_=Symbol("SemVer ANY"),pV=class t{static{o(this,"Comparator")}static get ANY(){return Y_}constructor(e,r){if(r=ude(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),AV("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Y_?this.value="":this.value=this.operator+this.semver.version,AV("comp",this)}parse(e){let r=this.options.loose?fde[dde.COMPARATORLOOSE]:fde[dde.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new hde(n[2],this.options.loose):this.semver=Y_}toString(){return this.value}test(e){if(AV("Comparator.test",e,this.options.loose),this.semver===Y_||e===Y_)return!0;if(typeof e=="string")try{e=new hde(e,this.options)}catch{return!1}return hV(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ade(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Ade(this.value,r).test(e.semver):(r=ude(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||hV(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||hV(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};pde.exports=pV;var ude=Y7(),{safeRe:fde,t:dde}=Yv(),hV=lV(),AV=G_(),hde=ja(),Ade=Gl()});var $_=q((Wor,mde)=>{"use strict";u();var hMe=Gl(),AMe=o((t,e,r)=>{try{e=new hMe(e,r)}catch{return!1}return e.test(t)},"satisfies");mde.exports=AMe});var yde=q((zor,gde)=>{"use strict";u();var pMe=Gl(),mMe=o((t,e)=>new pMe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");gde.exports=mMe});var Ede=q((Jor,Cde)=>{"use strict";u();var gMe=ja(),yMe=Gl(),CMe=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new yMe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new gMe(n,r))}),n},"maxSatisfying");Cde.exports=CMe});var vde=q((esr,Ide)=>{"use strict";u();var EMe=ja(),IMe=Gl(),vMe=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new IMe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new EMe(n,r))}),n},"minSatisfying");Ide.exports=vMe});var Tde=q((nsr,xde)=>{"use strict";u();var mV=ja(),bMe=Gl(),bde=V_(),xMe=o((t,e)=>{t=new bMe(t,e);let r=new mV("0.0.0");if(t.test(r)||(r=new mV("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let c=new mV(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||bde(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||bde(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");xde.exports=xMe});var Sde=q((ssr,_de)=>{"use strict";u();var TMe=Gl(),_Me=o((t,e)=>{try{return new TMe(t,e).range||"*"}catch{return null}},"validRange");_de.exports=_Me});var nk=q((lsr,kde)=>{"use strict";u();var SMe=ja(),Rde=W_(),{ANY:wMe}=Rde,BMe=Gl(),RMe=$_(),wde=V_(),Bde=X7(),kMe=ek(),DMe=Z7(),NMe=o((t,e,r,n)=>{t=new SMe(t,n),e=new BMe(e,n);let i,s,a,c,l;switch(r){case">":i=wde,s=kMe,a=Bde,c=">",l=">=";break;case"<":i=Bde,s=DMe,a=wde,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(RMe(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let d=e.set[f],h=null,A=null;if(d.forEach(g=>{g.semver===wMe&&(g=new Rde(">=0.0.0")),h=h||g,A=A||g,i(g.semver,h.semver,n)?h=g:a(g.semver,A.semver,n)&&(A=g)}),h.operator===c||h.operator===l||(!A.operator||A.operator===c)&&s(t,A.semver))return!1;if(A.operator===l&&a(t,A.semver))return!1}return!0},"outside");kde.exports=NMe});var Nde=q((dsr,Dde)=>{"use strict";u();var QMe=nk(),PMe=o((t,e,r)=>QMe(t,e,">",r),"gtr");Dde.exports=PMe});var Pde=q((psr,Qde)=>{"use strict";u();var FMe=nk(),LMe=o((t,e,r)=>FMe(t,e,"<",r),"ltr");Qde.exports=LMe});var Mde=q((ysr,Lde)=>{"use strict";u();var Fde=Gl(),MMe=o((t,e,r)=>(t=new Fde(t,r),e=new Fde(e,r),t.intersects(e,r)),"intersects");Lde.exports=MMe});var Ude=q((Isr,Ode)=>{"use strict";u();var OMe=$_(),UMe=ql();Ode.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((d,h)=>UMe(d,h,r));for(let d of a)OMe(d,e,r)?(s=d,i||(i=d)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[d,h]of n)d===h?c.push(d):!h&&d===a[0]?c.push("*"):h?d===a[0]?c.push(`<=${h}`):c.push(`${d} - ${h}`):c.push(`>=${d}`);let l=c.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return l.length<f.length?l:e}});var Yde=q((bsr,Wde)=>{"use strict";u();var Hde=Gl(),yV=W_(),{ANY:gV}=yV,z_=$_(),CV=ql(),HMe=o((t,e,r={})=>{if(t===e)return!0;t=new Hde(t,r),e=new Hde(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=GMe(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),qMe=[new yV(">=0.0.0-0")],qde=[new yV(">=0.0.0")],GMe=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===gV){if(e.length===1&&e[0].semver===gV)return!0;r.includePrerelease?t=qMe:t=qde}if(e.length===1&&e[0].semver===gV){if(r.includePrerelease)return!0;e=qde}let n=new Set,i,s;for(let g of t)g.operator===">"||g.operator===">="?i=Gde(i,g,r):g.operator==="<"||g.operator==="<="?s=Vde(s,g,r):n.add(g.semver);if(n.size>1)return null;let a;if(i&&s){if(a=CV(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let g of n){if(i&&!z_(g,String(i),r)||s&&!z_(g,String(s),r))return null;for(let y of e)if(!z_(g,String(y),r))return!1;return!0}let c,l,f,d,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let g of e){if(d=d||g.operator===">"||g.operator===">=",f=f||g.operator==="<"||g.operator==="<=",i){if(A&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===A.major&&g.semver.minor===A.minor&&g.semver.patch===A.patch&&(A=!1),g.operator===">"||g.operator===">="){if(c=Gde(i,g,r),c===g&&c!==i)return!1}else if(i.operator===">="&&!z_(i.semver,String(g),r))return!1}if(s){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator==="<"||g.operator==="<="){if(l=Vde(s,g,r),l===g&&l!==s)return!1}else if(s.operator==="<="&&!z_(s.semver,String(g),r))return!1}if(!g.operator&&(s||i)&&a!==0)return!1}return!(i&&f&&!s&&a!==0||s&&d&&!i&&a!==0||A||h)},"simpleSubset"),Gde=o((t,e,r)=>{if(!t)return e;let n=CV(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),Vde=o((t,e,r)=>{if(!t)return e;let n=CV(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");Wde.exports=HMe});var ik=q((_sr,jde)=>{"use strict";u();var EV=Yv(),$de=q_(),VMe=ja(),zde=oV(),WMe=qC(),YMe=Efe(),$Me=vfe(),zMe=Tfe(),jMe=wfe(),KMe=Rfe(),JMe=Dfe(),XMe=Qfe(),ZMe=Ffe(),eOe=ql(),tOe=Ufe(),rOe=qfe(),nOe=J7(),iOe=Yfe(),oOe=zfe(),sOe=V_(),aOe=X7(),cOe=aV(),lOe=cV(),uOe=Z7(),fOe=ek(),dOe=lV(),hOe=nde(),AOe=W_(),pOe=Gl(),mOe=$_(),gOe=yde(),yOe=Ede(),COe=vde(),EOe=Tde(),IOe=Sde(),vOe=nk(),bOe=Nde(),xOe=Pde(),TOe=Mde(),_Oe=Ude(),SOe=Yde();jde.exports={parse:WMe,valid:YMe,clean:$Me,inc:zMe,diff:jMe,major:KMe,minor:JMe,patch:XMe,prerelease:ZMe,compare:eOe,rcompare:tOe,compareLoose:rOe,compareBuild:nOe,sort:iOe,rsort:oOe,gt:sOe,lt:aOe,eq:cOe,neq:lOe,gte:uOe,lte:fOe,cmp:dOe,coerce:hOe,Comparator:AOe,Range:pOe,satisfies:mOe,toComparators:gOe,maxSatisfying:yOe,minSatisfying:COe,minVersion:EOe,validRange:IOe,outside:vOe,gtr:bOe,ltr:xOe,intersects:TOe,simplifyRange:_Oe,subset:SOe,SemVer:VMe,re:EV.re,src:EV.src,tokens:EV.t,SEMVER_SPEC_VERSION:$de.SEMVER_SPEC_VERSION,RELEASE_TYPES:$de.RELEASE_TYPES,compareIdentifiers:zde.compareIdentifiers,rcompareIdentifiers:zde.rcompareIdentifiers}});var Jde=q((wsr,Kde)=>{u();var wOe=ik();Kde.exports=wOe.satisfies(process.version,">=15.7.0")});var Zde=q((Rsr,Xde)=>{u();var BOe=ik();Xde.exports=BOe.satisfies(process.version,">=16.9.0")});var IV=q((Dsr,ehe)=>{u();var ROe=Jde(),kOe=Zde(),DOe={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},NOe={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};ehe.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=DOe[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(ROe)switch(r){case"ec":let i=e.asymmetricKeyDetails.namedCurve,s=NOe[t];if(i!==s)throw new Error(`"alg" parameter "${t}" requires curve "${s}".`);break;case"rsa-pss":if(kOe){let a=parseInt(t.slice(-3),10),{hashAlgorithm:c,mgf1HashAlgorithm:l,saltLength:f}=e.asymmetricKeyDetails;if(c!==`sha${a}`||l!==c)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(f!==void 0&&f>a>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var vV=q((Qsr,the)=>{u();var QOe=ik();the.exports=QOe.satisfies(process.version,"^6.12.0 || >=8.0.0")});var ihe=q((Fsr,nhe)=>{u();var Li=H_(),POe=eV(),rhe=tV(),FOe=ZG(),LOe=rV(),MOe=IV(),OOe=vV(),UOe=q7(),{KeyObject:HOe,createSecretKey:qOe,createPublicKey:GOe}=require("crypto"),bV=["RS256","RS384","RS512"],VOe=["ES256","ES384","ES512"],xV=["RS256","RS384","RS512"],WOe=["HS256","HS384","HS512"];OOe&&(bV.splice(bV.length,0,"PS256","PS384","PS512"),xV.splice(xV.length,0,"PS256","PS384","PS512"));nhe.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=o(function(d,h){if(d)throw d;return h},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new Li("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new Li("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return i(new Li("allowInvalidAsymmetricKeyTypes must be a boolean"));let s=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return i(new Li("jwt must be provided"));if(typeof t!="string")return i(new Li("jwt must be a string"));let a=t.split(".");if(a.length!==3)return i(new Li("jwt malformed"));let c;try{c=FOe(t,{complete:!0})}catch(d){return i(d)}if(!c)return i(new Li("invalid token"));let l=c.header,f;if(typeof e=="function"){if(!n)return i(new Li("verify must be called asynchronous if secret or public key is provided as a callback"));f=e}else f=o(function(d,h){return h(null,e)},"getSecret");return f(l,function(d,h){if(d)return i(new Li("error in secret or public key callback: "+d.message));let A=a[2].trim()!=="";if(!A&&h)return i(new Li("jwt signature is required"));if(A&&!h)return i(new Li("secret or public key must be provided"));if(!A&&!r.algorithms)return i(new Li('please specify "none" in "algorithms" to verify unsigned tokens'));if(h!=null&&!(h instanceof HOe))try{h=GOe(h)}catch{try{h=qOe(typeof h=="string"?Buffer.from(h):h)}catch{return i(new Li("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(h.type==="secret"?r.algorithms=WOe:["rsa","rsa-pss"].includes(h.asymmetricKeyType)?r.algorithms=xV:h.asymmetricKeyType==="ec"?r.algorithms=VOe:r.algorithms=bV),r.algorithms.indexOf(c.header.alg)===-1)return i(new Li("invalid algorithm"));if(l.alg.startsWith("HS")&&h.type!=="secret")return i(new Li(`secretOrPublicKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)&&h.type!=="public")return i(new Li(`secretOrPublicKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{MOe(l.alg,h)}catch(v){return i(v)}let g;try{g=UOe.verify(t,c.header.alg,h)}catch(v){return i(v)}if(!g)return i(new Li("invalid signature"));let y=c.payload;if(typeof y.nbf<"u"&&!r.ignoreNotBefore){if(typeof y.nbf!="number")return i(new Li("invalid nbf value"));if(y.nbf>s+(r.clockTolerance||0))return i(new POe("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!r.ignoreExpiration){if(typeof y.exp!="number")return i(new Li("invalid exp value"));if(s>=y.exp+(r.clockTolerance||0))return i(new rhe("jwt expired",new Date(y.exp*1e3)))}if(r.audience){let v=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(S){return v.some(function(D){return D instanceof RegExp?D.test(S):D===S})}))return i(new Li("jwt audience invalid. expected: "+v.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&y.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(y.iss)===-1))return i(new Li("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&y.sub!==r.subject)return i(new Li("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&y.jti!==r.jwtid)return i(new Li("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&y.nonce!==r.nonce)return i(new Li("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof y.iat!="number")return i(new Li("iat required when maxAge is specified"));let v=LOe(r.maxAge,y.iat);if(typeof v>"u")return i(new Li('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=v+(r.clockTolerance||0))return i(new rhe("maxAge exceeded",new Date(v*1e3)))}if(r.complete===!0){let v=c.signature;return i(null,{header:l,payload:y,signature:v})}return i(null,y)})}});var uhe=q((Osr,lhe)=>{u();var ohe=1/0,ahe=9007199254740991,YOe=17976931348623157e292,she=NaN,$Oe="[object Arguments]",zOe="[object Function]",jOe="[object GeneratorFunction]",KOe="[object String]",JOe="[object Symbol]",XOe=/^\s+|\s+$/g,ZOe=/^[-+]0x[0-9a-f]+$/i,eUe=/^0b[01]+$/i,tUe=/^0o[0-7]+$/i,rUe=/^(?:0|[1-9]\d*)$/,nUe=parseInt;function iUe(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}o(iUe,"arrayMap");function oUe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}o(oUe,"baseFindIndex");function sUe(t,e,r){if(e!==e)return oUe(t,aUe,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}o(sUe,"baseIndexOf");function aUe(t){return t!==t}o(aUe,"baseIsNaN");function cUe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}o(cUe,"baseTimes");function lUe(t,e){return iUe(e,function(r){return t[r]})}o(lUe,"baseValues");function uUe(t,e){return function(r){return t(e(r))}}o(uUe,"overArg");var ok=Object.prototype,_V=ok.hasOwnProperty,sk=ok.toString,fUe=ok.propertyIsEnumerable,dUe=uUe(Object.keys,Object),hUe=Math.max;function AUe(t,e){var r=che(t)||CUe(t)?cUe(t.length,String):[],n=r.length,i=!!n;for(var s in t)(e||_V.call(t,s))&&!(i&&(s=="length"||mUe(s,n)))&&r.push(s);return r}o(AUe,"arrayLikeKeys");function pUe(t){if(!gUe(t))return dUe(t);var e=[];for(var r in Object(t))_V.call(t,r)&&r!="constructor"&&e.push(r);return e}o(pUe,"baseKeys");function mUe(t,e){return e=e??ahe,!!e&&(typeof t=="number"||rUe.test(t))&&t>-1&&t%1==0&&t<e}o(mUe,"isIndex");function gUe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ok;return t===r}o(gUe,"isPrototype");function yUe(t,e,r,n){t=SV(t)?t:BUe(t),r=r&&!n?_Ue(r):0;var i=t.length;return r<0&&(r=hUe(i+r,0)),bUe(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&sUe(t,e,r)>-1}o(yUe,"includes");function CUe(t){return EUe(t)&&_V.call(t,"callee")&&(!fUe.call(t,"callee")||sk.call(t)==$Oe)}o(CUe,"isArguments");var che=Array.isArray;function SV(t){return t!=null&&vUe(t.length)&&!IUe(t)}o(SV,"isArrayLike");function EUe(t){return wV(t)&&SV(t)}o(EUe,"isArrayLikeObject");function IUe(t){var e=TV(t)?sk.call(t):"";return e==zOe||e==jOe}o(IUe,"isFunction");function vUe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ahe}o(vUe,"isLength");function TV(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(TV,"isObject");function wV(t){return!!t&&typeof t=="object"}o(wV,"isObjectLike");function bUe(t){return typeof t=="string"||!che(t)&&wV(t)&&sk.call(t)==KOe}o(bUe,"isString");function xUe(t){return typeof t=="symbol"||wV(t)&&sk.call(t)==JOe}o(xUe,"isSymbol");function TUe(t){if(!t)return t===0?t:0;if(t=SUe(t),t===ohe||t===-ohe){var e=t<0?-1:1;return e*YOe}return t===t?t:0}o(TUe,"toFinite");function _Ue(t){var e=TUe(t),r=e%1;return e===e?r?e-r:e:0}o(_Ue,"toInteger");function SUe(t){if(typeof t=="number")return t;if(xUe(t))return she;if(TV(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TV(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(XOe,"");var r=eUe.test(t);return r||tUe.test(t)?nUe(t.slice(2),r?2:8):ZOe.test(t)?she:+t}o(SUe,"toNumber");function wUe(t){return SV(t)?AUe(t):pUe(t)}o(wUe,"keys");function BUe(t){return t?lUe(t,wUe(t)):[]}o(BUe,"values");lhe.exports=yUe});var dhe=q((qsr,fhe)=>{u();var RUe="[object Boolean]",kUe=Object.prototype,DUe=kUe.toString;function NUe(t){return t===!0||t===!1||QUe(t)&&DUe.call(t)==RUe}o(NUe,"isBoolean");function QUe(t){return!!t&&typeof t=="object"}o(QUe,"isObjectLike");fhe.exports=NUe});var ghe=q((Wsr,mhe)=>{u();var hhe=1/0,PUe=17976931348623157e292,Ahe=NaN,FUe="[object Symbol]",LUe=/^\s+|\s+$/g,MUe=/^[-+]0x[0-9a-f]+$/i,OUe=/^0b[01]+$/i,UUe=/^0o[0-7]+$/i,HUe=parseInt,qUe=Object.prototype,GUe=qUe.toString;function VUe(t){return typeof t=="number"&&t==zUe(t)}o(VUe,"isInteger");function phe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(phe,"isObject");function WUe(t){return!!t&&typeof t=="object"}o(WUe,"isObjectLike");function YUe(t){return typeof t=="symbol"||WUe(t)&&GUe.call(t)==FUe}o(YUe,"isSymbol");function $Ue(t){if(!t)return t===0?t:0;if(t=jUe(t),t===hhe||t===-hhe){var e=t<0?-1:1;return e*PUe}return t===t?t:0}o($Ue,"toFinite");function zUe(t){var e=$Ue(t),r=e%1;return e===e?r?e-r:e:0}o(zUe,"toInteger");function jUe(t){if(typeof t=="number")return t;if(YUe(t))return Ahe;if(phe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=phe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(LUe,"");var r=OUe.test(t);return r||UUe.test(t)?HUe(t.slice(2),r?2:8):MUe.test(t)?Ahe:+t}o(jUe,"toNumber");mhe.exports=VUe});var Che=q((zsr,yhe)=>{u();var KUe="[object Number]",JUe=Object.prototype,XUe=JUe.toString;function ZUe(t){return!!t&&typeof t=="object"}o(ZUe,"isObjectLike");function eHe(t){return typeof t=="number"||ZUe(t)&&XUe.call(t)==KUe}o(eHe,"isNumber");yhe.exports=eHe});var bhe=q((Jsr,vhe)=>{u();var tHe="[object Object]";function rHe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}o(rHe,"isHostObject");function nHe(t,e){return function(r){return t(e(r))}}o(nHe,"overArg");var iHe=Function.prototype,Ehe=Object.prototype,Ihe=iHe.toString,oHe=Ehe.hasOwnProperty,sHe=Ihe.call(Object),aHe=Ehe.toString,cHe=nHe(Object.getPrototypeOf,Object);function lHe(t){return!!t&&typeof t=="object"}o(lHe,"isObjectLike");function uHe(t){if(!lHe(t)||aHe.call(t)!=tHe||rHe(t))return!1;var e=cHe(t);if(e===null)return!0;var r=oHe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ihe.call(r)==sHe}o(uHe,"isPlainObject");vhe.exports=uHe});var The=q((ear,xhe)=>{u();var fHe="[object String]",dHe=Object.prototype,hHe=dHe.toString,AHe=Array.isArray;function pHe(t){return!!t&&typeof t=="object"}o(pHe,"isObjectLike");function mHe(t){return typeof t=="string"||!AHe(t)&&pHe(t)&&hHe.call(t)==fHe}o(mHe,"isString");xhe.exports=mHe});var Rhe=q((nar,Bhe)=>{u();var gHe="Expected a function",_he=1/0,yHe=17976931348623157e292,She=NaN,CHe="[object Symbol]",EHe=/^\s+|\s+$/g,IHe=/^[-+]0x[0-9a-f]+$/i,vHe=/^0b[01]+$/i,bHe=/^0o[0-7]+$/i,xHe=parseInt,THe=Object.prototype,_He=THe.toString;function SHe(t,e){var r;if(typeof e!="function")throw new TypeError(gHe);return t=DHe(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}o(SHe,"before");function wHe(t){return SHe(2,t)}o(wHe,"once");function whe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}o(whe,"isObject");function BHe(t){return!!t&&typeof t=="object"}o(BHe,"isObjectLike");function RHe(t){return typeof t=="symbol"||BHe(t)&&_He.call(t)==CHe}o(RHe,"isSymbol");function kHe(t){if(!t)return t===0?t:0;if(t=NHe(t),t===_he||t===-_he){var e=t<0?-1:1;return e*yHe}return t===t?t:0}o(kHe,"toFinite");function DHe(t){var e=kHe(t),r=e%1;return e===e?r?e-r:e:0}o(DHe,"toInteger");function NHe(t){if(typeof t=="number")return t;if(RHe(t))return She;if(whe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=whe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(EHe,"");var r=vHe.test(t);return r||bHe.test(t)?xHe(t.slice(2),r?2:8):IHe.test(t)?She:+t}o(NHe,"toNumber");Bhe.exports=wHe});var Ohe=q((sar,Mhe)=>{u();var khe=rV(),QHe=vV(),PHe=IV(),Dhe=q7(),FHe=uhe(),ak=dhe(),Nhe=ghe(),BV=Che(),Phe=bhe(),Tg=The(),LHe=Rhe(),{KeyObject:MHe,createSecretKey:OHe,createPrivateKey:UHe}=require("crypto"),Fhe=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];QHe&&Fhe.splice(3,0,"PS256","PS384","PS512");var HHe={expiresIn:{isValid:o(function(t){return Nhe(t)||Tg(t)&&t},"isValid"),message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:o(function(t){return Nhe(t)||Tg(t)&&t},"isValid"),message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:o(function(t){return Tg(t)||Array.isArray(t)},"isValid"),message:'"audience" must be a string or array'},algorithm:{isValid:FHe.bind(null,Fhe),message:'"algorithm" must be a valid string enum value'},header:{isValid:Phe,message:'"header" must be an object'},encoding:{isValid:Tg,message:'"encoding" must be a string'},issuer:{isValid:Tg,message:'"issuer" must be a string'},subject:{isValid:Tg,message:'"subject" must be a string'},jwtid:{isValid:Tg,message:'"jwtid" must be a string'},noTimestamp:{isValid:ak,message:'"noTimestamp" must be a boolean'},keyid:{isValid:Tg,message:'"keyid" must be a string'},mutatePayload:{isValid:ak,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:ak,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:ak,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},qHe={iat:{isValid:BV,message:'"iat" should be a number of seconds'},exp:{isValid:BV,message:'"exp" should be a number of seconds'},nbf:{isValid:BV,message:'"nbf" should be a number of seconds'}};function Lhe(t,e,r,n){if(!Phe(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let s=t[i];if(!s){if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw new Error(s.message)})}o(Lhe,"validate");function GHe(t){return Lhe(HHe,!1,t,"options")}o(GHe,"validateOptions");function VHe(t){return Lhe(qHe,!0,t,"payload")}o(VHe,"validatePayload");var Qhe={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},WHe=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];Mhe.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let i=typeof t=="object"&&!Buffer.isBuffer(t),s=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function a(f){if(n)return n(f);throw f}if(o(a,"failure"),!e&&r.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof MHe))try{e=UHe(e)}catch{try{e=OHe(typeof e=="string"?Buffer.from(e):e)}catch{return a(new Error("secretOrPrivateKey is not valid key material"))}}if(s.alg.startsWith("HS")&&e.type!=="secret")return a(new Error(`secretOrPrivateKey must be a symmetric key when using ${s.alg}`));if(/^(?:RS|PS|ES)/.test(s.alg)){if(e.type!=="private")return a(new Error(`secretOrPrivateKey must be an asymmetric key when using ${s.alg}`));if(!r.allowInsecureKeySizes&&!s.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return a(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`))}if(typeof t>"u")return a(new Error("payload is required"));if(i){try{VHe(t)}catch(f){return a(f)}r.mutatePayload||(t=Object.assign({},t))}else{let f=WHe.filter(function(d){return typeof r[d]<"u"});if(f.length>0)return a(new Error("invalid "+f.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{GHe(r)}catch(f){return a(f)}if(!r.allowInvalidAsymmetricKeyTypes)try{PHe(s.alg,e)}catch(f){return a(f)}let c=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:i&&(t.iat=c),typeof r.notBefore<"u"){try{t.nbf=khe(r.notBefore,c)}catch(f){return a(f)}if(typeof t.nbf>"u")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=khe(r.expiresIn,c)}catch(f){return a(f)}if(typeof t.exp>"u")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(Qhe).forEach(function(f){let d=Qhe[f];if(typeof r[f]<"u"){if(typeof t[d]<"u")return a(new Error('Bad "options.'+f+'" option. The payload already has an "'+d+'" property.'));t[d]=r[f]}});let l=r.encoding||"utf8";if(typeof n=="function")n=n&&LHe(n),Dhe.createSign({header:s,privateKey:e,payload:t,encoding:l}).once("error",n).once("done",function(f){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&f.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`));n(null,f)});else{let f=Dhe.sign({header:s,payload:t,secret:e,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&f.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`);return f}}});var Hhe=q((lar,Uhe)=>{u();Uhe.exports={decode:ZG(),verify:ihe(),sign:Ohe(),JsonWebTokenError:H_(),NotBeforeError:eV(),TokenExpiredError:tV()}});function mqe(){try{return QV.default.statSync("/.dockerenv"),!0}catch{return!1}}function gqe(){try{return QV.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function PV(){return NV===void 0&&(NV=mqe()||gqe()),NV}var QV,NV,rAe=Qu(()=>{u();QV=yt(require("node:fs"),1);o(mqe,"hasDockerEnv");o(gqe,"hasDockerCGroup");o(PV,"isDocker")});function tb(){return FV===void 0&&(FV=yqe()||PV()),FV}var nAe,FV,yqe,LV=Qu(()=>{u();nAe=yt(require("node:fs"),1);rAe();yqe=o(()=>{try{return nAe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");o(tb,"isInsideContainer")});var MV,oAe,sAe,iAe,rb,aAe=Qu(()=>{u();MV=yt(require("node:process"),1),oAe=yt(require("node:os"),1),sAe=yt(require("node:fs"),1);LV();iAe=o(()=>{if(MV.default.platform!=="linux")return!1;if(oAe.default.release().toLowerCase().includes("microsoft"))return!tb();try{return sAe.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!tb():!1}catch{return!1}},"isWsl"),rb=MV.default.env.__IS_WSL_TEST__?iAe:iAe()});function YC(t,e,r){let n=o(i=>Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),t}var cAe=Qu(()=>{u();o(YC,"defineLazyProperty")});async function OV(){if(uAe.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await Cqe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??"com.apple.Safari"}var lAe,uAe,fAe,Cqe,dAe=Qu(()=>{u();lAe=require("node:util"),uAe=yt(require("node:process"),1),fAe=require("node:child_process"),Cqe=(0,lAe.promisify)(fAe.execFile);o(OV,"defaultBrowserId")});async function pAe(t,{humanReadableOutput:e=!0}={}){if(hAe.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:n}=await Eqe("osascript",["-e",t,r]);return n.trim()}var hAe,AAe,UV,Eqe,mAe=Qu(()=>{u();hAe=yt(require("node:process"),1),AAe=require("node:util"),UV=require("node:child_process"),Eqe=(0,AAe.promisify)(UV.execFile);o(pAe,"runAppleScript")});async function HV(t){return pAe(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var gAe=Qu(()=>{u();mAe();o(HV,"bundleName")});async function qV(t=Iqe){let{stdout:e}=await t("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!r)throw new Ek(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,i=vqe[n];if(!i)throw new Ek(`Unknown browser ID: ${n}`);return i}var yAe,CAe,Iqe,vqe,Ek,EAe=Qu(()=>{u();yAe=require("node:util"),CAe=require("node:child_process"),Iqe=(0,yAe.promisify)(CAe.execFile),vqe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},Ek=class extends Error{static{o(this,"UnknownBrowserError")}};o(qV,"defaultBrowser")});async function GV(){if(Ik.default.platform==="darwin"){let t=await OV();return{name:await HV(t),id:t}}if(Ik.default.platform==="linux"){let{stdout:t}=await bqe("xdg-mime",["query","default","x-scheme-handler/http"]),e=t.trim();return{name:xqe(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(Ik.default.platform==="win32")return qV();throw new Error("Only macOS, Linux, and Windows are supported")}var IAe,Ik,vAe,bqe,xqe,bAe=Qu(()=>{u();IAe=require("node:util"),Ik=yt(require("node:process"),1),vAe=require("node:child_process");dAe();gAe();EAe();bqe=(0,IAe.promisify)(vAe.execFile),xqe=o(t=>t.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase()),"titleize");o(GV,"defaultBrowser")});var kAe={};Eo(kAe,{apps:()=>zC,default:()=>Rqe,openApp:()=>Bqe});async function Sqe(){let t=await RAe(),r=WV.Buffer.from('(Get-ItemProperty -Path "HKCU:\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice").ProgId',"utf16le").toString("base64"),{stdout:n}=await Tqe(t,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),i=n.trim(),s={ChromeHTML:"com.google.chrome",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return s[i]?{id:s[i]}:{}}function SAe(t){if(typeof t=="string"||Array.isArray(t))return t;let{[TAe]:e}=t;if(!e)throw new Error(`${TAe} is not supported`);return e}function zV({[nb]:t},{wsl:e}){if(e&&rb)return SAe(e);if(!t)throw new Error(`${nb} is not supported`);return SAe(t)}var r3,WV,YV,wAe,BAe,$V,$C,Tqe,VV,xAe,nb,TAe,_qe,RAe,_Ae,n3,wqe,Bqe,zC,Rqe,DAe=Qu(()=>{u();r3=yt(require("node:process"),1),WV=require("node:buffer"),YV=yt(require("node:path"),1),wAe=require("node:url"),BAe=yt(require("node:util"),1),$V=yt(require("node:child_process"),1),$C=yt(require("node:fs/promises"),1);aAe();cAe();bAe();LV();Tqe=BAe.default.promisify($V.default.execFile),VV=YV.default.dirname((0,wAe.fileURLToPath)(importMetaUrlShim)),xAe=YV.default.join(VV,"xdg-open"),{platform:nb,arch:TAe}=r3.default,_qe=(()=>{let t="/mnt/",e;return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await $C.default.access(r,$C.constants.F_OK),n=!0}catch{}if(!n)return t;let i=await $C.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(e=s.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),RAe=o(async()=>`${await _qe()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"getPowershellPathFromWsl");o(Sqe,"getWindowsDefaultBrowserFromWsl");_Ae=o(async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(i){r=i}throw r},"pTryEach"),n3=o(async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return _Ae(t.app,c=>n3({...t,app:c}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return _Ae(e,c=>n3({...t,app:{name:c,arguments:r}}));if(e==="browser"||e==="browserPrivate"){let c={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},l={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},f=rb?await Sqe():await GV();if(f.id in c){let d=c[f.id];return e==="browserPrivate"&&r.push(l[d]),n3({...t,app:{name:zC[d],arguments:r}})}throw new Error(`${f.name} is not supported as a default browser`)}let n,i=[],s={};if(nb==="darwin")n="open",t.wait&&i.push("--wait-apps"),t.background&&i.push("--background"),t.newInstance&&i.push("--new"),e&&i.push("-a",e);else if(nb==="win32"||rb&&!tb()&&!e){n=rb?await RAe():`${r3.default.env.SYSTEMROOT||r3.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),rb||(s.windowsVerbatimArguments=!0);let c=["Start"];t.wait&&c.push("-Wait"),e?(c.push(`"\`"${e}\`""`),t.target&&r.push(t.target)):t.target&&c.push(`"${t.target}"`),r.length>0&&(r=r.map(l=>`"\`"${l}\`""`),c.push("-ArgumentList",r.join(","))),t.target=WV.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(e)n=e;else{let c=!VV||VV==="/",l=!1;try{await $C.default.access(xAe,$C.constants.X_OK),l=!0}catch{}n=r3.default.versions.electron??(nb==="android"||c||!l)?"xdg-open":xAe}r.length>0&&i.push(...r),t.wait||(s.stdio="ignore",s.detached=!0)}nb==="darwin"&&r.length>0&&i.push("--args",...r),t.target&&i.push(t.target);let a=$V.default.spawn(n,i,s);return t.wait?new Promise((c,l)=>{a.once("error",l),a.once("close",f=>{if(!t.allowNonzeroExitCode&&f>0){l(new Error(`Exited with code ${f}`));return}c(a)})}):(a.unref(),a)},"baseOpen"),wqe=o((t,e)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return n3({...e,target:t})},"open"),Bqe=o((t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected a valid `name`");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return n3({...e,app:{name:t,arguments:r}})},"openApp");o(SAe,"detectArchBinary");o(zV,"detectPlatformBinary");zC={};YC(zC,"chrome",()=>zV({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));YC(zC,"firefox",()=>zV({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));YC(zC,"edge",()=>zV({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));YC(zC,"browser",()=>"browser");YC(zC,"browserPrivate",()=>"browserPrivate");Rqe=wqe});var XAe=q(Od=>{"use strict";u();Object.defineProperty(Od,"__esModule",{value:!0});Od.bytePairEncode=Od.BinaryMap=Od.binaryMapKey=void 0;var rGe=o((t,e,r)=>{let n=r-e,i=16777215>>>Math.max(0,(3-n)*8),s=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),c=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&a;return s+16777216*c},"binaryMapKey");Od.binaryMapKey=rGe;var oW=class t{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,r=0,n=e.length){let i=n<6+r,s=(0,Od.binaryMapKey)(e,r,n);return i?this.final.get(s):this.nested.get(s)?.get(e,6+r,n)}set(e,r){let n=(0,Od.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof t)s.set(e.subarray(6),r);else{let a=new t;a.set(e.subarray(6),r),this.nested.set(n,a)}}};Od.BinaryMap=oW;var Md=new Int32Array(128),E0=new Int32Array(128);function nGe(t,e,r){if(r===1)return[e.get(t)];let n=2147483647,i=-1;for(;Md.length<r*2;)E0=new Int32Array(E0.length*2),Md=new Int32Array(Md.length*2);for(let l=0;l<r-1;l++){let f=e.get(t,l,l+2)??2147483647;f<n&&(n=f,i=l),E0[l]=l,Md[l]=f}E0[r-1]=r-1,Md[r-1]=2147483647,E0[r]=r,Md[r]=2147483647;let s=r+1;function a(l,f=0){if(l+f+2<s){let d=e.get(t,E0[l],E0[l+f+2]);if(d!==void 0)return d}return 2147483647}for(o(a,"getRank");n!==2147483647;){Md[E0[i]]=a(i,1),i>0&&(Md[E0[i-1]]=a(i-1,1));for(let l=i+1;l<s-1;l++)E0[l]=E0[l+1];s--,i=-1,n=2147483647;for(let l=0;l<s-1;l++){let f=Md[E0[l]];Md[E0[l]]<n&&(n=f,i=l)}}let c=[];for(let l=0;l<s-1;l++)c.push(e.get(t,E0[l],E0[l+1]));return c}o(nGe,"bytePairEncode");Od.bytePairEncode=nGe});var ZAe=q(_k=>{"use strict";u();Object.defineProperty(_k,"__esModule",{value:!0});_k.makeTextEncoder=void 0;var sW=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let r=this.encoder.encode(e);return this.length=r.length,r}},aW=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},iGe=o(()=>typeof Buffer<"u"?new aW:new sW,"makeTextEncoder");_k.makeTextEncoder=iGe});var epe=q(Sk=>{"use strict";u();Object.defineProperty(Sk,"__esModule",{value:!0});Sk.LRUCache=void 0;var cW=class{static{o(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let r=this.nodes.get(e);if(r)return this.moveToHead(r),r.value}set(e,r){let n=this.nodes.get(e);if(n)n.value=r,this.moveToHead(n);else{let i=new lW(e,r);this.nodes.set(e,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};Sk.LRUCache=cW;var lW=class{static{o(this,"Node")}constructor(e,r){this.key=e,this.value=r}}});var fW=q(Bk=>{"use strict";u();Object.defineProperty(Bk,"__esModule",{value:!0});Bk.TikTokenizer=void 0;var wk=XAe(),oGe=ZAe(),sGe=epe();function aGe(t){let e=new Map;try{let i=require("fs").readFileSync(t,"utf-8");return r(i),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),c=parseInt(s[1]);if(!isNaN(c))e.set(a,c);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(aGe,"loadTikTokenBpe");function cGe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(cGe,"escapeRegExp");var uW=class{static{o(this,"TikTokenizer")}constructor(e,r,n,i=8192){this.textEncoder=(0,oGe.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new sGe.LRUCache(i);let s=typeof e=="string"?aGe(e):e;this.init(s,r,n)}init(e,r,n){this.encoder=new wk.BinaryMap;for(let[i,s]of e)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>cGe(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of e)this.decoder.set(s,i);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(e,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=e.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:e.length;return[s,a]}encode(e,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(e,i,r),a>i&&this.encodeByIndex(e,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,i){let s,a=e.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let c=this.cache.get(s[0]);if(c)for(let l of c)r.push(l);else{let l=this.textEncoder.encode(s[0]),f=this.encoder.get(l,0,this.textEncoder.length);if(f!==void 0)r.push(f),this.cache.set(s[0],[f]);else{let d=(0,wk.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let h of d)r.push(h);this.cache.set(s[0],d)}}}}encodeTrimSuffixByIndex(e,r,n,i,s,a,c){let l,f=e.substring(n,i);for(this.regex.lastIndex=0;l=this.regex.exec(f);){let d=l[0],h=this.cache.get(d);if(h)if(a+h.length<=s)a+=h.length,c+=d.length,r.push(...h);else{let A=s-a;a+=A,c+=d.length,r.push(...h.slice(0,A));break}else{let A=this.textEncoder.encode(d),g=this.encoder.get(A,0,A.length);if(g!==void 0)if(this.cache.set(d,[g]),a+1<=s)a++,c+=d.length,r.push(g);else break;else{let y=(0,wk.bytePairEncode)(A,this.encoder,this.textEncoder.length);if(this.cache.set(d,y),a+y.length<=s){a+=y.length,c+=d.length;for(let v of y)r.push(v)}else{let v=s-a;a+=v,c+=d.length;for(let _=0;_<v;_++)r.push(y[_]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:c}}encodeTrimSuffix(e,r,n){let i=[],s=0,a=0,c=0;for(;;){let f,d;if([f,d]=this.findNextSpecialToken(e,s,n),d>s){let{tokenCount:h,encodeLength:A}=this.encodeTrimSuffixByIndex(e,i,s,d,r,a,c);if(a=h,c=A,a>=r)break}if(f!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,f),c+=f[0].length,s>=e.length)||a>=r)break}else break}let l=c===e.length?e:e.slice(0,c);return{tokenIds:i,text:l}}encodeTrimPrefix(e,r,n){let i=[],s=0,a=0,c=0,l=new Map;for(l.set(a,c);;){let A,g;if([A,g]=this.findNextSpecialToken(e,s,n),g>s){let y,v=e.substring(s,g);for(this.regex.lastIndex=0;y=this.regex.exec(v);){let _=y[0],T=this.cache.get(_);if(T)a+=T.length,c+=_.length,i.push(...T),l.set(a,c);else{let S=this.textEncoder.encode(_),D=this.encoder.get(S);if(D!==void 0)this.cache.set(_,[D]),a++,c+=_.length,i.push(D),l.set(a,c);else{let Q=(0,wk.bytePairEncode)(S,this.encoder,this.textEncoder.length);this.cache.set(_,Q),a+=Q.length,c+=_.length;for(let k of Q)i.push(k);l.set(a,c)}}}}if(A!==null){if(s=s+this.encodeSpecialToken(i,A),a++,c+=A[0].length,l.set(a,c),s>=e.length)break}else break}if(a<=r)return{tokenIds:i,text:e};let f=a-r,d=0,h=0;for(let[A,g]of l)if(A>=f){d=A,h=g;break}if(d>r){let A=this.encode(e,n),g=A.slice(A.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:i.slice(d),text:e.slice(h)}}decode(e){let r=[];for(let n of e){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let c=this.textEncoder.encode(a);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};Bk.TikTokenizer=uW});var upe=q(ys=>{"use strict";u();Object.defineProperty(ys,"__esModule",{value:!0});ys.createTokenizer=ys.createByEncoderName=ys.createByModelName=ys.getRegexByModel=ys.getRegexByEncoder=ys.getSpecialTokensByModel=ys.getSpecialTokensByEncoder=ys.MODEL_TO_ENCODING=void 0;var lGe=fW(),uGe=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ys.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Rk="<|endoftext|>",tpe="<|fim_prefix|>",rpe="<|fim_middle|>",npe="<|fim_suffix|>",ipe="<|endofprompt|>",m3="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",ope="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",fGe=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],spe=fGe.join("|");function dW(t){let e="";if(ys.MODEL_TO_ENCODING.has(t))e=ys.MODEL_TO_ENCODING.get(t);else for(let[r,n]of uGe)if(t.startsWith(r)){e=n;break}return e}o(dW,"getEncoderFromModelName");async function dGe(t,e){let r=require("fs"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(e,i)}o(dGe,"fetchAndSaveFile");function hW(t){let e=new Map([[Rk,50256]]);switch(t){case"o200k_base":e=new Map([[Rk,199999],[ipe,200018]]);break;case"cl100k_base":e=new Map([[Rk,100257],[tpe,100258],[rpe,100259],[npe,100260],[ipe,100276]]);break;case"p50k_edit":e=new Map([[Rk,50256],[tpe,50281],[rpe,50282],[npe,50283]]);break;default:break}return e}o(hW,"getSpecialTokensByEncoder");ys.getSpecialTokensByEncoder=hW;function hGe(t){let e=dW(t);return hW(e)}o(hGe,"getSpecialTokensByModel");ys.getSpecialTokensByModel=hGe;function ape(t){switch(t){case"o200k_base":return spe;case"cl100k_base":return ope;default:break}return m3}o(ape,"getRegexByEncoder");ys.getRegexByEncoder=ape;function AGe(t){let e=dW(t);return ape(e)}o(AGe,"getRegexByModel");ys.getRegexByModel=AGe;async function pGe(t,e=null){return cpe(dW(t),e)}o(pGe,"createByModelName");ys.createByModelName=pGe;async function cpe(t,e=null){let r,n,i=hW(t);switch(t){case"o200k_base":r=spe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=ope,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=m3,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=m3,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=m3,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=m3,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(i=new Map([...i,...e]));let s=require("fs"),a=require("path"),c=a.basename(n),l=a.resolve(__dirname,"..","model");s.existsSync(l)||s.mkdirSync(l,{recursive:!0});let f=a.resolve(l,c);return s.existsSync(f)||(console.log(`Downloading file from ${n}`),await dGe(n,f),console.log(`Saved file to ${f}`)),lpe(f,i,r)}o(cpe,"createByEncoderName");ys.createByEncoderName=cpe;function lpe(t,e,r,n=8192){return new lGe.TikTokenizer(t,e,r,n)}o(lpe,"createTokenizer");ys.createTokenizer=lpe});var fpe=q(Cs=>{"use strict";u();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.createTokenizer=Cs.createByEncoderName=Cs.createByModelName=Cs.getSpecialTokensByModel=Cs.getSpecialTokensByEncoder=Cs.getRegexByModel=Cs.getRegexByEncoder=Cs.MODEL_TO_ENCODING=Cs.TikTokenizer=void 0;var mGe=fW();Object.defineProperty(Cs,"TikTokenizer",{enumerable:!0,get:o(function(){return mGe.TikTokenizer},"get")});var Rg=upe();Object.defineProperty(Cs,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Rg.MODEL_TO_ENCODING},"get")});Object.defineProperty(Cs,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Rg.getRegexByEncoder},"get")});Object.defineProperty(Cs,"getRegexByModel",{enumerable:!0,get:o(function(){return Rg.getRegexByModel},"get")});Object.defineProperty(Cs,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Rg.getSpecialTokensByEncoder},"get")});Object.defineProperty(Cs,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Rg.getSpecialTokensByModel},"get")});Object.defineProperty(Cs,"createByModelName",{enumerable:!0,get:o(function(){return Rg.createByModelName},"get")});Object.defineProperty(Cs,"createByEncoderName",{enumerable:!0,get:o(function(){return Rg.createByEncoderName},"get")});Object.defineProperty(Cs,"createTokenizer",{enumerable:!0,get:o(function(){return Rg.createTokenizer},"get")})});var BW=q((tEr,Lpe)=>{"use strict";u();Lpe.exports=o(function(e,r){r===!0&&(r=0);var n="";if(typeof e=="string")try{n=new URL(e).protocol}catch{}else e&&e.constructor===URL&&(n=e.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Ope=q((iEr,Mpe)=>{"use strict";u();var lze=BW();function uze(t){var e={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var r=new URL(t);e.protocols=lze(r),e.protocol=e.protocols[0],e.port=r.port,e.resource=r.hostname,e.host=r.host,e.user=r.username||"",e.password=r.password||"",e.pathname=r.pathname,e.hash=r.hash.slice(1),e.search=r.search.slice(1),e.href=r.href,e.query=Object.fromEntries(r.searchParams)}catch{e.protocols=["file"],e.protocol=e.protocols[0],e.port="",e.resource="",e.user="",e.pathname="",e.hash="",e.search="",e.href=t,e.query={},e.parse_failed=!0}return e}o(uze,"parsePath");Mpe.exports=uze});var Wpe=q((aEr,Vpe)=>{"use strict";u();var fze=Ope();function dze(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(dze,"_interopDefaultLegacy");var hze=dze(fze);function Aze(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)},"a");r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return t[n]},"get")})}),r}o(Aze,"getAugmentedNamespace");var Hpe={},pze="text/plain",mze="us-ascii",Upe=o((t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),"testParameter"),gze=o((t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=e?"":s;let c=!1;a[a.length-1]==="base64"&&(a.pop(),c=!0);let l=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[A,g=""]=h.split("=").map(y=>y.trim());return A==="charset"&&(g=g.toLowerCase(),g===mze)?"":`${A}${g?`=${g}`:""}`}).filter(Boolean)];return c&&d.push("base64"),(d.length>0||l&&l!==pze)&&d.unshift(l),`data:${d.join(";")},${c?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function yze(t,e){if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return gze(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,l="";for(;;){let d=a.exec(i.pathname);if(!d)break;let h=d[0],A=d.index,g=i.pathname.slice(c,A);l+=g.replace(/\/{2,}/g,"/"),l+=h,c=A+h.length}let f=i.pathname.slice(c,i.pathname.length);l+=f.replace(/\/{2,}/g,"/"),i.pathname=l}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),c=a[a.length-1];Upe(c,e.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let a of[...i.searchParams.keys()])Upe(a,e.removeQueryParameters)&&i.searchParams.delete(a);if(e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}o(yze,"normalizeUrl");var Cze=Object.freeze({__proto__:null,default:yze}),Eze=Aze(Cze);Object.defineProperty(Hpe,"__esModule",{value:!0});var Ize=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vze=Eze,bze=qpe(vze),xze=hze.default,Tze=qpe(xze);function qpe(t){return t&&t.__esModule?t:{default:t}}o(qpe,"_interopRequireDefault");var Gpe=o(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(l){var f=new Error(l);throw f.subject_url=e,f},"throwErr");(typeof e!="string"||!e.trim())&&i("Invalid url."),e.length>t.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Ize(r))!=="object"&&(r={stripHash:!1}),e=(0,bze.default)(e,r));var s=(0,Tze.default)(e);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");Gpe.MAX_INPUT_LENGTH=2048;var _ze=Hpe.default=Gpe;Vpe.exports=_ze});var zpe=q((uEr,$pe)=>{"use strict";u();var Sze=BW();function Ype(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var e=Sze(t);if(t=t.substring(t.indexOf("://")+3),Ype(e))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(r)&&t.indexOf("@")<t.indexOf(":")}o(Ype,"isSsh");$pe.exports=Ype});var Jpe=q((hEr,Kpe)=>{"use strict";u();var wze=Wpe(),jpe=zpe();function Bze(t){let e=wze(t);return e.token="",e.password==="x-oauth-basic"?e.token=e.user:e.user==="x-token-auth"&&(e.token=e.password),jpe(e.protocols)||e.protocols.length===0&&jpe(t)?e.protocol="ssh":e.protocols.length?e.protocol=e.protocols[0]:(e.protocol="file",e.protocols=["file"]),e.href=e.href.replace(/\/$/,""),e}o(Bze,"gitUp");Kpe.exports=Bze});var Zpe=q((mEr,Xpe)=>{"use strict";u();var Rze=Jpe();function RW(t,e){if(e=e||[],typeof t!="string")throw new Error("The url must be a string.");if(!e.every(function(S){return typeof S=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(t)&&(t="https://github.com/"+t);var n=Rze(t),i=n.resource.split("."),s=null;switch(n.toString=function(S){return RW.stringify(this,S)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var c=s.indexOf("-",2),l=s.indexOf("blob",2),f=s.indexOf("tree",2),d=s.indexOf("commit",2),h=s.indexOf("issues",2),A=s.indexOf("src",2),g=s.indexOf("raw",2),y=s.indexOf("edit",2);a=c>0?c-1:l>0&&f>0?Math.min(l-1,f-1):l>0?l-1:h>0?h-1:f>0?f-1:d>0?d-1:A>0?A-1:g>0?g-1:y>0?y-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],d&&h<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var v=s.length>a&&s[a+1]==="-"?a+1:a;s.length>v+2&&["raw","src","blob","tree","edit"].indexOf(s[v+1])>=0&&(n.filepathtype=s[v+1],n.ref=s[v+2],s.length>v+3&&(n.filepath=s.slice(v+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,T=_.exec(n.pathname);return T!=null&&(n.source="bitbucket-server",T[1]==="users"?n.owner="~"+T[2]:n.owner=T[2],n.organization=n.owner,n.name=T[3],s=T[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),e.length!==0&&n.ref&&(n.ref=Nze(n.href,e)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(RW,"gitUrlParse");RW.stringify=function(t,e){e=e||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var r=t.port?":"+t.port:"",n=t.user||"git",i=t.git_suffix?".git":"";switch(e){case"ssh":return r?"ssh://"+n+"@"+t.resource+r+"/"+t.full_name+i:n+"@"+t.resource+":"+t.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return e+"://"+n+"@"+t.resource+r+"/"+t.full_name+i;case"http":case"https":var s=t.token?kze(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return e+"://"+s+t.resource+r+"/"+Dze(t)+i;default:return t.href}};function kze(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}o(kze,"buildToken");function Dze(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var e=t.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return e}}o(Dze,"buildPath");function Nze(t,e){var r="";return e.forEach(function(n){t.includes(n)&&n.length>r.length&&(r=n)}),r}o(Nze,"findLongestMatchingSubstring");Xpe.exports=RW});var jk=q((exports,module)=>{u();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((t,e)=>{throw e},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}o(locateFile,"locateFile");function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),"read_"),readBinary=o(t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},"readBinary"),readAsync=o((t,e,r)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(n,i){n?r(n):e(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=o((t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?e(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(t=>document.title=t,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,r){for(var n=e+r,i=e;t[i]&&!(i>=n);)++i;if(i-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,i));for(var s="";e<i;){var a=t[e++];if(128&a){var c=63&t[e++];if((224&a)!=192){var l=63&t[e++];if((a=(240&a)==224?(15&a)<<12|c<<6|l:(7&a)<<18|c<<12|l<<6|63&t[e++])<65536)s+=String.fromCharCode(a);else{var f=a-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else s+=String.fromCharCode((31&a)<<6|c)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(t,e,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<t.length;++a){var c=t.charCodeAt(a);if(c>=55296&&c<=57343&&(c=65536+((1023&c)<<10)|1023&t.charCodeAt(++a)),c<=127){if(r>=s)break;e[r++]=c}else if(c<=2047){if(r+1>=s)break;e[r++]=192|c>>6,e[r++]=128|63&c}else if(c<=65535){if(r+2>=s)break;e[r++]=224|c>>12,e[r++]=128|c>>6&63,e[r++]=128|63&c}else{if(r+3>=s)break;e[r++]=240|c>>18,e[r++]=128|c>>12&63,e[r++]=128|c>>6&63,e[r++]=128|63&c}}return e[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}o(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}o(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}o(removeRunDependency,"removeRunDependency");function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(t){return t.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(i,s){var a=i.exports;a=relocateExports(a,1024);var c=getDylinkMetadata(s);c.neededDynlibs&&(dynamicLibraries=c.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(e,"t");function r(i){e(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,t)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,t).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(r.required=!0),r},"get")};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(t){var e=0,r=0;function n(){for(var T=0,S=1;;){var D=t[e++];if(T+=(127&D)*S,S*=128,!(128&D))break}return T}o(n,"_");function i(){var T=n();return UTF8ArrayToString(t,(e+=T)-T,T)}o(i,"n");function s(T,S){if(T)throw new Error(S)}o(s,"s");var a="dylink.0";if(t instanceof WebAssembly.Module){var c=WebAssembly.Module.customSections(t,a);c.length===0&&(a="dylink",c=WebAssembly.Module.customSections(t,a)),s(c.length===0,"need dylink section"),r=(t=new Uint8Array(c[0])).length}else{s(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(t[8]!==0,"need the dylink section to be first"),e=9;var l=n();r=e+l,a=i()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();for(var d=n(),h=0;h<d;++h){var A=i();f.neededDynlibs.push(A)}}else for(s(a!=="dylink.0");e<r;){var g=t[e++],y=n();if(g===1)f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();else if(g===2)for(d=n(),h=0;h<d;++h)A=i(),f.neededDynlibs.push(A);else if(g===3)for(var v=n();v--;){var _=i();256&n()&&f.tlsExports.add(_)}else if(g===4)for(v=n();v--;)i(),_=i(),(3&n())==1&&f.weakImports.add(_);else e+=y}return f}o(getDylinkMetadata,"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}o(getValue,"getValue");function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(t,e){for(var r in t)if(t.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=t[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=t[r]),r=="__main_argc_argv"&&(Module._main=t[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,r){var n=Module["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(t,e,r){return t.includes("j")?dynCallLegacy(t,e,r):getWasmTableEntry(e).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(e),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}o(zeroMemory,"zeroMemory");function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+t+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,e}o(getMemory,"getMemory");function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}o(isInternalSym,"isInternalSym");function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]),t[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(t,e){var r=t.slice(0,1),n=t.slice(1),i={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(n.length,e);for(var s=0;s<n.length;++s)e.push(i[n[s]]);r=="v"?e.push(0):e.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:t}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(t,e){if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var r=getEmptyTableSlot();try{setWasmTableEntry(r,t)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,r),r}o(addFunction,"addFunction");function updateGOT(t,e){for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(t,e,r){var n={};for(var i in t){var s=t[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=e),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(t,e){var r;return e&&(r=asmLibraryArg["orig$"+t]),r||(r=asmLibraryArg[t])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(t)]),!r&&t.startsWith("invoke_")&&(r=createInvokeFunction(t.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(t,e){return Math.ceil(t/e)*e}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var r;return e in t||(t[e]=function(){return r||(r=resolveSymbol(e)),r.apply(null,arguments)}),t[e]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(t,e,r){e=e||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[t];if(n)return e.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,t)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!e.loadAsync||Promise.resolve(!0);function i(c){if(e.fs&&e.fs.findObject(c)){var l=e.fs.readFile(c,{encoding:"binary"});return l instanceof Uint8Array||(l=new Uint8Array(l)),e.loadAsync?Promise.resolve(l):l}if(c=locateFile(c),e.loadAsync)return new Promise(function(f,d){readAsync(c,h=>f(new Uint8Array(h)),d)});if(!readBinary)throw new Error(c+": file not found, and synchronous loading of external files is not available");return readBinary(c)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var c=preloadedWasm[t];return e.loadAsync?Promise.resolve(c):c}return e.loadAsync?i(t).then(function(l){return loadWebAssemblyModule(l,e,r)}):loadWebAssemblyModule(i(t),e,r)}o(s,"s");function a(c){n.global&&mergeLibSymbols(c,t),n.module=c}return o(a,"a"),n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=n,r&&(LDSO.loadedLibsByHandle[r]=n),e.loadAsync?s().then(function(c){return a(c),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=1;n<=4;n*=2){var i=e*(1+.2/n);if(i=Math.min(i,t+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(t,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(t,e,r){if(PATH.isAbs(e))return e;var n;if(t===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,e)},"calculateAt"),doStat:o(function(t,e,r){try{var n=t(e)}catch(c){if(c&&c.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(c.node)))return-54;throw c}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(t,e,r,n,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(t,t+r);FS.msync(e,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(t){return UTF8ToString(t)},"getStr"),getStreamFromFD:o(function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e},"getStreamFromFD")};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}o(_proc_exit,"_proc_exit");function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(t,e,r,n,i){try{var s=convertI32PairToI53Checked(e,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(t);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_seek,"_fd_seek");function doWritev(t,e,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[e>>2],c=HEAPU32[e+4>>2];e+=8;var l=FS.write(t,HEAP8,a,c,n);if(l<0)return-1;i+=l,n!==void 0&&(n+=l)}return i}o(doWritev,"doWritev");function _fd_write(t,e,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(t),e,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,r,n,i){var s=currentParseCallback(e,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,t,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}o(handleException,"handleException");function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8Array(t,HEAP8,r,e),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=e,i=(r-=2)<2*t.length?r/2:t.length,s=0;s<i;++s){var a=t.charCodeAt(s);HEAP16[e>>1]=a,e+=2}return HEAP16[e>>1]=0,e-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(t){for(var e="";;){var r=HEAPU8[t++>>0];if(!r)return e;e+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var r=t.length,n=stackAlloc(4*(r+1)),i=n>>2;t.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=e(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"e");var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}o(e,"t"),t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=o((l,f,d)=>e.slice(l,d),"currentParseCallback");else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let l=s;for(let f=0;f<i;f++)marshalRange(l,n.includedRanges[f]),l+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let c=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,c}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(e,r,n,i){assertInternal(e),this[0]=r,this.language=n,this.textCallback=i}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let d=0,h=s.length;d<h;d++)e.includes(s[d])&&i.push(d);let a=C._malloc(SIZE_OF_INT*i.length);for(let d=0,h=i.length;d<h;d++)setValue(a+d*SIZE_OF_INT,i[d],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let c=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(c);if(c>0){let d=l;for(let h=0;h<c;h++)f[h]=unmarshalNode(this.tree,d),d+=SIZE_OF_NODE}return C._free(l),C._free(a),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{o(this,"Language")}constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),i=C._malloc(n+1);stringToUTF8(e,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,T=e.substr(_,100).split(`
`)[0],S,D=T.match(QUERY_WORD_REGEX)[0];switch(v){case 2:S=new RangeError(`Bad node name '${D}'`);break;case 3:S=new RangeError(`Bad field name '${D}'`);break;case 4:S=new RangeError(`Bad capture name @${D}`);break;case 5:S=new TypeError(`Bad pattern structure at offset ${_}: '${T}'...`),D="";break;default:S=new SyntaxError(`Bad syntax at offset ${_}: '${T}'...`),D=""}throw S.index=_,S.length=D.length,C._free(n),S}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),c=C._ts_query_pattern_count(i),l=new Array(a),f=new Array(s);for(let v=0;v<a;v++){let _=C._ts_query_capture_name_for_id(i,v,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");l[v]=UTF8ToString(_,T)}for(let v=0;v<s;v++){let _=C._ts_query_string_value_for_id(i,v,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");f[v]=UTF8ToString(_,T)}let d=new Array(c),h=new Array(c),A=new Array(c),g=new Array(c),y=new Array(c);for(let v=0;v<c;v++){let _=C._ts_query_predicates_for_pattern(i,v,TRANSFER_BUFFER),T=getValue(TRANSFER_BUFFER,"i32");g[v]=[],y[v]=[];let S=[],D=_;for(let Q=0;Q<T;Q++){let k=getValue(D,"i32");D+=SIZE_OF_INT;let P=getValue(D,"i32");if(D+=SIZE_OF_INT,k===PREDICATE_STEP_TYPE_CAPTURE)S.push({type:"capture",name:l[P]});else if(k===PREDICATE_STEP_TYPE_STRING)S.push({type:"string",value:f[P]});else if(S.length>0){if(S[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=S[0].value,re=!0;switch(W){case"not-eq?":re=!1;case"eq?":if(S.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(S.length-1));if(S[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${S[1].value}"`);if(S[2].type==="capture"){let j=S[1].name,Ie=S[2].name;y[v].push(function(ue){let J,H;for(let Z of ue)Z.name===j&&(J=Z.node),Z.name===Ie&&(H=Z.node);return J===void 0||H===void 0||J.text===H.text===re})}else{let j=S[1].name,Ie=S[2].value;y[v].push(function(ue){for(let J of ue)if(J.name===j)return J.node.text===Ie===re;return!0})}break;case"not-match?":re=!1;case"match?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${S[1].value}".`);if(S[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${S[2].value}.`);let ye=S[1].name,Ae=new RegExp(S[2].value);y[v].push(function(j){for(let Ie of j)if(Ie.name===ye)return Ae.test(Ie.node.text)===re;return!0});break;case"set!":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(j=>j.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');d[v]||(d[v]={}),d[v][S[1].value]=S[2]?S[2].value:null;break;case"is?":case"is-not?":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(j=>j.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let z=W==="is?"?h:A;z[v]||(z[v]={}),z[v][S[1].value]=S[2]?S[2].value:null;break;default:g[v].push({operator:W,operands:S.slice(1)})}S.length=0}}Object.freeze(d[v]),Object.freeze(h[v]),Object.freeze(A[v])}return C._free(n),new Query(INTERNAL,i,l,y,g,Object.freeze(d),Object.freeze(h),Object.freeze(A))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let i=e;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let c=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${c}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let c=i[a]();return new Language(INTERNAL,c)})}}class Query{static{o(this,"Query")}constructor(e,r,n,i,s,a,c,l){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=c,this.refutedProperties=l,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),l=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(a);this.exceededMatchLimit=!!l;let d=0,h=c;for(let A=0;A<a;A++){let g=getValue(h,"i32");h+=SIZE_OF_INT;let y=getValue(h,"i32");h+=SIZE_OF_INT;let v=new Array(y);if(h=unmarshalCaptures(this,e.tree,h,v),this.textPredicates[g].every(_=>_(v))){f[d++]={pattern:g,captures:v};let _=this.setProperties[g];_&&(f[A].setProperties=_);let T=this.assertedProperties[g];T&&(f[A].assertedProperties=T);let S=this.refutedProperties[g];S&&(f[A].refutedProperties=S)}}return f.length=d,C._free(c),f}captures(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),l=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!l;let d=[],h=c;for(let A=0;A<a;A++){let g=getValue(h,"i32");h+=SIZE_OF_INT;let y=getValue(h,"i32");h+=SIZE_OF_INT;let v=getValue(h,"i32");if(h+=SIZE_OF_INT,d.length=y,h=unmarshalCaptures(this,e.tree,h,d),this.textPredicates[g].every(_=>_(d))){let _=d[v],T=this.setProperties[g];T&&(_.setProperties=T);let S=this.assertedProperties[g];S&&(_.assertedProperties=S);let D=this.refutedProperties[g];D&&(_.refutedProperties=D),f.push(_)}}return C._free(c),f}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,i=t.textCallback(e,null,r);for(e+=i.length;e<r;){let s=t.textCallback(e,null,r);if(!(s&&s.length>0))break;e+=s.length,i+=s}return e>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(t,e,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),c=unmarshalNode(e,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:t.captureNames[a],node:c}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}o(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(r===0)return null;let n=getValue(e+=SIZE_OF_INT,"i32"),i=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),a=getValue(e+=SIZE_OF_INT,"i32"),c=new Node(INTERNAL,t);return c.id=r,c.startIndex=n,c.startPosition={row:i,column:s},c[0]=a,c}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}o(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var l1e=q((sxr,c1e)=>{"use strict";u();c1e.exports=s1e;function s1e(t,e,r){t instanceof RegExp&&(t=o1e(t,r)),e instanceof RegExp&&(e=o1e(e,r));var n=a1e(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}o(s1e,"balanced");function o1e(t,e){var r=e.match(t);return r?r[0]:null}o(o1e,"maybeMatch");s1e.range=a1e;function a1e(t,e,r){var n,i,s,a,c,l=r.indexOf(t),f=r.indexOf(e,l+1),d=l;if(l>=0&&f>0){if(t===e)return[l,f];for(n=[],s=r.length;d>=0&&!c;)d==l?(n.push(d),l=r.indexOf(t,d+1)):n.length==1?c=[n.pop(),f]:(i=n.pop(),i<s&&(s=i,a=f),f=r.indexOf(e,d+1)),d=l<f&&l>=0?l:f;n.length&&(c=[s,a])}return c}o(a1e,"range")});var g1e=q((lxr,m1e)=>{u();var u1e=l1e();m1e.exports=sKe;var f1e="\0SLASH"+Math.random()+"\0",d1e="\0OPEN"+Math.random()+"\0",MY="\0CLOSE"+Math.random()+"\0",h1e="\0COMMA"+Math.random()+"\0",A1e="\0PERIOD"+Math.random()+"\0";function LY(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}o(LY,"numeric");function iKe(t){return t.split("\\\\").join(f1e).split("\\{").join(d1e).split("\\}").join(MY).split("\\,").join(h1e).split("\\.").join(A1e)}o(iKe,"escapeBraces");function oKe(t){return t.split(f1e).join("\\").split(d1e).join("{").split(MY).join("}").split(h1e).join(",").split(A1e).join(".")}o(oKe,"unescapeBraces");function p1e(t){if(!t)return[""];var e=[],r=u1e("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var c=p1e(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}o(p1e,"parseCommaParts");function sKe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),G3(iKe(t),!0).map(oKe)):[]}o(sKe,"expandTop");function aKe(t){return"{"+t+"}"}o(aKe,"embrace");function cKe(t){return/^-?0\d/.test(t)}o(cKe,"isPadded");function lKe(t,e){return t<=e}o(lKe,"lte");function uKe(t,e){return t>=e}o(uKe,"gte");function G3(t,e){var r=[],n=u1e("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?G3(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var c=i+"{"+n.body+"}"+s[a];r.push(c)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=l||f,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+MY+n.post,G3(t)):[t];var A;if(d)A=n.body.split(/\.\./);else if(A=p1e(n.body),A.length===1&&(A=G3(A[0],!1).map(aKe),A.length===1))return s.map(function(Ae){return n.pre+A[0]+Ae});var g;if(d){var y=LY(A[0]),v=LY(A[1]),_=Math.max(A[0].length,A[1].length),T=A.length==3?Math.abs(LY(A[2])):1,S=lKe,D=v<y;D&&(T*=-1,S=uKe);var Q=A.some(cKe);g=[];for(var k=y;S(k,v);k+=T){var P;if(f)P=String.fromCharCode(k),P==="\\"&&(P="");else if(P=String(k),Q){var W=_-P.length;if(W>0){var re=new Array(W+1).join("0");k<0?P="-"+re+P.slice(1):P=re+P}}g.push(P)}}else{g=[];for(var ye=0;ye<A.length;ye++)g.push.apply(g,G3(A[ye],!1))}for(var ye=0;ye<g.length;ye++)for(var a=0;a<s.length;a++){var c=i+g[ye]+s[a];(!e||d||c)&&r.push(c)}}return r}o(G3,"expand")});var ho=q((AGr,FCe)=>{u();FCe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var li=q((mGr,LCe)=>{"use strict";u();var So=class extends Error{static{o(this,"UndiciError")}constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},sz=class extends So{static{o(this,"ConnectTimeoutError")}constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},az=class extends So{static{o(this,"HeadersTimeoutError")}constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},cz=class extends So{static{o(this,"HeadersOverflowError")}constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},lz=class extends So{static{o(this,"BodyTimeoutError")}constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},uz=class extends So{static{o(this,"ResponseStatusCodeError")}constructor(e,r,n,i){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},fz=class extends So{static{o(this,"InvalidArgumentError")}constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},dz=class extends So{static{o(this,"InvalidReturnValueError")}constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},JN=class extends So{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},hz=class extends JN{static{o(this,"RequestAbortedError")}constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},Az=class extends So{static{o(this,"InformationalError")}constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},pz=class extends So{static{o(this,"RequestContentLengthMismatchError")}constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},mz=class extends So{static{o(this,"ResponseContentLengthMismatchError")}constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},gz=class extends So{static{o(this,"ClientDestroyedError")}constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},yz=class extends So{static{o(this,"ClientClosedError")}constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},Cz=class extends So{static{o(this,"SocketError")}constructor(e,r){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Ez=class extends So{static{o(this,"NotSupportedError")}constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Iz=class extends So{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},vz=class extends Error{static{o(this,"HTTPParserError")}constructor(e,r,n){super(e),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},bz=class extends So{static{o(this,"ResponseExceededMaxSizeError")}constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},xz=class extends So{static{o(this,"RequestRetryError")}constructor(e,r,{headers:n,data:i}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},Tz=class extends So{static{o(this,"ResponseError")}constructor(e,r,{headers:n,data:i}){super(e),this.name="ResponseError",this.message=e||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},_z=class extends So{static{o(this,"SecureProxyConnectionError")}constructor(e,r,n){super(r,{cause:e,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};LCe.exports={AbortError:JN,HTTPParserError:vz,UndiciError:So,HeadersTimeoutError:az,HeadersOverflowError:cz,BodyTimeoutError:lz,RequestContentLengthMismatchError:pz,ConnectTimeoutError:sz,ResponseStatusCodeError:uz,InvalidArgumentError:fz,InvalidReturnValueError:dz,RequestAbortedError:hz,ClientDestroyedError:gz,ClientClosedError:yz,InformationalError:Az,SocketError:Cz,NotSupportedError:Ez,ResponseContentLengthMismatchError:mz,BalancedPoolMissingUpstreamError:Iz,ResponseExceededMaxSizeError:bz,RequestRetryError:xz,ResponseError:Tz,SecureProxyConnectionError:_z}});var ZN=q((CGr,MCe)=>{"use strict";u();var XN={},Sz=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<Sz.length;++t){let e=Sz[t],r=e.toLowerCase();XN[e]=XN[r]=r}Object.setPrototypeOf(XN,null);MCe.exports={wellknownHeaderNames:Sz,headerNameLowerCasedRecord:XN}});var qCe=q((IGr,HCe)=>{"use strict";u();var{wellknownHeaderNames:OCe,headerNameLowerCasedRecord:UZe}=ZN(),wz=class t{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(e,r,n){if(n===void 0||n>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(n))>127)throw new TypeError("key must be ascii string");e.length!==++n?this.middle=new t(e,r,n):this.value=r}add(e,r){let n=e.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=e.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new t(e,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new t(e,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new t(e,r,i);break}}}search(e){let r=e.length,n=0,i=this;for(;i!==null&&n<r;){let s=e[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},eQ=class{static{o(this,"TernarySearchTree")}node=null;insert(e,r){this.node===null?this.node=new wz(e,r,0):this.node.add(e,r)}lookup(e){return this.node?.search(e)?.value??null}},UCe=new eQ;for(let t=0;t<OCe.length;++t){let e=UZe[OCe[t]];UCe.insert(e,e)}HCe.exports={TernarySearchTree:eQ,tree:UCe}});var fn=q((xGr,iEe)=>{"use strict";u();var bS=require("node:assert"),{kDestroyed:VCe,kBodyUsed:Xb,kListeners:Bz,kBody:GCe}=ho(),{IncomingMessage:HZe}=require("node:http"),nQ=require("node:stream"),qZe=require("node:net"),{Blob:GZe}=require("node:buffer"),VZe=require("node:util"),{stringify:WZe}=require("node:querystring"),{EventEmitter:YZe}=require("node:events"),{InvalidArgumentError:ea}=li(),{headerNameLowerCasedRecord:$Ze}=ZN(),{tree:WCe}=qCe(),[zZe,jZe]=process.versions.node.split(".").map(t=>Number(t)),rQ=class{static{o(this,"BodyAsyncIterable")}constructor(e){this[GCe]=e,this[Xb]=!1}async*[Symbol.asyncIterator](){bS(!this[Xb],"disturbed"),this[Xb]=!0,yield*this[GCe]}};function KZe(t){return iQ(t)?(KCe(t)===0&&t.on("data",function(){bS(!1)}),typeof t.readableDidRead!="boolean"&&(t[Xb]=!1,YZe.prototype.on.call(t,"data",function(){this[Xb]=!0})),t):t&&typeof t.pipeTo=="function"?new rQ(t):t&&typeof t!="string"&&!ArrayBuffer.isView(t)&&jCe(t)?new rQ(t):t}o(KZe,"wrapRequestBody");function JZe(){}o(JZe,"nop");function iQ(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}o(iQ,"isStream");function YCe(t){if(t===null)return!1;if(t instanceof GZe)return!0;if(typeof t!="object")return!1;{let e=t[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in t&&typeof t.stream=="function"||"arrayBuffer"in t&&typeof t.arrayBuffer=="function")}}o(YCe,"isBlobLike");function XZe(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=WZe(e);return r&&(t+="?"+r),t}o(XZe,"buildURL");function $Ce(t){let e=parseInt(t,10);return e===Number(t)&&e>=0&&e<=65535}o($Ce,"isValidPort");function tQ(t){return t!=null&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&(t[4]===":"||t[4]==="s"&&t[5]===":")}o(tQ,"isHttpOrHttpsPrefixed");function zCe(t){if(typeof t=="string"){if(t=new URL(t),!tQ(t.origin||t.protocol))throw new ea("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new ea("Invalid URL: The URL argument must be a non-null object.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&$Ce(t.port)===!1)throw new ea("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new ea("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new ea("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new ea("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new ea("Invalid URL origin: the origin must be a string or null/undefined.");if(!tQ(t.origin||t.protocol))throw new ea("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,r=t.origin!=null?t.origin:`${t.protocol||""}//${t.hostname||""}:${e}`,n=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!tQ(t.origin||t.protocol))throw new ea("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}o(zCe,"parseURL");function ZZe(t){if(t=zCe(t),t.pathname!=="/"||t.search||t.hash)throw new ea("invalid url");return t}o(ZZe,"parseOrigin");function eet(t){if(t[0]==="["){let r=t.indexOf("]");return bS(r!==-1),t.substring(1,r)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}o(eet,"getHostname");function tet(t){if(!t)return null;bS(typeof t=="string");let e=eet(t);return qZe.isIP(e)?"":e}o(tet,"getServerName");function ret(t){return JSON.parse(JSON.stringify(t))}o(ret,"deepClone");function net(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}o(net,"isAsyncIterable");function jCe(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}o(jCe,"isIterable");function KCe(t){if(t==null)return 0;if(iQ(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(YCe(t))return t.size!=null?t.size:null;if(ZCe(t))return t.byteLength}return null}o(KCe,"bodyLength");function JCe(t){return t&&!!(t.destroyed||t[VCe]||nQ.isDestroyed?.(t))}o(JCe,"isDestroyed");function iet(t,e){t==null||!iQ(t)||JCe(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===HZe&&(t.socket=null),t.destroy(e)):e&&queueMicrotask(()=>{t.emit("error",e)}),t.destroyed!==!0&&(t[VCe]=!0))}o(iet,"destroy");var oet=/timeout=(\d+)/;function set(t){let e=t.toString().match(oet);return e?parseInt(e[1],10)*1e3:null}o(set,"parseKeepAliveTimeout");function XCe(t){return typeof t=="string"?$Ze[t]??t.toLowerCase():WCe.lookup(t)??t.toString("latin1").toLowerCase()}o(XCe,"headerNameToString");function aet(t){return WCe.lookup(t)??t.toString("latin1").toLowerCase()}o(aet,"bufferToLowerCasedHeaderName");function cet(t,e){e===void 0&&(e={});for(let r=0;r<t.length;r+=2){let n=XCe(t[r]),i=e[n];if(i)typeof i=="string"&&(i=[i],e[n]=i),i.push(t[r+1].toString("utf8"));else{let s=t[r+1];typeof s=="string"?e[n]=s:e[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}o(cet,"parseHeaders");function uet(t){let e=t.length,r=new Array(e),n=!1,i=-1,s,a,c=0;for(let l=0;l<t.length;l+=2)s=t[l],a=t[l+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),c=s.length,c===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:c===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=l+1),r[l]=s,r[l+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(uet,"parseRawHeaders");function ZCe(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}o(ZCe,"isBuffer");function fet(t,e,r){if(!t||typeof t!="object")throw new ea("handler must be an object");if(typeof t.onConnect!="function")throw new ea("invalid onConnect method");if(typeof t.onError!="function")throw new ea("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new ea("invalid onBodySent method");if(r||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new ea("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new ea("invalid onHeaders method");if(typeof t.onData!="function")throw new ea("invalid onData method");if(typeof t.onComplete!="function")throw new ea("invalid onComplete method")}}o(fet,"validateHandler");function det(t){return!!(t&&(nQ.isDisturbed(t)||t[Xb]))}o(det,"isDisturbed");function het(t){return!!(t&&nQ.isErrored(t))}o(het,"isErrored");function Aet(t){return!!(t&&nQ.isReadable(t))}o(Aet,"isReadable");function pet(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}o(pet,"getSocketInfo");function met(t){let e;return new ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await e.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await e.return()},type:"bytes"})}o(met,"ReadableStreamFrom");function get(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}o(get,"isFormDataLike");function yet(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}o(yet,"addAbortListener");var Cet=typeof String.prototype.toWellFormed=="function",Eet=typeof String.prototype.isWellFormed=="function";function eEe(t){return Cet?`${t}`.toWellFormed():VZe.toUSVString(t)}o(eEe,"toUSVString");function Iet(t){return Eet?`${t}`.isWellFormed():eEe(t)===`${t}`}o(Iet,"isUSVString");function tEe(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}o(tEe,"isTokenCharCode");function vet(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!tEe(t.charCodeAt(e)))return!1;return!0}o(vet,"isValidHTTPToken");var bet=/[^\t\x20-\x7e\x80-\xff]/;function xet(t){return!bet.test(t)}o(xet,"isValidHeaderValue");function Tet(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}o(Tet,"parseRangeHeader");function _et(t,e,r){return(t[Bz]??=[]).push([e,r]),t.on(e,r),t}o(_et,"addListener");function wet(t){for(let[e,r]of t[Bz]??[])t.removeListener(e,r);t[Bz]=null}o(wet,"removeAllListeners");function Bet(t,e,r){try{e.onError(r),bS(e.aborted)}catch(n){t.emit("error",n)}}o(Bet,"errorRequest");var rEe=Object.create(null);rEe.enumerable=!0;var Rz={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},nEe={...Rz,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Rz,null);Object.setPrototypeOf(nEe,null);iEe.exports={kEnumerableProperty:rEe,nop:JZe,isDisturbed:det,isErrored:het,isReadable:Aet,toUSVString:eEe,isUSVString:Iet,isBlobLike:YCe,parseOrigin:ZZe,parseURL:zCe,getServerName:tet,isStream:iQ,isIterable:jCe,isAsyncIterable:net,isDestroyed:JCe,headerNameToString:XCe,bufferToLowerCasedHeaderName:aet,addListener:_et,removeAllListeners:wet,errorRequest:Bet,parseRawHeaders:uet,parseHeaders:cet,parseKeepAliveTimeout:set,destroy:iet,bodyLength:KCe,deepClone:ret,ReadableStreamFrom:met,isBuffer:ZCe,validateHandler:fet,getSocketInfo:pet,isFormDataLike:get,buildURL:XZe,addAbortListener:yet,isValidHTTPToken:vet,isValidHeaderValue:xet,isTokenCharCode:tEe,parseRangeHeader:Tet,normalizedMethodRecordsBase:Rz,normalizedMethodRecords:nEe,isValidPort:$Ce,isHttpOrHttpsPrefixed:tQ,nodeMajor:zZe,nodeMinor:jZe,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:KZe}});var Zb=q((SGr,sEe)=>{"use strict";u();var hi=require("node:diagnostics_channel"),Dz=require("node:util"),oQ=Dz.debuglog("undici"),kz=Dz.debuglog("fetch"),AE=Dz.debuglog("websocket"),oEe=!1,Ret={beforeConnect:hi.channel("undici:client:beforeConnect"),connected:hi.channel("undici:client:connected"),connectError:hi.channel("undici:client:connectError"),sendHeaders:hi.channel("undici:client:sendHeaders"),create:hi.channel("undici:request:create"),bodySent:hi.channel("undici:request:bodySent"),headers:hi.channel("undici:request:headers"),trailers:hi.channel("undici:request:trailers"),error:hi.channel("undici:request:error"),open:hi.channel("undici:websocket:open"),close:hi.channel("undici:websocket:close"),socketError:hi.channel("undici:websocket:socket_error"),ping:hi.channel("undici:websocket:ping"),pong:hi.channel("undici:websocket:pong")};if(oQ.enabled||kz.enabled){let t=kz.enabled?kz:oQ;hi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),hi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),hi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=e;t("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),hi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("sending request to %s %s/%s",r,i,n)}),hi.channel("undici:request:headers").subscribe(e=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=e;t("received response to %s %s/%s - HTTP %d",r,i,n,s)}),hi.channel("undici:request:trailers").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("trailers received from %s %s/%s",r,i,n)}),hi.channel("undici:request:error").subscribe(e=>{let{request:{method:r,path:n,origin:i},error:s}=e;t("request to %s %s/%s errored - %s",r,i,n,s.message)}),oEe=!0}if(AE.enabled){if(!oEe){let t=oQ.enabled?oQ:AE;hi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),hi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=e;t("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),hi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=e;t("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),hi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:i}}=e;t("sending request to %s %s/%s",r,i,n)})}hi.channel("undici:websocket:open").subscribe(t=>{let{address:{address:e,port:r}}=t;AE("connection opened %s%s",e,r?`:${r}`:"")}),hi.channel("undici:websocket:close").subscribe(t=>{let{websocket:e,code:r,reason:n}=t;AE("closed connection to %s - %s %s",e.url,r,n)}),hi.channel("undici:websocket:socket_error").subscribe(t=>{AE("connection errored - %s",t.message)}),hi.channel("undici:websocket:ping").subscribe(t=>{AE("ping received")}),hi.channel("undici:websocket:pong").subscribe(t=>{AE("pong received")})}sEe.exports={channels:Ret}});var fEe=q((BGr,uEe)=>{"use strict";u();var{InvalidArgumentError:wo,NotSupportedError:ket}=li(),VA=require("node:assert"),{isValidHTTPToken:lEe,isValidHeaderValue:aEe,isStream:Det,destroy:Net,isBuffer:Qet,isFormDataLike:Pet,isIterable:Fet,isBlobLike:Let,buildURL:Met,validateHandler:Oet,getServerName:Uet,normalizedMethodRecords:Het}=fn(),{channels:Zd}=Zb(),{headerNameLowerCasedRecord:cEe}=ZN(),qet=/[^\u0021-\u00ff]/,Xl=Symbol("handler"),Nz=class{static{o(this,"Request")}constructor(e,{path:r,method:n,body:i,headers:s,query:a,idempotent:c,blocking:l,upgrade:f,headersTimeout:d,bodyTimeout:h,reset:A,throwOnError:g,expectContinue:y,servername:v},_){if(typeof r!="string")throw new wo("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new wo("path must be an absolute URL or start with a slash");if(qet.test(r))throw new wo("invalid request path");if(typeof n!="string")throw new wo("method must be a string");if(Het[n]===void 0&&!lEe(n))throw new wo("invalid request method");if(f&&typeof f!="string")throw new wo("upgrade must be a string");if(d!=null&&(!Number.isFinite(d)||d<0))throw new wo("invalid headersTimeout");if(h!=null&&(!Number.isFinite(h)||h<0))throw new wo("invalid bodyTimeout");if(A!=null&&typeof A!="boolean")throw new wo("invalid reset");if(y!=null&&typeof y!="boolean")throw new wo("invalid expectContinue");if(this.headersTimeout=d,this.bodyTimeout=h,this.throwOnError=g===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Det(i)){this.body=i;let T=this.body._readableState;(!T||!T.autoDestroy)&&(this.endHandler=o(function(){Net(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=S=>{this.abort?this.abort(S):this.error=S},this.body.on("error",this.errorHandler)}else if(Qet(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(Pet(i)||Fet(i)||Let(i))this.body=i;else throw new wo("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=f||null,this.path=a?Met(r,a):r,this.origin=e,this.idempotent=c??(n==="HEAD"||n==="GET"),this.blocking=l??!1,this.reset=A??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=y??!1,Array.isArray(s)){if(s.length%2!==0)throw new wo("headers array must be even");for(let T=0;T<s.length;T+=2)sQ(this,s[T],s[T+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let T of s){if(!Array.isArray(T)||T.length!==2)throw new wo("headers must be in key-value pair format");sQ(this,T[0],T[1])}else{let T=Object.keys(s);for(let S=0;S<T.length;++S)sQ(this,T[S],s[T[S]])}else if(s!=null)throw new wo("headers must be an object or an array");Oet(_,n,f),this.servername=v||Uet(this.host),this[Xl]=_,Zd.create.hasSubscribers&&Zd.create.publish({request:this})}onBodySent(e){if(this[Xl].onBodySent)try{return this[Xl].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(Zd.bodySent.hasSubscribers&&Zd.bodySent.publish({request:this}),this[Xl].onRequestSent)try{return this[Xl].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(VA(!this.aborted),VA(!this.completed),this.error)e(this.error);else return this.abort=e,this[Xl].onConnect(e)}onResponseStarted(){return this[Xl].onResponseStarted?.()}onHeaders(e,r,n,i){VA(!this.aborted),VA(!this.completed),Zd.headers.hasSubscribers&&Zd.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:i}});try{return this[Xl].onHeaders(e,r,n,i)}catch(s){this.abort(s)}}onData(e){VA(!this.aborted),VA(!this.completed);try{return this[Xl].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return VA(!this.aborted),VA(!this.completed),this[Xl].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),VA(!this.aborted),this.completed=!0,Zd.trailers.hasSubscribers&&Zd.trailers.publish({request:this,trailers:e});try{return this[Xl].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),Zd.error.hasSubscribers&&Zd.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[Xl].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,r){return sQ(this,e,r),this}};function sQ(t,e,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new wo(`invalid ${e} header`);if(r===void 0)return;let n=cEe[e];if(n===void 0&&(n=e.toLowerCase(),cEe[n]===void 0&&!lEe(n)))throw new wo("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!aEe(r[s]))throw new wo(`invalid ${e} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new wo(`invalid ${e} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!aEe(r))throw new wo(`invalid ${e} header`)}else r===null?r="":r=`${r}`;if(t.host===null&&n==="host"){if(typeof r!="string")throw new wo("invalid host header");t.host=r}else if(t.contentLength===null&&n==="content-length"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new wo("invalid content-length header")}else if(t.contentType===null&&n==="content-type")t.contentType=r,t.headers.push(e,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new wo(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new wo("invalid connection header");i==="close"&&(t.reset=!0)}else{if(n==="expect")throw new ket("expect header not supported");t.headers.push(e,r)}}}o(sQ,"processHeader");uEe.exports=Nz});var xS=q((DGr,dEe)=>{"use strict";u();var Get=require("node:events"),aQ=class extends Get{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let r=Array.isArray(e[0])?e[0]:e,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Qz(this,n)}},Qz=class extends aQ{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(e,r){super(),this.#e=e,this.#t=r}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};dEe.exports=aQ});var nx=q((PGr,hEe)=>{"use strict";u();var Vet=xS(),{ClientDestroyedError:Pz,ClientClosedError:Wet,InvalidArgumentError:ex}=li(),{kDestroy:Yet,kClose:$et,kClosed:TS,kDestroyed:tx,kDispatch:Fz,kInterceptors:pE}=ho(),WA=Symbol("onDestroyed"),rx=Symbol("onClosed"),cQ=Symbol("Intercepted Dispatch"),Lz=class extends Vet{static{o(this,"DispatcherBase")}constructor(){super(),this[tx]=!1,this[WA]=null,this[TS]=!1,this[rx]=[]}get destroyed(){return this[tx]}get closed(){return this[TS]}get interceptors(){return this[pE]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[pE][r]!="function")throw new ex("interceptor must be an function")}this[pE]=e}close(e){if(e===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof e!="function")throw new ex("invalid callback");if(this[tx]){queueMicrotask(()=>e(new Pz,null));return}if(this[TS]){this[rx]?this[rx].push(e):queueMicrotask(()=>e(null,null));return}this[TS]=!0,this[rx].push(e);let r=o(()=>{let n=this[rx];this[rx]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[$et]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e=="function"&&(r=e,e=null),r===void 0)return new Promise((i,s)=>{this.destroy(e,(a,c)=>a?s(a):i(c))});if(typeof r!="function")throw new ex("invalid callback");if(this[tx]){this[WA]?this[WA].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new Pz),this[tx]=!0,this[WA]=this[WA]||[],this[WA].push(r);let n=o(()=>{let i=this[WA];this[WA]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[Yet](e).then(()=>{queueMicrotask(n)})}[cQ](e,r){if(!this[pE]||this[pE].length===0)return this[cQ]=this[Fz],this[Fz](e,r);let n=this[Fz].bind(this);for(let i=this[pE].length-1;i>=0;i--)n=this[pE][i](n);return this[cQ]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!="object")throw new ex("handler must be an object");try{if(!e||typeof e!="object")throw new ex("opts must be an object.");if(this[tx]||this[WA])throw new Pz;if(this[TS])throw new Wet;return this[cQ](e,r)}catch(n){if(typeof r.onError!="function")throw new ex("invalid onError method");return r.onError(n),!1}}};hEe.exports=Lz});var Vz=q((MGr,gEe)=>{"use strict";u();var ix=0,Mz=1e3,Oz=(Mz>>1)-1,YA,Uz=Symbol("kFastTimer"),$A=[],Hz=-2,qz=-1,pEe=0,AEe=1;function Gz(){ix+=Oz;let t=0,e=$A.length;for(;t<e;){let r=$A[t];r._state===pEe?(r._idleStart=ix-Oz,r._state=AEe):r._state===AEe&&ix>=r._idleStart+r._idleTimeout&&(r._state=qz,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===qz?(r._state=Hz,--e!==0&&($A[t]=$A[e])):++t}$A.length=e,$A.length!==0&&mEe()}o(Gz,"onTick");function mEe(){YA?YA.refresh():(clearTimeout(YA),YA=setTimeout(Gz,Oz),YA.unref&&YA.unref())}o(mEe,"refreshTimeout");var lQ=class{static{o(this,"FastTimer")}[Uz]=!0;_state=Hz;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(e,r,n){this._onTimeout=e,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===Hz&&$A.push(this),(!YA||$A.length===1)&&mEe(),this._state=pEe}clear(){this._state=qz,this._idleStart=-1}};gEe.exports={setTimeout(t,e,r){return e<=Mz?setTimeout(t,e,r):new lQ(t,e,r)},clearTimeout(t){t[Uz]?t.clear():clearTimeout(t)},setFastTimeout(t,e,r){return new lQ(t,e,r)},clearFastTimeout(t){t.clear()},now(){return ix},tick(t=0){ix+=t-Mz+1,Gz(),Gz()},reset(){ix=0,$A.length=0,clearTimeout(YA),YA=null},kFastTimer:Uz}});var _S=q((GGr,vEe)=>{"use strict";u();var zet=require("node:net"),yEe=require("node:assert"),IEe=fn(),{InvalidArgumentError:jet,ConnectTimeoutError:Ket}=li(),uQ=Vz();function CEe(){}o(CEe,"noop");var Wz,Yz;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?Yz=class{static{o(this,"WeakSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:Yz=class{static{o(this,"SimpleSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function Jet({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,session:i,...s}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new jet("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},c=new Yz(e??100);return n=n??1e4,t=t??!1,o(function({hostname:f,host:d,protocol:h,port:A,servername:g,localAddress:y,httpSocket:v},_){let T;if(h==="https:"){Wz||(Wz=require("node:tls")),g=g||a.servername||IEe.getServerName(d)||null;let D=g||f;yEe(D);let Q=i||c.get(D)||null;A=A||443,T=Wz.connect({highWaterMark:16384,...a,servername:g,session:Q,localAddress:y,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:v,port:A,host:f}),T.on("session",function(k){c.set(D,k)})}else yEe(!v,"httpSocket can only be sent on TLS update"),A=A||80,T=zet.connect({highWaterMark:64*1024,...a,localAddress:y,port:A,host:f});if(a.keepAlive==null||a.keepAlive){let D=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;T.setKeepAlive(!0,D)}let S=Xet(new WeakRef(T),{timeout:n,hostname:f,port:A});return T.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(S),_){let D=_;_=null,D(null,this)}}).on("error",function(D){if(queueMicrotask(S),_){let Q=_;_=null,Q(D)}}),T},"connect")}o(Jet,"buildConnector");var Xet=process.platform==="win32"?(t,e)=>{if(!e.timeout)return CEe;let r=null,n=null,i=uQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>EEe(t.deref(),e))})},e.timeout);return()=>{uQ.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(t,e)=>{if(!e.timeout)return CEe;let r=null,n=uQ.setFastTimeout(()=>{r=setImmediate(()=>{EEe(t.deref(),e)})},e.timeout);return()=>{uQ.clearFastTimeout(n),clearImmediate(r)}};function EEe(t,e){if(t==null)return;let r="Connect Timeout Error";Array.isArray(t.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${t.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${e.hostname}:${e.port},`,r+=` timeout: ${e.timeout}ms)`,IEe.destroy(t,new Ket(r))}o(EEe,"onConnectTimeout");vEe.exports=Jet});var bEe=q(fQ=>{"use strict";u();Object.defineProperty(fQ,"__esModule",{value:!0});fQ.enumToMap=void 0;function Zet(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n=="number"&&(e[r]=n)}),e}o(Zet,"enumToMap");fQ.enumToMap=Zet});var xEe=q(mt=>{"use strict";u();Object.defineProperty(mt,"__esModule",{value:!0});mt.SPECIAL_HEADERS=mt.HEADER_STATE=mt.MINOR=mt.MAJOR=mt.CONNECTION_TOKEN_CHARS=mt.HEADER_CHARS=mt.TOKEN=mt.STRICT_TOKEN=mt.HEX=mt.URL_CHAR=mt.STRICT_URL_CHAR=mt.USERINFO_CHARS=mt.MARK=mt.ALPHANUM=mt.NUM=mt.HEX_MAP=mt.NUM_MAP=mt.ALPHA=mt.FINISH=mt.H_METHOD_MAP=mt.METHOD_MAP=mt.METHODS_RTSP=mt.METHODS_ICE=mt.METHODS_HTTP=mt.METHODS=mt.LENIENT_FLAGS=mt.FLAGS=mt.TYPE=mt.ERROR=void 0;var ett=bEe(),ttt;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(ttt=mt.ERROR||(mt.ERROR={}));var rtt;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(rtt=mt.TYPE||(mt.TYPE={}));var ntt;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(ntt=mt.FLAGS||(mt.FLAGS={}));var itt;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(itt=mt.LENIENT_FLAGS||(mt.LENIENT_FLAGS={}));var nr;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(nr=mt.METHODS||(mt.METHODS={}));mt.METHODS_HTTP=[nr.DELETE,nr.GET,nr.HEAD,nr.POST,nr.PUT,nr.CONNECT,nr.OPTIONS,nr.TRACE,nr.COPY,nr.LOCK,nr.MKCOL,nr.MOVE,nr.PROPFIND,nr.PROPPATCH,nr.SEARCH,nr.UNLOCK,nr.BIND,nr.REBIND,nr.UNBIND,nr.ACL,nr.REPORT,nr.MKACTIVITY,nr.CHECKOUT,nr.MERGE,nr["M-SEARCH"],nr.NOTIFY,nr.SUBSCRIBE,nr.UNSUBSCRIBE,nr.PATCH,nr.PURGE,nr.MKCALENDAR,nr.LINK,nr.UNLINK,nr.PRI,nr.SOURCE];mt.METHODS_ICE=[nr.SOURCE];mt.METHODS_RTSP=[nr.OPTIONS,nr.DESCRIBE,nr.ANNOUNCE,nr.SETUP,nr.PLAY,nr.PAUSE,nr.TEARDOWN,nr.GET_PARAMETER,nr.SET_PARAMETER,nr.REDIRECT,nr.RECORD,nr.FLUSH,nr.GET,nr.POST];mt.METHOD_MAP=ett.enumToMap(nr);mt.H_METHOD_MAP={};Object.keys(mt.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(mt.H_METHOD_MAP[t]=mt.METHOD_MAP[t])});var ott;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(ott=mt.FINISH||(mt.FINISH={}));mt.ALPHA=[];for(let t=65;t<=90;t++)mt.ALPHA.push(String.fromCharCode(t)),mt.ALPHA.push(String.fromCharCode(t+32));mt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};mt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};mt.NUM=["0","1","2","3","4","5","6","7","8","9"];mt.ALPHANUM=mt.ALPHA.concat(mt.NUM);mt.MARK=["-","_",".","!","~","*","'","(",")"];mt.USERINFO_CHARS=mt.ALPHANUM.concat(mt.MARK).concat(["%",";",":","&","=","+","$",","]);mt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(mt.ALPHANUM);mt.URL_CHAR=mt.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)mt.URL_CHAR.push(t);mt.HEX=mt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);mt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(mt.ALPHANUM);mt.TOKEN=mt.STRICT_TOKEN.concat([" "]);mt.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&mt.HEADER_CHARS.push(t);mt.CONNECTION_TOKEN_CHARS=mt.HEADER_CHARS.filter(t=>t!==44);mt.MAJOR=mt.NUM_MAP;mt.MINOR=mt.MAJOR;var ox;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(ox=mt.HEADER_STATE||(mt.HEADER_STATE={}));mt.SPECIAL_HEADERS={connection:ox.CONNECTION,"content-length":ox.CONTENT_LENGTH,"proxy-connection":ox.CONNECTION,"transfer-encoding":ox.TRANSFER_ENCODING,upgrade:ox.UPGRADE}});var $z=q((JGr,TEe)=>{"use strict";u();var{Buffer:stt}=require("node:buffer");TEe.exports=stt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var SEe=q((ZGr,_Ee)=>{"use strict";u();var{Buffer:att}=require("node:buffer");_Ee.exports=att.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var SS=q((tVr,PEe)=>{"use strict";u();var wEe=["GET","HEAD","POST"],ctt=new Set(wEe),ltt=[101,204,205,304],BEe=[301,302,303,307,308],utt=new Set(BEe),REe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],ftt=new Set(REe),kEe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],dtt=new Set(kEe),htt=["follow","manual","error"],DEe=["GET","HEAD","OPTIONS","TRACE"],Att=new Set(DEe),ptt=["navigate","same-origin","no-cors","cors"],mtt=["omit","same-origin","include"],gtt=["default","no-store","reload","no-cache","force-cache","only-if-cached"],ytt=["content-encoding","content-language","content-location","content-type","content-length"],Ctt=["half"],NEe=["CONNECT","TRACE","TRACK"],Ett=new Set(NEe),QEe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Itt=new Set(QEe);PEe.exports={subresource:QEe,forbiddenMethods:NEe,requestBodyHeader:ytt,referrerPolicy:kEe,requestRedirect:htt,requestMode:ptt,requestCredentials:mtt,requestCache:gtt,redirectStatus:BEe,corsSafeListedMethods:wEe,nullBodyStatus:ltt,safeMethods:DEe,badPorts:REe,requestDuplex:Ctt,subresourceSet:Itt,badPortsSet:ftt,redirectStatusSet:utt,corsSafeListedMethodsSet:ctt,safeMethodsSet:Att,forbiddenMethodsSet:Ett,referrerPolicySet:dtt}});var jz=q((nVr,FEe)=>{"use strict";u();var zz=Symbol.for("undici.globalOrigin.1");function vtt(){return globalThis[zz]}o(vtt,"getGlobalOrigin");function btt(t){if(t===void 0){Object.defineProperty(globalThis,zz,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,zz,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(btt,"setGlobalOrigin");FEe.exports={getGlobalOrigin:vtt,setGlobalOrigin:btt}});var cc=q((sVr,GEe)=>{"use strict";u();var hQ=require("node:assert"),xtt=new TextEncoder,wS=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,Ttt=/[\u000A\u000D\u0009\u0020]/,_tt=/[\u0009\u000A\u000C\u000D\u0020]/g,Stt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function wtt(t){hQ(t.protocol==="data:");let e=OEe(t,!0);e=e.slice(5);let r={position:0},n=sx(",",e,r),i=n.length;if(n=Qtt(n,!0,!0),r.position>=e.length)return"failure";r.position++;let s=e.slice(i+1),a=UEe(s);if(/;(\u0020){0,}base64$/i.test(n)){let l=qEe(a);if(a=Rtt(l),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let c=Kz(n);return c==="failure"&&(c=Kz("text/plain;charset=US-ASCII")),{mimeType:c,body:a}}o(wtt,"dataURLProcessor");function OEe(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(OEe,"URLSerializer");function AQ(t,e,r){let n="";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}o(AQ,"collectASequenceOfCodePoints");function sx(t,e,r){let n=e.indexOf(t,r.position),i=r.position;return n===-1?(r.position=e.length,e.slice(i)):(r.position=n,e.slice(i,r.position))}o(sx,"collectASequenceOfCodePointsFast");function UEe(t){let e=xtt.encode(t);return Btt(e)}o(UEe,"stringPercentDecode");function LEe(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(LEe,"isHexCharByte");function MEe(t){return t>=48&&t<=57?t-48:(t&223)-55}o(MEe,"hexByteToNumber");function Btt(t){let e=t.length,r=new Uint8Array(e),n=0;for(let i=0;i<e;++i){let s=t[i];s!==37?r[n++]=s:s===37&&!(LEe(t[i+1])&&LEe(t[i+2]))?r[n++]=37:(r[n++]=MEe(t[i+1])<<4|MEe(t[i+2]),i+=2)}return e===n?r:r.subarray(0,n)}o(Btt,"percentDecode");function Kz(t){t=dQ(t,!0,!0);let e={position:0},r=sx("/",t,e);if(r.length===0||!wS.test(r)||e.position>t.length)return"failure";e.position++;let n=sx(";",t,e);if(n=dQ(n,!1,!0),n.length===0||!wS.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<t.length;){e.position++,AQ(f=>Ttt.test(f),t,e);let c=AQ(f=>f!==";"&&f!=="=",t,e);if(c=c.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let l=null;if(t[e.position]==='"')l=HEe(t,e,!0),sx(";",t,e);else if(l=sx(";",t,e),l=dQ(l,!1,!0),l.length===0)continue;c.length!==0&&wS.test(c)&&(l.length===0||Stt.test(l))&&!a.parameters.has(c)&&a.parameters.set(c,l)}return a}o(Kz,"parseMIMEType");function Rtt(t){t=t.replace(_tt,"");let e=t.length;if(e%4===0&&t.charCodeAt(e-1)===61&&(--e,t.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(t.length===e?t:t.substring(0,e)))return"failure";let r=Buffer.from(t,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(Rtt,"forgivingBase64");function HEe(t,e,r){let n=e.position,i="";for(hQ(t[e.position]==='"'),e.position++;i+=AQ(a=>a!=='"'&&a!=="\\",t,e),!(e.position>=t.length);){let s=t[e.position];if(e.position++,s==="\\"){if(e.position>=t.length){i+="\\";break}i+=t[e.position],e.position++}else{hQ(s==='"');break}}return r?i:t.slice(n,e.position)}o(HEe,"collectAnHTTPQuotedString");function ktt(t){hQ(t!=="failure");let{parameters:e,essence:r}=t,n=r;for(let[i,s]of e.entries())n+=";",n+=i,n+="=",wS.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(ktt,"serializeAMimeType");function Dtt(t){return t===13||t===10||t===9||t===32}o(Dtt,"isHTTPWhiteSpace");function dQ(t,e=!0,r=!0){return Jz(t,e,r,Dtt)}o(dQ,"removeHTTPWhitespace");function Ntt(t){return t===13||t===10||t===9||t===12||t===32}o(Ntt,"isASCIIWhitespace");function Qtt(t,e=!0,r=!0){return Jz(t,e,r,Ntt)}o(Qtt,"removeASCIIWhitespace");function Jz(t,e,r,n){let i=0,s=t.length-1;if(e)for(;i<t.length&&n(t.charCodeAt(i));)i++;if(r)for(;s>0&&n(t.charCodeAt(s));)s--;return i===0&&s===t.length-1?t:t.slice(i,s+1)}o(Jz,"removeChars");function qEe(t){let e=t.length;if(65535>e)return String.fromCharCode.apply(null,t);let r="",n=0,i=65535;for(;n<e;)n+i>e&&(i=e-n),r+=String.fromCharCode.apply(null,t.subarray(n,n+=i));return r}o(qEe,"isomorphicDecode");function Ptt(t){switch(t.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return t.subtype.endsWith("+json")?"application/json":t.subtype.endsWith("+xml")?"application/xml":""}o(Ptt,"minimizeSupportedMimeType");GEe.exports={dataURLProcessor:wtt,URLSerializer:OEe,collectASequenceOfCodePoints:AQ,collectASequenceOfCodePointsFast:sx,stringPercentDecode:UEe,parseMIMEType:Kz,collectAnHTTPQuotedString:HEe,serializeAMimeType:ktt,removeChars:Jz,removeHTTPWhitespace:dQ,minimizeSupportedMimeType:Ptt,HTTP_TOKEN_CODEPOINTS:wS,isomorphicDecode:qEe}});var Ra=q((lVr,VEe)=>{"use strict";u();var{types:eh,inspect:Ftt}=require("node:util"),{markAsUncloneable:Ltt}=require("node:worker_threads"),{toUSVString:Mtt}=fn(),ft={};ft.converters={};ft.util={};ft.errors={};ft.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};ft.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",r=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return ft.errors.exception({header:t.prefix,message:r})};ft.errors.invalidArgument=function(t){return ft.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};ft.brandCheck=function(t,e,r){if(r?.strict!==!1){if(!(t instanceof e)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(t?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};ft.argumentLengthCheck=function({length:t},e,r){if(t<e)throw ft.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`,header:r})};ft.illegalConstructor=function(){throw ft.errors.exception({header:"TypeError",message:"Illegal constructor"})};ft.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};ft.util.markAsUncloneable=Ltt||(()=>{});ft.util.ConvertToInt=function(t,e,r,n){let i,s;e===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let a=Number(t);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw ft.errors.exception({header:"Integer conversion",message:`Could not convert ${ft.util.Stringify(t)} to an integer.`});if(a=ft.util.IntegerPart(a),a<s||a>i)throw ft.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=ft.util.IntegerPart(a),a=a%Math.pow(2,e),r==="signed"&&a>=Math.pow(2,e)-1?a-Math.pow(2,e):a)};ft.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};ft.util.Stringify=function(t){switch(ft.util.Type(t)){case"Symbol":return`Symbol(${t.description})`;case"Object":return Ftt(t);case"String":return`"${t}"`;default:return`${t}`}};ft.sequenceConverter=function(t){return(e,r,n,i)=>{if(ft.util.Type(e)!=="Object")throw ft.errors.exception({header:r,message:`${n} (${ft.util.Stringify(e)}) is not iterable.`});let s=typeof i=="function"?i():e?.[Symbol.iterator]?.(),a=[],c=0;if(s===void 0||typeof s.next!="function")throw ft.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:l,value:f}=s.next();if(l)break;a.push(t(f,r,`${n}[${c++}]`))}return a}};ft.recordConverter=function(t,e){return(r,n,i)=>{if(ft.util.Type(r)!=="Object")throw ft.errors.exception({header:n,message:`${i} ("${ft.util.Type(r)}") is not an Object.`});let s={};if(!eh.isProxy(r)){let c=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let l of c){let f=t(l,n,i),d=e(r[l],n,i);s[f]=d}return s}let a=Reflect.ownKeys(r);for(let c of a)if(Reflect.getOwnPropertyDescriptor(r,c)?.enumerable){let f=t(c,n,i),d=e(r[c],n,i);s[f]=d}return s}};ft.interfaceConverter=function(t){return(e,r,n,i)=>{if(i?.strict!==!1&&!(e instanceof t))throw ft.errors.exception({header:r,message:`Expected ${n} ("${ft.util.Stringify(e)}") to be an instance of ${t.name}.`});return e}};ft.dictionaryConverter=function(t){return(e,r,n)=>{let i=ft.util.Type(e),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw ft.errors.exception({header:r,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let a of t){let{key:c,defaultValue:l,required:f,converter:d}=a;if(f===!0&&!Object.hasOwn(e,c))throw ft.errors.exception({header:r,message:`Missing required key "${c}".`});let h=e[c],A=Object.hasOwn(a,"defaultValue");if(A&&h!==null&&(h??=l()),f||A||h!==void 0){if(h=d(h,r,`${n}.${c}`),a.allowedValues&&!a.allowedValues.includes(h))throw ft.errors.exception({header:r,message:`${h} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[c]=h}}return s}};ft.nullableConverter=function(t){return(e,r,n)=>e===null?e:t(e,r,n)};ft.converters.DOMString=function(t,e,r,n){if(t===null&&n?.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw ft.errors.exception({header:e,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(t)};ft.converters.ByteString=function(t,e,r){let n=ft.converters.DOMString(t,e,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};ft.converters.USVString=Mtt;ft.converters.boolean=function(t){return!!t};ft.converters.any=function(t){return t};ft.converters["long long"]=function(t,e,r){return ft.util.ConvertToInt(t,64,"signed",void 0,e,r)};ft.converters["unsigned long long"]=function(t,e,r){return ft.util.ConvertToInt(t,64,"unsigned",void 0,e,r)};ft.converters["unsigned long"]=function(t,e,r){return ft.util.ConvertToInt(t,32,"unsigned",void 0,e,r)};ft.converters["unsigned short"]=function(t,e,r,n){return ft.util.ConvertToInt(t,16,"unsigned",n,e,r)};ft.converters.ArrayBuffer=function(t,e,r,n){if(ft.util.Type(t)!=="Object"||!eh.isAnyArrayBuffer(t))throw ft.errors.conversionFailed({prefix:e,argument:`${r} ("${ft.util.Stringify(t)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&eh.isSharedArrayBuffer(t))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.resizable||t.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.TypedArray=function(t,e,r,n,i){if(ft.util.Type(t)!=="Object"||!eh.isTypedArray(t)||t.constructor.name!==e.name)throw ft.errors.conversionFailed({prefix:r,argument:`${n} ("${ft.util.Stringify(t)}")`,types:[e.name]});if(i?.allowShared===!1&&eh.isSharedArrayBuffer(t.buffer))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.DataView=function(t,e,r,n){if(ft.util.Type(t)!=="Object"||!eh.isDataView(t))throw ft.errors.exception({header:e,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&eh.isSharedArrayBuffer(t.buffer))throw ft.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw ft.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};ft.converters.BufferSource=function(t,e,r,n){if(eh.isAnyArrayBuffer(t))return ft.converters.ArrayBuffer(t,e,r,{...n,allowShared:!1});if(eh.isTypedArray(t))return ft.converters.TypedArray(t,t.constructor,e,r,{...n,allowShared:!1});if(eh.isDataView(t))return ft.converters.DataView(t,e,r,{...n,allowShared:!1});throw ft.errors.conversionFailed({prefix:e,argument:`${r} ("${ft.util.Stringify(t)}")`,types:["BufferSource"]})};ft.converters["sequence<ByteString>"]=ft.sequenceConverter(ft.converters.ByteString);ft.converters["sequence<sequence<ByteString>>"]=ft.sequenceConverter(ft.converters["sequence<ByteString>"]);ft.converters["record<ByteString, ByteString>"]=ft.recordConverter(ft.converters.ByteString,ft.converters.ByteString);VEe.exports={webidl:ft}});var Zc=q((fVr,iIe)=>{"use strict";u();var{Transform:Ott}=require("node:stream"),WEe=require("node:zlib"),{redirectStatusSet:Utt,referrerPolicySet:Htt,badPortsSet:qtt}=SS(),{getGlobalOrigin:YEe}=jz(),{collectASequenceOfCodePoints:mE,collectAnHTTPQuotedString:Gtt,removeChars:Vtt,parseMIMEType:Wtt}=cc(),{performance:Ytt}=require("node:perf_hooks"),{isBlobLike:$tt,ReadableStreamFrom:ztt,isValidHTTPToken:$Ee,normalizedMethodRecordsBase:jtt}=fn(),gE=require("node:assert"),{isUint8Array:Ktt}=require("node:util/types"),{webidl:BS}=Ra(),zEe=[],mQ;try{mQ=require("node:crypto");let t=["sha256","sha384","sha512"];zEe=mQ.getHashes().filter(e=>t.includes(e))}catch{}function jEe(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}o(jEe,"responseURL");function Jtt(t,e){if(!Utt.has(t.status))return null;let r=t.headersList.get("location",!0);return r!==null&&JEe(r)&&(KEe(r)||(r=Xtt(r)),r=new URL(r,jEe(t))),r&&!r.hash&&(r.hash=e),r}o(Jtt,"responseLocationURL");function KEe(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>126||r<32)return!1}return!0}o(KEe,"isValidEncodedURL");function Xtt(t){return Buffer.from(t,"binary").toString("utf8")}o(Xtt,"normalizeBinaryStringToUtf8");function kS(t){return t.urlList[t.urlList.length-1]}o(kS,"requestCurrentURL");function Ztt(t){let e=kS(t);return rIe(e)&&qtt.has(e.port)?"blocked":"allowed"}o(Ztt,"requestBadPort");function ert(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}o(ert,"isErrorLike");function trt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(trt,"isValidReasonPhrase");var rrt=$Ee;function JEe(t){return(t[0]==="	"||t[0]===" "||t[t.length-1]==="	"||t[t.length-1]===" "||t.includes(`
`)||t.includes("\r")||t.includes("\0"))===!1}o(JEe,"isValidHeaderValue");function nrt(t,e){let{headersList:r}=e,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(Htt.has(a)){i=a;break}}i!==""&&(t.referrerPolicy=i)}o(nrt,"setRequestReferrerPolicyOnRedirect");function irt(){return"allowed"}o(irt,"crossOriginResourcePolicyCheck");function ort(){return"success"}o(ort,"corsCheck");function srt(){return"success"}o(srt,"TAOCheck");function art(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e,!0)}o(art,"appendFetchMetadata");function crt(t){let e=t.origin;if(!(e==="client"||e===void 0)){if(t.responseTainting==="cors"||t.mode==="websocket")t.headersList.append("origin",e,!0);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&Zz(t.origin)&&!Zz(kS(t))&&(e=null);break;case"same-origin":gQ(t,kS(t))||(e=null);break;default:}t.headersList.append("origin",e,!0)}}}o(crt,"appendRequestOriginHeader");function ax(t,e){return t}o(ax,"coarsenTime");function lrt(t,e,r){return!t?.startTime||t.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:t?.ALPNNegotiatedProtocol}:{domainLookupStartTime:ax(t.domainLookupStartTime,r),domainLookupEndTime:ax(t.domainLookupEndTime,r),connectionStartTime:ax(t.connectionStartTime,r),connectionEndTime:ax(t.connectionEndTime,r),secureConnectionStartTime:ax(t.secureConnectionStartTime,r),ALPNNegotiatedProtocol:t.ALPNNegotiatedProtocol}}o(lrt,"clampAndCoarsenConnectionTimingInfo");function urt(t){return ax(Ytt.now(),t)}o(urt,"coarsenedSharedCurrentTime");function frt(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(frt,"createOpaqueTimingInfo");function XEe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(XEe,"makePolicyContainer");function drt(t){return{referrerPolicy:t.referrerPolicy}}o(drt,"clonePolicyContainer");function hrt(t){let e=t.referrerPolicy;gE(e);let r=null;if(t.referrer==="client"){let c=YEe();if(!c||c.origin==="null")return"no-referrer";r=new URL(c)}else t.referrer instanceof URL&&(r=t.referrer);let n=Xz(r),i=Xz(r,!0);n.toString().length>4096&&(n=i);let s=gQ(t,n),a=RS(n)&&!RS(t.url);switch(e){case"origin":return i??Xz(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let c=kS(t);return gQ(n,c)?n:RS(n)&&!RS(c)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(hrt,"determineRequestsReferrer");function Xz(t,e){return gE(t instanceof URL),t=new URL(t),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}o(Xz,"stripURLForReferrer");function RS(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(RS,"isURLPotentiallyTrustworthy");function Art(t,e){if(mQ===void 0)return!0;let r=ZEe(e);if(r==="no metadata"||r.length===0)return!0;let n=mrt(r),i=grt(r,n);for(let s of i){let a=s.algo,c=s.hash,l=mQ.createHash(a).update(t).digest("base64");if(l[l.length-1]==="="&&(l[l.length-2]==="="?l=l.slice(0,-2):l=l.slice(0,-1)),yrt(l,c))return!0}return!1}o(Art,"bytesMatch");var prt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function ZEe(t){let e=[],r=!0;for(let n of t.split(" ")){r=!1;let i=prt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();zEe.includes(s)&&e.push(i.groups)}return r===!0?"no metadata":e}o(ZEe,"parseMetadata");function mrt(t){let e=t[0].algo;if(e[3]==="5")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;n.algo[3]==="3"&&(e="sha384")}}return e}o(mrt,"getStrongestMetadata");function grt(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}o(grt,"filterMetadataListByAlgorithm");function yrt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]==="+"&&e[r]==="-"||t[r]==="/"&&e[r]==="_")continue;return!1}return!0}o(yrt,"compareBase64Mixed");function Crt(t){}o(Crt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function gQ(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}o(gQ,"sameOrigin");function Ert(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}o(Ert,"createDeferredPromise");function Irt(t){return t.controller.state==="aborted"}o(Irt,"isAborted");function vrt(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}o(vrt,"isCancelled");function brt(t){return jtt[t.toLowerCase()]??t}o(brt,"normalizeMethod");function xrt(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return gE(typeof e=="string"),e}o(xrt,"serializeJavascriptValueToJSONString");var Trt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function eIe(t,e,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,c){this.#e=a,this.#t=c,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let a=this.#i,c=this.#e[e],l=c.length;if(a>=l)return{value:void 0,done:!0};let{[r]:f,[n]:d}=c[a];this.#i=a+1;let h;switch(this.#t){case"key":h=f;break;case"value":h=d;break;case"key+value":h=[f,d];break}return{value:h,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,Trt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${t} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(eIe,"createIterator");function _rt(t,e,r,n=0,i=1){let s=eIe(t,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return BS.brandCheck(this,e),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return BS.brandCheck(this,e),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return BS.brandCheck(this,e),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(l,f=globalThis){if(BS.brandCheck(this,e),BS.argumentLengthCheck(arguments,1,`${t}.forEach`),typeof l!="function")throw new TypeError(`Failed to execute 'forEach' on '${t}': parameter 1 is not of type 'Function'.`);for(let{0:d,1:h}of s(this,"key+value"))l.call(f,h,d,this)},"forEach")}};return Object.defineProperties(e.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(_rt,"iteratorMixin");async function Srt(t,e,r){let n=e,i=r,s;try{s=t.stream.getReader()}catch(a){i(a);return}try{n(await tIe(s))}catch(a){i(a)}}o(Srt,"fullyReadBody");function wrt(t){return t instanceof ReadableStream||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}o(wrt,"isReadableStreamLike");function Brt(t){try{t.close(),t.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}o(Brt,"readableStreamClose");var Rrt=/[^\x00-\xFF]/;function pQ(t){return gE(!Rrt.test(t)),t}o(pQ,"isomorphicEncode");async function tIe(t){let e=[],r=0;for(;;){let{done:n,value:i}=await t.read();if(n)return Buffer.concat(e,r);if(!Ktt(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),r+=i.length}}o(tIe,"readAllBytes");function krt(t){gE("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}o(krt,"urlIsLocal");function Zz(t){return typeof t=="string"&&t[5]===":"&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&t[4]==="s"||t.protocol==="https:"}o(Zz,"urlHasHttpsScheme");function rIe(t){gE("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}o(rIe,"urlIsHttpHttpsScheme");function Drt(t,e){let r=t;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(e&&mE(l=>l==="	"||l===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,e&&mE(l=>l==="	"||l===" ",r,n);let i=mE(l=>{let f=l.charCodeAt(0);return f>=48&&f<=57},r,n),s=i.length?Number(i):null;if(e&&mE(l=>l==="	"||l===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,e&&mE(l=>l==="	"||l===" ",r,n);let a=mE(l=>{let f=l.charCodeAt(0);return f>=48&&f<=57},r,n),c=a.length?Number(a):null;return n.position<r.length||c===null&&s===null||s>c?"failure":{rangeStartValue:s,rangeEndValue:c}}o(Drt,"simpleRangeHeaderValue");function Nrt(t,e,r){let n="bytes ";return n+=pQ(`${t}`),n+="-",n+=pQ(`${e}`),n+="/",n+=pQ(`${r}`),n}o(Nrt,"buildContentRange");var ej=class extends Ott{static{o(this,"InflateStream")}#e;constructor(e){super(),this.#e=e}_transform(e,r,n){if(!this._inflateStream){if(e.length===0){n();return}this._inflateStream=(e[0]&15)===8?WEe.createInflate(this.#e):WEe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(e,r,n)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function Qrt(t){return new ej(t)}o(Qrt,"createInflate");function Prt(t){let e=null,r=null,n=null,i=nIe("content-type",t);if(i===null)return"failure";for(let s of i){let a=Wtt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(e=null,n.parameters.has("charset")&&(e=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&e!==null&&n.parameters.set("charset",e))}return n??"failure"}o(Prt,"extractMimeType");function Frt(t){let e=t,r={position:0},n=[],i="";for(;r.position<e.length;){if(i+=mE(s=>s!=='"'&&s!==",",e,r),r.position<e.length)if(e.charCodeAt(r.position)===34){if(i+=Gtt(e,r),r.position<e.length)continue}else gE(e.charCodeAt(r.position)===44),r.position++;i=Vtt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(Frt,"gettingDecodingSplitting");function nIe(t,e){let r=e.get(t,!0);return r===null?null:Frt(r)}o(nIe,"getDecodeSplit");var Lrt=new TextDecoder;function Mrt(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),Lrt.decode(t))}o(Mrt,"utf8DecodeBytes");var tj=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return YEe()}get origin(){return this.baseUrl?.origin}policyContainer=XEe()},rj=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new tj},Ort=new rj;iIe.exports={isAborted:Irt,isCancelled:vrt,isValidEncodedURL:KEe,createDeferredPromise:Ert,ReadableStreamFrom:ztt,tryUpgradeRequestToAPotentiallyTrustworthyURL:Crt,clampAndCoarsenConnectionTimingInfo:lrt,coarsenedSharedCurrentTime:urt,determineRequestsReferrer:hrt,makePolicyContainer:XEe,clonePolicyContainer:drt,appendFetchMetadata:art,appendRequestOriginHeader:crt,TAOCheck:srt,corsCheck:ort,crossOriginResourcePolicyCheck:irt,createOpaqueTimingInfo:frt,setRequestReferrerPolicyOnRedirect:nrt,isValidHTTPToken:$Ee,requestBadPort:Ztt,requestCurrentURL:kS,responseURL:jEe,responseLocationURL:Jtt,isBlobLike:$tt,isURLPotentiallyTrustworthy:RS,isValidReasonPhrase:trt,sameOrigin:gQ,normalizeMethod:brt,serializeJavascriptValueToJSONString:xrt,iteratorMixin:_rt,createIterator:eIe,isValidHeaderName:rrt,isValidHeaderValue:JEe,isErrorLike:ert,fullyReadBody:Srt,bytesMatch:Art,isReadableStreamLike:wrt,readableStreamClose:Brt,isomorphicEncode:pQ,urlIsLocal:krt,urlHasHttpsScheme:Zz,urlIsHttpHttpsScheme:rIe,readAllBytes:tIe,simpleRangeHeaderValue:Drt,buildContentRange:Nrt,parseMetadata:ZEe,createInflate:Qrt,extractMimeType:Prt,getDecodeSplit:nIe,utf8DecodeBytes:Mrt,environmentSettingsObject:Ort}});var Wg=q((AVr,oIe)=>{"use strict";u();oIe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var ij=q((mVr,sIe)=>{"use strict";u();var{Blob:Urt,File:Hrt}=require("node:buffer"),{kState:zA}=Wg(),{webidl:th}=Ra(),nj=class t{static{o(this,"FileLike")}constructor(e,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[zA]={blobLike:e,name:i,type:s,lastModified:a}}stream(...e){return th.brandCheck(this,t),this[zA].blobLike.stream(...e)}arrayBuffer(...e){return th.brandCheck(this,t),this[zA].blobLike.arrayBuffer(...e)}slice(...e){return th.brandCheck(this,t),this[zA].blobLike.slice(...e)}text(...e){return th.brandCheck(this,t),this[zA].blobLike.text(...e)}get size(){return th.brandCheck(this,t),this[zA].blobLike.size}get type(){return th.brandCheck(this,t),this[zA].blobLike.type}get name(){return th.brandCheck(this,t),this[zA].name}get lastModified(){return th.brandCheck(this,t),this[zA].lastModified}get[Symbol.toStringTag](){return"File"}};th.converters.Blob=th.interfaceConverter(Urt);function qrt(t){return t instanceof Hrt||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}o(qrt,"isFileLike");sIe.exports={FileLike:nj,isFileLike:qrt}});var NS=q((CVr,fIe)=>{"use strict";u();var{isBlobLike:yQ,iteratorMixin:Grt}=Zc(),{kState:v0}=Wg(),{kEnumerableProperty:cx}=fn(),{FileLike:aIe,isFileLike:Vrt}=ij(),{webidl:Oi}=Ra(),{File:uIe}=require("node:buffer"),cIe=require("node:util"),lIe=globalThis.File??uIe,DS=class t{static{o(this,"FormData")}constructor(e){if(Oi.util.markAsUncloneable(this),e!==void 0)throw Oi.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[v0]=[]}append(e,r,n=void 0){Oi.brandCheck(this,t);let i="FormData.append";if(Oi.argumentLengthCheck(arguments,2,i),arguments.length===3&&!yQ(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Oi.converters.USVString(e,i,"name"),r=yQ(r)?Oi.converters.Blob(r,i,"value",{strict:!1}):Oi.converters.USVString(r,i,"value"),n=arguments.length===3?Oi.converters.USVString(n,i,"filename"):void 0;let s=oj(e,r,n);this[v0].push(s)}delete(e){Oi.brandCheck(this,t);let r="FormData.delete";Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[v0]=this[v0].filter(n=>n.name!==e)}get(e){Oi.brandCheck(this,t);let r="FormData.get";Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name");let n=this[v0].findIndex(i=>i.name===e);return n===-1?null:this[v0][n].value}getAll(e){Oi.brandCheck(this,t);let r="FormData.getAll";return Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[v0].filter(n=>n.name===e).map(n=>n.value)}has(e){Oi.brandCheck(this,t);let r="FormData.has";return Oi.argumentLengthCheck(arguments,1,r),e=Oi.converters.USVString(e,r,"name"),this[v0].findIndex(n=>n.name===e)!==-1}set(e,r,n=void 0){Oi.brandCheck(this,t);let i="FormData.set";if(Oi.argumentLengthCheck(arguments,2,i),arguments.length===3&&!yQ(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Oi.converters.USVString(e,i,"name"),r=yQ(r)?Oi.converters.Blob(r,i,"name",{strict:!1}):Oi.converters.USVString(r,i,"name"),n=arguments.length===3?Oi.converters.USVString(n,i,"name"):void 0;let s=oj(e,r,n),a=this[v0].findIndex(c=>c.name===e);a!==-1?this[v0]=[...this[v0].slice(0,a),s,...this[v0].slice(a+1).filter(c=>c.name!==e)]:this[v0].push(s)}[cIe.inspect.custom](e,r){let n=this[v0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=e,r.colors??=!0;let i=cIe.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Grt("FormData",DS,v0,"name","value");Object.defineProperties(DS.prototype,{append:cx,delete:cx,get:cx,getAll:cx,has:cx,set:cx,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function oj(t,e,r){if(typeof e!="string"){if(Vrt(e)||(e=e instanceof Blob?new lIe([e],"blob",{type:e.type}):new aIe(e,"blob",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=e instanceof uIe?new lIe([e],r,n):new aIe(e,r,n)}}return{name:t,value:e}}o(oj,"makeEntry");fIe.exports={FormData:DS,makeEntry:oj}});var gIe=q((vVr,mIe)=>{"use strict";u();var{isUSVString:dIe,bufferToLowerCasedHeaderName:Wrt}=fn(),{utf8DecodeBytes:Yrt}=Zc(),{HTTP_TOKEN_CODEPOINTS:$rt,isomorphicDecode:hIe}=cc(),{isFileLike:zrt}=ij(),{makeEntry:jrt}=NS(),CQ=require("node:assert"),{File:Krt}=require("node:buffer"),Jrt=globalThis.File??Krt,Xrt=Buffer.from('form-data; name="'),AIe=Buffer.from("; filename"),Zrt=Buffer.from("--"),ent=Buffer.from(`--\r
`);function tnt(t){for(let e=0;e<t.length;++e)if((t.charCodeAt(e)&-128)!==0)return!1;return!0}o(tnt,"isAsciiString");function rnt(t){let e=t.length;if(e<27||e>70)return!1;for(let r=0;r<e;++r){let n=t.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(rnt,"validateBoundary");function nnt(t,e){CQ(e!=="failure"&&e.essence==="multipart/form-data");let r=e.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;t[s.position]===13&&t[s.position+1]===10;)s.position+=2;let a=t.length;for(;t[a-1]===10&&t[a-2]===13;)a-=2;for(a!==t.length&&(t=t.subarray(0,a));;){if(t.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===t.length-2&&EQ(t,Zrt,s)||s.position===t.length-4&&EQ(t,ent,s))return i;if(t[s.position]!==13||t[s.position+1]!==10)return"failure";s.position+=2;let c=int(t,s);if(c==="failure")return"failure";let{name:l,filename:f,contentType:d,encoding:h}=c;s.position+=2;let A;{let y=t.indexOf(n.subarray(2),s.position);if(y===-1)return"failure";A=t.subarray(s.position,y-4),s.position+=A.length,h==="base64"&&(A=Buffer.from(A.toString(),"base64"))}if(t[s.position]!==13||t[s.position+1]!==10)return"failure";s.position+=2;let g;f!==null?(d??="text/plain",tnt(d)||(d=""),g=new Jrt([A],f,{type:d})):g=Yrt(Buffer.from(A)),CQ(dIe(l)),CQ(typeof g=="string"&&dIe(g)||zrt(g)),i.push(jrt(l,g,f))}}o(nnt,"multipartFormDataParser");function int(t,e){let r=null,n=null,i=null,s=null;for(;;){if(t[e.position]===13&&t[e.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=lx(c=>c!==10&&c!==13&&c!==58,t,e);if(a=sj(a,!0,!0,c=>c===9||c===32),!$rt.test(a.toString())||t[e.position]!==58)return"failure";switch(e.position++,lx(c=>c===32||c===9,t,e),Wrt(a)){case"content-disposition":{if(r=n=null,!EQ(t,Xrt,e)||(e.position+=17,r=pIe(t,e),r===null))return"failure";if(EQ(t,AIe,e)){let c=e.position+AIe.length;if(t[c]===42&&(e.position+=1,c+=1),t[c]!==61||t[c+1]!==34||(e.position+=12,n=pIe(t,e),n===null))return"failure"}break}case"content-type":{let c=lx(l=>l!==10&&l!==13,t,e);c=sj(c,!1,!0,l=>l===9||l===32),i=hIe(c);break}case"content-transfer-encoding":{let c=lx(l=>l!==10&&l!==13,t,e);c=sj(c,!1,!0,l=>l===9||l===32),s=hIe(c);break}default:lx(c=>c!==10&&c!==13,t,e)}if(t[e.position]!==13&&t[e.position+1]!==10)return"failure";e.position+=2}}o(int,"parseMultipartFormDataHeaders");function pIe(t,e){CQ(t[e.position-1]===34);let r=lx(n=>n!==10&&n!==13&&n!==34,t,e);return t[e.position]!==34?null:(e.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(pIe,"parseMultipartFormDataName");function lx(t,e,r){let n=r.position;for(;n<e.length&&t(e[n]);)++n;return e.subarray(r.position,r.position=n)}o(lx,"collectASequenceOfBytes");function sj(t,e,r,n){let i=0,s=t.length-1;if(e)for(;i<t.length&&n(t[i]);)i++;if(r)for(;s>0&&n(t[s]);)s--;return i===0&&s===t.length-1?t:t.subarray(i,s+1)}o(sj,"removeChars");function EQ(t,e,r){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r.position+n])return!1;return!0}o(EQ,"bufferStartsWith");mIe.exports={multipartFormDataParser:nnt,validateBoundary:rnt}});var dx=q((TVr,TIe)=>{"use strict";u();var QS=fn(),{ReadableStreamFrom:ont,isBlobLike:yIe,isReadableStreamLike:snt,readableStreamClose:ant,createDeferredPromise:cnt,fullyReadBody:lnt,extractMimeType:unt,utf8DecodeBytes:IIe}=Zc(),{FormData:CIe}=NS(),{kState:fx}=Wg(),{webidl:fnt}=Ra(),{Blob:dnt}=require("node:buffer"),aj=require("node:assert"),{isErrored:vIe,isDisturbed:hnt}=require("node:stream"),{isArrayBuffer:Ant}=require("node:util/types"),{serializeAMimeType:pnt}=cc(),{multipartFormDataParser:mnt}=gIe(),cj;try{let t=require("node:crypto");cj=o(e=>t.randomInt(0,e),"random")}catch{cj=o(t=>Math.floor(Math.random(t)),"random")}var IQ=new TextEncoder;function gnt(){}o(gnt,"noop");var lj=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,uj;lj&&(uj=new FinalizationRegistry(t=>{let e=t.deref();e&&!e.locked&&!hnt(e)&&!vIe(e)&&e.cancel("Response object has been garbage collected").catch(gnt)}));function bIe(t,e=!1){let r=null;t instanceof ReadableStream?r=t:yIe(t)?r=t.stream():r=new ReadableStream({async pull(l){let f=typeof i=="string"?IQ.encode(i):i;f.byteLength&&l.enqueue(f),queueMicrotask(()=>ant(l))},start(){},type:"bytes"}),aj(snt(r));let n=null,i=null,s=null,a=null;if(typeof t=="string")i=t,a="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)i=t.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(Ant(t))i=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))i=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(QS.isFormDataLike(t)){let l=`----formdata-undici-0${`${cj(1e11)}`.padStart(11,"0")}`,f=`--${l}\r
Content-Disposition: form-data`;let d=o(_=>_.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),h=o(_=>_.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),A=[],g=new Uint8Array([13,10]);s=0;let y=!1;for(let[_,T]of t)if(typeof T=="string"){let S=IQ.encode(f+`; name="${d(h(_))}"\r
\r
${h(T)}\r
`);A.push(S),s+=S.byteLength}else{let S=IQ.encode(`${f}; name="${d(h(_))}"`+(T.name?`; filename="${d(T.name)}"`:"")+`\r
Content-Type: ${T.type||"application/octet-stream"}\r
\r
`);A.push(S,T,g),typeof T.size=="number"?s+=S.byteLength+T.size+g.byteLength:y=!0}let v=IQ.encode(`--${l}--\r
`);A.push(v),s+=v.byteLength,y&&(s=null),i=t,n=o(async function*(){for(let _ of A)_.stream?yield*_.stream():yield _},"action"),a=`multipart/form-data; boundary=${l}`}else if(yIe(t))i=t,s=t.size,t.type&&(a=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(QS.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");r=t instanceof ReadableStream?t:ont(t)}if((typeof i=="string"||QS.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let l;r=new ReadableStream({async start(){l=n(t)[Symbol.asyncIterator]()},async pull(f){let{value:d,done:h}=await l.next();if(h)queueMicrotask(()=>{f.close(),f.byobRequest?.respond(0)});else if(!vIe(r)){let A=new Uint8Array(d);A.byteLength&&f.enqueue(A)}return f.desiredSize>0},async cancel(f){await l.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(bIe,"extractBody");function ynt(t,e=!1){return t instanceof ReadableStream&&(aj(!QS.isDisturbed(t),"The body has already been consumed."),aj(!t.locked,"The stream is locked.")),bIe(t,e)}o(ynt,"safelyExtractBody");function Cnt(t,e){let[r,n]=e.stream.tee();return lj&&uj.register(t,new WeakRef(r)),e.stream=r,{stream:n,length:e.length,source:e.source}}o(Cnt,"cloneBody");function Ent(t){if(t.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(Ent,"throwIfAborted");function Int(t){return{blob(){return ux(this,r=>{let n=EIe(this);return n===null?n="":n&&(n=pnt(n)),new dnt([r],{type:n})},t)},arrayBuffer(){return ux(this,r=>new Uint8Array(r).buffer,t)},text(){return ux(this,IIe,t)},json(){return ux(this,bnt,t)},formData(){return ux(this,r=>{let n=EIe(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=mnt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new CIe;return s[fx]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new CIe;for(let[a,c]of i)s.append(a,c);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},t)},bytes(){return ux(this,r=>new Uint8Array(r),t)}}}o(Int,"bodyMixinMethods");function vnt(t){Object.assign(t.prototype,Int(t))}o(vnt,"mixinBody");async function ux(t,e,r){if(fnt.brandCheck(t,r),xIe(t))throw new TypeError("Body is unusable: Body has already been read");Ent(t[fx]);let n=cnt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(e(a))}catch(c){i(c)}},"successSteps");return t[fx].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await lnt(t[fx].body,s,i),n.promise)}o(ux,"consumeBody");function xIe(t){let e=t[fx].body;return e!=null&&(e.stream.locked||QS.isDisturbed(e.stream))}o(xIe,"bodyUnusable");function bnt(t){return JSON.parse(IIe(t))}o(bnt,"parseJSONFromBytes");function EIe(t){let e=t[fx].headersList,r=unt(e);return r==="failure"?null:r}o(EIe,"bodyMimeType");TIe.exports={extractBody:bIe,safelyExtractBody:ynt,cloneBody:Cnt,mixinBody:vnt,streamRegistry:uj,hasFinalizationRegistry:lj,bodyUnusable:xIe}});var FIe=q((wVr,PIe)=>{"use strict";u();var ur=require("node:assert"),Qr=fn(),{channels:_Ie}=Zb(),fj=Vz(),{RequestContentLengthMismatchError:yE,ResponseContentLengthMismatchError:xnt,RequestAbortedError:DIe,HeadersTimeoutError:Tnt,HeadersOverflowError:_nt,SocketError:SQ,InformationalError:hx,BodyTimeoutError:Snt,HTTPParserError:wnt,ResponseExceededMaxSizeError:Bnt}=li(),{kUrl:NIe,kReset:lc,kClient:pj,kParser:Mo,kBlocking:MS,kRunning:e0,kPending:Rnt,kSize:SIe,kWriting:$g,kQueue:mf,kNoRef:PS,kKeepAliveDefaultTimeout:knt,kHostHeader:Dnt,kPendingIdx:Nnt,kRunningIdx:Zl,kError:eu,kPipelining:TQ,kSocket:Ax,kKeepAliveTimeoutValue:wQ,kMaxHeadersSize:dj,kKeepAliveMaxTimeout:Qnt,kKeepAliveTimeoutThreshold:Pnt,kHeadersTimeout:Fnt,kBodyTimeout:Lnt,kStrictContentLength:mj,kMaxRequests:wIe,kCounter:Mnt,kMaxResponseSize:Ont,kOnError:Unt,kResume:Yg,kHTTPContext:QIe}=ho(),rh=xEe(),Hnt=Buffer.alloc(0),vQ=Buffer[Symbol.species],bQ=Qr.addListener,qnt=Qr.removeAllListeners,hj;async function Gnt(){let t=process.env.JEST_WORKER_ID?$z():void 0,e;try{e=await WebAssembly.compile(SEe())}catch{e=await WebAssembly.compile(t||$z())}return await WebAssembly.instantiate(e,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{ur(Qs.ptr===r);let s=n-ih+nh.byteOffset;return Qs.onStatus(new vQ(nh.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(ur(Qs.ptr===r),Qs.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{ur(Qs.ptr===r);let s=n-ih+nh.byteOffset;return Qs.onHeaderField(new vQ(nh.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{ur(Qs.ptr===r);let s=n-ih+nh.byteOffset;return Qs.onHeaderValue(new vQ(nh.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(ur(Qs.ptr===r),Qs.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{ur(Qs.ptr===r);let s=n-ih+nh.byteOffset;return Qs.onBody(new vQ(nh.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(ur(Qs.ptr===r),Qs.onMessageComplete()||0),"wasm_on_message_complete")}})}o(Gnt,"lazyllhttp");var Aj=null,gj=Gnt();gj.catch();var Qs=null,nh=null,xQ=0,ih=null,Vnt=0,LS=1,px=2|LS,_Q=4|LS,yj=8|Vnt,Cj=class{static{o(this,"Parser")}constructor(e,r,{exports:n}){ur(Number.isFinite(e[dj])&&e[dj]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(rh.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[dj],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[Ont]}setTimeout(e,r){e!==this.timeoutValue||r&LS^this.timeoutType&LS?(this.timeout&&(fj.clearTimeout(this.timeout),this.timeout=null),e&&(r&LS?this.timeout=fj.setFastTimeout(BIe,e,new WeakRef(this)):(this.timeout=setTimeout(BIe,e,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(ur(this.ptr!=null),ur(Qs==null),this.llhttp.llhttp_resume(this.ptr),ur(this.timeoutType===_Q),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||Hnt),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){ur(this.ptr!=null),ur(Qs==null),ur(!this.paused);let{socket:r,llhttp:n}=this;e.length>xQ&&(ih&&n.free(ih),xQ=Math.ceil(e.length/4096)*4096,ih=n.malloc(xQ)),new Uint8Array(n.memory.buffer,ih,xQ).set(e);try{let i;try{nh=e,Qs=this,i=n.llhttp_execute(this.ptr,ih,e.length)}catch(a){throw a}finally{Qs=null,nh=null}let s=n.llhttp_get_error_pos(this.ptr)-ih;if(i===rh.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===rh.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(s));else if(i!==rh.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),c="";if(a){let l=new Uint8Array(n.memory.buffer,a).indexOf(0);c="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,l).toString()+")"}throw new wnt(c,rh.ERROR[i],e.slice(s))}}catch(i){Qr.destroy(r,i)}}destroy(){ur(this.ptr!=null),ur(Qs==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&fj.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed)return-1;let n=r[mf][r[Zl]];if(!n)return-1;n.onResponseStarted()}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];if(n.length===10){let i=Qr.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=e.toString():i==="connection"&&(this.connection+=e.toString())}else n.length===14&&Qr.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&Qr.destroy(this.socket,new _nt)}onUpgrade(e){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;ur(r),ur(n[Ax]===i),ur(!i.destroyed),ur(!this.paused),ur((s.length&1)===0);let c=n[mf][n[Zl]];ur(c),ur(c.upgrade||c.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(e),i[Mo].destroy(),i[Mo]=null,i[pj]=null,i[eu]=null,qnt(i),n[Ax]=null,n[QIe]=null,n[mf][n[Zl]++]=null,n.emit("disconnect",n[NIe],[n],new hx("upgrade"));try{c.onUpgrade(a,s,i)}catch(l){Qr.destroy(i,l)}n[Yg]()}onHeadersComplete(e,r,n){let{client:i,socket:s,headers:a,statusText:c}=this;if(s.destroyed)return-1;let l=i[mf][i[Zl]];if(!l)return-1;if(ur(!this.upgrade),ur(this.statusCode<200),e===100)return Qr.destroy(s,new SQ("bad response",Qr.getSocketInfo(s))),-1;if(r&&!l.upgrade)return Qr.destroy(s,new SQ("bad upgrade",Qr.getSocketInfo(s))),-1;if(ur(this.timeoutType===px),this.statusCode=e,this.shouldKeepAlive=n||l.method==="HEAD"&&!s[lc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let d=l.bodyTimeout!=null?l.bodyTimeout:i[Lnt];this.setTimeout(d,_Q)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(l.method==="CONNECT")return ur(i[e0]===1),this.upgrade=!0,2;if(r)return ur(i[e0]===1),this.upgrade=!0,2;if(ur((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[TQ]){let d=this.keepAlive?Qr.parseKeepAliveTimeout(this.keepAlive):null;if(d!=null){let h=Math.min(d-i[Pnt],i[Qnt]);h<=0?s[lc]=!0:i[wQ]=h}else i[wQ]=i[knt]}else s[lc]=!0;let f=l.onHeaders(e,a,this.resume,c)===!1;return l.aborted?-1:l.method==="HEAD"||e<200?1:(s[MS]&&(s[MS]=!1,i[Yg]()),f?rh.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[mf][r[Zl]];if(ur(a),ur(this.timeoutType===_Q),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),ur(i>=200),s>-1&&this.bytesRead+e.length>s)return Qr.destroy(n,new Bnt),-1;if(this.bytesRead+=e.length,a.onData(e)===!1)return rh.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:c,shouldKeepAlive:l}=this;if(r.destroyed&&(!n||l))return-1;if(i)return;ur(n>=100),ur((this.headers.length&1)===0);let f=e[mf][e[Zl]];if(ur(f),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(f.method!=="HEAD"&&a&&c!==parseInt(a,10))return Qr.destroy(r,new xnt),-1;if(f.onComplete(s),e[mf][e[Zl]++]=null,r[$g])return ur(e[e0]===0),Qr.destroy(r,new hx("reset")),rh.ERROR.PAUSED;if(l){if(r[lc]&&e[e0]===0)return Qr.destroy(r,new hx("reset")),rh.ERROR.PAUSED;e[TQ]==null||e[TQ]===1?setImmediate(()=>e[Yg]()):e[Yg]()}else return Qr.destroy(r,new hx("reset")),rh.ERROR.PAUSED}}};function BIe(t){let{socket:e,timeoutType:r,client:n,paused:i}=t.deref();r===px?(!e[$g]||e.writableNeedDrain||n[e0]>1)&&(ur(!i,"cannot be paused while waiting for headers"),Qr.destroy(e,new Tnt)):r===_Q?i||Qr.destroy(e,new Snt):r===yj&&(ur(n[e0]===0&&n[wQ]),Qr.destroy(e,new hx("socket idle timeout")))}o(BIe,"onParserTimeout");async function Wnt(t,e){t[Ax]=e,Aj||(Aj=await gj,gj=null),e[PS]=!1,e[$g]=!1,e[lc]=!1,e[MS]=!1,e[Mo]=new Cj(t,e,Aj),bQ(e,"error",function(n){ur(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Mo];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[eu]=n,this[pj][Unt](n)}),bQ(e,"readable",function(){let n=this[Mo];n&&n.readMore()}),bQ(e,"end",function(){let n=this[Mo];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Qr.destroy(this,new SQ("other side closed",Qr.getSocketInfo(this)))}),bQ(e,"close",function(){let n=this[pj],i=this[Mo];i&&(!this[eu]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Mo].destroy(),this[Mo]=null);let s=this[eu]||new SQ("closed",Qr.getSocketInfo(this));if(n[Ax]=null,n[QIe]=null,n.destroyed){ur(n[Rnt]===0);let a=n[mf].splice(n[Zl]);for(let c=0;c<a.length;c++){let l=a[c];Qr.errorRequest(n,l,s)}}else if(n[e0]>0&&s.code!=="UND_ERR_INFO"){let a=n[mf][n[Zl]];n[mf][n[Zl]++]=null,Qr.errorRequest(n,a,s)}n[Nnt]=n[Zl],ur(n[e0]===0),n.emit("disconnect",n[NIe],[n],s),n[Yg]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return znt(t,...n)},resume(){Ynt(t)},destroy(n,i){r?queueMicrotask(i):e.destroy(n).on("close",i)},get destroyed(){return e.destroyed},busy(n){return!!(e[$g]||e[lc]||e[MS]||n&&(t[e0]>0&&!n.idempotent||t[e0]>0&&(n.upgrade||n.method==="CONNECT")||t[e0]>0&&Qr.bodyLength(n.body)!==0&&(Qr.isStream(n.body)||Qr.isAsyncIterable(n.body)||Qr.isFormDataLike(n.body))))}}}o(Wnt,"connectH1");function Ynt(t){let e=t[Ax];if(e&&!e.destroyed){if(t[SIe]===0?!e[PS]&&e.unref&&(e.unref(),e[PS]=!0):e[PS]&&e.ref&&(e.ref(),e[PS]=!1),t[SIe]===0)e[Mo].timeoutType!==yj&&e[Mo].setTimeout(t[wQ],yj);else if(t[e0]>0&&e[Mo].statusCode<200&&e[Mo].timeoutType!==px){let r=t[mf][t[Zl]],n=r.headersTimeout!=null?r.headersTimeout:t[Fnt];e[Mo].setTimeout(n,px)}}}o(Ynt,"resumeH1");function $nt(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}o($nt,"shouldSendContentLength");function znt(t,e){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:c}=e,{body:l,headers:f,contentLength:d}=e,h=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Qr.isFormDataLike(l)){hj||(hj=dx().extractBody);let[_,T]=hj(l);e.contentType==null&&f.push("content-type",T),l=_.stream,d=_.length}else Qr.isBlobLike(l)&&e.contentType==null&&l.type&&f.push("content-type",l.type);l&&typeof l.read=="function"&&l.read(0);let A=Qr.bodyLength(l);if(d=A??d,d===null&&(d=e.contentLength),d===0&&!h&&(d=null),$nt(r)&&d>0&&e.contentLength!==null&&e.contentLength!==d){if(t[mj])return Qr.errorRequest(t,e,new yE),!1;process.emitWarning(new yE)}let g=t[Ax],y=o(_=>{e.aborted||e.completed||(Qr.errorRequest(t,e,_||new DIe),Qr.destroy(l),Qr.destroy(g,new hx("aborted")))},"abort");try{e.onConnect(y)}catch(_){Qr.errorRequest(t,e,_)}if(e.aborted)return!1;r==="HEAD"&&(g[lc]=!0),(s||r==="CONNECT")&&(g[lc]=!0),c!=null&&(g[lc]=c),t[wIe]&&g[Mnt]++>=t[wIe]&&(g[lc]=!0),a&&(g[MS]=!0);let v=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?v+=`host: ${i}\r
`:v+=t[Dnt],s?v+=`connection: upgrade\r
upgrade: ${s}\r
`:t[TQ]&&!g[lc]?v+=`connection: keep-alive\r
`:v+=`connection: close\r
`,Array.isArray(f))for(let _=0;_<f.length;_+=2){let T=f[_+0],S=f[_+1];if(Array.isArray(S))for(let D=0;D<S.length;D++)v+=`${T}: ${S[D]}\r
`;else v+=`${T}: ${S}\r
`}return _Ie.sendHeaders.hasSubscribers&&_Ie.sendHeaders.publish({request:e,headers:v,socket:g}),!l||A===0?RIe(y,null,t,e,g,d,v,h):Qr.isBuffer(l)?RIe(y,l,t,e,g,d,v,h):Qr.isBlobLike(l)?typeof l.stream=="function"?kIe(y,l.stream(),t,e,g,d,v,h):Knt(y,l,t,e,g,d,v,h):Qr.isStream(l)?jnt(y,l,t,e,g,d,v,h):Qr.isIterable(l)?kIe(y,l,t,e,g,d,v,h):ur(!1),!0}o(znt,"writeH1");function jnt(t,e,r,n,i,s,a,c){ur(s!==0||r[e0]===0,"stream body cannot be pipelined");let l=!1,f=new BQ({abort:t,socket:i,request:n,contentLength:s,client:r,expectsPayload:c,header:a}),d=o(function(y){if(!l)try{!f.write(y)&&this.pause&&this.pause()}catch(v){Qr.destroy(this,v)}},"onData"),h=o(function(){l||e.resume&&e.resume()},"onDrain"),A=o(function(){if(queueMicrotask(()=>{e.removeListener("error",g)}),!l){let y=new DIe;queueMicrotask(()=>g(y))}},"onClose"),g=o(function(y){if(!l){if(l=!0,ur(i.destroyed||i[$g]&&r[e0]<=1),i.off("drain",h).off("error",g),e.removeListener("data",d).removeListener("end",g).removeListener("close",A),!y)try{f.end()}catch(v){y=v}f.destroy(y),y&&(y.code!=="UND_ERR_INFO"||y.message!=="reset")?Qr.destroy(e,y):Qr.destroy(e)}},"onFinished");e.on("data",d).on("end",g).on("error",g).on("close",A),e.resume&&e.resume(),i.on("drain",h).on("error",g),e.errorEmitted??e.errored?setImmediate(()=>g(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>g(null)),(e.closeEmitted??e.closed)&&setImmediate(A)}o(jnt,"writeStream");function RIe(t,e,r,n,i,s,a,c){try{e?Qr.isBuffer(e)&&(ur(s===e.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(e),i.uncork(),n.onBodySent(e),!c&&n.reset!==!1&&(i[lc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(ur(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[Yg]()}catch(l){t(l)}}o(RIe,"writeBuffer");async function Knt(t,e,r,n,i,s,a,c){ur(s===e.size,"blob body must have content length");try{if(s!=null&&s!==e.size)throw new yE;let l=Buffer.from(await e.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(l),i.uncork(),n.onBodySent(l),n.onRequestSent(),!c&&n.reset!==!1&&(i[lc]=!0),r[Yg]()}catch(l){t(l)}}o(Knt,"writeBlob");async function kIe(t,e,r,n,i,s,a,c){ur(s!==0||r[e0]===0,"iterator body cannot be pipelined");let l=null;function f(){if(l){let A=l;l=null,A()}}o(f,"onDrain");let d=o(()=>new Promise((A,g)=>{ur(l===null),i[eu]?g(i[eu]):l=A}),"waitForDrain");i.on("close",f).on("drain",f);let h=new BQ({abort:t,socket:i,request:n,contentLength:s,client:r,expectsPayload:c,header:a});try{for await(let A of e){if(i[eu])throw i[eu];h.write(A)||await d()}h.end()}catch(A){h.destroy(A)}finally{i.off("close",f).off("drain",f)}}o(kIe,"writeIterable");var BQ=class{static{o(this,"AsyncWriter")}constructor({abort:e,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:c}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=c,this.abort=e,r[$g]=!0}write(e){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:c,header:l}=this;if(r[eu])throw r[eu];if(r.destroyed)return!1;let f=Buffer.byteLength(e);if(!f)return!0;if(i!==null&&a+f>i){if(s[mj])throw new yE;process.emitWarning(new yE)}r.cork(),a===0&&(!c&&n.reset!==!1&&(r[lc]=!0),i===null?r.write(`${l}transfer-encoding: chunked\r
`,"latin1"):r.write(`${l}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${f.toString(16)}\r
`,"latin1"),this.bytesWritten+=f;let d=r.write(e);return r.uncork(),n.onBodySent(e),d||r[Mo].timeout&&r[Mo].timeoutType===px&&r[Mo].timeout.refresh&&r[Mo].timeout.refresh(),d}end(){let{socket:e,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:c}=this;if(c.onRequestSent(),e[$g]=!1,e[eu])throw e[eu];if(!e.destroyed){if(i===0?s?e.write(`${a}content-length: 0\r
\r
`,"latin1"):e.write(`${a}\r
`,"latin1"):r===null&&e.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[mj])throw new yE;process.emitWarning(new yE)}e[Mo].timeout&&e[Mo].timeoutType===px&&e[Mo].timeout.refresh&&e[Mo].timeout.refresh(),n[Yg]()}}destroy(e){let{socket:r,client:n,abort:i}=this;r[$g]=!1,e&&(ur(n[e0]<=1,"pipeline should only contain this request"),i(e))}};PIe.exports=Wnt});var VIe=q((kVr,GIe)=>{"use strict";u();var tu=require("node:assert"),{pipeline:Jnt}=require("node:stream"),wn=fn(),{RequestContentLengthMismatchError:Ej,RequestAbortedError:LIe,SocketError:OS,InformationalError:Ij}=li(),{kUrl:RQ,kReset:DQ,kClient:mx,kRunning:NQ,kPending:Xnt,kQueue:zg,kPendingIdx:vj,kRunningIdx:gf,kError:Cf,kSocket:ta,kStrictContentLength:Znt,kOnError:bj,kMaxConcurrentStreams:qIe,kHTTP2Session:yf,kResume:jg,kSize:eit,kHTTPContext:tit}=ho(),jA=Symbol("open streams"),MIe,OIe=!1,kQ;try{kQ=require("node:http2")}catch{kQ={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:rit,HTTP2_HEADER_METHOD:nit,HTTP2_HEADER_PATH:iit,HTTP2_HEADER_SCHEME:oit,HTTP2_HEADER_CONTENT_LENGTH:sit,HTTP2_HEADER_EXPECT:ait,HTTP2_HEADER_STATUS:cit}}=kQ;function lit(t){let e=[];for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.push(Buffer.from(r),Buffer.from(i));else e.push(Buffer.from(r),Buffer.from(n));return e}o(lit,"parseH2Headers");async function uit(t,e){t[ta]=e,OIe||(OIe=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=kQ.connect(t[RQ],{createConnection:o(()=>e,"createConnection"),peerMaxConcurrentStreams:t[qIe]});r[jA]=0,r[mx]=t,r[ta]=e,wn.addListener(r,"error",dit),wn.addListener(r,"frameError",hit),wn.addListener(r,"end",Ait),wn.addListener(r,"goaway",pit),wn.addListener(r,"close",function(){let{[mx]:i}=this,{[ta]:s}=i,a=this[ta][Cf]||this[Cf]||new OS("closed",wn.getSocketInfo(s));if(i[yf]=null,i.destroyed){tu(i[Xnt]===0);let c=i[zg].splice(i[gf]);for(let l=0;l<c.length;l++){let f=c[l];wn.errorRequest(i,f,a)}}}),r.unref(),t[yf]=r,e[yf]=r,wn.addListener(e,"error",function(i){tu(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Cf]=i,this[mx][bj](i)}),wn.addListener(e,"end",function(){wn.destroy(this,new OS("other side closed",wn.getSocketInfo(this)))}),wn.addListener(e,"close",function(){let i=this[Cf]||new OS("closed",wn.getSocketInfo(this));t[ta]=null,this[yf]!=null&&this[yf].destroy(i),t[vj]=t[gf],tu(t[NQ]===0),t.emit("disconnect",t[RQ],[t],i),t[jg]()});let n=!1;return e.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return git(t,...i)},resume(){fit(t)},destroy(i,s){n?queueMicrotask(s):e.destroy(i).on("close",s)},get destroyed(){return e.destroyed},busy(){return!1}}}o(uit,"connectH2");function fit(t){let e=t[ta];e?.destroyed===!1&&(t[eit]===0&&t[qIe]===0?(e.unref(),t[yf].unref()):(e.ref(),t[yf].ref()))}o(fit,"resumeH2");function dit(t){tu(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[ta][Cf]=t,this[mx][bj](t)}o(dit,"onHttp2SessionError");function hit(t,e,r){if(r===0){let n=new Ij(`HTTP/2: "frameError" received - type ${t}, code ${e}`);this[ta][Cf]=n,this[mx][bj](n)}}o(hit,"onHttp2FrameError");function Ait(){let t=new OS("other side closed",wn.getSocketInfo(this[ta]));this.destroy(t),wn.destroy(this[ta],t)}o(Ait,"onHttp2SessionEnd");function pit(t){let e=this[Cf]||new OS(`HTTP/2: "GOAWAY" frame received with code ${t}`,wn.getSocketInfo(this)),r=this[mx];if(r[ta]=null,r[tit]=null,this[yf]!=null&&(this[yf].destroy(e),this[yf]=null),wn.destroy(this[ta],e),r[gf]<r[zg].length){let n=r[zg][r[gf]];r[zg][r[gf]++]=null,wn.errorRequest(r,n,e),r[vj]=r[gf]}tu(r[NQ]===0),r.emit("disconnect",r[RQ],[r],e),r[jg]()}o(pit,"onHTTP2GoAway");function mit(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}o(mit,"shouldSendContentLength");function git(t,e){let r=t[yf],{method:n,path:i,host:s,upgrade:a,expectContinue:c,signal:l,headers:f}=e,{body:d}=e;if(a)return wn.errorRequest(t,e,new Error("Upgrade not supported for H2")),!1;let h={};for(let Q=0;Q<f.length;Q+=2){let k=f[Q+0],P=f[Q+1];if(Array.isArray(P))for(let W=0;W<P.length;W++)h[k]?h[k]+=`,${P[W]}`:h[k]=P[W];else h[k]=P}let A,{hostname:g,port:y}=t[RQ];h[rit]=s||`${g}${y?`:${y}`:""}`,h[nit]=n;let v=o(Q=>{e.aborted||e.completed||(Q=Q||new LIe,wn.errorRequest(t,e,Q),A!=null&&wn.destroy(A,Q),wn.destroy(d,Q),t[zg][t[gf]++]=null,t[jg]())},"abort");try{e.onConnect(v)}catch(Q){wn.errorRequest(t,e,Q)}if(e.aborted)return!1;if(n==="CONNECT")return r.ref(),A=r.request(h,{endStream:!1,signal:l}),A.id&&!A.pending?(e.onUpgrade(null,null,A),++r[jA],t[zg][t[gf]++]=null):A.once("ready",()=>{e.onUpgrade(null,null,A),++r[jA],t[zg][t[gf]++]=null}),A.once("close",()=>{r[jA]-=1,r[jA]===0&&r.unref()}),!0;h[iit]=i,h[oit]="https";let _=n==="PUT"||n==="POST"||n==="PATCH";d&&typeof d.read=="function"&&d.read(0);let T=wn.bodyLength(d);if(wn.isFormDataLike(d)){MIe??=dx().extractBody;let[Q,k]=MIe(d);h["content-type"]=k,d=Q.stream,T=Q.length}if(T==null&&(T=e.contentLength),(T===0||!_)&&(T=null),mit(n)&&T>0&&e.contentLength!=null&&e.contentLength!==T){if(t[Znt])return wn.errorRequest(t,e,new Ej),!1;process.emitWarning(new Ej)}T!=null&&(tu(d,"no body must not have content length"),h[sit]=`${T}`),r.ref();let S=n==="GET"||n==="HEAD"||d===null;return c?(h[ait]="100-continue",A=r.request(h,{endStream:S,signal:l}),A.once("continue",D)):(A=r.request(h,{endStream:S,signal:l}),D()),++r[jA],A.once("response",Q=>{let{[cit]:k,...P}=Q;if(e.onResponseStarted(),e.aborted){let W=new LIe;wn.errorRequest(t,e,W),wn.destroy(A,W);return}e.onHeaders(Number(k),lit(P),A.resume.bind(A),"")===!1&&A.pause(),A.on("data",W=>{e.onData(W)===!1&&A.pause()})}),A.once("end",()=>{(A.state?.state==null||A.state.state<6)&&e.onComplete([]),r[jA]===0&&r.unref(),v(new Ij("HTTP/2: stream half-closed (remote)")),t[zg][t[gf]++]=null,t[vj]=t[gf],t[jg]()}),A.once("close",()=>{r[jA]-=1,r[jA]===0&&r.unref()}),A.once("error",function(Q){v(Q)}),A.once("frameError",(Q,k)=>{v(new Ij(`HTTP/2: "frameError" received - type ${Q}, code ${k}`))}),!0;function D(){!d||T===0?UIe(v,A,null,t,e,t[ta],T,_):wn.isBuffer(d)?UIe(v,A,d,t,e,t[ta],T,_):wn.isBlobLike(d)?typeof d.stream=="function"?HIe(v,A,d.stream(),t,e,t[ta],T,_):Cit(v,A,d,t,e,t[ta],T,_):wn.isStream(d)?yit(v,t[ta],_,A,d,t,e,T):wn.isIterable(d)?HIe(v,A,d,t,e,t[ta],T,_):tu(!1)}o(D,"writeBodyH2")}o(git,"writeH2");function UIe(t,e,r,n,i,s,a,c){try{r!=null&&wn.isBuffer(r)&&(tu(a===r.byteLength,"buffer body must have content length"),e.cork(),e.write(r),e.uncork(),e.end(),i.onBodySent(r)),c||(s[DQ]=!0),i.onRequestSent(),n[jg]()}catch(l){t(l)}}o(UIe,"writeBuffer");function yit(t,e,r,n,i,s,a,c){tu(c!==0||s[NQ]===0,"stream body cannot be pipelined");let l=Jnt(i,n,d=>{d?(wn.destroy(l,d),t(d)):(wn.removeAllListeners(l),a.onRequestSent(),r||(e[DQ]=!0),s[jg]())});wn.addListener(l,"data",f);function f(d){a.onBodySent(d)}o(f,"onPipeData")}o(yit,"writeStream");async function Cit(t,e,r,n,i,s,a,c){tu(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Ej;let l=Buffer.from(await r.arrayBuffer());e.cork(),e.write(l),e.uncork(),e.end(),i.onBodySent(l),i.onRequestSent(),c||(s[DQ]=!0),n[jg]()}catch(l){t(l)}}o(Cit,"writeBlob");async function HIe(t,e,r,n,i,s,a,c){tu(a!==0||n[NQ]===0,"iterator body cannot be pipelined");let l=null;function f(){if(l){let h=l;l=null,h()}}o(f,"onDrain");let d=o(()=>new Promise((h,A)=>{tu(l===null),s[Cf]?A(s[Cf]):l=h}),"waitForDrain");e.on("close",f).on("drain",f);try{for await(let h of r){if(s[Cf])throw s[Cf];let A=e.write(h);i.onBodySent(h),A||await d()}e.end(),i.onRequestSent(),c||(s[DQ]=!0),n[jg]()}catch(h){t(h)}finally{e.off("close",f).off("drain",f)}}o(HIe,"writeIterable");GIe.exports=uit});var PQ=q((QVr,$Ie)=>{"use strict";u();var oh=fn(),{kBodyUsed:US}=ho(),Tj=require("node:assert"),{InvalidArgumentError:Eit}=li(),Iit=require("node:events"),vit=[300,301,302,303,307,308],WIe=Symbol("body"),QQ=class{static{o(this,"BodyAsyncIterable")}constructor(e){this[WIe]=e,this[US]=!1}async*[Symbol.asyncIterator](){Tj(!this[US],"disturbed"),this[US]=!0,yield*this[WIe]}},xj=class{static{o(this,"RedirectHandler")}constructor(e,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Eit("maxRedirections must be a positive number");oh.validateHandler(i,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,oh.isStream(this.opts.body)?(oh.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Tj(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[US]=!1,Iit.prototype.on.call(this.opts.body,"data",function(){this[US]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new QQ(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&oh.isIterable(this.opts.body)&&(this.opts.body=new QQ(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,i){if(this.location=this.history.length>=this.maxRedirections||oh.isDisturbed(this.opts.body)?null:bit(e,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,i);let{origin:s,pathname:a,search:c}=oh.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),l=c?`${a}${c}`:a;this.opts.headers=xit(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=l,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function bit(t,e){if(vit.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].length===8&&oh.headerNameToString(e[r])==="location")return e[r+1]}o(bit,"parseLocation");function YIe(t,e,r){if(t.length===4)return oh.headerNameToString(t)==="host";if(e&&oh.headerNameToString(t).startsWith("content-"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=oh.headerNameToString(t);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(YIe,"shouldRemoveHeader");function xit(t,e,r){let n=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)YIe(t[i],e,r)||n.push(t[i],t[i+1]);else if(t&&typeof t=="object")for(let i of Object.keys(t))YIe(i,e,r)||n.push(i,t[i]);else Tj(t==null,"headers must be an object or an array");return n}o(xit,"cleanRequestHeaders");$Ie.exports=xj});var FQ=q((LVr,zIe)=>{"use strict";u();var Tit=PQ();function _it({maxRedirections:t}){return e=>o(function(n,i){let{maxRedirections:s=t}=n;if(!s)return e(n,i);let a=new Tit(e,s,n,i);return n={...n,maxRedirections:0},e(n,a)},"Intercept")}o(_it,"createRedirectInterceptor");zIe.exports=_it});var $S=q((UVr,i2e)=>{"use strict";u();var KA=require("node:assert"),e2e=require("node:net"),Sit=require("node:http"),CE=fn(),{channels:gx}=Zb(),wit=fEe(),Bit=nx(),{InvalidArgumentError:es,InformationalError:Rit,ClientDestroyedError:kit}=li(),Dit=_S(),{kUrl:sh,kServerName:Kg,kClient:Nit,kBusy:_j,kConnect:Qit,kResuming:EE,kRunning:WS,kPending:YS,kSize:VS,kQueue:Ef,kConnected:Pit,kConnecting:yx,kNeedDrain:Xg,kKeepAliveDefaultTimeout:jIe,kHostHeader:Fit,kPendingIdx:If,kRunningIdx:JA,kError:Lit,kPipelining:LQ,kKeepAliveTimeoutValue:Mit,kMaxHeadersSize:Oit,kKeepAliveMaxTimeout:Uit,kKeepAliveTimeoutThreshold:Hit,kHeadersTimeout:qit,kBodyTimeout:Git,kStrictContentLength:Vit,kConnector:HS,kMaxRedirections:Wit,kMaxRequests:Sj,kCounter:Yit,kClose:$it,kDestroy:zit,kDispatch:jit,kInterceptors:KIe,kLocalAddress:qS,kMaxResponseSize:Kit,kOnError:Jit,kHTTPContext:ts,kMaxConcurrentStreams:Xit,kResume:GS}=ho(),Zit=FIe(),eot=VIe(),JIe=!1,Jg=Symbol("kClosedResolve"),XIe=o(()=>{},"noop");function t2e(t){return t[LQ]??t[ts]?.defaultPipelining??1}o(t2e,"getPipelining");var wj=class extends Bit{static{o(this,"Client")}constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:c,bodyTimeout:l,idleTimeout:f,keepAlive:d,keepAliveTimeout:h,maxKeepAliveTimeout:A,keepAliveMaxTimeout:g,keepAliveTimeoutThreshold:y,socketPath:v,pipelining:_,tls:T,strictContentLength:S,maxCachedSessions:D,maxRedirections:Q,connect:k,maxRequestsPerClient:P,localAddress:W,maxResponseSize:re,autoSelectFamily:ye,autoSelectFamilyAttemptTimeout:Ae,maxConcurrentStreams:z,allowH2:j}={}){if(super(),d!==void 0)throw new es("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new es("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new es("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(f!==void 0)throw new es("unsupported idleTimeout, use keepAliveTimeout instead");if(A!==void 0)throw new es("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new es("invalid maxHeaderSize");if(v!=null&&typeof v!="string")throw new es("invalid socketPath");if(c!=null&&(!Number.isFinite(c)||c<0))throw new es("invalid connectTimeout");if(h!=null&&(!Number.isFinite(h)||h<=0))throw new es("invalid keepAliveTimeout");if(g!=null&&(!Number.isFinite(g)||g<=0))throw new es("invalid keepAliveMaxTimeout");if(y!=null&&!Number.isFinite(y))throw new es("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new es("headersTimeout must be a positive integer or zero");if(l!=null&&(!Number.isInteger(l)||l<0))throw new es("bodyTimeout must be a positive integer or zero");if(k!=null&&typeof k!="function"&&typeof k!="object")throw new es("connect must be a function or an object");if(Q!=null&&(!Number.isInteger(Q)||Q<0))throw new es("maxRedirections must be a positive number");if(P!=null&&(!Number.isInteger(P)||P<0))throw new es("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||e2e.isIP(W)===0))throw new es("localAddress must be valid string IP address");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new es("maxResponseSize must be a positive number");if(Ae!=null&&(!Number.isInteger(Ae)||Ae<-1))throw new es("autoSelectFamilyAttemptTimeout must be a positive number");if(j!=null&&typeof j!="boolean")throw new es("allowH2 must be a valid boolean value");if(z!=null&&(typeof z!="number"||z<1))throw new es("maxConcurrentStreams must be a positive integer, greater than 0");typeof k!="function"&&(k=Dit({...T,maxCachedSessions:D,allowH2:j,socketPath:v,timeout:c,...ye?{autoSelectFamily:ye,autoSelectFamilyAttemptTimeout:Ae}:void 0,...k})),r?.Client&&Array.isArray(r.Client)?(this[KIe]=r.Client,JIe||(JIe=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[KIe]=[tot({maxRedirections:Q})],this[sh]=CE.parseOrigin(e),this[HS]=k,this[LQ]=_??1,this[Oit]=n||Sit.maxHeaderSize,this[jIe]=h??4e3,this[Uit]=g??6e5,this[Hit]=y??2e3,this[Mit]=this[jIe],this[Kg]=null,this[qS]=W??null,this[EE]=0,this[Xg]=0,this[Fit]=`host: ${this[sh].hostname}${this[sh].port?`:${this[sh].port}`:""}\r
`,this[Git]=l??3e5,this[qit]=i??3e5,this[Vit]=S??!0,this[Wit]=Q,this[Sj]=P,this[Jg]=null,this[Kit]=re>-1?re:-1,this[Xit]=z??100,this[ts]=null,this[Ef]=[],this[JA]=0,this[If]=0,this[GS]=Ie=>Bj(this,Ie),this[Jit]=Ie=>r2e(this,Ie)}get pipelining(){return this[LQ]}set pipelining(e){this[LQ]=e,this[GS](!0)}get[YS](){return this[Ef].length-this[If]}get[WS](){return this[If]-this[JA]}get[VS](){return this[Ef].length-this[JA]}get[Pit](){return!!this[ts]&&!this[yx]&&!this[ts].destroyed}get[_j](){return!!(this[ts]?.busy(null)||this[VS]>=(t2e(this)||1)||this[YS]>0)}[Qit](e){n2e(this),this.once("connect",e)}[jit](e,r){let n=e.origin||this[sh].origin,i=new wit(n,e,r);return this[Ef].push(i),this[EE]||(CE.bodyLength(i.body)==null&&CE.isIterable(i.body)?(this[EE]=1,queueMicrotask(()=>Bj(this))):this[GS](!0)),this[EE]&&this[Xg]!==2&&this[_j]&&(this[Xg]=2),this[Xg]<2}async[$it](){return new Promise(e=>{this[VS]?this[Jg]=e:e(null)})}async[zit](e){return new Promise(r=>{let n=this[Ef].splice(this[If]);for(let s=0;s<n.length;s++){let a=n[s];CE.errorRequest(this,a,e)}let i=o(()=>{this[Jg]&&(this[Jg](),this[Jg]=null),r(null)},"callback");this[ts]?(this[ts].destroy(e,i),this[ts]=null):queueMicrotask(i),this[GS]()})}},tot=FQ();function r2e(t,e){if(t[WS]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){KA(t[If]===t[JA]);let r=t[Ef].splice(t[JA]);for(let n=0;n<r.length;n++){let i=r[n];CE.errorRequest(t,i,e)}KA(t[VS]===0)}}o(r2e,"onError");async function n2e(t){KA(!t[yx]),KA(!t[ts]);let{host:e,hostname:r,protocol:n,port:i}=t[sh];if(r[0]==="["){let s=r.indexOf("]");KA(s!==-1);let a=r.substring(1,s);KA(e2e.isIP(a)),r=a}t[yx]=!0,gx.beforeConnect.hasSubscribers&&gx.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ts]?.version,servername:t[Kg],localAddress:t[qS]},connector:t[HS]});try{let s=await new Promise((a,c)=>{t[HS]({host:e,hostname:r,protocol:n,port:i,servername:t[Kg],localAddress:t[qS]},(l,f)=>{l?c(l):a(f)})});if(t.destroyed){CE.destroy(s.on("error",XIe),new kit);return}KA(s);try{t[ts]=s.alpnProtocol==="h2"?await eot(t,s):await Zit(t,s)}catch(a){throw s.destroy().on("error",XIe),a}t[yx]=!1,s[Yit]=0,s[Sj]=t[Sj],s[Nit]=t,s[Lit]=null,gx.connected.hasSubscribers&&gx.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ts]?.version,servername:t[Kg],localAddress:t[qS]},connector:t[HS],socket:s}),t.emit("connect",t[sh],[t])}catch(s){if(t.destroyed)return;if(t[yx]=!1,gx.connectError.hasSubscribers&&gx.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,version:t[ts]?.version,servername:t[Kg],localAddress:t[qS]},connector:t[HS],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(KA(t[WS]===0);t[YS]>0&&t[Ef][t[If]].servername===t[Kg];){let a=t[Ef][t[If]++];CE.errorRequest(t,a,s)}else r2e(t,s);t.emit("connectionError",t[sh],[t],s)}t[GS]()}o(n2e,"connect");function ZIe(t){t[Xg]=0,t.emit("drain",t[sh],[t])}o(ZIe,"emitDrain");function Bj(t,e){t[EE]!==2&&(t[EE]=2,rot(t,e),t[EE]=0,t[JA]>256&&(t[Ef].splice(0,t[JA]),t[If]-=t[JA],t[JA]=0))}o(Bj,"resume");function rot(t,e){for(;;){if(t.destroyed){KA(t[YS]===0);return}if(t[Jg]&&!t[VS]){t[Jg](),t[Jg]=null;return}if(t[ts]&&t[ts].resume(),t[_j])t[Xg]=2;else if(t[Xg]===2){e?(t[Xg]=1,queueMicrotask(()=>ZIe(t))):ZIe(t);continue}if(t[YS]===0||t[WS]>=(t2e(t)||1))return;let r=t[Ef][t[If]];if(t[sh].protocol==="https:"&&t[Kg]!==r.servername){if(t[WS]>0)return;t[Kg]=r.servername,t[ts]?.destroy(new Rit("servername changed"),()=>{t[ts]=null,Bj(t)})}if(t[yx])return;if(!t[ts]){n2e(t);return}if(t[ts].destroyed||t[ts].busy(r))return;!r.aborted&&t[ts].write(r)?t[If]++:t[Ef].splice(t[If],1)}}o(rot,"_resume");i2e.exports=wj});var Rj=q((VVr,o2e)=>{"use strict";u();var MQ=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};o2e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new MQ}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new MQ),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var a2e=q(($Vr,s2e)=>{u();var{kFree:not,kConnected:iot,kPending:oot,kQueued:sot,kRunning:aot,kSize:cot}=ho(),IE=Symbol("pool"),kj=class{static{o(this,"PoolStats")}constructor(e){this[IE]=e}get connected(){return this[IE][iot]}get free(){return this[IE][not]}get pending(){return this[IE][oot]}get queued(){return this[IE][sot]}get running(){return this[IE][aot]}get size(){return this[IE][cot]}};s2e.exports=kj});var Lj=q((KVr,g2e)=>{"use strict";u();var lot=nx(),uot=Rj(),{kConnected:Dj,kSize:c2e,kRunning:l2e,kPending:u2e,kQueued:zS,kBusy:fot,kFree:dot,kUrl:hot,kClose:Aot,kDestroy:pot,kDispatch:mot}=ho(),got=a2e(),uc=Symbol("clients"),b0=Symbol("needDrain"),jS=Symbol("queue"),Nj=Symbol("closed resolve"),Qj=Symbol("onDrain"),f2e=Symbol("onConnect"),d2e=Symbol("onDisconnect"),h2e=Symbol("onConnectionError"),Pj=Symbol("get dispatcher"),p2e=Symbol("add client"),m2e=Symbol("remove client"),A2e=Symbol("stats"),Fj=class extends lot{static{o(this,"PoolBase")}constructor(){super(),this[jS]=new uot,this[uc]=[],this[zS]=0;let e=this;this[Qj]=o(function(n,i){let s=e[jS],a=!1;for(;!a;){let c=s.shift();if(!c)break;e[zS]--,a=!this.dispatch(c.opts,c.handler)}this[b0]=a,!this[b0]&&e[b0]&&(e[b0]=!1,e.emit("drain",n,[e,...i])),e[Nj]&&s.isEmpty()&&Promise.all(e[uc].map(c=>c.close())).then(e[Nj])},"onDrain"),this[f2e]=(r,n)=>{e.emit("connect",r,[e,...n])},this[d2e]=(r,n,i)=>{e.emit("disconnect",r,[e,...n],i)},this[h2e]=(r,n,i)=>{e.emit("connectionError",r,[e,...n],i)},this[A2e]=new got(this)}get[fot](){return this[b0]}get[Dj](){return this[uc].filter(e=>e[Dj]).length}get[dot](){return this[uc].filter(e=>e[Dj]&&!e[b0]).length}get[u2e](){let e=this[zS];for(let{[u2e]:r}of this[uc])e+=r;return e}get[l2e](){let e=0;for(let{[l2e]:r}of this[uc])e+=r;return e}get[c2e](){let e=this[zS];for(let{[c2e]:r}of this[uc])e+=r;return e}get stats(){return this[A2e]}async[Aot](){this[jS].isEmpty()?await Promise.all(this[uc].map(e=>e.close())):await new Promise(e=>{this[Nj]=e})}async[pot](e){for(;;){let r=this[jS].shift();if(!r)break;r.handler.onError(e)}await Promise.all(this[uc].map(r=>r.destroy(e)))}[mot](e,r){let n=this[Pj]();return n?n.dispatch(e,r)||(n[b0]=!0,this[b0]=!this[Pj]()):(this[b0]=!0,this[jS].push({opts:e,handler:r}),this[zS]++),!this[b0]}[p2e](e){return e.on("drain",this[Qj]).on("connect",this[f2e]).on("disconnect",this[d2e]).on("connectionError",this[h2e]),this[uc].push(e),this[b0]&&queueMicrotask(()=>{this[b0]&&this[Qj](e[hot],[this,e])}),this}[m2e](e){e.close(()=>{let r=this[uc].indexOf(e);r!==-1&&this[uc].splice(r,1)}),this[b0]=this[uc].some(r=>!r[b0]&&r.closed!==!0&&r.destroyed!==!0)}};g2e.exports={PoolBase:Fj,kClients:uc,kNeedDrain:b0,kAddClient:p2e,kRemoveClient:m2e,kGetDispatcher:Pj}});var Cx=q((ZVr,I2e)=>{"use strict";u();var{PoolBase:yot,kClients:OQ,kNeedDrain:Cot,kAddClient:Eot,kGetDispatcher:Iot}=Lj(),vot=$S(),{InvalidArgumentError:Mj}=li(),y2e=fn(),{kUrl:C2e,kInterceptors:bot}=ho(),xot=_S(),Oj=Symbol("options"),Uj=Symbol("connections"),E2e=Symbol("factory");function Tot(t,e){return new vot(t,e)}o(Tot,"defaultFactory");var Hj=class extends yot{static{o(this,"Pool")}constructor(e,{connections:r,factory:n=Tot,connect:i,connectTimeout:s,tls:a,maxCachedSessions:c,socketPath:l,autoSelectFamily:f,autoSelectFamilyAttemptTimeout:d,allowH2:h,...A}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new Mj("invalid connections");if(typeof n!="function")throw new Mj("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new Mj("connect must be a function or an object");typeof i!="function"&&(i=xot({...a,maxCachedSessions:c,allowH2:h,socketPath:l,timeout:s,...f?{autoSelectFamily:f,autoSelectFamilyAttemptTimeout:d}:void 0,...i})),this[bot]=A.interceptors?.Pool&&Array.isArray(A.interceptors.Pool)?A.interceptors.Pool:[],this[Uj]=r||null,this[C2e]=y2e.parseOrigin(e),this[Oj]={...y2e.deepClone(A),connect:i,allowH2:h},this[Oj].interceptors=A.interceptors?{...A.interceptors}:void 0,this[E2e]=n,this.on("connectionError",(g,y,v)=>{for(let _ of y){let T=this[OQ].indexOf(_);T!==-1&&this[OQ].splice(T,1)}})}[Iot](){for(let e of this[OQ])if(!e[Cot])return e;if(!this[Uj]||this[OQ].length<this[Uj]){let e=this[E2e](this[C2e],this[Oj]);return this[Eot](e),e}}};I2e.exports=Hj});var _2e=q((rWr,T2e)=>{"use strict";u();var{BalancedPoolMissingUpstreamError:_ot,InvalidArgumentError:Sot}=li(),{PoolBase:wot,kClients:t0,kNeedDrain:KS,kAddClient:Bot,kRemoveClient:Rot,kGetDispatcher:kot}=Lj(),Dot=Cx(),{kUrl:qj,kInterceptors:Not}=ho(),{parseOrigin:v2e}=fn(),b2e=Symbol("factory"),UQ=Symbol("options"),x2e=Symbol("kGreatestCommonDivisor"),vE=Symbol("kCurrentWeight"),bE=Symbol("kIndex"),ru=Symbol("kWeight"),HQ=Symbol("kMaxWeightPerServer"),qQ=Symbol("kErrorPenalty");function Qot(t,e){if(t===0)return e;for(;e!==0;){let r=e;e=t%e,t=r}return t}o(Qot,"getGreatestCommonDivisor");function Pot(t,e){return new Dot(t,e)}o(Pot,"defaultFactory");var Gj=class extends wot{static{o(this,"BalancedPool")}constructor(e=[],{factory:r=Pot,...n}={}){if(super(),this[UQ]=n,this[bE]=-1,this[vE]=0,this[HQ]=this[UQ].maxWeightPerServer||100,this[qQ]=this[UQ].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!="function")throw new Sot("factory must be a function.");this[Not]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[b2e]=r;for(let i of e)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(e){let r=v2e(e).origin;if(this[t0].find(i=>i[qj].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[b2e](r,Object.assign({},this[UQ]));this[Bot](n),n.on("connect",()=>{n[ru]=Math.min(this[HQ],n[ru]+this[qQ])}),n.on("connectionError",()=>{n[ru]=Math.max(1,n[ru]-this[qQ]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[ru]=Math.max(1,n[ru]-this[qQ]),this._updateBalancedPoolStats())});for(let i of this[t0])i[ru]=this[HQ];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let e=0;for(let r=0;r<this[t0].length;r++)e=Qot(this[t0][r][ru],e);this[x2e]=e}removeUpstream(e){let r=v2e(e).origin,n=this[t0].find(i=>i[qj].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[Rot](n),this}get upstreams(){return this[t0].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[qj].origin)}[kot](){if(this[t0].length===0)throw new _ot;if(!this[t0].find(s=>!s[KS]&&s.closed!==!0&&s.destroyed!==!0)||this[t0].map(s=>s[KS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[t0].findIndex(s=>!s[KS]);for(;n++<this[t0].length;){this[bE]=(this[bE]+1)%this[t0].length;let s=this[t0][this[bE]];if(s[ru]>this[t0][i][ru]&&!s[KS]&&(i=this[bE]),this[bE]===0&&(this[vE]=this[vE]-this[x2e],this[vE]<=0&&(this[vE]=this[HQ])),s[ru]>=this[vE]&&!s[KS])return s}return this[vE]=this[t0][i][ru],this[bE]=i,this[t0][i]}};T2e.exports=Gj});var Ex=q((oWr,N2e)=>{"use strict";u();var{InvalidArgumentError:GQ}=li(),{kClients:Zg,kRunning:S2e,kClose:Fot,kDestroy:Lot,kDispatch:Mot,kInterceptors:Oot}=ho(),Uot=nx(),Hot=Cx(),qot=$S(),Got=fn(),Vot=FQ(),w2e=Symbol("onConnect"),B2e=Symbol("onDisconnect"),R2e=Symbol("onConnectionError"),Wot=Symbol("maxRedirections"),k2e=Symbol("onDrain"),D2e=Symbol("factory"),Vj=Symbol("options");function Yot(t,e){return e&&e.connections===1?new qot(t,e):new Hot(t,e)}o(Yot,"defaultFactory");var Wj=class extends Uot{static{o(this,"Agent")}constructor({factory:e=Yot,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof e!="function")throw new GQ("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new GQ("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new GQ("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[Oot]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[Vot({maxRedirections:r})],this[Vj]={...Got.deepClone(i),connect:n},this[Vj].interceptors=i.interceptors?{...i.interceptors}:void 0,this[Wot]=r,this[D2e]=e,this[Zg]=new Map,this[k2e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[w2e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[B2e]=(s,a,c)=>{this.emit("disconnect",s,[this,...a],c)},this[R2e]=(s,a,c)=>{this.emit("connectionError",s,[this,...a],c)}}get[S2e](){let e=0;for(let r of this[Zg].values())e+=r[S2e];return e}[Mot](e,r){let n;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))n=String(e.origin);else throw new GQ("opts.origin must be a non-empty string or URL.");let i=this[Zg].get(n);return i||(i=this[D2e](e.origin,this[Vj]).on("drain",this[k2e]).on("connect",this[w2e]).on("disconnect",this[B2e]).on("connectionError",this[R2e]),this[Zg].set(n,i)),i.dispatch(e,r)}async[Fot](){let e=[];for(let r of this[Zg].values())e.push(r.close());this[Zg].clear(),await Promise.all(e)}async[Lot](e){let r=[];for(let n of this[Zg].values())r.push(n.destroy(e));this[Zg].clear(),await Promise.all(r)}};N2e.exports=Wj});var zj=q((cWr,L2e)=>{"use strict";u();var{kProxy:$ot,kClose:zot,kDestroy:jot,kInterceptors:Kot}=ho(),{URL:JS}=require("node:url"),Jot=Ex(),Xot=Cx(),Zot=nx(),{InvalidArgumentError:YQ,RequestAbortedError:est,SecureProxyConnectionError:tst}=li(),Q2e=_S(),VQ=Symbol("proxy agent"),WQ=Symbol("proxy client"),XS=Symbol("proxy headers"),Yj=Symbol("request tls settings"),P2e=Symbol("proxy tls settings"),F2e=Symbol("connect endpoint function");function rst(t){return t==="https:"?443:80}o(rst,"defaultProtocolPort");function nst(t,e){return new Xot(t,e)}o(nst,"defaultFactory");var ist=o(()=>{},"noop"),$j=class extends Zot{static{o(this,"ProxyAgent")}constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof JS)&&!e.uri)throw new YQ("Proxy uri is mandatory");let{clientFactory:r=nst}=e;if(typeof r!="function")throw new YQ("Proxy opts.clientFactory must be a function.");let n=this.#e(e),{href:i,origin:s,port:a,protocol:c,username:l,password:f,hostname:d}=n;if(this[$ot]={uri:i,protocol:c},this[Kot]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[Yj]=e.requestTls,this[P2e]=e.proxyTls,this[XS]=e.headers||{},e.auth&&e.token)throw new YQ("opts.auth cannot be used in combination with opts.token");e.auth?this[XS]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[XS]["proxy-authorization"]=e.token:l&&f&&(this[XS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(l)}:${decodeURIComponent(f)}`).toString("base64")}`);let h=Q2e({...e.proxyTls});this[F2e]=Q2e({...e.requestTls}),this[WQ]=r(n,{connect:h}),this[VQ]=new Jot({...e,connect:o(async(A,g)=>{let y=A.host;A.port||(y+=`:${rst(A.protocol)}`);try{let{socket:v,statusCode:_}=await this[WQ].connect({origin:s,port:a,path:y,signal:A.signal,headers:{...this[XS],host:A.host},servername:this[P2e]?.servername||d});if(_!==200&&(v.on("error",ist).destroy(),g(new est(`Proxy response (${_}) !== 200 when HTTP Tunneling`))),A.protocol!=="https:"){g(null,v);return}let T;this[Yj]?T=this[Yj].servername:T=A.servername,this[F2e]({...A,servername:T,httpSocket:v},g)}catch(v){v.code==="ERR_TLS_CERT_ALTNAME_INVALID"?g(new tst(v)):g(v)}},"connect")})}dispatch(e,r){let n=ost(e.headers);if(sst(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new JS(e.origin);n.host=i}return this[VQ].dispatch({...e,headers:n},r)}#e(e){return typeof e=="string"?new JS(e):e instanceof JS?e:new JS(e.uri)}async[zot](){await this[VQ].close(),await this[WQ].close()}async[jot](){await this[VQ].destroy(),await this[WQ].destroy()}};function ost(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}o(ost,"buildHeaders");function sst(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()==="proxy-authorization"))throw new YQ("Proxy-Authorization should be sent in ProxyAgent constructor")}o(sst,"throwIfProxyAuthIsSent");L2e.exports=$j});var G2e=q((fWr,q2e)=>{"use strict";u();var ast=nx(),{kClose:cst,kDestroy:lst,kClosed:M2e,kDestroyed:O2e,kDispatch:ust,kNoProxyAgent:ZS,kHttpProxyAgent:e1,kHttpsProxyAgent:xE}=ho(),U2e=zj(),fst=Ex(),dst={"http:":80,"https:":443},H2e=!1,jj=class extends ast{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,H2e||(H2e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=e;this[ZS]=new fst(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[e1]=new U2e({...s,uri:a}):this[e1]=this[ZS];let c=n??process.env.https_proxy??process.env.HTTPS_PROXY;c?this[xE]=new U2e({...s,uri:c}):this[xE]=this[e1],this.#o()}[ust](e,r){let n=new URL(e.origin);return this.#n(n).dispatch(e,r)}async[cst](){await this[ZS].close(),this[e1][M2e]||await this[e1].close(),this[xE][M2e]||await this[xE].close()}async[lst](e){await this[ZS].destroy(e),this[e1][O2e]||await this[e1].destroy(e),this[xE][O2e]||await this[xE].destroy(e)}#n(e){let{protocol:r,host:n,port:i}=e;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||dst[r]||0,this.#r(n,i)?r==="https:"?this[xE]:this[e1]:this[ZS]}#r(e,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(e.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(e===i.hostname)return!1}}return!0}#o(){let e=this.#i.noProxy??this.#a,r=e.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=e,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};q2e.exports=jj});var $Q=q((AWr,$2e)=>{"use strict";u();var Ix=require("node:assert"),{kRetryHandlerDefaultRetry:V2e}=ho(),{RequestRetryError:ew}=li(),{isDisturbed:W2e,parseHeaders:hst,parseRangeHeader:Y2e,wrapRequestBody:Ast}=fn();function pst(t){let e=Date.now();return new Date(t).getTime()-e}o(pst,"calculateRetryAfterHeader");var Kj=class t{static{o(this,"RetryHandler")}constructor(e,r){let{retryOptions:n,...i}=e,{retry:s,maxRetries:a,maxTimeout:c,minTimeout:l,timeoutFactor:f,methods:d,errorCodes:h,retryAfter:A,statusCodes:g}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:Ast(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??t[V2e],retryAfter:A??!0,maxTimeout:c??30*1e3,minTimeout:l??500,timeoutFactor:f??2,maxRetries:a??5,methods:d??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:g??[500,502,503,504,429],errorCodes:h??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(y=>{this.aborted=!0,this.abort?this.abort(y):this.reason=y})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[V2e](e,{state:r,opts:n},i){let{statusCode:s,code:a,headers:c}=e,{method:l,retryOptions:f}=n,{maxRetries:d,minTimeout:h,maxTimeout:A,timeoutFactor:g,statusCodes:y,errorCodes:v,methods:_}=f,{counter:T}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!v.includes(a)){i(e);return}if(Array.isArray(_)&&!_.includes(l)){i(e);return}if(s!=null&&Array.isArray(y)&&!y.includes(s)){i(e);return}if(T>d){i(e);return}let S=c?.["retry-after"];S&&(S=Number(S),S=Number.isNaN(S)?pst(S):S*1e3);let D=S>0?Math.min(S,A):Math.min(h*g**(T-1),A);setTimeout(()=>i(null),D)}onHeaders(e,r,n,i){let s=hst(r);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,r,n,i):(this.abort(new ew("Request failed",e,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206&&(this.start>0||e!==200))return this.abort(new ew("server does not support the range header and the payload was partially consumed",e,{headers:s,data:{count:this.retryCount}})),!1;let c=Y2e(s["content-range"]);if(!c)return this.abort(new ew("Content-Range mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new ew("ETag mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;let{start:l,size:f,end:d=f-1}=c;return Ix(this.start===l,"content-range mismatch"),Ix(this.end==null||this.end===d,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(e===206){let c=Y2e(s["content-range"]);if(c==null)return this.handler.onHeaders(e,r,n,i);let{start:l,size:f,end:d=f-1}=c;Ix(l!=null&&Number.isFinite(l),"content-range mismatch"),Ix(d!=null&&Number.isFinite(d),"invalid content-length"),this.start=l,this.end=d}if(this.end==null){let c=s["content-length"];this.end=c!=null?Number(c)-1:null}return Ix(Number.isFinite(this.start)),Ix(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,r,n,i)}let a=new ew("Request failed",e,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||W2e(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||W2e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};$2e.exports=Kj});var j2e=q((gWr,z2e)=>{"use strict";u();var mst=xS(),gst=$Q(),Jj=class extends mst{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(e,r={}){super(r),this.#e=e,this.#t=r}dispatch(e,r){let n=new gst({...e,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(e,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};z2e.exports=Jj});var nK=q((EWr,ive)=>{"use strict";u();var eve=require("node:assert"),{Readable:yst}=require("node:stream"),{RequestAbortedError:tve,NotSupportedError:Cst,InvalidArgumentError:Est,AbortError:Xj}=li(),rve=fn(),{ReadableStreamFrom:Ist}=fn(),el=Symbol("kConsume"),tw=Symbol("kReading"),t1=Symbol("kBody"),K2e=Symbol("kAbort"),nve=Symbol("kContentType"),J2e=Symbol("kContentLength"),vst=o(()=>{},"noop"),Zj=class extends yst{static{o(this,"BodyReadable")}constructor({resume:e,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:s}),this._readableState.dataEmitted=!1,this[K2e]=r,this[el]=null,this[t1]=null,this[nve]=n,this[J2e]=i,this[tw]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new tve),e&&this[K2e](),super.destroy(e)}_destroy(e,r){this[tw]?r(e):setImmediate(()=>{r(e)})}on(e,...r){return(e==="data"||e==="readable")&&(this[tw]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e==="data"||e==="readable")&&(this[tw]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[el]&&e!==null?(tK(this[el],e),this[tw]?super.push(e):!0):super.push(e)}async text(){return rw(this,"text")}async json(){return rw(this,"json")}async blob(){return rw(this,"blob")}async bytes(){return rw(this,"bytes")}async arrayBuffer(){return rw(this,"arrayBuffer")}async formData(){throw new Cst}get bodyUsed(){return rve.isDisturbed(this)}get body(){return this[t1]||(this[t1]=Ist(this),this[el]&&(this[t1].getReader(),eve(this[t1].locked))),this[t1]}async dump(e){let r=Number.isFinite(e?.limit)?e.limit:131072,n=e?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new Est("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[J2e]>r&&this.destroy(new Xj);let a=o(()=>{this.destroy(n.reason??new Xj)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new Xj):i(null)}).on("error",vst).on("data",function(c){r-=c.length,r<=0&&this.destroy()}).resume()})}};function bst(t){return t[t1]&&t[t1].locked===!0||t[el]}o(bst,"isLocked");function xst(t){return rve.isDisturbed(t)||bst(t)}o(xst,"isUnusable");async function rw(t,e){return eve(!t[el]),new Promise((r,n)=>{if(xst(t)){let i=t._readableState;i.destroyed&&i.closeEmitted===!1?t.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{t[el]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on("error",function(i){rK(this[el],i)}).on("close",function(){this[el].body!==null&&rK(this[el],new tve)}),Tst(t[el])})})}o(rw,"consume");function Tst(t){if(t.body===null)return;let{_readableState:e}=t.stream;if(e.bufferIndex){let r=e.bufferIndex,n=e.buffer.length;for(let i=r;i<n;i++)tK(t,e.buffer[i])}else for(let r of e.buffer)tK(t,r);for(e.endEmitted?Z2e(this[el]):t.stream.on("end",function(){Z2e(this[el])}),t.stream.resume();t.stream.read()!=null;);}o(Tst,"consumeStart");function eK(t,e){if(t.length===0||e===0)return"";let r=t.length===1?t[0]:Buffer.concat(t,e),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(eK,"chunksDecode");function X2e(t,e){if(t.length===0||e===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(t[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(e).buffer),n=0;for(let i=0;i<t.length;++i){let s=t[i];r.set(s,n),n+=s.length}return r}o(X2e,"chunksConcat");function Z2e(t){let{type:e,body:r,resolve:n,stream:i,length:s}=t;try{e==="text"?n(eK(r,s)):e==="json"?n(JSON.parse(eK(r,s))):e==="arrayBuffer"?n(X2e(r,s).buffer):e==="blob"?n(new Blob(r,{type:i[nve]})):e==="bytes"&&n(X2e(r,s)),rK(t)}catch(a){i.destroy(a)}}o(Z2e,"consumeEnd");function tK(t,e){t.length+=e.length,t.body.push(e)}o(tK,"consumePush");function rK(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}o(rK,"consumeFinish");ive.exports={Readable:Zj,chunksDecode:eK}});var iK=q((bWr,lve)=>{u();var _st=require("node:assert"),{ResponseStatusCodeError:ove}=li(),{chunksDecode:sve}=nK(),Sst=128*1024;async function wst({callback:t,body:e,contentType:r,statusCode:n,statusMessage:i,headers:s}){_st(e);let a=[],c=0;try{for await(let h of e)if(a.push(h),c+=h.length,c>Sst){a=[],c=0;break}}catch{a=[],c=0}let l=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!c){queueMicrotask(()=>t(new ove(l,n,s)));return}let f=Error.stackTraceLimit;Error.stackTraceLimit=0;let d;try{ave(r)?d=JSON.parse(sve(a,c)):cve(r)&&(d=sve(a,c))}catch{}finally{Error.stackTraceLimit=f}queueMicrotask(()=>t(new ove(l,n,s,d)))}o(wst,"getResolveErrorBodyCallback");var ave=o(t=>t.length>15&&t[11]==="/"&&t[0]==="a"&&t[1]==="p"&&t[2]==="p"&&t[3]==="l"&&t[4]==="i"&&t[5]==="c"&&t[6]==="a"&&t[7]==="t"&&t[8]==="i"&&t[9]==="o"&&t[10]==="n"&&t[12]==="j"&&t[13]==="s"&&t[14]==="o"&&t[15]==="n","isContentTypeApplicationJson"),cve=o(t=>t.length>4&&t[4]==="/"&&t[0]==="t"&&t[1]==="e"&&t[2]==="x"&&t[3]==="t","isContentTypeText");lve.exports={getResolveErrorBodyCallback:wst,isContentTypeApplicationJson:ave,isContentTypeText:cve}});var dve=q((_Wr,oK)=>{"use strict";u();var Bst=require("node:assert"),{Readable:Rst}=nK(),{InvalidArgumentError:vx,RequestAbortedError:uve}=li(),tl=fn(),{getResolveErrorBodyCallback:kst}=iK(),{AsyncResource:Dst}=require("node:async_hooks"),zQ=class extends Dst{static{o(this,"RequestHandler")}constructor(e,r){if(!e||typeof e!="object")throw new vx("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:c,responseHeaders:l,throwOnError:f,highWaterMark:d}=e;try{if(typeof r!="function")throw new vx("invalid callback");if(d&&(typeof d!="number"||d<0))throw new vx("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new vx("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new vx("invalid method");if(c&&typeof c!="function")throw new vx("invalid onInfo callback");super("UNDICI_REQUEST")}catch(h){throw tl.isStream(a)&&tl.destroy(a.on("error",tl.nop),h),h}this.method=i,this.responseHeaders=l||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=c||null,this.throwOnError=f,this.highWaterMark=d,this.signal=n,this.reason=null,this.removeAbortListener=null,tl.isStream(a)&&a.on("error",h=>{this.onError(h)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new uve:this.removeAbortListener=tl.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new uve,this.res?tl.destroy(this.res.on("error",tl.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,r){if(this.reason){e(this.reason);return}Bst(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,i){let{callback:s,opaque:a,abort:c,context:l,responseHeaders:f,highWaterMark:d}=this,h=f==="raw"?tl.parseRawHeaders(r):tl.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}let A=f==="raw"?tl.parseHeaders(r):h,g=A["content-type"],y=A["content-length"],v=new Rst({resume:n,abort:c,contentType:g,contentLength:this.method!=="HEAD"&&y?Number(y):null,highWaterMark:d});this.removeAbortListener&&v.on("close",this.removeAbortListener),this.callback=null,this.res=v,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(kst,null,{callback:s,body:v,contentType:g,statusCode:e,statusMessage:i,headers:h}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:h,trailers:this.trailers,opaque:a,body:v,context:l}))}onData(e){return this.res.push(e)}onComplete(e){tl.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{tl.destroy(r,e)})),i&&(this.body=null,tl.destroy(i,e)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function fve(t,e){if(e===void 0)return new Promise((r,n)=>{fve.call(this,t,(i,s)=>i?n(i):r(s))});try{this.dispatch(t,new zQ(t,e))}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(fve,"request");oK.exports=fve;oK.exports.RequestHandler=zQ});var nw=q((BWr,pve)=>{u();var{addAbortListener:Nst}=fn(),{RequestAbortedError:Qst}=li(),bx=Symbol("kListener"),ah=Symbol("kSignal");function hve(t){t.abort?t.abort(t[ah]?.reason):t.reason=t[ah]?.reason??new Qst,Ave(t)}o(hve,"abort");function Pst(t,e){if(t.reason=null,t[ah]=null,t[bx]=null,!!e){if(e.aborted){hve(t);return}t[ah]=e,t[bx]=()=>{hve(t)},Nst(t[ah],t[bx])}}o(Pst,"addSignal");function Ave(t){t[ah]&&("removeEventListener"in t[ah]?t[ah].removeEventListener("abort",t[bx]):t[ah].removeListener("abort",t[bx]),t[ah]=null,t[bx]=null)}o(Ave,"removeSignal");pve.exports={addSignal:Pst,removeSignal:Ave}});var Cve=q((DWr,yve)=>{"use strict";u();var Fst=require("node:assert"),{finished:Lst,PassThrough:Mst}=require("node:stream"),{InvalidArgumentError:xx,InvalidReturnValueError:Ost}=li(),vf=fn(),{getResolveErrorBodyCallback:Ust}=iK(),{AsyncResource:Hst}=require("node:async_hooks"),{addSignal:qst,removeSignal:mve}=nw(),sK=class extends Hst{static{o(this,"StreamHandler")}constructor(e,r,n){if(!e||typeof e!="object")throw new xx("invalid opts");let{signal:i,method:s,opaque:a,body:c,onInfo:l,responseHeaders:f,throwOnError:d}=e;try{if(typeof n!="function")throw new xx("invalid callback");if(typeof r!="function")throw new xx("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new xx("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new xx("invalid method");if(l&&typeof l!="function")throw new xx("invalid onInfo callback");super("UNDICI_STREAM")}catch(h){throw vf.isStream(c)&&vf.destroy(c.on("error",vf.nop),h),h}this.responseHeaders=f||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=c,this.onInfo=l||null,this.throwOnError=d||!1,vf.isStream(c)&&c.on("error",h=>{this.onError(h)}),qst(this,i)}onConnect(e,r){if(this.reason){e(this.reason);return}Fst(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,i){let{factory:s,opaque:a,context:c,callback:l,responseHeaders:f}=this,d=f==="raw"?vf.parseRawHeaders(r):vf.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:d});return}this.factory=null;let h;if(this.throwOnError&&e>=400){let y=(f==="raw"?vf.parseHeaders(r):d)["content-type"];h=new Mst,this.callback=null,this.runInAsyncScope(Ust,null,{callback:l,body:h,contentType:y,statusCode:e,statusMessage:i,headers:d})}else{if(s===null)return;if(h=this.runInAsyncScope(s,null,{statusCode:e,headers:d,opaque:a,context:c}),!h||typeof h.write!="function"||typeof h.end!="function"||typeof h.on!="function")throw new Ost("expected Writable");Lst(h,{readable:!1},g=>{let{callback:y,res:v,opaque:_,trailers:T,abort:S}=this;this.res=null,(g||!v.readable)&&vf.destroy(v,g),this.callback=null,this.runInAsyncScope(y,null,g||null,{opaque:_,trailers:T}),g&&S()})}return h.on("drain",n),this.res=h,(h.writableNeedDrain!==void 0?h.writableNeedDrain:h._writableState?.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;mve(this),r&&(this.trailers=vf.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:i,body:s}=this;mve(this),this.factory=null,r?(this.res=null,vf.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:i})})),s&&(this.body=null,vf.destroy(s,e))}};function gve(t,e,r){if(r===void 0)return new Promise((n,i)=>{gve.call(this,t,e,(s,a)=>s?i(s):n(a))});try{this.dispatch(t,new sK(t,e,r))}catch(n){if(typeof r!="function")throw n;let i=t?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(gve,"stream");yve.exports=gve});var bve=q((PWr,vve)=>{"use strict";u();var{Readable:Ive,Duplex:Gst,PassThrough:Vst}=require("node:stream"),{InvalidArgumentError:iw,InvalidReturnValueError:Wst,RequestAbortedError:aK}=li(),nu=fn(),{AsyncResource:Yst}=require("node:async_hooks"),{addSignal:$st,removeSignal:zst}=nw(),Eve=require("node:assert"),Tx=Symbol("resume"),cK=class extends Ive{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[Tx]=null}_read(){let{[Tx]:e}=this;e&&(this[Tx]=null,e())}_destroy(e,r){this._read(),r(e)}},lK=class extends Ive{static{o(this,"PipelineResponse")}constructor(e){super({autoDestroy:!0}),this[Tx]=e}_read(){this[Tx]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new aK),r(e)}},uK=class extends Yst{static{o(this,"PipelineHandler")}constructor(e,r){if(!e||typeof e!="object")throw new iw("invalid opts");if(typeof r!="function")throw new iw("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:c}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new iw("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new iw("invalid method");if(a&&typeof a!="function")throw new iw("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=c||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new cK().on("error",nu.nop),this.ret=new Gst({readableObjectMode:e.objectMode,autoDestroy:!0,read:o(()=>{let{body:l}=this;l?.resume&&l.resume()},"read"),write:o((l,f,d)=>{let{req:h}=this;h.push(l,f)||h._readableState.destroyed?d():h[Tx]=d},"write"),destroy:o((l,f)=>{let{body:d,req:h,res:A,ret:g,abort:y}=this;!l&&!g._readableState.endEmitted&&(l=new aK),y&&l&&y(),nu.destroy(d,l),nu.destroy(h,l),nu.destroy(A,l),zst(this),f(l)},"destroy")}).on("prefinish",()=>{let{req:l}=this;l.push(null)}),this.res=null,$st(this,n)}onConnect(e,r){let{ret:n,res:i}=this;if(this.reason){e(this.reason);return}Eve(!i,"pipeline cannot be retried"),Eve(!n.destroyed),this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:i,handler:s,context:a}=this;if(e<200){if(this.onInfo){let l=this.responseHeaders==="raw"?nu.parseRawHeaders(r):nu.parseHeaders(r);this.onInfo({statusCode:e,headers:l})}return}this.res=new lK(n);let c;try{this.handler=null;let l=this.responseHeaders==="raw"?nu.parseRawHeaders(r):nu.parseHeaders(r);c=this.runInAsyncScope(s,null,{statusCode:e,headers:l,opaque:i,body:this.res,context:a})}catch(l){throw this.res.on("error",nu.nop),l}if(!c||typeof c.on!="function")throw new Wst("expected Readable");c.on("data",l=>{let{ret:f,body:d}=this;!f.push(l)&&d.pause&&d.pause()}).on("error",l=>{let{ret:f}=this;nu.destroy(f,l)}).on("end",()=>{let{ret:l}=this;l.push(null)}).on("close",()=>{let{ret:l}=this;l._readableState.ended||nu.destroy(l,new aK)}),this.body=c}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,nu.destroy(r,e)}};function jst(t,e){try{let r=new uK(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new Vst().destroy(r)}}o(jst,"pipeline");vve.exports=jst});var Bve=q((MWr,wve)=>{"use strict";u();var{InvalidArgumentError:fK,SocketError:Kst}=li(),{AsyncResource:Jst}=require("node:async_hooks"),xve=fn(),{addSignal:Xst,removeSignal:Tve}=nw(),_ve=require("node:assert"),dK=class extends Jst{static{o(this,"UpgradeHandler")}constructor(e,r){if(!e||typeof e!="object")throw new fK("invalid opts");if(typeof r!="function")throw new fK("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new fK("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,Xst(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}_ve(this.callback),this.abort=e,this.context=null}onHeaders(){throw new Kst("bad upgrade",null)}onUpgrade(e,r,n){_ve(e===101);let{callback:i,opaque:s,context:a}=this;Tve(this),this.callback=null;let c=this.responseHeaders==="raw"?xve.parseRawHeaders(r):xve.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:c,socket:n,opaque:s,context:a})}onError(e){let{callback:r,opaque:n}=this;Tve(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Sve(t,e){if(e===void 0)return new Promise((r,n)=>{Sve.call(this,t,(i,s)=>i?n(i):r(s))});try{let r=new dK(t,e);this.dispatch({...t,method:t.method||"GET",upgrade:t.protocol||"Websocket"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(Sve,"upgrade");wve.exports=Sve});var Qve=q((HWr,Nve)=>{"use strict";u();var Zst=require("node:assert"),{AsyncResource:eat}=require("node:async_hooks"),{InvalidArgumentError:hK,SocketError:tat}=li(),Rve=fn(),{addSignal:rat,removeSignal:kve}=nw(),AK=class extends eat{static{o(this,"ConnectHandler")}constructor(e,r){if(!e||typeof e!="object")throw new hK("invalid opts");if(typeof r!="function")throw new hK("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new hK("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,rat(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}Zst(this.callback),this.abort=e,this.context=r}onHeaders(){throw new tat("bad connect",null)}onUpgrade(e,r,n){let{callback:i,opaque:s,context:a}=this;kve(this),this.callback=null;let c=r;c!=null&&(c=this.responseHeaders==="raw"?Rve.parseRawHeaders(r):Rve.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:c,socket:n,opaque:s,context:a})}onError(e){let{callback:r,opaque:n}=this;kve(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Dve(t,e){if(e===void 0)return new Promise((r,n)=>{Dve.call(this,t,(i,s)=>i?n(i):r(s))});try{let r=new AK(t,e);this.dispatch({...t,method:"CONNECT"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}o(Dve,"connect");Nve.exports=Dve});var Pve=q((VWr,_x)=>{"use strict";u();_x.exports.request=dve();_x.exports.stream=Cve();_x.exports.pipeline=bve();_x.exports.upgrade=Bve();_x.exports.connect=Qve()});var mK=q((YWr,Fve)=>{"use strict";u();var{UndiciError:nat}=li(),pK=class t extends nat{static{o(this,"MockNotMatchedError")}constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Fve.exports={MockNotMatchedError:pK}});var Sx=q((jWr,Lve)=>{"use strict";u();Lve.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var ow=q((JWr,zve)=>{"use strict";u();var{MockNotMatchedError:TE}=mK(),{kDispatches:jQ,kMockAgent:iat,kOriginalDispatch:oat,kOrigin:sat,kGetNetConnect:aat}=Sx(),{buildURL:cat}=fn(),{STATUS_CODES:lat}=require("node:http"),{types:{isPromise:uat}}=require("node:util");function XA(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}o(XA,"matchValue");function Ove(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}o(Ove,"lowerCaseEntries");function Uve(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get=="function"?t.get(e):Ove(t)[e.toLocaleLowerCase()]}o(Uve,"getHeaderByName");function CK(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}o(CK,"buildHeadersFromArray");function Hve(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=CK(e)),t.headers(e?Ove(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[r,n]of Object.entries(t.headers)){let i=Uve(e,r);if(!XA(n,i))return!1}return!0}o(Hve,"matchHeaders");function Mve(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join("?")}o(Mve,"safeUrl");function fat(t,{path:e,method:r,body:n,headers:i}){let s=XA(t.path,e),a=XA(t.method,r),c=typeof t.body<"u"?XA(t.body,n):!0,l=Hve(t,i);return s&&a&&c&&l}o(fat,"matchKey");function qve(t){return Buffer.isBuffer(t)||t instanceof Uint8Array||t instanceof ArrayBuffer?t:typeof t=="object"?JSON.stringify(t):t.toString()}o(qve,"getResponseData");function Gve(t,e){let r=e.query?cat(e.path,e.query):e.path,n=typeof r=="string"?Mve(r):r,i=t.filter(({consumed:s})=>!s).filter(({path:s})=>XA(Mve(s),n));if(i.length===0)throw new TE(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>XA(s,e.method)),i.length===0)throw new TE(`Mock dispatch not matched for method '${e.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?XA(s,e.body):!0),i.length===0)throw new TE(`Mock dispatch not matched for body '${e.body}' on path '${n}'`);if(i=i.filter(s=>Hve(s,e.headers)),i.length===0){let s=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new TE(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(Gve,"getMockDispatch");function dat(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...e,pending:!0,data:{error:null,...i}};return t.push(s),s}o(dat,"addMockDispatch");function gK(t,e){let r=t.findIndex(n=>n.consumed?fat(n,e):!1);r!==-1&&t.splice(r,1)}o(gK,"deleteMockDispatch");function Vve(t){let{path:e,method:r,body:n,headers:i,query:s}=t;return{path:e,method:r,body:n,headers:i,query:s}}o(Vve,"buildKey");function yK(t){let e=Object.keys(t),r=[];for(let n=0;n<e.length;++n){let i=e[n],s=t[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let c=0;c<s.length;++c)r.push(a,Buffer.from(`${s[c]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(yK,"generateKeyValues");function Wve(t){return lat[t]||"unknown"}o(Wve,"getStatusText");async function hat(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString("utf8")}o(hat,"getResponse");function Yve(t,e){let r=Vve(t),n=Gve(this[jQ],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:i,data:s,headers:a,trailers:c,error:l},delay:f,persist:d}=n,{timesInvoked:h,times:A}=n;if(n.consumed=!d&&h>=A,n.pending=h<A,l!==null)return gK(this[jQ],r),e.onError(l),!0;typeof f=="number"&&f>0?setTimeout(()=>{g(this[jQ])},f):g(this[jQ]);function g(v,_=s){let T=Array.isArray(t.headers)?CK(t.headers):t.headers,S=typeof _=="function"?_({...t,headers:T}):_;if(uat(S)){S.then(P=>g(v,P));return}let D=qve(S),Q=yK(a),k=yK(c);e.onConnect?.(P=>e.onError(P),null),e.onHeaders?.(i,Q,y,Wve(i)),e.onData?.(Buffer.from(D)),e.onComplete?.(k),gK(v,r)}o(g,"handleReply");function y(){}return o(y,"resume"),!0}o(Yve,"mockDispatch");function Aat(){let t=this[iat],e=this[sat],r=this[oat];return o(function(i,s){if(t.isMockActive)try{Yve.call(this,i,s)}catch(a){if(a instanceof TE){let c=t[aat]();if(c===!1)throw new TE(`${a.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if($ve(c,e))r.call(this,i,s);else throw new TE(`${a.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(Aat,"buildMockDispatch");function $ve(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>XA(n,r.host)))}o($ve,"checkNetConnect");function pat(t){if(t){let{agent:e,...r}=t;return r}}o(pat,"buildMockOptions");zve.exports={getResponseData:qve,getMockDispatch:Gve,addMockDispatch:dat,deleteMockDispatch:gK,buildKey:Vve,generateKeyValues:yK,matchValue:XA,getResponse:hat,getStatusText:Wve,mockDispatch:Yve,buildMockDispatch:Aat,checkNetConnect:$ve,buildMockOptions:pat,getHeaderByName:Uve,buildHeadersFromArray:CK}});var _K=q((eYr,TK)=>{"use strict";u();var{getResponseData:mat,buildKey:gat,addMockDispatch:EK}=ow(),{kDispatches:KQ,kDispatchKey:JQ,kDefaultHeaders:IK,kDefaultTrailers:vK,kContentLength:bK,kMockDispatch:XQ}=Sx(),{InvalidArgumentError:ch}=li(),{buildURL:yat}=fn(),wx=class{static{o(this,"MockScope")}constructor(e){this[XQ]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new ch("waitInMs must be a valid integer > 0");return this[XQ].delay=e,this}persist(){return this[XQ].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new ch("repeatTimes must be a valid integer > 0");return this[XQ].times=e,this}},xK=class{static{o(this,"MockInterceptor")}constructor(e,r){if(typeof e!="object")throw new ch("opts must be an object");if(typeof e.path>"u")throw new ch("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=yat(e.path,e.query);else{let n=new URL(e.path,"data://");e.path=n.pathname+n.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[JQ]=gat(e),this[KQ]=r,this[IK]={},this[vK]={},this[bK]=!1}createMockScopeDispatchData({statusCode:e,data:r,responseOptions:n}){let i=mat(r),s=this[bK]?{"content-length":i.length}:{},a={...this[IK],...s,...n.headers},c={...this[vK],...n.trailers};return{statusCode:e,data:r,headers:a,trailers:c}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new ch("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new ch("responseOptions must be an object")}reply(e){if(typeof e=="function"){let s=o(c=>{let l=e(c);if(typeof l!="object"||l===null)throw new ch("reply options callback must return an object");let f={data:"",responseOptions:{},...l};return this.validateReplyParameters(f),{...this.createMockScopeDispatchData(f)}},"wrappedDefaultsCallback"),a=EK(this[KQ],this[JQ],s);return new wx(a)}let r={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=EK(this[KQ],this[JQ],n);return new wx(i)}replyWithError(e){if(typeof e>"u")throw new ch("error must be defined");let r=EK(this[KQ],this[JQ],{error:e});return new wx(r)}defaultReplyHeaders(e){if(typeof e>"u")throw new ch("headers must be defined");return this[IK]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new ch("trailers must be defined");return this[vK]=e,this}replyContentLength(){return this[bK]=!0,this}};TK.exports.MockInterceptor=xK;TK.exports.MockScope=wx});var BK=q((nYr,tbe)=>{"use strict";u();var{promisify:Cat}=require("node:util"),Eat=$S(),{buildMockDispatch:Iat}=ow(),{kDispatches:jve,kMockAgent:Kve,kClose:Jve,kOriginalClose:Xve,kOrigin:Zve,kOriginalDispatch:vat,kConnected:SK}=Sx(),{MockInterceptor:bat}=_K(),ebe=ho(),{InvalidArgumentError:xat}=li(),wK=class extends Eat{static{o(this,"MockClient")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new xat("Argument opts.agent must implement Agent");this[Kve]=r.agent,this[Zve]=e,this[jve]=[],this[SK]=1,this[vat]=this.dispatch,this[Xve]=this.close.bind(this),this.dispatch=Iat.call(this),this.close=this[Jve]}get[ebe.kConnected](){return this[SK]}intercept(e){return new bat(e,this[jve])}async[Jve](){await Cat(this[Xve])(),this[SK]=0,this[Kve][ebe.kClients].delete(this[Zve])}};tbe.exports=wK});var DK=q((sYr,cbe)=>{"use strict";u();var{promisify:Tat}=require("node:util"),_at=Cx(),{buildMockDispatch:Sat}=ow(),{kDispatches:rbe,kMockAgent:nbe,kClose:ibe,kOriginalClose:obe,kOrigin:sbe,kOriginalDispatch:wat,kConnected:RK}=Sx(),{MockInterceptor:Bat}=_K(),abe=ho(),{InvalidArgumentError:Rat}=li(),kK=class extends _at{static{o(this,"MockPool")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Rat("Argument opts.agent must implement Agent");this[nbe]=r.agent,this[sbe]=e,this[rbe]=[],this[RK]=1,this[wat]=this.dispatch,this[obe]=this.close.bind(this),this.dispatch=Sat.call(this),this.close=this[ibe]}get[abe.kConnected](){return this[RK]}intercept(e){return new Bat(e,this[rbe])}async[ibe](){await Tat(this[obe])(),this[RK]=0,this[nbe][abe.kClients].delete(this[sbe])}};cbe.exports=kK});var ube=q((uYr,lbe)=>{"use strict";u();var kat={pronoun:"it",is:"is",was:"was",this:"this"},Dat={pronoun:"they",is:"are",was:"were",this:"these"};lbe.exports=class{static{o(this,"Pluralizer")}constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?kat:Dat,i=r?this.singular:this.plural;return{...n,count:e,noun:i}}}});var dbe=q((AYr,fbe)=>{"use strict";u();var{Transform:Nat}=require("node:stream"),{Console:Qat}=require("node:console"),Pat=process.versions.icu?"\u2705":"Y ",Fat=process.versions.icu?"\u274C":"N ";fbe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:e}={}){this.transform=new Nat({transform(r,n,i){i(null,r)}}),this.logger=new Qat({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:i,data:{statusCode:s},persist:a,times:c,timesInvoked:l,origin:f})=>({Method:n,Origin:f,Path:i,"Status code":s,Persistent:a?Pat:Fat,Invocations:l,Remaining:a?1/0:c-l}));return this.logger.table(r),this.transform.read().toString()}}});var mbe=q((gYr,pbe)=>{"use strict";u();var{kClients:_E}=ho(),Lat=Ex(),{kAgent:NK,kMockAgentSet:ZQ,kMockAgentGet:hbe,kDispatches:QK,kIsMockActive:eP,kNetConnect:SE,kGetNetConnect:Mat,kOptions:tP,kFactory:rP}=Sx(),Oat=BK(),Uat=DK(),{matchValue:Hat,buildMockOptions:qat}=ow(),{InvalidArgumentError:Abe,UndiciError:Gat}=li(),Vat=xS(),Wat=ube(),Yat=dbe(),PK=class extends Vat{static{o(this,"MockAgent")}constructor(e){if(super(e),this[SE]=!0,this[eP]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new Abe("Argument opts.agent must implement Agent");let r=e?.agent?e.agent:new Lat(e);this[NK]=r,this[_E]=r[_E],this[tP]=qat(e)}get(e){let r=this[hbe](e);return r||(r=this[rP](e),this[ZQ](e,r)),r}dispatch(e,r){return this.get(e.origin),this[NK].dispatch(e,r)}async close(){await this[NK].close(),this[_E].clear()}deactivate(){this[eP]=!1}activate(){this[eP]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[SE])?this[SE].push(e):this[SE]=[e];else if(typeof e>"u")this[SE]=!0;else throw new Abe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[SE]=!1}get isMockActive(){return this[eP]}[ZQ](e,r){this[_E].set(e,r)}[rP](e){let r=Object.assign({agent:this},this[tP]);return this[tP]&&this[tP].connections===1?new Oat(e,r):new Uat(e,r)}[hbe](e){let r=this[_E].get(e);if(r)return r;if(typeof e!="string"){let n=this[rP]("http://localhost:9999");return this[ZQ](e,n),n}for(let[n,i]of Array.from(this[_E]))if(i&&typeof n!="string"&&Hat(n,e)){let s=this[rP](e);return this[ZQ](e,s),s[QK]=i[QK],s}}[Mat](){return this[SE]}pendingInterceptors(){let e=this[_E];return Array.from(e.entries()).flatMap(([r,n])=>n[QK].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new Yat}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new Wat("interceptor","interceptors").pluralize(r.length);throw new Gat(`
${n.count} ${n.noun} ${n.is} pending:

${e.format(r)}
`.trim())}};pbe.exports=PK});var nP=q((EYr,Ebe)=>{"use strict";u();var gbe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:$at}=li(),zat=Ex();Cbe()===void 0&&ybe(new zat);function ybe(t){if(!t||typeof t.dispatch!="function")throw new $at("Argument agent must implement Agent");Object.defineProperty(globalThis,gbe,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(ybe,"setGlobalDispatcher");function Cbe(){return globalThis[gbe]}o(Cbe,"getGlobalDispatcher");Ebe.exports={setGlobalDispatcher:ybe,getGlobalDispatcher:Cbe}});var iP=q((xYr,Ibe)=>{"use strict";u();Ibe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var bbe=q((SYr,vbe)=>{"use strict";u();var jat=PQ();vbe.exports=t=>{let e=t?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=e,...c}=i;if(!a)return r(i,s);let l=new jat(r,a,i,s);return r(c,l)},"redirectInterceptor")}});var Tbe=q((RYr,xbe)=>{"use strict";u();var Kat=$Q();xbe.exports=t=>e=>o(function(n,i){return e(n,new Kat({...n,retryOptions:{...t,...n.retryOptions}},{handler:i,dispatch:e}))},"retryInterceptor")});var Sbe=q((NYr,_be)=>{"use strict";u();var Jat=fn(),{InvalidArgumentError:Xat,RequestAbortedError:Zat}=li(),e0t=iP(),FK=class extends e0t{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:e},r){if(super(r),e!=null&&(!Number.isFinite(e)||e<1))throw new Xat("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#s=r}onConnect(e){this.#t=e,this.#s.onConnect(this.#a.bind(this))}#a(e){this.#n=!0,this.#o=e}onHeaders(e,r,n,i){let a=Jat.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new Zat(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(e,r,n,i)}onError(e){this.#i||(e=this.#o??e,this.#s.onError(e))}onData(e){return this.#r=this.#r+e.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(e)}}};function t0t({maxSize:t}={maxSize:1024*1024}){return e=>o(function(n,i){let{dumpMaxSize:s=t}=n,a=new FK({maxSize:s},i);return e(n,a)},"Intercept")}o(t0t,"createDumpInterceptor");_be.exports=t0t});var Rbe=q((FYr,Bbe)=>{"use strict";u();var{isIP:r0t}=require("node:net"),{lookup:n0t}=require("node:dns"),i0t=iP(),{InvalidArgumentError:Bx,InformationalError:o0t}=li(),wbe=Math.pow(2,31)-1,LK=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(e){this.#e=e.maxTTL,this.#t=e.maxItems,this.dualStack=e.dualStack,this.affinity=e.affinity,this.lookup=e.lookup??this.#n,this.pick=e.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(e,r,n){let i=this.#i.get(e.hostname);if(i==null&&this.full){n(null,e.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(e,s,(a,c)=>{if(a||c==null||c.length===0){n(a??new o0t("No DNS entries found"));return}this.setRecords(e,c);let l=this.#i.get(e.hostname),f=this.pick(e,l,s.affinity),d;typeof f.port=="number"?d=`:${f.port}`:e.port!==""?d=`:${e.port}`:d="",n(null,`${e.protocol}//${f.family===6?`[${f.address}]`:f.address}${d}`)});else{let a=this.pick(e,i,s.affinity);if(a==null){this.#i.delete(e.hostname),this.runLookup(e,r,n);return}let c;typeof a.port=="number"?c=`:${a.port}`:e.port!==""?c=`:${e.port}`:c="",n(null,`${e.protocol}//${a.family===6?`[${a.address}]`:a.address}${c}`)}}#n(e,r,n){n0t(e.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let c of s)a.set(`${c.address}:${c.family}`,c);n(null,a.values())})}#r(e,r,n){let i=null,{records:s,offset:a}=r,c;if(this.dualStack?(n==null&&(a==null||a===wbe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?c=s[n]:c=s[n===4?6:4]):c=s[n],c==null||c.ips.length===0)return i;c.offset==null||c.offset===wbe?c.offset=0:c.offset++;let l=c.offset%c.ips.length;return i=c.ips[l]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(c.ips.splice(l,1),this.pick(e,r,n)):i}setRecords(e,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(e.hostname,i)}getHandler(e,r){return new MK(this,e,r)}},MK=class extends i0t{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(e,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=e,this.#i=i}onError(e){switch(e.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(e);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(e);break}}};Bbe.exports=t=>{if(t?.maxTTL!=null&&(typeof t?.maxTTL!="number"||t?.maxTTL<0))throw new Bx("Invalid maxTTL. Must be a positive number");if(t?.maxItems!=null&&(typeof t?.maxItems!="number"||t?.maxItems<1))throw new Bx("Invalid maxItems. Must be a positive number and greater than zero");if(t?.affinity!=null&&t?.affinity!==4&&t?.affinity!==6)throw new Bx("Invalid affinity. Must be either 4 or 6");if(t?.dualStack!=null&&typeof t?.dualStack!="boolean")throw new Bx("Invalid dualStack. Must be a boolean");if(t?.lookup!=null&&typeof t?.lookup!="function")throw new Bx("Invalid lookup. Must be a function");if(t?.pick!=null&&typeof t?.pick!="function")throw new Bx("Invalid pick. Must be a function");let e=t?.dualStack??!0,r;e?r=t?.affinity??null:r=t?.affinity??4;let n={maxTTL:t?.maxTTL??1e4,lookup:t?.lookup??null,pick:t?.pick??null,dualStack:e,affinity:r,maxItems:t?.maxItems??1/0},i=new LK(n);return s=>o(function(c,l){let f=c.origin.constructor===URL?c.origin:new URL(c.origin);return r0t(f.hostname)!==0?s(c,l):(i.runLookup(f,c,(d,h)=>{if(d)return l.onError(d);let A=null;A={...c,servername:f.hostname,origin:h,headers:{host:f.hostname,...c.headers}},s(A,i.getHandler({origin:f,dispatch:s,handler:l},c))}),!0)},"dnsInterceptor")}});var wE=q((OYr,Lbe)=>{"use strict";u();var{kConstruct:s0t}=ho(),{kEnumerableProperty:Rx}=fn(),{iteratorMixin:a0t,isValidHeaderName:sw,isValidHeaderValue:Dbe}=Zc(),{webidl:Wn}=Ra(),OK=require("node:assert"),oP=require("node:util"),Es=Symbol("headers map"),rl=Symbol("headers map sorted");function kbe(t){return t===10||t===13||t===9||t===32}o(kbe,"isHTTPWhiteSpaceCharCode");function Nbe(t){let e=0,r=t.length;for(;r>e&&kbe(t.charCodeAt(r-1));)--r;for(;r>e&&kbe(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}o(Nbe,"headerValueNormalize");function Qbe(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw Wn.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});UK(t,n[0],n[1])}else if(typeof e=="object"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)UK(t,r[n],e[r[n]])}else throw Wn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(Qbe,"fill");function UK(t,e,r){if(r=Nbe(r),sw(e)){if(!Dbe(r))throw Wn.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Wn.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(Fbe(t)==="immutable")throw new TypeError("immutable");return HK(t).append(e,r,!1)}o(UK,"appendHeader");function Pbe(t,e){return t[0]<e[0]?-1:1}o(Pbe,"compareHeaderName");var sP=class t{static{o(this,"HeadersList")}cookies=null;constructor(e){e instanceof t?(this[Es]=new Map(e[Es]),this[rl]=e[rl],this.cookies=e.cookies===null?null:[...e.cookies]):(this[Es]=new Map(e),this[rl]=null)}contains(e,r){return this[Es].has(r?e:e.toLowerCase())}clear(){this[Es].clear(),this[rl]=null,this.cookies=null}append(e,r,n){this[rl]=null;let i=n?e:e.toLowerCase(),s=this[Es].get(i);if(s){let a=i==="cookie"?"; ":", ";this[Es].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[Es].set(i,{name:e,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(e,r,n){this[rl]=null;let i=n?e:e.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Es].set(i,{name:e,value:r})}delete(e,r){this[rl]=null,r||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[Es].delete(e)}get(e,r){return this[Es].get(r?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:r}}of this[Es])yield[e,r]}get entries(){let e={};if(this[Es].size!==0)for(let{name:r,value:n}of this[Es].values())e[r]=n;return e}rawValues(){return this[Es].values()}get entriesList(){let e=[];if(this[Es].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Es])if(r==="set-cookie")for(let s of this.cookies)e.push([n,s]);else e.push([n,i]);return e}toSortedArray(){let e=this[Es].size,r=new Array(e);if(e<=32){if(e===0)return r;let n=this[Es][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],OK(i[1].value!==null);for(let s=1,a=0,c=0,l=0,f=0,d,h;s<e;++s){for(h=n.next().value,d=r[s]=[h[0],h[1].value],OK(d[1]!==null),l=0,c=s;l<c;)f=l+(c-l>>1),r[f][0]<=d[0]?l=f+1:c=f;if(s!==f){for(a=s;a>l;)r[a]=r[--a];r[l]=d}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[Es])r[n++]=[i,s],OK(s!==null);return r.sort(Pbe)}}},bf=class t{static{o(this,"Headers")}#e;#t;constructor(e=void 0){Wn.util.markAsUncloneable(this),e!==s0t&&(this.#t=new sP,this.#e="none",e!==void 0&&(e=Wn.converters.HeadersInit(e,"Headers contructor","init"),Qbe(this,e)))}append(e,r){Wn.brandCheck(this,t),Wn.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return e=Wn.converters.ByteString(e,n,"name"),r=Wn.converters.ByteString(r,n,"value"),UK(this,e,r)}delete(e){if(Wn.brandCheck(this,t),Wn.argumentLengthCheck(arguments,1,"Headers.delete"),e=Wn.converters.ByteString(e,"Headers.delete","name"),!sw(e))throw Wn.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){Wn.brandCheck(this,t),Wn.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(e=Wn.converters.ByteString(e,r,"name"),!sw(e))throw Wn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){Wn.brandCheck(this,t),Wn.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(e=Wn.converters.ByteString(e,r,"name"),!sw(e))throw Wn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,r){Wn.brandCheck(this,t),Wn.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(e=Wn.converters.ByteString(e,n,"name"),r=Wn.converters.ByteString(r,n,"value"),r=Nbe(r),sw(e)){if(!Dbe(r))throw Wn.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Wn.errors.invalidArgument({prefix:n,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,r,!1)}getSetCookie(){Wn.brandCheck(this,t);let e=this.#t.cookies;return e?[...e]:[]}get[rl](){if(this.#t[rl])return this.#t[rl];let e=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[rl]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let c=0;c<n.length;++c)e.push([s,n[c]]);else e.push([s,a])}return this.#t[rl]=e}[oP.inspect.custom](e,r){return r.depth??=e,`Headers ${oP.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,r){e.#e=r}static getHeadersList(e){return e.#t}static setHeadersList(e,r){e.#t=r}},{getHeadersGuard:Fbe,setHeadersGuard:c0t,getHeadersList:HK,setHeadersList:l0t}=bf;Reflect.deleteProperty(bf,"getHeadersGuard");Reflect.deleteProperty(bf,"setHeadersGuard");Reflect.deleteProperty(bf,"getHeadersList");Reflect.deleteProperty(bf,"setHeadersList");a0t("Headers",bf,rl,0,1);Object.defineProperties(bf.prototype,{append:Rx,delete:Rx,get:Rx,has:Rx,set:Rx,getSetCookie:Rx,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[oP.inspect.custom]:{enumerable:!1}});Wn.converters.HeadersInit=function(t,e,r){if(Wn.util.Type(t)==="Object"){let n=Reflect.get(t,Symbol.iterator);if(!oP.types.isProxy(t)&&n===bf.prototype.entries)try{return HK(t).entriesList}catch{}return typeof n=="function"?Wn.converters["sequence<sequence<ByteString>>"](t,e,r,n.bind(t)):Wn.converters["record<ByteString, ByteString>"](t,e,r)}throw Wn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};Lbe.exports={fill:Qbe,compareHeaderName:Pbe,Headers:bf,HeadersList:sP,getHeadersGuard:Fbe,setHeadersGuard:c0t,setHeadersList:l0t,getHeadersList:HK}});var cw=q((qYr,$be)=>{"use strict";u();var{Headers:Gbe,HeadersList:Mbe,fill:u0t,getHeadersGuard:f0t,setHeadersGuard:Vbe,setHeadersList:Wbe}=wE(),{extractBody:Obe,cloneBody:d0t,mixinBody:h0t,hasFinalizationRegistry:A0t,streamRegistry:p0t,bodyUnusable:m0t}=dx(),qK=fn(),Ube=require("node:util"),{kEnumerableProperty:nl}=qK,{isValidReasonPhrase:g0t,isCancelled:y0t,isAborted:C0t,isBlobLike:E0t,serializeJavascriptValueToJSONString:I0t,isErrorLike:v0t,isomorphicEncode:b0t,environmentSettingsObject:x0t}=Zc(),{redirectStatusSet:T0t,nullBodyStatus:_0t}=SS(),{kState:Oo,kHeaders:ZA}=Wg(),{webidl:jr}=Ra(),{FormData:S0t}=NS(),{URLSerializer:Hbe}=cc(),{kConstruct:cP}=ho(),GK=require("node:assert"),{types:w0t}=require("node:util"),B0t=new TextEncoder("utf-8"),BE=class t{static{o(this,"Response")}static error(){return aw(lP(),"immutable")}static json(e,r={}){jr.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=jr.converters.ResponseInit(r));let n=B0t.encode(I0t(e)),i=Obe(n),s=aw(kx({}),"response");return qbe(s,r,{body:i[0],type:"application/json"}),s}static redirect(e,r=302){jr.argumentLengthCheck(arguments,1,"Response.redirect"),e=jr.converters.USVString(e),r=jr.converters["unsigned short"](r);let n;try{n=new URL(e,x0t.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${e}`,{cause:a})}if(!T0t.has(r))throw new RangeError(`Invalid status code ${r}`);let i=aw(kx({}),"immutable");i[Oo].status=r;let s=b0t(Hbe(n));return i[Oo].headersList.append("location",s,!0),i}constructor(e=null,r={}){if(jr.util.markAsUncloneable(this),e===cP)return;e!==null&&(e=jr.converters.BodyInit(e)),r=jr.converters.ResponseInit(r),this[Oo]=kx({}),this[ZA]=new Gbe(cP),Vbe(this[ZA],"response"),Wbe(this[ZA],this[Oo].headersList);let n=null;if(e!=null){let[i,s]=Obe(e);n={body:i,type:s}}qbe(this,r,n)}get type(){return jr.brandCheck(this,t),this[Oo].type}get url(){jr.brandCheck(this,t);let e=this[Oo].urlList,r=e[e.length-1]??null;return r===null?"":Hbe(r,!0)}get redirected(){return jr.brandCheck(this,t),this[Oo].urlList.length>1}get status(){return jr.brandCheck(this,t),this[Oo].status}get ok(){return jr.brandCheck(this,t),this[Oo].status>=200&&this[Oo].status<=299}get statusText(){return jr.brandCheck(this,t),this[Oo].statusText}get headers(){return jr.brandCheck(this,t),this[ZA]}get body(){return jr.brandCheck(this,t),this[Oo].body?this[Oo].body.stream:null}get bodyUsed(){return jr.brandCheck(this,t),!!this[Oo].body&&qK.isDisturbed(this[Oo].body.stream)}clone(){if(jr.brandCheck(this,t),m0t(this))throw jr.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=VK(this[Oo]);return aw(e,f0t(this[ZA]))}[Ube.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Ube.formatWithOptions(r,n)}`}};h0t(BE);Object.defineProperties(BE.prototype,{type:nl,url:nl,status:nl,ok:nl,redirected:nl,statusText:nl,headers:nl,clone:nl,body:nl,bodyUsed:nl,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(BE,{json:nl,redirect:nl,error:nl});function VK(t){if(t.internalResponse)return Ybe(VK(t.internalResponse),t.type);let e=kx({...t,body:null});return t.body!=null&&(e.body=d0t(e,t.body)),e}o(VK,"cloneResponse");function kx(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...t,headersList:t?.headersList?new Mbe(t?.headersList):new Mbe,urlList:t?.urlList?[...t.urlList]:[]}}o(kx,"makeResponse");function lP(t){let e=v0t(t);return kx({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}o(lP,"makeNetworkError");function R0t(t){return t.type==="error"&&t.status===0}o(R0t,"isNetworkError");function aP(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,i){return GK(!(n in e)),r[n]=i,!0}})}o(aP,"makeFilteredResponse");function Ybe(t,e){if(e==="basic")return aP(t,{type:"basic",headersList:t.headersList});if(e==="cors")return aP(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return aP(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return aP(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});GK(!1)}o(Ybe,"filterResponse");function k0t(t,e=null){return GK(y0t(t)),C0t(t)?lP(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):lP(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}o(k0t,"makeAppropriateNetworkError");function qbe(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!g0t(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[Oo].status=e.status),"statusText"in e&&e.statusText!=null&&(t[Oo].statusText=e.statusText),"headers"in e&&e.headers!=null&&u0t(t[ZA],e.headers),r){if(_0t.includes(t.status))throw jr.errors.exception({header:"Response constructor",message:`Invalid response status code ${t.status}`});t[Oo].body=r.body,r.type!=null&&!t[Oo].headersList.contains("content-type",!0)&&t[Oo].headersList.append("content-type",r.type,!0)}}o(qbe,"initializeResponse");function aw(t,e){let r=new BE(cP);return r[Oo]=t,r[ZA]=new Gbe(cP),Wbe(r[ZA],t.headersList),Vbe(r[ZA],e),A0t&&t.body?.stream&&p0t.register(r,new WeakRef(t.body.stream)),r}o(aw,"fromInnerResponse");jr.converters.ReadableStream=jr.interfaceConverter(ReadableStream);jr.converters.FormData=jr.interfaceConverter(S0t);jr.converters.URLSearchParams=jr.interfaceConverter(URLSearchParams);jr.converters.XMLHttpRequestBodyInit=function(t,e,r){return typeof t=="string"?jr.converters.USVString(t,e,r):E0t(t)?jr.converters.Blob(t,e,r,{strict:!1}):ArrayBuffer.isView(t)||w0t.isArrayBuffer(t)?jr.converters.BufferSource(t,e,r):qK.isFormDataLike(t)?jr.converters.FormData(t,e,r,{strict:!1}):t instanceof URLSearchParams?jr.converters.URLSearchParams(t,e,r):jr.converters.DOMString(t,e,r)};jr.converters.BodyInit=function(t,e,r){return t instanceof ReadableStream?jr.converters.ReadableStream(t,e,r):t?.[Symbol.asyncIterator]?t:jr.converters.XMLHttpRequestBodyInit(t,e,r)};jr.converters.ResponseInit=jr.dictionaryConverter([{key:"status",converter:jr.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:jr.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:jr.converters.HeadersInit}]);$be.exports={isNetworkError:R0t,makeNetworkError:lP,makeResponse:kx,makeAppropriateNetworkError:k0t,filterResponse:Ybe,Response:BE,cloneResponse:VK,fromInnerResponse:aw}});var Jbe=q((WYr,Kbe)=>{"use strict";u();var{kConnected:zbe,kSize:jbe}=ho(),WK=class{static{o(this,"CompatWeakRef")}constructor(e){this.value=e}deref(){return this.value[zbe]===0&&this.value[jbe]===0?void 0:this.value}},YK=class{static{o(this,"CompatFinalizer")}constructor(e){this.finalizer=e}register(e,r){e.on&&e.on("disconnect",()=>{e[zbe]===0&&e[jbe]===0&&this.finalizer(r)})}unregister(e){}};Kbe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:WK,FinalizationRegistry:YK}):{WeakRef,FinalizationRegistry}}});var Dx=q((zYr,dxe)=>{"use strict";u();var{extractBody:D0t,mixinBody:N0t,cloneBody:Q0t,bodyUnusable:Xbe}=dx(),{Headers:axe,fill:P0t,HeadersList:hP,setHeadersGuard:zK,getHeadersGuard:F0t,setHeadersList:cxe,getHeadersList:Zbe}=wE(),{FinalizationRegistry:L0t}=Jbe()(),fP=fn(),exe=require("node:util"),{isValidHTTPToken:M0t,sameOrigin:txe,environmentSettingsObject:uP}=Zc(),{forbiddenMethodsSet:O0t,corsSafeListedMethodsSet:U0t,referrerPolicy:H0t,requestRedirect:q0t,requestMode:G0t,requestCredentials:V0t,requestCache:W0t,requestDuplex:Y0t}=SS(),{kEnumerableProperty:Is,normalizedMethodRecordsBase:$0t,normalizedMethodRecords:z0t}=fP,{kHeaders:il,kSignal:dP,kState:eo,kDispatcher:$K}=Wg(),{webidl:fr}=Ra(),{URLSerializer:j0t}=cc(),{kConstruct:AP}=ho(),K0t=require("node:assert"),{getMaxListeners:rxe,setMaxListeners:nxe,getEventListeners:J0t,defaultMaxListeners:ixe}=require("node:events"),X0t=Symbol("abortController"),lxe=new L0t(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),pP=new WeakMap;function oxe(t){return e;function e(){let r=t.deref();if(r!==void 0){lxe.unregister(e),this.removeEventListener("abort",e),r.abort(this.reason);let n=pP.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}pP.delete(r.signal)}}}}o(oxe,"buildAbort");var sxe=!1,r1=class t{static{o(this,"Request")}constructor(e,r={}){if(fr.util.markAsUncloneable(this),e===AP)return;let n="Request constructor";fr.argumentLengthCheck(arguments,1,n),e=fr.converters.RequestInfo(e,n,"input"),r=fr.converters.RequestInit(r,n,"init");let i=null,s=null,a=uP.settingsObject.baseUrl,c=null;if(typeof e=="string"){this[$K]=r.dispatcher;let T;try{T=new URL(e,a)}catch(S){throw new TypeError("Failed to parse URL from "+e,{cause:S})}if(T.username||T.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);i=mP({urlList:[T]}),s="cors"}else this[$K]=r.dispatcher||e[$K],K0t(e instanceof t),i=e[eo],c=e[dP];let l=uP.settingsObject.origin,f="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&txe(i.window,l)&&(f=i.window),r.window!=null)throw new TypeError(`'window' option '${f}' must be null`);"window"in r&&(f="no-window"),i=mP({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:uP.settingsObject,window:f,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let d=Object.keys(r).length!==0;if(d&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let T=r.referrer;if(T==="")i.referrer="no-referrer";else{let S;try{S=new URL(T,a)}catch(D){throw new TypeError(`Referrer "${T}" is not a valid URL.`,{cause:D})}S.protocol==="about:"&&S.hostname==="client"||l&&!txe(S,uP.settingsObject.baseUrl)?i.referrer="client":i.referrer=S}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let h;if(r.mode!==void 0?h=r.mode:h=s,h==="navigate")throw fr.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(h!=null&&(i.mode=h),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let T=r.method,S=z0t[T];if(S!==void 0)i.method=S;else{if(!M0t(T))throw new TypeError(`'${T}' is not a valid HTTP method.`);let D=T.toUpperCase();if(O0t.has(D))throw new TypeError(`'${T}' HTTP method is unsupported.`);T=$0t[D]??T,i.method=T}!sxe&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),sxe=!0)}r.signal!==void 0&&(c=r.signal),this[eo]=i;let A=new AbortController;if(this[dP]=A.signal,c!=null){if(!c||typeof c.aborted!="boolean"||typeof c.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(c.aborted)A.abort(c.reason);else{this[X0t]=A;let T=new WeakRef(A),S=oxe(T);try{(typeof rxe=="function"&&rxe(c)===ixe||J0t(c,"abort").length>=ixe)&&nxe(1500,c)}catch{}fP.addAbortListener(c,S),lxe.register(A,{signal:c,abort:S},S)}}if(this[il]=new axe(AP),cxe(this[il],i.headersList),zK(this[il],"request"),h==="no-cors"){if(!U0t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);zK(this[il],"request-no-cors")}if(d){let T=Zbe(this[il]),S=r.headers!==void 0?r.headers:new hP(T);if(T.clear(),S instanceof hP){for(let{name:D,value:Q}of S.rawValues())T.append(D,Q,!1);T.cookies=S.cookies}else P0t(this[il],S)}let g=e instanceof t?e[eo].body:null;if((r.body!=null||g!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let y=null;if(r.body!=null){let[T,S]=D0t(r.body,i.keepalive);y=T,S&&!Zbe(this[il]).contains("content-type",!0)&&this[il].append("content-type",S)}let v=y??g;if(v!=null&&v.source==null){if(y!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let _=v;if(y==null&&g!=null){if(Xbe(e))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let T=new TransformStream;g.stream.pipeThrough(T),_={source:g.source,length:g.length,stream:T.readable}}this[eo].body=_}get method(){return fr.brandCheck(this,t),this[eo].method}get url(){return fr.brandCheck(this,t),j0t(this[eo].url)}get headers(){return fr.brandCheck(this,t),this[il]}get destination(){return fr.brandCheck(this,t),this[eo].destination}get referrer(){return fr.brandCheck(this,t),this[eo].referrer==="no-referrer"?"":this[eo].referrer==="client"?"about:client":this[eo].referrer.toString()}get referrerPolicy(){return fr.brandCheck(this,t),this[eo].referrerPolicy}get mode(){return fr.brandCheck(this,t),this[eo].mode}get credentials(){return this[eo].credentials}get cache(){return fr.brandCheck(this,t),this[eo].cache}get redirect(){return fr.brandCheck(this,t),this[eo].redirect}get integrity(){return fr.brandCheck(this,t),this[eo].integrity}get keepalive(){return fr.brandCheck(this,t),this[eo].keepalive}get isReloadNavigation(){return fr.brandCheck(this,t),this[eo].reloadNavigation}get isHistoryNavigation(){return fr.brandCheck(this,t),this[eo].historyNavigation}get signal(){return fr.brandCheck(this,t),this[dP]}get body(){return fr.brandCheck(this,t),this[eo].body?this[eo].body.stream:null}get bodyUsed(){return fr.brandCheck(this,t),!!this[eo].body&&fP.isDisturbed(this[eo].body.stream)}get duplex(){return fr.brandCheck(this,t),"half"}clone(){if(fr.brandCheck(this,t),Xbe(this))throw new TypeError("unusable");let e=uxe(this[eo]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=pP.get(this.signal);n===void 0&&(n=new Set,pP.set(this.signal,n));let i=new WeakRef(r);n.add(i),fP.addAbortListener(r.signal,oxe(i))}return fxe(e,r.signal,F0t(this[il]))}[exe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${exe.formatWithOptions(r,n)}`}};N0t(r1);function mP(t){return{method:t.method??"GET",localURLsOnly:t.localURLsOnly??!1,unsafeRequest:t.unsafeRequest??!1,body:t.body??null,client:t.client??null,reservedClient:t.reservedClient??null,replacesClientId:t.replacesClientId??"",window:t.window??"client",keepalive:t.keepalive??!1,serviceWorkers:t.serviceWorkers??"all",initiator:t.initiator??"",destination:t.destination??"",priority:t.priority??null,origin:t.origin??"client",policyContainer:t.policyContainer??"client",referrer:t.referrer??"client",referrerPolicy:t.referrerPolicy??"",mode:t.mode??"no-cors",useCORSPreflightFlag:t.useCORSPreflightFlag??!1,credentials:t.credentials??"same-origin",useCredentials:t.useCredentials??!1,cache:t.cache??"default",redirect:t.redirect??"follow",integrity:t.integrity??"",cryptoGraphicsNonceMetadata:t.cryptoGraphicsNonceMetadata??"",parserMetadata:t.parserMetadata??"",reloadNavigation:t.reloadNavigation??!1,historyNavigation:t.historyNavigation??!1,userActivation:t.userActivation??!1,taintedOrigin:t.taintedOrigin??!1,redirectCount:t.redirectCount??0,responseTainting:t.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:t.preventNoCacheCacheControlHeaderModification??!1,done:t.done??!1,timingAllowFailed:t.timingAllowFailed??!1,urlList:t.urlList,url:t.urlList[0],headersList:t.headersList?new hP(t.headersList):new hP}}o(mP,"makeRequest");function uxe(t){let e=mP({...t,body:null});return t.body!=null&&(e.body=Q0t(e,t.body)),e}o(uxe,"cloneRequest");function fxe(t,e,r){let n=new r1(AP);return n[eo]=t,n[dP]=e,n[il]=new axe(AP),cxe(n[il],t.headersList),zK(n[il],r),n}o(fxe,"fromInnerRequest");Object.defineProperties(r1.prototype,{method:Is,url:Is,headers:Is,redirect:Is,clone:Is,signal:Is,duplex:Is,destination:Is,body:Is,bodyUsed:Is,isHistoryNavigation:Is,isReloadNavigation:Is,keepalive:Is,integrity:Is,cache:Is,credentials:Is,attribute:Is,referrerPolicy:Is,referrer:Is,mode:Is,[Symbol.toStringTag]:{value:"Request",configurable:!0}});fr.converters.Request=fr.interfaceConverter(r1);fr.converters.RequestInfo=function(t,e,r){return typeof t=="string"?fr.converters.USVString(t,e,r):t instanceof r1?fr.converters.Request(t,e,r):fr.converters.USVString(t,e,r)};fr.converters.AbortSignal=fr.interfaceConverter(AbortSignal);fr.converters.RequestInit=fr.dictionaryConverter([{key:"method",converter:fr.converters.ByteString},{key:"headers",converter:fr.converters.HeadersInit},{key:"body",converter:fr.nullableConverter(fr.converters.BodyInit)},{key:"referrer",converter:fr.converters.USVString},{key:"referrerPolicy",converter:fr.converters.DOMString,allowedValues:H0t},{key:"mode",converter:fr.converters.DOMString,allowedValues:G0t},{key:"credentials",converter:fr.converters.DOMString,allowedValues:V0t},{key:"cache",converter:fr.converters.DOMString,allowedValues:W0t},{key:"redirect",converter:fr.converters.DOMString,allowedValues:q0t},{key:"integrity",converter:fr.converters.DOMString},{key:"keepalive",converter:fr.converters.boolean},{key:"signal",converter:fr.nullableConverter(t=>fr.converters.AbortSignal(t,"RequestInit","signal",{strict:!1}))},{key:"window",converter:fr.converters.any},{key:"duplex",converter:fr.converters.DOMString,allowedValues:Y0t},{key:"dispatcher",converter:fr.converters.any}]);dxe.exports={Request:r1,makeRequest:mP,fromInnerRequest:fxe,cloneRequest:uxe}});var uw=q((JYr,Sxe)=>{"use strict";u();var{makeNetworkError:vi,makeAppropriateNetworkError:gP,filterResponse:jK,makeResponse:yP,fromInnerResponse:Z0t}=cw(),{HeadersList:hxe}=wE(),{Request:ect,cloneRequest:tct}=Dx(),n1=require("node:zlib"),{bytesMatch:rct,makePolicyContainer:nct,clonePolicyContainer:ict,requestBadPort:oct,TAOCheck:sct,appendRequestOriginHeader:act,responseLocationURL:cct,requestCurrentURL:lh,setRequestReferrerPolicyOnRedirect:lct,tryUpgradeRequestToAPotentiallyTrustworthyURL:uct,createOpaqueTimingInfo:eJ,appendFetchMetadata:fct,corsCheck:dct,crossOriginResourcePolicyCheck:hct,determineRequestsReferrer:Act,coarsenedSharedCurrentTime:lw,createDeferredPromise:pct,isBlobLike:mct,sameOrigin:ZK,isCancelled:RE,isAborted:Axe,isErrorLike:gct,fullyReadBody:yct,readableStreamClose:Cct,isomorphicEncode:CP,urlIsLocal:Ect,urlIsHttpHttpsScheme:tJ,urlHasHttpsScheme:Ict,clampAndCoarsenConnectionTimingInfo:vct,simpleRangeHeaderValue:bct,buildContentRange:xct,createInflate:Tct,extractMimeType:_ct}=Zc(),{kState:yxe,kDispatcher:Sct}=Wg(),kE=require("node:assert"),{safelyExtractBody:rJ,extractBody:pxe}=dx(),{redirectStatusSet:Cxe,nullBodyStatus:Exe,safeMethodsSet:wct,requestBodyHeader:Bct,subresourceSet:Rct}=SS(),kct=require("node:events"),{Readable:Dct,pipeline:Nct,finished:Qct}=require("node:stream"),{addAbortListener:Pct,isErrored:Fct,isReadable:EP,bufferToLowerCasedHeaderName:mxe}=fn(),{dataURLProcessor:Lct,serializeAMimeType:Mct,minimizeSupportedMimeType:Oct}=cc(),{getGlobalDispatcher:Uct}=nP(),{webidl:Hct}=Ra(),{STATUS_CODES:qct}=require("node:http"),Gct=["GET","HEAD"],Vct=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",KK,IP=class extends kct{static{o(this,"Fetch")}constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function Wct(t){Ixe(t,"fetch")}o(Wct,"handleFetchDone");function Yct(t,e=void 0){Hct.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=pct(),n;try{n=new ect(t,e)}catch(d){return r.reject(d),r.promise}let i=n[yxe];if(n.signal.aborted)return JK(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,c=!1,l=null;return Pct(n.signal,()=>{c=!0,kE(l!=null),l.abort(n.signal.reason);let d=a?.deref();JK(r,i,d,n.signal.reason)}),l=bxe({request:i,processResponseEndOfBody:Wct,processResponse:o(d=>{if(!c){if(d.aborted){JK(r,i,a,l.serializedAbortReason);return}if(d.type==="error"){r.reject(new TypeError("fetch failed",{cause:d.error}));return}a=new WeakRef(Z0t(d,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[Sct]}),r.promise}o(Yct,"fetch");function Ixe(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,i=t.cacheState;tJ(r)&&n!==null&&(t.timingAllowPassed||(n=eJ({startTime:n.startTime}),i=""),n.endTime=lw(),t.timingInfo=n,vxe(n,r.href,e,globalThis,i))}o(Ixe,"finalizeAndReportTiming");var vxe=performance.markResourceTiming;function JK(t,e,r,n){if(t&&t.reject(n),e.body!=null&&EP(e.body?.stream)&&e.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[yxe];i.body!=null&&EP(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(JK,"abortFetch");function bxe({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:c=Uct()}){kE(c);let l=null,f=!1;t.client!=null&&(l=t.client.globalObject,f=t.client.crossOriginIsolatedCapability);let d=lw(f),h=eJ({startTime:d}),A={controller:new IP(c),request:t,timingInfo:h,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:l,crossOriginIsolatedCapability:f};return kE(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=ict(t.client.policyContainer):t.policyContainer=nct()),t.headersList.contains("accept",!0)||t.headersList.append("accept","*/*",!0),t.headersList.contains("accept-language",!0)||t.headersList.append("accept-language","*",!0),t.priority,Rct.has(t.destination),xxe(A).catch(g=>{A.controller.terminate(g)}),A.controller}o(bxe,"fetching");async function xxe(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!Ect(lh(r))&&(n=vi("local URLs only")),uct(r),oct(r)==="blocked"&&(n=vi("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=Act(r)),n===null&&(n=await(async()=>{let s=lh(r);return ZK(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await gxe(t)):r.mode==="same-origin"?vi('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?vi('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await gxe(t)):tJ(lh(r))?(r.responseTainting="cors",await Txe(t)):vi("URL scheme must be a HTTP(S) scheme")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=jK(n,"basic"):r.responseTainting==="cors"?n=jK(n,"cors"):r.responseTainting==="opaque"?n=jK(n,"opaque"):kE(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=vi()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||Exe.includes(i.status))&&(i.body=null,t.controller.dump=!0),r.integrity){let s=o(c=>XK(t,vi(c)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(c=>{if(!rct(c,r.integrity)){s("integrity mismatch");return}n.body=rJ(c)[0],XK(t,n)},"processBody");await yct(n.body,a,s)}else XK(t,n)}o(xxe,"mainFetch");function gxe(t){if(RE(t)&&t.request.redirectCount===0)return Promise.resolve(gP(t));let{request:e}=t,{protocol:r}=lh(e);switch(r){case"about:":return Promise.resolve(vi("about scheme is not supported"));case"blob:":{KK||(KK=require("node:buffer").resolveObjectURL);let n=lh(e);if(n.search.length!==0)return Promise.resolve(vi("NetworkError when attempting to fetch resource."));let i=KK(n.toString());if(e.method!=="GET"||!mct(i))return Promise.resolve(vi("invalid method"));let s=yP(),a=i.size,c=CP(`${a}`),l=i.type;if(e.headersList.contains("range",!0)){s.rangeRequested=!0;let f=e.headersList.get("range",!0),d=bct(f,!0);if(d==="failure")return Promise.resolve(vi("failed to fetch the data URL"));let{rangeStartValue:h,rangeEndValue:A}=d;if(h===null)h=a-A,A=h+A-1;else{if(h>=a)return Promise.resolve(vi("Range start is greater than the blob's size."));(A===null||A>=a)&&(A=a-1)}let g=i.slice(h,A,l),y=pxe(g);s.body=y[0];let v=CP(`${g.size}`),_=xct(h,A,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",v,!0),s.headersList.set("content-type",l,!0),s.headersList.set("content-range",_,!0)}else{let f=pxe(i);s.statusText="OK",s.body=f[0],s.headersList.set("content-length",c,!0),s.headersList.set("content-type",l,!0)}return Promise.resolve(s)}case"data:":{let n=lh(e),i=Lct(n);if(i==="failure")return Promise.resolve(vi("failed to fetch the data URL"));let s=Mct(i.mimeType);return Promise.resolve(yP({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:rJ(i.body)[0]}))}case"file:":return Promise.resolve(vi("not implemented... yet..."));case"http:":case"https:":return Txe(t).catch(n=>vi(n));default:return Promise.resolve(vi("unknown scheme"))}}o(gxe,"schemeFetch");function $ct(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}o($ct,"finalizeResponse");function XK(t,e){let r=t.timingInfo,n=o(()=>{let s=Date.now();t.request.destination==="document"&&(t.controller.fullTimingInfo=r),t.controller.reportTimingSteps=()=>{if(t.request.url.protocol!=="https:")return;r.endTime=s;let c=e.cacheState,l=e.bodyInfo;e.timingAllowPassed||(r=eJ(r),c="");let f=0;if(t.request.mode!=="navigator"||!e.hasCrossOriginRedirects){f=e.status;let d=_ct(e.headersList);d!=="failure"&&(l.contentType=Oct(d))}t.request.initiatorType!=null&&vxe(r,t.request.url.href,t.request.initiatorType,globalThis,c,l,f)};let a=o(()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e)),t.request.initiatorType!=null&&t.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");t.processResponse!=null&&queueMicrotask(()=>{t.processResponse(e),t.processResponse=null});let i=e.type==="error"?e:e.internalResponse??e;i.body==null?n():Qct(i.body.stream,()=>{n()})}o(XK,"fetchFinale");async function Txe(t){let e=t.request,r=null,n=null,i=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),n=r=await _xe(t),e.responseTainting==="cors"&&dct(e,r)==="failure")return vi("cors failure");sct(e,r)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||r.type==="opaque")&&hct(e.origin,e.client,e.destination,n)==="blocked"?vi("blocked"):(Cxe.has(n.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(void 0,!1),e.redirect==="error"?r=vi("unexpected redirect"):e.redirect==="manual"?r=n:e.redirect==="follow"?r=await zct(t,r):kE(!1)),r.timingInfo=i,r)}o(Txe,"httpFetch");function zct(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,i;try{if(i=cct(n,lh(r).hash),i==null)return e}catch(a){return Promise.resolve(vi(a))}if(!tJ(i))return Promise.resolve(vi("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(vi("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!ZK(r,i))return Promise.resolve(vi('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(vi('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(vi());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Gct.includes(r.method)){r.method="GET",r.body=null;for(let a of Bct)r.headersList.delete(a)}ZK(lh(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(kE(r.body.source!=null),r.body=rJ(r.body.source)[0]);let s=t.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=lw(t.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),lct(r,n),xxe(t,!0)}o(zct,"httpRedirectFetch");async function _xe(t,e=!1,r=!1){let n=t.request,i=null,s=null,a=null,c=null,l=!1;n.window==="no-window"&&n.redirect==="error"?(i=t,s=n):(s=tct(n),i={...t},i.request=s);let f=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",d=s.body?s.body.length:null,h=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(h="0"),d!=null&&(h=CP(`${d}`)),h!=null&&s.headersList.append("content-length",h,!0),d!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",CP(s.referrer.href),!0),act(s),fct(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",Vct),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(Ict(lh(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),c==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return vi("only if cached");let A=await jct(i,f,r);!wct.has(s.method)&&A.status>=200&&A.status<=399,l&&A.status,a==null&&(a=A)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=f,a.status===407)return n.window==="no-window"?vi():RE(t)?gP(t):vi("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(RE(t))return gP(t);t.controller.connection.destroy(),a=await _xe(t,e,!0)}return a}o(_xe,"httpNetworkOrCacheFetch");async function jct(t,e=!1,r=!1){kE(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(y,v=!0){this.destroyed||(this.destroyed=!0,v&&this.abort?.(y??new DOMException("The operation was aborted.","AbortError")))}};let n=t.request,i=null,s=t.timingInfo;null==null&&(n.cache="no-store");let c=r?"yes":"no";n.mode;let l=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let y=o(async function*(T){RE(t)||(yield T,t.processRequestBodyChunkLength?.(T.byteLength))},"processBodyChunk"),v=o(()=>{RE(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},"processEndOfBody"),_=o(T=>{RE(t)||(T.name==="AbortError"?t.controller.abort():t.controller.terminate(T))},"processBodyError");l=async function*(){try{for await(let T of n.body.stream)yield*y(T);v()}catch(T){_(T)}}()}try{let{body:y,status:v,statusText:_,headersList:T,socket:S}=await g({body:l});if(S)i=yP({status:v,statusText:_,headersList:T,socket:S});else{let D=y[Symbol.asyncIterator]();t.controller.next=()=>D.next(),i=yP({status:v,statusText:_,headersList:T})}}catch(y){return y.name==="AbortError"?(t.controller.connection.destroy(),gP(t,y)):vi(y)}let f=o(async()=>{await t.controller.resume()},"pullAlgorithm"),d=o(y=>{RE(t)||t.controller.abort(y)},"cancelAlgorithm"),h=new ReadableStream({async start(y){t.controller.controller=y},async pull(y){await f(y)},async cancel(y){await d(y)},type:"bytes"});i.body={stream:h,source:null,length:null},t.controller.onAborted=A,t.controller.on("terminated",A),t.controller.resume=async()=>{for(;;){let y,v;try{let{done:T,value:S}=await t.controller.next();if(Axe(t))break;y=T?void 0:S}catch(T){t.controller.ended&&!s.encodedBodySize?y=void 0:(y=T,v=!0)}if(y===void 0){Cct(t.controller.controller),$ct(t,i);return}if(s.decodedBodySize+=y?.byteLength??0,v){t.controller.terminate(y);return}let _=new Uint8Array(y);if(_.byteLength&&t.controller.controller.enqueue(_),Fct(h)){t.controller.terminate();return}if(t.controller.controller.desiredSize<=0)return}};function A(y){Axe(t)?(i.aborted=!0,EP(h)&&t.controller.controller.error(t.controller.serializedAbortReason)):EP(h)&&t.controller.controller.error(new TypeError("terminated",{cause:gct(y)?y:void 0})),t.controller.connection.destroy()}return o(A,"onAborted"),i;function g({body:y}){let v=lh(n),_=t.controller.dispatcher;return new Promise((T,S)=>_.dispatch({path:v.pathname+v.search,origin:v.origin,method:n.method,body:_.isMockActive?n.body&&(n.body.source||n.body.stream):y,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(D){let{connection:Q}=t.controller;s.finalConnectionTimingInfo=vct(void 0,s.postRedirectStartTime,t.crossOriginIsolatedCapability),Q.destroyed?D(new DOMException("The operation was aborted.","AbortError")):(t.controller.on("terminated",D),this.abort=Q.abort=D),s.finalNetworkRequestStartTime=lw(t.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=lw(t.crossOriginIsolatedCapability)},onHeaders(D,Q,k,P){if(D<200)return;let W=[],re="",ye=new hxe;for(let ue=0;ue<Q.length;ue+=2)ye.append(mxe(Q[ue]),Q[ue+1].toString("latin1"),!0);let Ae=ye.get("content-encoding",!0);Ae&&(W=Ae.toLowerCase().split(",").map(ue=>ue.trim())),re=ye.get("location",!0),this.body=new Dct({read:k});let z=[],j=re&&n.redirect==="follow"&&Cxe.has(D);if(W.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!Exe.includes(D)&&!j)for(let ue=W.length-1;ue>=0;--ue){let J=W[ue];if(J==="x-gzip"||J==="gzip")z.push(n1.createGunzip({flush:n1.constants.Z_SYNC_FLUSH,finishFlush:n1.constants.Z_SYNC_FLUSH}));else if(J==="deflate")z.push(Tct({flush:n1.constants.Z_SYNC_FLUSH,finishFlush:n1.constants.Z_SYNC_FLUSH}));else if(J==="br")z.push(n1.createBrotliDecompress({flush:n1.constants.BROTLI_OPERATION_FLUSH,finishFlush:n1.constants.BROTLI_OPERATION_FLUSH}));else{z.length=0;break}}let Ie=this.onError.bind(this);return T({status:D,statusText:P,headersList:ye,body:z.length?Nct(this.body,...z,ue=>{ue&&this.onError(ue)}).on("error",Ie):this.body.on("error",Ie)}),!0},onData(D){if(t.controller.dump)return;let Q=D;return s.encodedBodySize+=Q.byteLength,this.body.push(Q)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.onAborted&&t.controller.off("terminated",t.controller.onAborted),t.controller.ended=!0,this.body.push(null)},onError(D){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(D),t.controller.terminate(D),S(D)},onUpgrade(D,Q,k){if(D!==101)return;let P=new hxe;for(let W=0;W<Q.length;W+=2)P.append(mxe(Q[W]),Q[W+1].toString("latin1"),!0);return T({status:D,statusText:qct[D],headersList:P,socket:k}),!0}}))}o(g,"dispatch")}o(jct,"httpNetworkFetch");Sxe.exports={fetch:Yct,Fetch:IP,fetching:bxe,finalizeAndReportTiming:Ixe}});var nJ=q((e$r,wxe)=>{"use strict";u();wxe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var Rxe=q((r$r,Bxe)=>{"use strict";u();var{webidl:ol}=Ra(),vP=Symbol("ProgressEvent state"),iJ=class t extends Event{static{o(this,"ProgressEvent")}constructor(e,r={}){e=ol.converters.DOMString(e,"ProgressEvent constructor","type"),r=ol.converters.ProgressEventInit(r??{}),super(e,r),this[vP]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return ol.brandCheck(this,t),this[vP].lengthComputable}get loaded(){return ol.brandCheck(this,t),this[vP].loaded}get total(){return ol.brandCheck(this,t),this[vP].total}};ol.converters.ProgressEventInit=ol.dictionaryConverter([{key:"lengthComputable",converter:ol.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:ol.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:ol.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:ol.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:ol.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:ol.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);Bxe.exports={ProgressEvent:iJ}});var Dxe=q((o$r,kxe)=>{"use strict";u();function Kct(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(Kct,"getEncoding");kxe.exports={getEncoding:Kct}});var Uxe=q((c$r,Oxe)=>{"use strict";u();var{kState:Nx,kError:oJ,kResult:Nxe,kAborted:fw,kLastProgressEventFired:sJ}=nJ(),{ProgressEvent:Jct}=Rxe(),{getEncoding:Qxe}=Dxe(),{serializeAMimeType:Xct,parseMIMEType:Pxe}=cc(),{types:Zct}=require("node:util"),{StringDecoder:Fxe}=require("string_decoder"),{btoa:Lxe}=require("node:buffer"),elt={enumerable:!0,writable:!1,configurable:!1};function tlt(t,e,r,n){if(t[Nx]==="loading")throw new DOMException("Invalid state","InvalidStateError");t[Nx]="loading",t[Nxe]=null,t[oJ]=null;let s=e.stream().getReader(),a=[],c=s.read(),l=!0;(async()=>{for(;!t[fw];)try{let{done:f,value:d}=await c;if(l&&!t[fw]&&queueMicrotask(()=>{i1("loadstart",t)}),l=!1,!f&&Zct.isUint8Array(d))a.push(d),(t[sJ]===void 0||Date.now()-t[sJ]>=50)&&!t[fw]&&(t[sJ]=Date.now(),queueMicrotask(()=>{i1("progress",t)})),c=s.read();else if(f){queueMicrotask(()=>{t[Nx]="done";try{let h=rlt(a,r,e.type,n);if(t[fw])return;t[Nxe]=h,i1("load",t)}catch(h){t[oJ]=h,i1("error",t)}t[Nx]!=="loading"&&i1("loadend",t)});break}}catch(f){if(t[fw])return;queueMicrotask(()=>{t[Nx]="done",t[oJ]=f,i1("error",t),t[Nx]!=="loading"&&i1("loadend",t)});break}})()}o(tlt,"readOperation");function i1(t,e){let r=new Jct(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}o(i1,"fireAProgressEvent");function rlt(t,e,r,n){switch(e){case"DataURL":{let i="data:",s=Pxe(r||"application/octet-stream");s!=="failure"&&(i+=Xct(s)),i+=";base64,";let a=new Fxe("latin1");for(let c of t)i+=Lxe(a.write(c));return i+=Lxe(a.end()),i}case"Text":{let i="failure";if(n&&(i=Qxe(n)),i==="failure"&&r){let s=Pxe(r);s!=="failure"&&(i=Qxe(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),nlt(t,i)}case"ArrayBuffer":return Mxe(t).buffer;case"BinaryString":{let i="",s=new Fxe("latin1");for(let a of t)i+=s.write(a);return i+=s.end(),i}}}o(rlt,"packageData");function nlt(t,e){let r=Mxe(t),n=ilt(r),i=0;n!==null&&(e=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(e).decode(s)}o(nlt,"decode");function ilt(t){let[e,r,n]=t;return e===239&&r===187&&n===191?"UTF-8":e===254&&r===255?"UTF-16BE":e===255&&r===254?"UTF-16LE":null}o(ilt,"BOMSniffing");function Mxe(t){let e=t.reduce((n,i)=>n+i.byteLength,0),r=0;return t.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(e))}o(Mxe,"combineByteSequences");Oxe.exports={staticPropertyDescriptors:elt,readOperation:tlt,fireAProgressEvent:i1}});var Vxe=q((f$r,Gxe)=>{"use strict";u();var{staticPropertyDescriptors:Qx,readOperation:bP,fireAProgressEvent:Hxe}=Uxe(),{kState:DE,kError:qxe,kResult:xP,kEvents:ui,kAborted:olt}=nJ(),{webidl:Si}=Ra(),{kEnumerableProperty:fc}=fn(),xf=class t extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[DE]="empty",this[xP]=null,this[qxe]=null,this[ui]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Si.converters.Blob(e,{strict:!1}),bP(this,e,"ArrayBuffer")}readAsBinaryString(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Si.converters.Blob(e,{strict:!1}),bP(this,e,"BinaryString")}readAsText(e,r=void 0){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Si.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Si.converters.DOMString(r,"FileReader.readAsText","encoding")),bP(this,e,"Text",r)}readAsDataURL(e){Si.brandCheck(this,t),Si.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Si.converters.Blob(e,{strict:!1}),bP(this,e,"DataURL")}abort(){if(this[DE]==="empty"||this[DE]==="done"){this[xP]=null;return}this[DE]==="loading"&&(this[DE]="done",this[xP]=null),this[olt]=!0,Hxe("abort",this),this[DE]!=="loading"&&Hxe("loadend",this)}get readyState(){switch(Si.brandCheck(this,t),this[DE]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Si.brandCheck(this,t),this[xP]}get error(){return Si.brandCheck(this,t),this[qxe]}get onloadend(){return Si.brandCheck(this,t),this[ui].loadend}set onloadend(e){Si.brandCheck(this,t),this[ui].loadend&&this.removeEventListener("loadend",this[ui].loadend),typeof e=="function"?(this[ui].loadend=e,this.addEventListener("loadend",e)):this[ui].loadend=null}get onerror(){return Si.brandCheck(this,t),this[ui].error}set onerror(e){Si.brandCheck(this,t),this[ui].error&&this.removeEventListener("error",this[ui].error),typeof e=="function"?(this[ui].error=e,this.addEventListener("error",e)):this[ui].error=null}get onloadstart(){return Si.brandCheck(this,t),this[ui].loadstart}set onloadstart(e){Si.brandCheck(this,t),this[ui].loadstart&&this.removeEventListener("loadstart",this[ui].loadstart),typeof e=="function"?(this[ui].loadstart=e,this.addEventListener("loadstart",e)):this[ui].loadstart=null}get onprogress(){return Si.brandCheck(this,t),this[ui].progress}set onprogress(e){Si.brandCheck(this,t),this[ui].progress&&this.removeEventListener("progress",this[ui].progress),typeof e=="function"?(this[ui].progress=e,this.addEventListener("progress",e)):this[ui].progress=null}get onload(){return Si.brandCheck(this,t),this[ui].load}set onload(e){Si.brandCheck(this,t),this[ui].load&&this.removeEventListener("load",this[ui].load),typeof e=="function"?(this[ui].load=e,this.addEventListener("load",e)):this[ui].load=null}get onabort(){return Si.brandCheck(this,t),this[ui].abort}set onabort(e){Si.brandCheck(this,t),this[ui].abort&&this.removeEventListener("abort",this[ui].abort),typeof e=="function"?(this[ui].abort=e,this.addEventListener("abort",e)):this[ui].abort=null}};xf.EMPTY=xf.prototype.EMPTY=0;xf.LOADING=xf.prototype.LOADING=1;xf.DONE=xf.prototype.DONE=2;Object.defineProperties(xf.prototype,{EMPTY:Qx,LOADING:Qx,DONE:Qx,readAsArrayBuffer:fc,readAsBinaryString:fc,readAsText:fc,readAsDataURL:fc,abort:fc,readyState:fc,result:fc,error:fc,onloadstart:fc,onprogress:fc,onload:fc,onabort:fc,onerror:fc,onloadend:fc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(xf,{EMPTY:Qx,LOADING:Qx,DONE:Qx});Gxe.exports={FileReader:xf}});var TP=q((A$r,Wxe)=>{"use strict";u();Wxe.exports={kConstruct:ho().kConstruct}});var zxe=q((m$r,$xe)=>{"use strict";u();var slt=require("node:assert"),{URLSerializer:Yxe}=cc(),{isValidHeaderName:alt}=Zc();function clt(t,e,r=!1){let n=Yxe(t,r),i=Yxe(e,r);return n===i}o(clt,"urlEquals");function llt(t){slt(t!==null);let e=[];for(let r of t.split(","))r=r.trim(),alt(r)&&e.push(r);return e}o(llt,"getFieldValues");$xe.exports={urlEquals:clt,getFieldValues:llt}});var Jxe=q((C$r,Kxe)=>{"use strict";u();var{kConstruct:ult}=TP(),{urlEquals:flt,getFieldValues:aJ}=zxe(),{kEnumerableProperty:NE,isDisturbed:dlt}=fn(),{webidl:Xt}=Ra(),{Response:hlt,cloneResponse:Alt,fromInnerResponse:plt}=cw(),{Request:ep,fromInnerRequest:mlt}=Dx(),{kState:Tf}=Wg(),{fetching:glt}=uw(),{urlIsHttpHttpsScheme:_P,createDeferredPromise:Px,readAllBytes:ylt}=Zc(),cJ=require("node:assert"),SP=class t{static{o(this,"Cache")}#e;constructor(){arguments[0]!==ult&&Xt.illegalConstructor(),Xt.util.markAsUncloneable(this),this.#e=arguments[1]}async match(e,r={}){Xt.brandCheck(this,t);let n="Cache.match";Xt.argumentLengthCheck(arguments,1,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=this.#r(e,r,1);if(i.length!==0)return i[0]}async matchAll(e=void 0,r={}){Xt.brandCheck(this,t);let n="Cache.matchAll";return e!==void 0&&(e=Xt.converters.RequestInfo(e,n,"request")),r=Xt.converters.CacheQueryOptions(r,n,"options"),this.#r(e,r)}async add(e){Xt.brandCheck(this,t);let r="Cache.add";Xt.argumentLengthCheck(arguments,1,r),e=Xt.converters.RequestInfo(e,r,"request");let n=[e];return await this.addAll(n)}async addAll(e){Xt.brandCheck(this,t);let r="Cache.addAll";Xt.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let A of e){if(A===void 0)throw Xt.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(A=Xt.converters.RequestInfo(A),typeof A=="string")continue;let g=A[Tf];if(!_P(g.url)||g.method!=="GET")throw Xt.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let A of e){let g=new ep(A)[Tf];if(!_P(g.url))throw Xt.errors.exception({header:r,message:"Expected http/s scheme."});g.initiator="fetch",g.destination="subresource",i.push(g);let y=Px();s.push(glt({request:g,processResponse(v){if(v.type==="error"||v.status===206||v.status<200||v.status>299)y.reject(Xt.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(v.headersList.contains("vary")){let _=aJ(v.headersList.get("vary"));for(let T of _)if(T==="*"){y.reject(Xt.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let S of s)S.abort();return}}},processResponseEndOfBody(v){if(v.aborted){y.reject(new DOMException("aborted","AbortError"));return}y.resolve(v)}})),n.push(y.promise)}let c=await Promise.all(n),l=[],f=0;for(let A of c){let g={type:"put",request:i[f],response:A};l.push(g),f++}let d=Px(),h=null;try{this.#t(l)}catch(A){h=A}return queueMicrotask(()=>{h===null?d.resolve(void 0):d.reject(h)}),d.promise}async put(e,r){Xt.brandCheck(this,t);let n="Cache.put";Xt.argumentLengthCheck(arguments,2,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.Response(r,n,"response");let i=null;if(e instanceof ep?i=e[Tf]:i=new ep(e)[Tf],!_P(i.url)||i.method!=="GET")throw Xt.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[Tf];if(s.status===206)throw Xt.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let g=aJ(s.headersList.get("vary"));for(let y of g)if(y==="*")throw Xt.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(dlt(s.body.stream)||s.body.stream.locked))throw Xt.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=Alt(s),c=Px();if(s.body!=null){let y=s.body.stream.getReader();ylt(y).then(c.resolve,c.reject)}else c.resolve(void 0);let l=[],f={type:"put",request:i,response:a};l.push(f);let d=await c.promise;a.body!=null&&(a.body.source=d);let h=Px(),A=null;try{this.#t(l)}catch(g){A=g}return queueMicrotask(()=>{A===null?h.resolve():h.reject(A)}),h.promise}async delete(e,r={}){Xt.brandCheck(this,t);let n="Cache.delete";Xt.argumentLengthCheck(arguments,1,n),e=Xt.converters.RequestInfo(e,n,"request"),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=null;if(e instanceof ep){if(i=e[Tf],i.method!=="GET"&&!r.ignoreMethod)return!1}else cJ(typeof e=="string"),i=new ep(e)[Tf];let s=[],a={type:"delete",request:i,options:r};s.push(a);let c=Px(),l=null,f;try{f=this.#t(s)}catch(d){l=d}return queueMicrotask(()=>{l===null?c.resolve(!!f?.length):c.reject(l)}),c.promise}async keys(e=void 0,r={}){Xt.brandCheck(this,t);let n="Cache.keys";e!==void 0&&(e=Xt.converters.RequestInfo(e,n,"request")),r=Xt.converters.CacheQueryOptions(r,n,"options");let i=null;if(e!==void 0)if(e instanceof ep){if(i=e[Tf],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(i=new ep(e)[Tf]);let s=Px(),a=[];if(e===void 0)for(let c of this.#e)a.push(c[0]);else{let c=this.#i(i,r);for(let l of c)a.push(l[0])}return queueMicrotask(()=>{let c=[];for(let l of a){let f=mlt(l,new AbortController().signal,"immutable");c.push(f)}s.resolve(Object.freeze(c))}),s.promise}#t(e){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of e){if(a.type!=="delete"&&a.type!=="put")throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let c;if(a.type==="delete"){if(c=this.#i(a.request,a.options),c.length===0)return[];for(let l of c){let f=r.indexOf(l);cJ(f!==-1),r.splice(f,1)}}else if(a.type==="put"){if(a.response==null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let l=a.request;if(!_P(l.url))throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(l.method!=="GET")throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Xt.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});c=this.#i(a.request);for(let f of c){let d=r.indexOf(f);cJ(d!==-1),r.splice(d,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(e,r,n){let i=[],s=n??this.#e;for(let a of s){let[c,l]=a;this.#n(e,c,l,r)&&i.push(a)}return i}#n(e,r,n=null,i){let s=new URL(e.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!flt(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let c=aJ(n.headersList.get("vary"));for(let l of c){if(l==="*")return!1;let f=r.headersList.get(l),d=e.headersList.get(l);if(f!==d)return!1}return!0}#r(e,r,n=1/0){let i=null;if(e!==void 0)if(e instanceof ep){if(i=e[Tf],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(i=new ep(e)[Tf]);let s=[];if(e===void 0)for(let c of this.#e)s.push(c[1]);else{let c=this.#i(i,r);for(let l of c)s.push(l[1])}let a=[];for(let c of s){let l=plt(c,"immutable");if(a.push(l.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(SP.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:NE,matchAll:NE,add:NE,addAll:NE,put:NE,delete:NE,keys:NE});var jxe=[{key:"ignoreSearch",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Xt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Xt.converters.CacheQueryOptions=Xt.dictionaryConverter(jxe);Xt.converters.MultiCacheQueryOptions=Xt.dictionaryConverter([...jxe,{key:"cacheName",converter:Xt.converters.DOMString}]);Xt.converters.Response=Xt.interfaceConverter(hlt);Xt.converters["sequence<RequestInfo>"]=Xt.sequenceConverter(Xt.converters.RequestInfo);Kxe.exports={Cache:SP}});var Zxe=q((v$r,Xxe)=>{"use strict";u();var{kConstruct:dw}=TP(),{Cache:wP}=Jxe(),{webidl:r0}=Ra(),{kEnumerableProperty:hw}=fn(),BP=class t{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==dw&&r0.illegalConstructor(),r0.util.markAsUncloneable(this)}async match(e,r={}){if(r0.brandCheck(this,t),r0.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=r0.converters.RequestInfo(e),r=r0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new wP(dw,n).match(e,r)}}else for(let n of this.#e.values()){let s=await new wP(dw,n).match(e,r);if(s!==void 0)return s}}async has(e){r0.brandCheck(this,t);let r="CacheStorage.has";return r0.argumentLengthCheck(arguments,1,r),e=r0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)}async open(e){r0.brandCheck(this,t);let r="CacheStorage.open";if(r0.argumentLengthCheck(arguments,1,r),e=r0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let i=this.#e.get(e);return new wP(dw,i)}let n=[];return this.#e.set(e,n),new wP(dw,n)}async delete(e){r0.brandCheck(this,t);let r="CacheStorage.delete";return r0.argumentLengthCheck(arguments,1,r),e=r0.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)}async keys(){return r0.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(BP.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:hw,has:hw,open:hw,delete:hw,keys:hw});Xxe.exports={CacheStorage:BP}});var t5e=q((T$r,e5e)=>{"use strict";u();e5e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var lJ=q((S$r,s5e)=>{"use strict";u();function Clt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(Clt,"isCTLExcludingHtab");function r5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(r5e,"validateCookieName");function n5e(t){let e=t.length,r=0;if(t[0]==='"'){if(e===1||t[e-1]!=='"')throw new Error("Invalid cookie value");--e,++r}for(;r<e;){let n=t.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(n5e,"validateCookieValue");function i5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(i5e,"validateCookiePath");function Elt(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}o(Elt,"validateCookieDomain");var Ilt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],vlt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RP=Array(61).fill(0).map((t,e)=>e.toString().padStart(2,"0"));function o5e(t){return typeof t=="number"&&(t=new Date(t)),`${Ilt[t.getUTCDay()]}, ${RP[t.getUTCDate()]} ${vlt[t.getUTCMonth()]} ${t.getUTCFullYear()} ${RP[t.getUTCHours()]}:${RP[t.getUTCMinutes()]}:${RP[t.getUTCSeconds()]} GMT`}o(o5e,"toIMFDate");function blt(t){if(t<0)throw new Error("Invalid cookie max-age")}o(blt,"validateCookieMaxAge");function xlt(t){if(t.name.length===0)return null;r5e(t.name),n5e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(blt(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(Elt(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(i5e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${o5e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");e.push(`${n.trim()}=${i.join("=")}`)}return e.join("; ")}o(xlt,"stringify");s5e.exports={isCTLExcludingHtab:Clt,validateCookieName:r5e,validateCookiePath:i5e,validateCookieValue:n5e,toIMFDate:o5e,stringify:xlt}});var c5e=q((R$r,a5e)=>{"use strict";u();var{maxNameValuePairSize:Tlt,maxAttributeValueSize:_lt}=t5e(),{isCTLExcludingHtab:Slt}=lJ(),{collectASequenceOfCodePointsFast:kP}=cc(),wlt=require("node:assert");function Blt(t){if(Slt(t))return null;let e="",r="",n="",i="";if(t.includes(";")){let s={position:0};e=kP(";",t,s),r=t.slice(s.position)}else e=t;if(!e.includes("="))i=e;else{let s={position:0};n=kP("=",e,s),i=e.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>Tlt?null:{name:n,value:i,...Fx(r)}}o(Blt,"parseSetCookie");function Fx(t,e={}){if(t.length===0)return e;wlt(t[0]===";"),t=t.slice(1);let r="";t.includes(";")?(r=kP(";",t,{position:0}),t=t.slice(r.length)):(r=t,t="");let n="",i="";if(r.includes("=")){let a={position:0};n=kP("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>_lt)return Fx(t,e);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);e.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return Fx(t,e);let c=Number(i);e.maxAge=c}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),e.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,e.path=a}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let a="Default",c=i.toLowerCase();c.includes("none")&&(a="None"),c.includes("strict")&&(a="Strict"),c.includes("lax")&&(a="Lax"),e.sameSite=a}else e.unparsed??=[],e.unparsed.push(`${n}=${i}`);return Fx(t,e)}o(Fx,"parseUnparsedAttributes");a5e.exports={parseSetCookie:Blt,parseUnparsedAttributes:Fx}});var f5e=q((N$r,u5e)=>{"use strict";u();var{parseSetCookie:Rlt}=c5e(),{stringify:klt}=lJ(),{webidl:Bn}=Ra(),{Headers:DP}=wE();function Dlt(t){Bn.argumentLengthCheck(arguments,1,"getCookies"),Bn.brandCheck(t,DP,{strict:!1});let e=t.get("cookie"),r={};if(!e)return r;for(let n of e.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(Dlt,"getCookies");function Nlt(t,e,r){Bn.brandCheck(t,DP,{strict:!1});let n="deleteCookie";Bn.argumentLengthCheck(arguments,2,n),e=Bn.converters.DOMString(e,n,"name"),r=Bn.converters.DeleteCookieAttributes(r),l5e(t,{name:e,value:"",expires:new Date(0),...r})}o(Nlt,"deleteCookie");function Qlt(t){Bn.argumentLengthCheck(arguments,1,"getSetCookies"),Bn.brandCheck(t,DP,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>Rlt(r)):[]}o(Qlt,"getSetCookies");function l5e(t,e){Bn.argumentLengthCheck(arguments,2,"setCookie"),Bn.brandCheck(t,DP,{strict:!1}),e=Bn.converters.Cookie(e);let r=klt(e);r&&t.append("Set-Cookie",r)}o(l5e,"setCookie");Bn.converters.DeleteCookieAttributes=Bn.dictionaryConverter([{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);Bn.converters.Cookie=Bn.dictionaryConverter([{converter:Bn.converters.DOMString,key:"name"},{converter:Bn.converters.DOMString,key:"value"},{converter:Bn.nullableConverter(t=>typeof t=="number"?Bn.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.nullableConverter(Bn.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:Bn.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Bn.sequenceConverter(Bn.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);u5e.exports={getCookies:Dlt,deleteCookie:Nlt,getSetCookies:Qlt,setCookie:l5e}});var Mx=q((F$r,h5e)=>{"use strict";u();var{webidl:jt}=Ra(),{kEnumerableProperty:dc}=fn(),{kConstruct:d5e}=ho(),{MessagePort:Plt}=require("node:worker_threads"),Lx=class t extends Event{static{o(this,"MessageEvent")}#e;constructor(e,r={}){if(e===d5e){super(arguments[1],arguments[2]),jt.util.markAsUncloneable(this);return}let n="MessageEvent constructor";jt.argumentLengthCheck(arguments,1,n),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.MessageEventInit(r,n,"eventInitDict"),super(e,r),this.#e=r,jt.util.markAsUncloneable(this)}get data(){return jt.brandCheck(this,t),this.#e.data}get origin(){return jt.brandCheck(this,t),this.#e.origin}get lastEventId(){return jt.brandCheck(this,t),this.#e.lastEventId}get source(){return jt.brandCheck(this,t),this.#e.source}get ports(){return jt.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,i=null,s="",a="",c=null,l=[]){return jt.brandCheck(this,t),jt.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new t(e,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:c,ports:l})}static createFastMessageEvent(e,r){let n=new t(d5e,e,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:Flt}=Lx;delete Lx.createFastMessageEvent;var NP=class t extends Event{static{o(this,"CloseEvent")}#e;constructor(e,r={}){let n="CloseEvent constructor";jt.argumentLengthCheck(arguments,1,n),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.CloseEventInit(r),super(e,r),this.#e=r,jt.util.markAsUncloneable(this)}get wasClean(){return jt.brandCheck(this,t),this.#e.wasClean}get code(){return jt.brandCheck(this,t),this.#e.code}get reason(){return jt.brandCheck(this,t),this.#e.reason}},QP=class t extends Event{static{o(this,"ErrorEvent")}#e;constructor(e,r){let n="ErrorEvent constructor";jt.argumentLengthCheck(arguments,1,n),super(e,r),jt.util.markAsUncloneable(this),e=jt.converters.DOMString(e,n,"type"),r=jt.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return jt.brandCheck(this,t),this.#e.message}get filename(){return jt.brandCheck(this,t),this.#e.filename}get lineno(){return jt.brandCheck(this,t),this.#e.lineno}get colno(){return jt.brandCheck(this,t),this.#e.colno}get error(){return jt.brandCheck(this,t),this.#e.error}};Object.defineProperties(Lx.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:dc,origin:dc,lastEventId:dc,source:dc,ports:dc,initMessageEvent:dc});Object.defineProperties(NP.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:dc,code:dc,wasClean:dc});Object.defineProperties(QP.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:dc,filename:dc,lineno:dc,colno:dc,error:dc});jt.converters.MessagePort=jt.interfaceConverter(Plt);jt.converters["sequence<MessagePort>"]=jt.sequenceConverter(jt.converters.MessagePort);var uJ=[{key:"bubbles",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];jt.converters.MessageEventInit=jt.dictionaryConverter([...uJ,{key:"data",converter:jt.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:jt.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:jt.nullableConverter(jt.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:jt.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);jt.converters.CloseEventInit=jt.dictionaryConverter([...uJ,{key:"wasClean",converter:jt.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:jt.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);jt.converters.ErrorEventInit=jt.dictionaryConverter([...uJ,{key:"message",converter:jt.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:jt.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:jt.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:jt.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:jt.converters.any}]);h5e.exports={MessageEvent:Lx,CloseEvent:NP,ErrorEvent:QP,createFastMessageEvent:Flt}});var QE=q((O$r,A5e)=>{"use strict";u();var Llt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Mlt={enumerable:!0,writable:!1,configurable:!1},Olt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Ult={NOT_SENT:0,PROCESSING:1,SENT:2},Hlt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},qlt=2**16-1,Glt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Vlt=Buffer.allocUnsafe(0),Wlt={string:1,typedArray:2,arrayBuffer:3,blob:4};A5e.exports={uid:Llt,sentCloseFrameState:Ult,staticPropertyDescriptors:Mlt,states:Olt,opcodes:Hlt,maxUnsigned16Bit:qlt,parserStates:Glt,emptyBuffer:Vlt,sendHints:Wlt}});var Aw=q((H$r,p5e)=>{"use strict";u();p5e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var gw=q((G$r,x5e)=>{"use strict";u();var{kReadyState:pw,kController:Ylt,kResponse:$lt,kBinaryType:zlt,kWebSocketURL:jlt}=Aw(),{states:mw,opcodes:o1}=QE(),{ErrorEvent:Klt,createFastMessageEvent:Jlt}=Mx(),{isUtf8:Xlt}=require("node:buffer"),{collectASequenceOfCodePointsFast:Zlt,removeHTTPWhitespace:m5e}=cc();function eut(t){return t[pw]===mw.CONNECTING}o(eut,"isConnecting");function tut(t){return t[pw]===mw.OPEN}o(tut,"isEstablished");function rut(t){return t[pw]===mw.CLOSING}o(rut,"isClosing");function nut(t){return t[pw]===mw.CLOSED}o(nut,"isClosed");function fJ(t,e,r=(i,s)=>new Event(i,s),n={}){let i=r(t,n);e.dispatchEvent(i)}o(fJ,"fireEvent");function iut(t,e,r){if(t[pw]!==mw.OPEN)return;let n;if(e===o1.TEXT)try{n=b5e(r)}catch{y5e(t,"Received invalid UTF-8 in text frame.");return}else e===o1.BINARY&&(t[zlt]==="blob"?n=new Blob([r]):n=sut(r));fJ("message",t,Jlt,{origin:t[jlt].origin,data:n})}o(iut,"websocketMessageReceived");function sut(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}o(sut,"toArrayBuffer");function aut(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(aut,"isValidSubprotocol");function cut(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}o(cut,"isValidStatusCode");function y5e(t,e){let{[Ylt]:r,[$lt]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&fJ("error",t,(i,s)=>new Klt(i,s),{error:new Error(e),message:e})}o(y5e,"failWebsocketConnection");function C5e(t){return t===o1.CLOSE||t===o1.PING||t===o1.PONG}o(C5e,"isControlFrame");function E5e(t){return t===o1.CONTINUATION}o(E5e,"isContinuationFrame");function I5e(t){return t===o1.TEXT||t===o1.BINARY}o(I5e,"isTextBinaryFrame");function lut(t){return I5e(t)||E5e(t)||C5e(t)}o(lut,"isValidOpcode");function uut(t){let e={position:0},r=new Map;for(;e.position<t.length;){let n=Zlt(";",t,e),[i,s=""]=n.split("=");r.set(m5e(i,!0,!1),m5e(s,!1,!0)),e.position++}return r}o(uut,"parseExtensions");function fut(t){for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r<48||r>57)return!1}return!0}o(fut,"isValidClientWindowBits");var v5e=typeof process.versions.icu=="string",g5e=v5e?new TextDecoder("utf-8",{fatal:!0}):void 0,b5e=v5e?g5e.decode.bind(g5e):function(t){if(Xlt(t))return t.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};x5e.exports={isConnecting:eut,isEstablished:tut,isClosing:rut,isClosed:nut,fireEvent:fJ,isValidSubprotocol:aut,isValidStatusCode:cut,failWebsocketConnection:y5e,websocketMessageReceived:iut,utf8Decode:b5e,isControlFrame:C5e,isContinuationFrame:E5e,isTextBinaryFrame:I5e,isValidOpcode:lut,parseExtensions:uut,isValidClientWindowBits:fut}});var FP=q((Y$r,T5e)=>{"use strict";u();var{maxUnsigned16Bit:dut}=QE(),PP=16386,dJ,yw=null,Ox=PP;try{dJ=require("node:crypto")}catch{dJ={randomFillSync:o(function(e,r,n){for(let i=0;i<e.length;++i)e[i]=Math.random()*255|0;return e},"randomFillSync")}}function hut(){return Ox===PP&&(Ox=0,dJ.randomFillSync(yw??=Buffer.allocUnsafe(PP),0,PP)),[yw[Ox++],yw[Ox++],yw[Ox++],yw[Ox++]]}o(hut,"generateMask");var hJ=class{static{o(this,"WebsocketFrameSend")}constructor(e){this.frameData=e}createFrame(e){let r=this.frameData,n=hut(),i=r?.byteLength??0,s=i,a=6;i>dut?(a+=8,s=127):i>125&&(a+=2,s=126);let c=Buffer.allocUnsafe(i+a);c[0]=c[1]=0,c[0]|=128,c[0]=(c[0]&240)+e;c[a-4]=n[0],c[a-3]=n[1],c[a-2]=n[2],c[a-1]=n[3],c[1]=s,s===126?c.writeUInt16BE(i,2):s===127&&(c[2]=c[3]=0,c.writeUIntBE(i,4,6)),c[1]|=128;for(let l=0;l<i;++l)c[a+l]=r[l]^n[l&3];return c}};T5e.exports={WebsocketFrameSend:hJ}});var pJ=q((j$r,D5e)=>{"use strict";u();var{uid:Aut,states:Cw,sentCloseFrameState:LP,emptyBuffer:put,opcodes:mut}=QE(),{kReadyState:Ew,kSentClose:MP,kByteParser:S5e,kReceivedClose:_5e,kResponse:w5e}=Aw(),{fireEvent:gut,failWebsocketConnection:s1,isClosing:yut,isClosed:Cut,isEstablished:Eut,parseExtensions:Iut}=gw(),{channels:Ux}=Zb(),{CloseEvent:vut}=Mx(),{makeRequest:but}=Dx(),{fetching:xut}=uw(),{Headers:Tut,getHeadersList:_ut}=wE(),{getDecodeSplit:Sut}=Zc(),{WebsocketFrameSend:wut}=FP(),AJ;try{AJ=require("node:crypto")}catch{}function But(t,e,r,n,i,s){let a=t;a.protocol=t.protocol==="ws:"?"http:":"https:";let c=but({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let h=_ut(new Tut(s.headers));c.headersList=h}let l=AJ.randomBytes(16).toString("base64");c.headersList.append("sec-websocket-key",l),c.headersList.append("sec-websocket-version","13");for(let h of e)c.headersList.append("sec-websocket-protocol",h);return c.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),xut({request:c,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(h){if(h.type==="error"||h.status!==101){s1(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!h.headersList.get("Sec-WebSocket-Protocol")){s1(n,"Server did not respond with sent protocols.");return}if(h.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){s1(n,'Server did not set Upgrade header to "websocket".');return}if(h.headersList.get("Connection")?.toLowerCase()!=="upgrade"){s1(n,'Server did not set Connection header to "upgrade".');return}let A=h.headersList.get("Sec-WebSocket-Accept"),g=AJ.createHash("sha1").update(l+Aut).digest("base64");if(A!==g){s1(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let y=h.headersList.get("Sec-WebSocket-Extensions"),v;if(y!==null&&(v=Iut(y),!v.has("permessage-deflate"))){s1(n,"Sec-WebSocket-Extensions header does not match.");return}let _=h.headersList.get("Sec-WebSocket-Protocol");if(_!==null&&!Sut("sec-websocket-protocol",c.headersList).includes(_)){s1(n,"Protocol was not set in the opening handshake.");return}h.socket.on("data",B5e),h.socket.on("close",R5e),h.socket.on("error",k5e),Ux.open.hasSubscribers&&Ux.open.publish({address:h.socket.address(),protocol:_,extensions:y}),i(h,v)}})}o(But,"establishWebSocketConnection");function Rut(t,e,r,n){if(!(yut(t)||Cut(t)))if(!Eut(t))s1(t,"Connection was closed before it was established."),t[Ew]=Cw.CLOSING;else if(t[MP]===LP.NOT_SENT){t[MP]=LP.PROCESSING;let i=new wut;e!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(e,0),i.frameData.write(r,2,"utf-8")):i.frameData=put,t[w5e].socket.write(i.createFrame(mut.CLOSE)),t[MP]=LP.SENT,t[Ew]=Cw.CLOSING}else t[Ew]=Cw.CLOSING}o(Rut,"closeWebSocketConnection");function B5e(t){this.ws[S5e].write(t)||this.pause()}o(B5e,"onSocketData");function R5e(){let{ws:t}=this,{[w5e]:e}=t;e.socket.off("data",B5e),e.socket.off("close",R5e),e.socket.off("error",k5e);let r=t[MP]===LP.SENT&&t[_5e],n=1005,i="",s=t[S5e].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):t[_5e]||(n=1006),t[Ew]=Cw.CLOSED,gut("close",t,(a,c)=>new vut(a,c),{wasClean:r,code:n,reason:i}),Ux.close.hasSubscribers&&Ux.close.publish({websocket:t,code:n,reason:i})}o(R5e,"onSocketClose");function k5e(t){let{ws:e}=this;e[Ew]=Cw.CLOSING,Ux.socketError.hasSubscribers&&Ux.socketError.publish(t),this.destroy()}o(k5e,"onSocketError");D5e.exports={establishWebSocketConnection:But,closeWebSocketConnection:Rut}});var Q5e=q((X$r,N5e)=>{"use strict";u();var{createInflateRaw:kut,Z_DEFAULT_WINDOWBITS:Dut}=require("node:zlib"),{isValidClientWindowBits:Nut}=gw(),Qut=Buffer.from([0,0,255,255]),OP=Symbol("kBuffer"),UP=Symbol("kLength"),mJ=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,r,n){if(!this.#e){let i=Dut;if(this.#t.serverMaxWindowBits){if(!Nut(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=kut({windowBits:i}),this.#e[OP]=[],this.#e[UP]=0,this.#e.on("data",s=>{this.#e[OP].push(s),this.#e[UP]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(e),r&&this.#e.write(Qut),this.#e.flush(()=>{let i=Buffer.concat(this.#e[OP],this.#e[UP]);this.#e[OP].length=0,this.#e[UP]=0,n(null,i)})}};N5e.exports={PerMessageDeflate:mJ}});var W5e=q((tzr,V5e)=>{"use strict";u();var{Writable:Put}=require("node:stream"),Fut=require("node:assert"),{parserStates:hc,opcodes:Hx,states:Lut,emptyBuffer:P5e,sentCloseFrameState:F5e}=QE(),{kReadyState:Mut,kSentClose:L5e,kResponse:M5e,kReceivedClose:O5e}=Aw(),{channels:HP}=Zb(),{isValidStatusCode:Out,isValidOpcode:Uut,failWebsocketConnection:iu,websocketMessageReceived:U5e,utf8Decode:Hut,isControlFrame:H5e,isTextBinaryFrame:gJ,isContinuationFrame:qut}=gw(),{WebsocketFrameSend:q5e}=FP(),{closeWebSocketConnection:G5e}=pJ(),{PerMessageDeflate:Gut}=Q5e(),yJ=class extends Put{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=hc.INFO;#r={};#o=[];#s;constructor(e,r){super(),this.ws=e,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Gut(r))}_write(e,r,n){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(n)}run(e){for(;this.#i;)if(this.#n===hc.INFO){if(this.#t<2)return e();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==Hx.CONTINUATION,c=r[1]&127,l=r[0]&64,f=r[0]&32,d=r[0]&16;if(!Uut(i))return iu(this.ws,"Invalid opcode received"),e();if(s)return iu(this.ws,"Frame cannot be masked"),e();if(l!==0&&!this.#s.has("permessage-deflate")){iu(this.ws,"Expected RSV1 to be clear.");return}if(f!==0||d!==0){iu(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!gJ(i)){iu(this.ws,"Invalid frame type was fragmented.");return}if(gJ(i)&&this.#o.length>0){iu(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){iu(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((c>125||a)&&H5e(i)){iu(this.ws,"Control frame either too large or fragmented");return}if(qut(i)&&this.#o.length===0&&!this.#r.compressed){iu(this.ws,"Unexpected continuation frame");return}c<=125?(this.#r.payloadLength=c,this.#n=hc.READ_DATA):c===126?this.#n=hc.PAYLOADLENGTH_16:c===127&&(this.#n=hc.PAYLOADLENGTH_64),gJ(i)&&(this.#r.binaryType=i,this.#r.compressed=l!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===hc.PAYLOADLENGTH_16){if(this.#t<2)return e();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=hc.READ_DATA}else if(this.#n===hc.PAYLOADLENGTH_64){if(this.#t<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){iu(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=hc.READ_DATA}else if(this.#n===hc.READ_DATA){if(this.#t<this.#r.payloadLength)return e();let r=this.consume(this.#r.payloadLength);if(H5e(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=hc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){G5e(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=hc.INFO,this.#i=!0,this.run(e);return}U5e(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=hc.INFO,this.#o.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);U5e(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=hc.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return P5e;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let i=this.#e[0],{length:s}=i;if(s+n===e){r.set(this.#e.shift(),n);break}else if(s+n>e){r.set(i.subarray(0,e-n),n),this.#e[0]=i.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=e,r}parseCloseBody(e){Fut(e.length!==1);let r;if(e.length>=2&&(r=e.readUInt16BE(0)),r!==void 0&&!Out(r))return{code:1002,reason:"Invalid status code",error:!0};let n=e.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=Hut(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(e){let{opcode:r,payloadLength:n}=this.#r;if(r===Hx.CLOSE){if(n===1)return iu(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(e),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return G5e(this.ws,i,s,s.length),iu(this.ws,s),!1}if(this.ws[L5e]!==F5e.SENT){let i=P5e;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new q5e(i);this.ws[M5e].socket.write(s.createFrame(Hx.CLOSE),a=>{a||(this.ws[L5e]=F5e.SENT)})}return this.ws[Mut]=Lut.CLOSING,this.ws[O5e]=!0,!1}else if(r===Hx.PING){if(!this.ws[O5e]){let i=new q5e(e);this.ws[M5e].socket.write(i.createFrame(Hx.PONG)),HP.ping.hasSubscribers&&HP.ping.publish({payload:e})}}else r===Hx.PONG&&HP.pong.hasSubscribers&&HP.pong.publish({payload:e});return!0}get closingInfo(){return this.#r.closeInfo}};V5e.exports={ByteParser:yJ}});var K5e=q((izr,j5e)=>{"use strict";u();var{WebsocketFrameSend:Vut}=FP(),{opcodes:Y5e,sendHints:qx}=QE(),Wut=Rj(),$5e=Buffer[Symbol.species],CJ=class{static{o(this,"SendQueue")}#e=new Wut;#t=!1;#i;constructor(e){this.#i=e}add(e,r,n){if(n!==qx.blob){let s=z5e(e,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:e.arrayBuffer().then(s=>{i.promise=null,i.frame=z5e(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let r=e.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function z5e(t,e){return new Vut(Yut(t,e)).createFrame(e===qx.string?Y5e.TEXT:Y5e.BINARY)}o(z5e,"createFrame");function Yut(t,e){switch(e){case qx.string:return Buffer.from(t);case qx.arrayBuffer:case qx.blob:return new $5e(t);case qx.typedArray:return new $5e(t.buffer,t.byteOffset,t.byteLength)}}o(Yut,"toBuffer");j5e.exports={SendQueue:CJ}});var oTe=q((azr,iTe)=>{"use strict";u();var{webidl:Sr}=Ra(),{URLSerializer:$ut}=cc(),{environmentSettingsObject:J5e}=Zc(),{staticPropertyDescriptors:a1,states:Iw,sentCloseFrameState:zut,sendHints:qP}=QE(),{kWebSocketURL:X5e,kReadyState:EJ,kController:jut,kBinaryType:GP,kResponse:Z5e,kSentClose:Kut,kByteParser:Jut}=Aw(),{isConnecting:Xut,isEstablished:Zut,isClosing:eft,isValidSubprotocol:tft,fireEvent:eTe}=gw(),{establishWebSocketConnection:rft,closeWebSocketConnection:tTe}=pJ(),{ByteParser:nft}=W5e(),{kEnumerableProperty:ou,isBlobLike:rTe}=fn(),{getGlobalDispatcher:ift}=nP(),{types:nTe}=require("node:util"),{ErrorEvent:oft,CloseEvent:sft}=Mx(),{SendQueue:aft}=K5e(),sl=class t extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(e,r=[]){super(),Sr.util.markAsUncloneable(this);let n="WebSocket constructor";Sr.argumentLengthCheck(arguments,1,n);let i=Sr.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");e=Sr.converters.USVString(e,n,"url"),r=i.protocols;let s=J5e.settingsObject.baseUrl,a;try{a=new URL(e,s)}catch(l){throw new DOMException(l,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(l=>l.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(l=>tft(l)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[X5e]=new URL(a.href);let c=J5e.settingsObject;this[jut]=rft(a,r,c,this,(l,f)=>this.#o(l,f),i),this[EJ]=t.CONNECTING,this[Kut]=zut.NOT_SENT,this[GP]="blob"}close(e=void 0,r=void 0){Sr.brandCheck(this,t);let n="WebSocket.close";if(e!==void 0&&(e=Sr.converters["unsigned short"](e,n,"code",{clamp:!0})),r!==void 0&&(r=Sr.converters.USVString(r,n,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");tTe(this,e,r,i)}send(e){Sr.brandCheck(this,t);let r="WebSocket.send";if(Sr.argumentLengthCheck(arguments,1,r),e=Sr.converters.WebSocketSendData(e,r,"data"),Xut(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Zut(this)||eft(this)))if(typeof e=="string"){let n=Buffer.byteLength(e);this.#t+=n,this.#r.add(e,()=>{this.#t-=n},qP.string)}else nTe.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},qP.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},qP.typedArray)):rTe(e)&&(this.#t+=e.size,this.#r.add(e,()=>{this.#t-=e.size},qP.blob))}get readyState(){return Sr.brandCheck(this,t),this[EJ]}get bufferedAmount(){return Sr.brandCheck(this,t),this.#t}get url(){return Sr.brandCheck(this,t),$ut(this[X5e])}get extensions(){return Sr.brandCheck(this,t),this.#n}get protocol(){return Sr.brandCheck(this,t),this.#i}get onopen(){return Sr.brandCheck(this,t),this.#e.open}set onopen(e){Sr.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return Sr.brandCheck(this,t),this.#e.error}set onerror(e){Sr.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return Sr.brandCheck(this,t),this.#e.close}set onclose(e){Sr.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return Sr.brandCheck(this,t),this.#e.message}set onmessage(e){Sr.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return Sr.brandCheck(this,t),this[GP]}set binaryType(e){Sr.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[GP]="blob":this[GP]=e}#o(e,r){this[Z5e]=e;let n=new nft(this,r);n.on("drain",cft),n.on("error",lft.bind(this)),e.socket.ws=this,this[Jut]=n,this.#r=new aft(e.socket),this[EJ]=Iw.OPEN;let i=e.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=e.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),eTe("open",this)}};sl.CONNECTING=sl.prototype.CONNECTING=Iw.CONNECTING;sl.OPEN=sl.prototype.OPEN=Iw.OPEN;sl.CLOSING=sl.prototype.CLOSING=Iw.CLOSING;sl.CLOSED=sl.prototype.CLOSED=Iw.CLOSED;Object.defineProperties(sl.prototype,{CONNECTING:a1,OPEN:a1,CLOSING:a1,CLOSED:a1,url:ou,readyState:ou,bufferedAmount:ou,onopen:ou,onerror:ou,onclose:ou,close:ou,onmessage:ou,binaryType:ou,send:ou,extensions:ou,protocol:ou,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(sl,{CONNECTING:a1,OPEN:a1,CLOSING:a1,CLOSED:a1});Sr.converters["sequence<DOMString>"]=Sr.sequenceConverter(Sr.converters.DOMString);Sr.converters["DOMString or sequence<DOMString>"]=function(t,e,r){return Sr.util.Type(t)==="Object"&&Symbol.iterator in t?Sr.converters["sequence<DOMString>"](t):Sr.converters.DOMString(t,e,r)};Sr.converters.WebSocketInit=Sr.dictionaryConverter([{key:"protocols",converter:Sr.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Sr.converters.any,defaultValue:o(()=>ift(),"defaultValue")},{key:"headers",converter:Sr.nullableConverter(Sr.converters.HeadersInit)}]);Sr.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return Sr.util.Type(t)==="Object"&&!(Symbol.iterator in t)?Sr.converters.WebSocketInit(t):{protocols:Sr.converters["DOMString or sequence<DOMString>"](t)}};Sr.converters.WebSocketSendData=function(t){if(Sr.util.Type(t)==="Object"){if(rTe(t))return Sr.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||nTe.isArrayBuffer(t))return Sr.converters.BufferSource(t)}return Sr.converters.USVString(t)};function cft(){this.ws[Z5e].socket.resume()}o(cft,"onParserDrain");function lft(t){let e,r;t instanceof sft?(e=t.reason,r=t.code):e=t.message,eTe("error",this,()=>new oft("error",{error:t,message:e})),tTe(this,r)}o(lft,"onParserError");iTe.exports={WebSocket:sl}});var IJ=q((uzr,sTe)=>{"use strict";u();function uft(t){return t.indexOf("\0")===-1}o(uft,"isValidLastEventId");function fft(t){if(t.length===0)return!1;for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<48||t.charCodeAt(e)>57)return!1;return!0}o(fft,"isASCIINumber");function dft(t){return new Promise(e=>{setTimeout(e,t).unref()})}o(dft,"delay");sTe.exports={isValidLastEventId:uft,isASCIINumber:fft,delay:dft}});var uTe=q((hzr,lTe)=>{"use strict";u();var{Transform:hft}=require("node:stream"),{isASCIINumber:aTe,isValidLastEventId:cTe}=IJ(),tp=[239,187,191],vJ=10,VP=13,Aft=58,pft=32,bJ=class extends hft{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,r,n){if(e.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===tp[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]&&this.buffer[2]===tp[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===tp[0]&&this.buffer[1]===tp[1]&&this.buffer[2]===tp[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===vJ){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===vJ||this.buffer[this.pos]===VP){this.buffer[this.pos]===VP&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===vJ||this.buffer[this.pos]===VP){this.buffer[this.pos]===VP&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(e,r){if(e.length===0)return;let n=e.indexOf(Aft);if(n===0)return;let i="",s="";if(n!==-1){i=e.subarray(0,n).toString("utf8");let a=n+1;e[a]===pft&&++a,s=e.subarray(a).toString("utf8")}else i=e.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":aTe(s)&&(r[i]=s);break;case"id":cTe(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(e){e.retry&&aTe(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&cTe(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};lTe.exports={EventSourceStream:bJ}});var yTe=q((mzr,gTe)=>{"use strict";u();var{pipeline:mft}=require("node:stream"),{fetching:gft}=uw(),{makeRequest:yft}=Dx(),{webidl:rp}=Ra(),{EventSourceStream:Cft}=uTe(),{parseMIMEType:Eft}=cc(),{createFastMessageEvent:Ift}=Mx(),{isNetworkError:fTe}=cw(),{delay:vft}=IJ(),{kEnumerableProperty:PE}=fn(),{environmentSettingsObject:dTe}=Zc(),hTe=!1,ATe=3e3,vw=0,pTe=1,bw=2,bft="anonymous",xft="use-credentials",Gx=class t extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=vw;#r=null;#o=null;#s;#a;constructor(e,r={}){super(),rp.util.markAsUncloneable(this);let n="EventSource constructor";rp.argumentLengthCheck(arguments,1,n),hTe||(hTe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=rp.converters.USVString(e,n,"url"),r=rp.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:ATe};let i=dTe,s;try{s=new URL(e,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(l){throw new DOMException(l,"SyntaxError")}this.#t=s.href;let a=bft;r.withCredentials&&(a=xft,this.#i=!0);let c={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};c.client=dTe.settingsObject,c.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],c.cache="no-store",c.initiator="other",c.urlList=[new URL(this.#t)],this.#r=yft(c),this.#c()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#n===bw)return;this.#n=vw;let e={request:this.#r,dispatcher:this.#s},r=o(n=>{fTe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()},"processEventSourceEndOfBody");e.processResponseEndOfBody=r,e.processResponse=n=>{if(fTe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let i=n.headersList.get("content-type",!0),s=i!==null?Eft(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=pTe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let c=new Cft({eventSourceSettings:this.#a,push:o(l=>{this.dispatchEvent(Ift(l.type,l.options))},"push")});mft(n.body.stream,c,l=>{l?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=gft(e)}async#l(){this.#n!==bw&&(this.#n=vw,this.dispatchEvent(new Event("error")),await vft(this.#a.reconnectionTime),this.#n===vw&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))}close(){rp.brandCheck(this,t),this.#n!==bw&&(this.#n=bw,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},mTe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:vw,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:pTe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:bw,writable:!1}};Object.defineProperties(Gx,mTe);Object.defineProperties(Gx.prototype,mTe);Object.defineProperties(Gx.prototype,{close:PE,onerror:PE,onmessage:PE,onopen:PE,readyState:PE,url:PE,withCredentials:PE});rp.converters.EventSourceInitDict=rp.dictionaryConverter([{key:"withCredentials",converter:rp.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:rp.converters.any}]);gTe.exports={EventSource:Gx,defaultReconnectionTime:ATe}});var vTe=q((Czr,Cr)=>{"use strict";u();var Tft=$S(),CTe=xS(),_ft=Cx(),Sft=_2e(),wft=Ex(),Bft=zj(),Rft=G2e(),kft=j2e(),ETe=li(),YP=fn(),{InvalidArgumentError:WP}=ETe,Vx=Pve(),Dft=_S(),Nft=BK(),Qft=mbe(),Pft=DK(),Fft=mK(),Lft=$Q(),{getGlobalDispatcher:ITe,setGlobalDispatcher:Mft}=nP(),Oft=iP(),Uft=PQ(),Hft=FQ();Object.assign(CTe.prototype,Vx);Cr.exports.Dispatcher=CTe;Cr.exports.Client=Tft;Cr.exports.Pool=_ft;Cr.exports.BalancedPool=Sft;Cr.exports.Agent=wft;Cr.exports.ProxyAgent=Bft;Cr.exports.EnvHttpProxyAgent=Rft;Cr.exports.RetryAgent=kft;Cr.exports.RetryHandler=Lft;Cr.exports.DecoratorHandler=Oft;Cr.exports.RedirectHandler=Uft;Cr.exports.createRedirectInterceptor=Hft;Cr.exports.interceptors={redirect:bbe(),retry:Tbe(),dump:Sbe(),dns:Rbe()};Cr.exports.buildConnector=Dft;Cr.exports.errors=ETe;Cr.exports.util={parseHeaders:YP.parseHeaders,headerNameToString:YP.headerNameToString};function xw(t){return(e,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new WP("invalid url");if(r!=null&&typeof r!="object")throw new WP("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new WP("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),e=new URL(YP.parseOrigin(e).origin+a)}else r||(r=typeof e=="object"?e:{}),e=YP.parseURL(e);let{agent:i,dispatcher:s=ITe()}=r;if(i)throw new WP("unsupported opts.agent. Did you mean opts.client?");return t.call(s,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(xw,"makeDispatcher");Cr.exports.setGlobalDispatcher=Mft;Cr.exports.getGlobalDispatcher=ITe;var qft=uw().fetch;Cr.exports.fetch=o(async function(e,r=void 0){try{return await qft(e,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Cr.exports.Headers=wE().Headers;Cr.exports.Response=cw().Response;Cr.exports.Request=Dx().Request;Cr.exports.FormData=NS().FormData;Cr.exports.File=globalThis.File??require("node:buffer").File;Cr.exports.FileReader=Vxe().FileReader;var{setGlobalOrigin:Gft,getGlobalOrigin:Vft}=jz();Cr.exports.setGlobalOrigin=Gft;Cr.exports.getGlobalOrigin=Vft;var{CacheStorage:Wft}=Zxe(),{kConstruct:Yft}=TP();Cr.exports.caches=new Wft(Yft);var{deleteCookie:$ft,getCookies:zft,getSetCookies:jft,setCookie:Kft}=f5e();Cr.exports.deleteCookie=$ft;Cr.exports.getCookies=zft;Cr.exports.getSetCookies=jft;Cr.exports.setCookie=Kft;var{parseMIMEType:Jft,serializeAMimeType:Xft}=cc();Cr.exports.parseMIMEType=Jft;Cr.exports.serializeAMimeType=Xft;var{CloseEvent:Zft,ErrorEvent:edt,MessageEvent:tdt}=Mx();Cr.exports.WebSocket=oTe().WebSocket;Cr.exports.CloseEvent=Zft;Cr.exports.ErrorEvent=edt;Cr.exports.MessageEvent=tdt;Cr.exports.request=xw(Vx.request);Cr.exports.stream=xw(Vx.stream);Cr.exports.pipeline=xw(Vx.pipeline);Cr.exports.connect=xw(Vx.connect);Cr.exports.upgrade=xw(Vx.upgrade);Cr.exports.MockClient=Nft;Cr.exports.MockPool=Pft;Cr.exports.MockAgent=Qft;Cr.exports.mockErrors=Fft;var{EventSource:rdt}=yTe();Cr.exports.EventSource=rdt});var en=q((vzr,bTe)=>{u();bTe.exports={options:{usePureJavaScript:!1}}});var _Te=q((xzr,TTe)=>{u();var xJ={};TTe.exports=xJ;var xTe={};xJ.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=ndt(t,e);else{var i=0,s=e.length,a=e.charAt(0),c=[0];for(i=0;i<t.length;++i){for(var l=0,f=t[i];l<c.length;++l)f+=c[l]<<8,c[l]=f%s,f=f/s|0;for(;f>0;)c.push(f%s),f=f/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=c.length-1;i>=0;--i)n+=e[c[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};xJ.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=xTe[e];if(!r){r=xTe[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),a=[0],n=0;n<t.length;n++){var c=r[t.charCodeAt(n)];if(c===void 0)return;for(var l=0,f=c;l<a.length;++l)f+=a[l]*i,a[l]=f&255,f>>=8;for(;f>0;)a.push(f&255),f>>=8}for(var d=0;t[d]===s&&d<t.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function ndt(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,c=t.at(r);a<s.length;++a)c+=s[a]<<8,s[a]=c%n,c=c/n|0;for(;c>0;)s.push(c%n),c=c/n|0}var l="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)l+=i;for(r=s.length-1;r>=0;--r)l+=e[s[r]];return l}o(ndt,"_encodeWithByteBuffer")});var ei=q((Szr,RTe)=>{u();var STe=en(),wTe=_Te(),ve=RTe.exports=STe.util=STe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ve.nextTick=process.nextTick,typeof setImmediate=="function"?ve.setImmediate=setImmediate:ve.setImmediate=ve.nextTick;return}if(typeof setImmediate=="function"){ve.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ve.nextTick=function(c){return setImmediate(c)};return}if(ve.setImmediate=function(c){setTimeout(c,0)},typeof window<"u"&&typeof window.postMessage=="function"){let c=function(l){if(l.source===window&&l.data===t){l.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(d){d()})}};var a=c;o(c,"handler");var t="forge.setImmediate",e=[];ve.setImmediate=function(l){e.push(l),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",c,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var l=e.slice();e.length=0,l.forEach(function(f){f()})}).observe(i,{attributes:!0});var s=ve.setImmediate;ve.setImmediate=function(l){Date.now()-r>15?(r=Date.now(),s(l)):(e.push(l),e.length===1&&i.setAttribute("a",n=!n))}}ve.nextTick=ve.setImmediate})();ve.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ve.globalScope=function(){return ve.isNodejs?global:typeof self>"u"?window:self}();ve.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ve.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ve.isArrayBufferView=function(t){return t&&ve.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Tw(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}o(Tw,"_checkBitsParam");ve.ByteBuffer=TJ;function TJ(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ve.isArrayBuffer(t)||ve.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof TJ||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}o(TJ,"ByteStringBuffer");ve.ByteStringBuffer=TJ;var idt=4096;ve.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>idt&&(this.data.substr(0,1),this._constructedStringLength=0)};ve.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ve.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ve.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ve.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ve.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ve.encodeUtf8(t))};ve.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ve.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ve.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ve.ByteStringBuffer.prototype.putInt=function(t,e){Tw(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ve.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ve.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ve.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt=function(t){Tw(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ve.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ve.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ve.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ve.ByteStringBuffer.prototype.copy=function(){var t=ve.createBuffer(this.data);return t.read=this.read,t};ve.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ve.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ve.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ve.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.ByteStringBuffer.prototype.toString=function(){return ve.decodeUtf8(this.bytes())};function odt(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ve.isArrayBuffer(t),n=ve.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}o(odt,"DataBuffer");ve.DataBuffer=odt;ve.DataBuffer.prototype.length=function(){return this.write-this.read};ve.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ve.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ve.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ve.DataBuffer.prototype.putBytes=function(t,e){if(ve.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ve.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ve.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ve.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof ve.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=ve.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=ve.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ve.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ve.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ve.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ve.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ve.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ve.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ve.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ve.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ve.DataBuffer.prototype.putInt=function(t,e){Tw(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ve.DataBuffer.prototype.putSignedInt=function(t,e){return Tw(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ve.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ve.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ve.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ve.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ve.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ve.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ve.DataBuffer.prototype.getInt=function(t){Tw(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ve.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ve.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ve.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ve.DataBuffer.prototype.copy=function(){return new ve.DataBuffer(this)};ve.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ve.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ve.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ve.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ve.binary.raw.encode(e);if(t==="hex")return ve.binary.hex.encode(e);if(t==="base64")return ve.binary.base64.encode(e);if(t==="utf8")return ve.text.utf8.decode(e);if(t==="utf16")return ve.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ve.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ve.encodeUtf8(t)),new ve.ByteBuffer(t)};ve.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ve.xorBytes=function(t,e,r){for(var n="",i="",s="",a=0,c=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),c>=10&&(n+=s,s="",c=0),s+=String.fromCharCode(i),++c;return n+=s,n};ve.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ve.bytesToHex=function(t){return ve.createBuffer(t).toHex()};ve.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var c1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l1=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],BTe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ve.encode64=function(t,e){for(var r="",n="",i,s,a,c=0;c<t.length;)i=t.charCodeAt(c++),s=t.charCodeAt(c++),a=t.charCodeAt(c++),r+=c1.charAt(i>>2),r+=c1.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=c1.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":c1.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,a=0;a<t.length;)r=l1[t.charCodeAt(a++)-43],n=l1[t.charCodeAt(a++)-43],i=l1[t.charCodeAt(a++)-43],s=l1[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};ve.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ve.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ve.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:wTe.encode,decode:wTe.decode}};ve.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ve.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};ve.binary.hex.encode=ve.bytesToHex;ve.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};ve.binary.base64.encode=function(t,e){for(var r="",n="",i,s,a,c=0;c<t.byteLength;)i=t[c++],s=t[c++],a=t[c++],r+=c1.charAt(i>>2),r+=c1.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=c1.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":c1.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,c,l=0,f=r;l<t.length;)i=l1[t.charCodeAt(l++)-43],s=l1[t.charCodeAt(l++)-43],a=l1[t.charCodeAt(l++)-43],c=l1[t.charCodeAt(l++)-43],n[f++]=i<<2|s>>4,a!==64&&(n[f++]=(s&15)<<4|a>>2,c!==64&&(n[f++]=(a&3)<<6|c));return e?f-r:n.subarray(0,f)};ve.binary.base58.encode=function(t,e){return ve.binary.baseN.encode(t,BTe,e)};ve.binary.base58.decode=function(t,e){return ve.binary.baseN.decode(t,BTe,e)};ve.text={utf8:{},utf16:{}};ve.text.utf8.encode=function(t,e,r){t=ve.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};ve.text.utf8.decode=function(t){return ve.decodeUtf8(String.fromCharCode.apply(null,t))};ve.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,c=0;c<t.length;++c)i[a++]=t.charCodeAt(c),s+=2;return e?s-r:n};ve.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ve.deflate=function(t,e,r){if(e=ve.decode64(t.deflate(ve.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};ve.inflate=function(t,e,r){var n=t.inflate(ve.encode64(e)).rval;return n===null?null:ve.decode64(n)};var _J=o(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ve.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),SJ=o(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ve.decode64(r))),r},"_getStorageObject"),sdt=o(function(t,e,r,n){var i=SJ(t,e);i===null&&(i={}),i[r]=n,_J(t,e,i)},"_setItem"),adt=o(function(t,e,r){var n=SJ(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),cdt=o(function(t,e,r){var n=SJ(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),_J(t,e,n)}},"_removeItem"),ldt=o(function(t,e){_J(t,e,null)},"_clearItems"),$P=o(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var c in r){i=r[c];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(l){a=l}if(s)break}if(!s)throw a;return n},"_callStorageFunction");ve.setItem=function(t,e,r,n,i){$P(sdt,arguments,i)};ve.getItem=function(t,e,r,n){return $P(adt,arguments,n)};ve.removeItem=function(t,e,r,n){$P(cdt,arguments,n)};ve.clearItems=function(t,e,r){$P(ldt,arguments,r)};ve.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ve.format=function(t){for(var e=/%./g,r,n,i=0,s=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&s.push(n),a=e.lastIndex;var c=r[0][1];switch(c){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+c+"?>")}}return s.push(t.substring(a)),s.join("")};ve.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,c=n===void 0?".":n,l=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",d=f.length>3?f.length%3:0;return l+(d?f.substr(0,d)+c:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(s?a+Math.abs(i-f).toFixed(s).slice(2):"")};ve.formatSize=function(t){return t>=1073741824?t=ve.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ve.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ve.formatNumber(t/1024,0)+" KiB":t=ve.formatNumber(t,0)+" bytes",t};ve.bytesFromIP=function(t){return t.indexOf(".")!==-1?ve.bytesFromIPv4(t):t.indexOf(":")!==-1?ve.bytesFromIPv6(t):null};ve.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ve.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ve.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ve.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=ve.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};ve.bytesToIP=function(t){return t.length===4?ve.bytesToIPv4(t):t.length===16?ve.bytesToIPv6(t):null};ve.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ve.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=ve.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],c=e.length;!a||c!==a.end+1?r.push({start:c,end:c}):(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var l=r[n];l.end-l.start>0&&(e.splice(l.start,l.end-l.start+1,""),l.start===0&&e.unshift(""),l.end===7&&e.push(""))}return e.join(":")};ve.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ve&&!t.update)return e(null,ve.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ve.cores=navigator.hardwareConcurrency,e(null,ve.cores);if(typeof Worker>"u")return ve.cores=1,e(null,ve.cores);if(typeof Blob>"u")return ve.cores=2,e(null,ve.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var c=Date.now(),l=c+4;Date.now()<l;);self.postMessage({st:c,et:l})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,c,l){if(c===0){var f=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return ve.cores=Math.max(1,f),URL.revokeObjectURL(r),e(null,ve.cores)}i(l,function(d,h){a.push(s(l,h)),n(a,c-1,l)})}o(n,"sample");function i(a,c){for(var l=[],f=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(A){if(f.push(A.data),f.length===a){for(var g=0;g<a;++g)l[g].terminate();c(null,f)}}),l.push(h)}for(var d=0;d<a;++d)l[d].postMessage(d)}o(i,"map");function s(a,c){for(var l=[],f=0;f<a;++f)for(var d=c[f],h=l[f]=[],A=0;A<a;++A)if(f!==A){var g=c[A];(d.st>g.st&&d.st<g.et||g.st>d.st&&g.st<d.et)&&h.push(A)}return l.reduce(function(y,v){return Math.max(y,v.length)},0)}o(s,"reduce")}});var zP=q((Rzr,kTe)=>{u();var ra=en();ei();kTe.exports=ra.cipher=ra.cipher||{};ra.cipher.algorithms=ra.cipher.algorithms||{};ra.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ra.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ra.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};ra.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ra.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ra.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};ra.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),ra.cipher.algorithms[t]=e};ra.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in ra.cipher.algorithms?ra.cipher.algorithms[t]:null};var wJ=ra.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};wJ.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=ra.util.createBuffer(),this.output=t.output||ra.util.createBuffer(),this.mode.start(e)};wJ.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};wJ.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var RJ=q((Dzr,DTe)=>{u();var na=en();ei();na.cipher=na.cipher||{};var gn=DTe.exports=na.cipher.modes=na.cipher.modes||{};gn.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};gn.ecb.prototype.start=function(t){};gn.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};gn.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};gn.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};gn.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};gn.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};gn.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=jP(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};gn.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};gn.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};gn.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};gn.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};gn.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=na.util.createBuffer(),this._partialBytes=0};gn.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=jP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gn.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gn.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gn.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=na.util.createBuffer(),this._partialBytes=0};gn.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=jP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gn.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gn.ofb.prototype.decrypt=gn.ofb.prototype.encrypt;gn.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=na.util.createBuffer(),this._partialBytes=0};gn.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=jP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gn.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}KP(this._inBlock)};gn.ctr.prototype.decrypt=gn.ctr.prototype.encrypt;gn.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=na.util.createBuffer(),this._partialBytes=0,this._R=3774873600};gn.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=na.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=na.util.createBuffer(t.additionalData):r=na.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=na.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(BJ(n*8)))}this._inBlock=this._j0.slice(0),KP(this._inBlock),this._partialBytes=0,r=na.util.createBuffer(r),this._aDataLength=BJ(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};gn.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),KP(this._inBlock)};gn.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),KP(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};gn.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=na.util.createBuffer();var n=this._aDataLength.concat(BJ(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};gn.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};gn.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};gn.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};gn.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};gn.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var c=[0,0,0,0],l=a/n|0,f=(n-1-a%n)*e;c[l]=1<<e-1<<f,s[a]=this.generateSubHashTable(this.multiply(c,t),e)}return s};gn.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var c=i[s],l=i[a];i[s+a]=[c[0]^l[0],c[1]^l[1],c[2]^l[2],c[3]^l[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var f=i[s^n];i[s]=[t[0]^f[0],t[1]^f[1],t[2]^f[2],t[3]^f[3]]}return i};function jP(t,e){if(typeof t=="string"&&(t=na.util.createBuffer(t)),na.util.isArray(t)&&t.length>4){var r=t;t=na.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!na.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}o(jP,"transformIV");function KP(t){t[t.length-1]=t[t.length-1]+1&4294967295}o(KP,"inc32");function BJ(t){return[t/4294967296|0,t&4294967295]}o(BJ,"from64To32")});var u1=q((Pzr,FTe)=>{u();var Ui=en();zP();RJ();ei();FTe.exports=Ui.aes=Ui.aes||{};Ui.aes.startEncrypting=function(t,e,r,n){var i=JP({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Ui.aes.createEncryptionCipher=function(t,e){return JP({key:t,output:null,decrypt:!1,mode:e})};Ui.aes.startDecrypting=function(t,e,r,n){var i=JP({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Ui.aes.createDecryptionCipher=function(t,e){return JP({key:t,output:null,decrypt:!0,mode:e})};Ui.aes.Algorithm=function(t,e){NJ||QTe();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:o(function(n,i){return DJ(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return DJ(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Ui.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Ui.util.createBuffer(e);else if(Ui.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Ui.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Ui.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Ui.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=PTe(e,t.decrypt&&!a),this._init=!0}};Ui.aes._expandKey=function(t,e){return NJ||QTe(),PTe(t,e)};Ui.aes._updateBlock=DJ;Yx("AES-ECB",Ui.cipher.modes.ecb);Yx("AES-CBC",Ui.cipher.modes.cbc);Yx("AES-CFB",Ui.cipher.modes.cfb);Yx("AES-OFB",Ui.cipher.modes.ofb);Yx("AES-CTR",Ui.cipher.modes.ctr);Yx("AES-GCM",Ui.cipher.modes.gcm);function Yx(t,e){var r=o(function(){return new Ui.aes.Algorithm(t,e)},"factory");Ui.cipher.registerAlgorithm(t,r)}o(Yx,"registerAlgorithm");var NJ=!1,Wx=4,x0,kJ,NTe,FE,_f;function QTe(){NJ=!0,NTe=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;x0=new Array(256),kJ=new Array(256),FE=new Array(4),_f=new Array(4);for(var e=0;e<4;++e)FE[e]=new Array(256),_f[e]=new Array(256);for(var r=0,n=0,i,s,a,c,l,f,d,e=0;e<256;++e){c=n^n<<1^n<<2^n<<3^n<<4,c=c>>8^c&255^99,x0[r]=c,kJ[c]=r,l=t[c],i=t[r],s=t[i],a=t[s],f=l<<24^c<<16^c<<8^(c^l),d=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var h=0;h<4;++h)FE[h][r]=f,_f[h][c]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}o(QTe,"initialize");function PTe(t,e){for(var r=t.slice(0),n,i=1,s=r.length,a=s+6+1,c=Wx*a,l=s;l<c;++l)n=r[l-1],l%s===0?(n=x0[n>>>16&255]<<24^x0[n>>>8&255]<<16^x0[n&255]<<8^x0[n>>>24]^NTe[i]<<24,i++):s>6&&l%s===4&&(n=x0[n>>>24]<<24^x0[n>>>16&255]<<16^x0[n>>>8&255]<<8^x0[n&255]),r[l]=r[l-s]^n;if(e){var f,d=_f[0],h=_f[1],A=_f[2],g=_f[3],y=r.slice(0);c=r.length;for(var l=0,v=c-Wx;l<c;l+=Wx,v-=Wx)if(l===0||l===c-Wx)y[l]=r[v],y[l+1]=r[v+3],y[l+2]=r[v+2],y[l+3]=r[v+1];else for(var _=0;_<Wx;++_)f=r[v+_],y[l+(3&-_)]=d[x0[f>>>24]]^h[x0[f>>>16&255]]^A[x0[f>>>8&255]]^g[x0[f&255]];r=y}return r}o(PTe,"_expandKey");function DJ(t,e,r,n){var i=t.length/4-1,s,a,c,l,f;n?(s=_f[0],a=_f[1],c=_f[2],l=_f[3],f=kJ):(s=FE[0],a=FE[1],c=FE[2],l=FE[3],f=x0);var d,h,A,g,y,v,_;d=e[0]^t[0],h=e[n?3:1]^t[1],A=e[2]^t[2],g=e[n?1:3]^t[3];for(var T=3,S=1;S<i;++S)y=s[d>>>24]^a[h>>>16&255]^c[A>>>8&255]^l[g&255]^t[++T],v=s[h>>>24]^a[A>>>16&255]^c[g>>>8&255]^l[d&255]^t[++T],_=s[A>>>24]^a[g>>>16&255]^c[d>>>8&255]^l[h&255]^t[++T],g=s[g>>>24]^a[d>>>16&255]^c[h>>>8&255]^l[A&255]^t[++T],d=y,h=v,A=_;r[0]=f[d>>>24]<<24^f[h>>>16&255]<<16^f[A>>>8&255]<<8^f[g&255]^t[++T],r[n?3:1]=f[h>>>24]<<24^f[A>>>16&255]<<16^f[g>>>8&255]<<8^f[d&255]^t[++T],r[2]=f[A>>>24]<<24^f[g>>>16&255]<<16^f[d>>>8&255]<<8^f[h&255]^t[++T],r[n?1:3]=f[g>>>24]<<24^f[d>>>16&255]<<16^f[h>>>8&255]<<8^f[A&255]^t[++T]}o(DJ,"_updateBlock");function JP(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Ui.cipher.createDecipher(r,t.key):n=Ui.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var c=null;a instanceof Ui.util.ByteBuffer&&(c=a,a={}),a=a||{},a.output=c,a.iv=s,i.call(n,a)},n}o(JP,"_createCipher")});var f1=q((Mzr,LTe)=>{u();var _w=en();_w.pki=_w.pki||{};var QJ=LTe.exports=_w.pki.oids=_w.oids=_w.oids||{};function lt(t,e){QJ[t]=e,QJ[e]=t}o(lt,"_IN");function Ai(t,e){QJ[t]=e}o(Ai,"_I_");lt("1.2.840.113549.1.1.1","rsaEncryption");lt("1.2.840.113549.1.1.4","md5WithRSAEncryption");lt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");lt("1.2.840.113549.1.1.7","RSAES-OAEP");lt("1.2.840.113549.1.1.8","mgf1");lt("1.2.840.113549.1.1.9","pSpecified");lt("1.2.840.113549.1.1.10","RSASSA-PSS");lt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");lt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");lt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");lt("1.3.101.112","EdDSA25519");lt("1.2.840.10040.4.3","dsa-with-sha1");lt("1.3.14.3.2.7","desCBC");lt("1.3.14.3.2.26","sha1");lt("1.3.14.3.2.29","sha1WithRSASignature");lt("2.16.840.1.101.3.4.2.1","sha256");lt("2.16.840.1.101.3.4.2.2","sha384");lt("2.16.840.1.101.3.4.2.3","sha512");lt("2.16.840.1.101.3.4.2.4","sha224");lt("2.16.840.1.101.3.4.2.5","sha512-224");lt("2.16.840.1.101.3.4.2.6","sha512-256");lt("1.2.840.113549.2.2","md2");lt("1.2.840.113549.2.5","md5");lt("1.2.840.113549.1.7.1","data");lt("1.2.840.113549.1.7.2","signedData");lt("1.2.840.113549.1.7.3","envelopedData");lt("1.2.840.113549.1.7.4","signedAndEnvelopedData");lt("1.2.840.113549.1.7.5","digestedData");lt("1.2.840.113549.1.7.6","encryptedData");lt("1.2.840.113549.1.9.1","emailAddress");lt("1.2.840.113549.1.9.2","unstructuredName");lt("1.2.840.113549.1.9.3","contentType");lt("1.2.840.113549.1.9.4","messageDigest");lt("1.2.840.113549.1.9.5","signingTime");lt("1.2.840.113549.1.9.6","counterSignature");lt("1.2.840.113549.1.9.7","challengePassword");lt("1.2.840.113549.1.9.8","unstructuredAddress");lt("1.2.840.113549.1.9.14","extensionRequest");lt("1.2.840.113549.1.9.20","friendlyName");lt("1.2.840.113549.1.9.21","localKeyId");lt("1.2.840.113549.1.9.22.1","x509Certificate");lt("1.2.840.113549.1.12.10.1.1","keyBag");lt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");lt("1.2.840.113549.1.12.10.1.3","certBag");lt("1.2.840.113549.1.12.10.1.4","crlBag");lt("1.2.840.113549.1.12.10.1.5","secretBag");lt("1.2.840.113549.1.12.10.1.6","safeContentsBag");lt("1.2.840.113549.1.5.13","pkcs5PBES2");lt("1.2.840.113549.1.5.12","pkcs5PBKDF2");lt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");lt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");lt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");lt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");lt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");lt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");lt("1.2.840.113549.2.7","hmacWithSHA1");lt("1.2.840.113549.2.8","hmacWithSHA224");lt("1.2.840.113549.2.9","hmacWithSHA256");lt("1.2.840.113549.2.10","hmacWithSHA384");lt("1.2.840.113549.2.11","hmacWithSHA512");lt("1.2.840.113549.3.7","des-EDE3-CBC");lt("2.16.840.1.101.3.4.1.2","aes128-CBC");lt("2.16.840.1.101.3.4.1.22","aes192-CBC");lt("2.16.840.1.101.3.4.1.42","aes256-CBC");lt("2.5.4.3","commonName");lt("2.5.4.4","surname");lt("2.5.4.5","serialNumber");lt("2.5.4.6","countryName");lt("2.5.4.7","localityName");lt("2.5.4.8","stateOrProvinceName");lt("2.5.4.9","streetAddress");lt("2.5.4.10","organizationName");lt("2.5.4.11","organizationalUnitName");lt("2.5.4.12","title");lt("2.5.4.13","description");lt("2.5.4.15","businessCategory");lt("2.5.4.17","postalCode");lt("2.5.4.42","givenName");lt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");lt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");lt("2.16.840.1.113730.1.1","nsCertType");lt("2.16.840.1.113730.1.13","nsComment");Ai("2.5.29.1","authorityKeyIdentifier");Ai("2.5.29.2","keyAttributes");Ai("2.5.29.3","certificatePolicies");Ai("2.5.29.4","keyUsageRestriction");Ai("2.5.29.5","policyMapping");Ai("2.5.29.6","subtreesConstraint");Ai("2.5.29.7","subjectAltName");Ai("2.5.29.8","issuerAltName");Ai("2.5.29.9","subjectDirectoryAttributes");Ai("2.5.29.10","basicConstraints");Ai("2.5.29.11","nameConstraints");Ai("2.5.29.12","policyConstraints");Ai("2.5.29.13","basicConstraints");lt("2.5.29.14","subjectKeyIdentifier");lt("2.5.29.15","keyUsage");Ai("2.5.29.16","privateKeyUsagePeriod");lt("2.5.29.17","subjectAltName");lt("2.5.29.18","issuerAltName");lt("2.5.29.19","basicConstraints");Ai("2.5.29.20","cRLNumber");Ai("2.5.29.21","cRLReason");Ai("2.5.29.22","expirationDate");Ai("2.5.29.23","instructionCode");Ai("2.5.29.24","invalidityDate");Ai("2.5.29.25","cRLDistributionPoints");Ai("2.5.29.26","issuingDistributionPoint");Ai("2.5.29.27","deltaCRLIndicator");Ai("2.5.29.28","issuingDistributionPoint");Ai("2.5.29.29","certificateIssuer");Ai("2.5.29.30","nameConstraints");lt("2.5.29.31","cRLDistributionPoints");lt("2.5.29.32","certificatePolicies");Ai("2.5.29.33","policyMappings");Ai("2.5.29.34","policyConstraints");lt("2.5.29.35","authorityKeyIdentifier");Ai("2.5.29.36","policyConstraints");lt("2.5.29.37","extKeyUsage");Ai("2.5.29.46","freshestCRL");Ai("2.5.29.54","inhibitAnyPolicy");lt("1.3.6.1.4.1.11129.2.4.2","timestampList");lt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");lt("1.3.6.1.5.5.7.3.1","serverAuth");lt("1.3.6.1.5.5.7.3.2","clientAuth");lt("1.3.6.1.5.5.7.3.3","codeSigning");lt("1.3.6.1.5.5.7.3.4","emailProtection");lt("1.3.6.1.5.5.7.3.8","timeStamping")});var Sf=q((Hzr,OTe)=>{u();var to=en();ei();f1();var _t=OTe.exports=to.asn1=to.asn1||{};_t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};_t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};_t.create=function(t,e,r,n,i){if(to.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var c={tagClass:t,type:e,constructed:r,composed:r||to.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(c.bitStringContents=i.bitStringContents,c.original=_t.copy(c)),c};_t.copy=function(t,e){var r;if(to.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(_t.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:_t.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};_t.equals=function(t,e,r){if(to.util.isArray(t)){if(!to.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!_t.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&_t.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};_t.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Sw(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}o(Sw,"_checkBufferLength");var udt=o(function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Sw(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");_t.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=to.util.createBuffer(t));var r=t.length(),n=XP(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function XP(t,e,r,n){var i;Sw(t,e,2);var s=t.getByte();e--;var a=s&192,c=s&31;i=t.length();var l=udt(t,e);if(e-=i-t.length(),l!==void 0&&l>e){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=l,f}l=e}var d,h,A=(s&32)===32;if(A)if(d=[],l===void 0)for(;;){if(Sw(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),d.push(XP(t,e,r+1,n)),e-=i-t.length()}else for(;l>0;)i=t.length(),d.push(XP(t,l,r+1,n)),e-=i-t.length(),l-=i-t.length();if(d===void 0&&a===_t.Class.UNIVERSAL&&c===_t.Type.BITSTRING&&(h=t.bytes(l)),d===void 0&&n.decodeBitStrings&&a===_t.Class.UNIVERSAL&&c===_t.Type.BITSTRING&&l>1){var g=t.read,y=e,v=0;if(c===_t.Type.BITSTRING&&(Sw(t,e,1),v=t.getByte(),e--),v===0)try{i=t.length();var _={strict:!0,decodeBitStrings:!0},T=XP(t,e,r+1,_),S=i-t.length();e-=S,c==_t.Type.BITSTRING&&S++;var D=T.tagClass;S===l&&(D===_t.Class.UNIVERSAL||D===_t.Class.CONTEXT_SPECIFIC)&&(d=[T])}catch{}d===void 0&&(t.read=g,e=y)}if(d===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=e}if(c===_t.Type.BMPSTRING)for(d="";l>0;l-=2)Sw(t,e,2),d+=String.fromCharCode(t.getInt16()),e-=2;else d=t.getBytes(l),e-=l}var Q=h===void 0?null:{bitStringContents:h};return _t.create(a,c,A,d,Q)}o(XP,"_fromDer");_t.toDer=function(t){var e=to.util.createBuffer(),r=t.tagClass|t.type,n=to.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=_t.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(_t.toDer(t.value[s]))}else if(t.type===_t.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===_t.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),c="";do c+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(c.length|128);for(var s=c.length-1;s>=0;--s)e.putByte(c.charCodeAt(s))}return e.putBuffer(n),e};_t.oidToDer=function(t){var e=t.split("."),r=to.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,a,c=2;c<e.length;++c){n=!0,i=[],s=parseInt(e[c],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};_t.derToOid=function(t){var e;typeof t=="string"&&(t=to.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};_t.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),c=0;if(t.length>11){var l=t.charAt(10),f=10;l!=="+"&&l!=="-"&&(c=parseInt(t.substr(10,2),10),f+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,c,0),f&&(l=t.charAt(f),l==="+"||l==="-")){var d=parseInt(t.substr(f+1,2),10),h=parseInt(t.substr(f+4,2),10),A=d*60+h;A*=6e4,l==="+"?e.setTime(+e-A):e.setTime(+e+A)}return e};_t.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),c=parseInt(t.substr(12,2),10),l=0,f=0,d=!1;t.charAt(t.length-1)==="Z"&&(d=!0);var h=t.length-5,A=t.charAt(h);if(A==="+"||A==="-"){var g=parseInt(t.substr(h+1,2),10),y=parseInt(t.substr(h+4,2),10);f=g*60+y,f*=6e4,A==="+"&&(f*=-1),d=!0}return t.charAt(14)==="."&&(l=parseFloat(t.substr(14),10)*1e3),d?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,c,l),e.setTime(+e+f)):(e.setFullYear(r,n,i),e.setHours(s,a,c,l)),e};_t.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};_t.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};_t.integerToDer=function(t){var e=to.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};_t.derToInteger=function(t){typeof t=="string"&&(t=to.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};_t.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&to.util.isArray(e.value))for(var s=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[s]&&(i=_t.validate(t.value[s],e.value[a],r,n),i?++s:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var c;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var l=t.bitStringContents.charCodeAt(0);if(l!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var MTe=/[^\\u0000-\\u00ff]/;_t.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case _t.Class.UNIVERSAL:n+="Universal:";break;case _t.Class.APPLICATION:n+="Application:";break;case _t.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case _t.Class.PRIVATE:n+="Private:";break}if(t.tagClass===_t.Class.UNIVERSAL)switch(n+=t.type,t.type){case _t.Type.NONE:n+=" (None)";break;case _t.Type.BOOLEAN:n+=" (Boolean)";break;case _t.Type.INTEGER:n+=" (Integer)";break;case _t.Type.BITSTRING:n+=" (Bit string)";break;case _t.Type.OCTETSTRING:n+=" (Octet string)";break;case _t.Type.NULL:n+=" (Null)";break;case _t.Type.OID:n+=" (Object Identifier)";break;case _t.Type.ODESC:n+=" (Object Descriptor)";break;case _t.Type.EXTERNAL:n+=" (External or Instance of)";break;case _t.Type.REAL:n+=" (Real)";break;case _t.Type.ENUMERATED:n+=" (Enumerated)";break;case _t.Type.EMBEDDED:n+=" (Embedded PDV)";break;case _t.Type.UTF8:n+=" (UTF8)";break;case _t.Type.ROID:n+=" (Relative Object Identifier)";break;case _t.Type.SEQUENCE:n+=" (Sequence)";break;case _t.Type.SET:n+=" (Set)";break;case _t.Type.PRINTABLESTRING:n+=" (Printable String)";break;case _t.Type.IA5String:n+=" (IA5String (ASCII))";break;case _t.Type.UTCTIME:n+=" (UTC time)";break;case _t.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case _t.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,c="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,c+=_t.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(c+=","));n+=i+"Sub values: "+a+c}else{if(n+=i+"Value: ",t.type===_t.Type.OID){var l=_t.derToOid(t.value);n+=l,to.pki&&to.pki.oids&&l in to.pki.oids&&(n+=" ("+to.pki.oids[l]+") ")}if(t.type===_t.Type.INTEGER)try{n+=_t.derToInteger(t.value)}catch{n+="0x"+to.util.bytesToHex(t.value)}else if(t.type===_t.Type.BITSTRING){if(t.value.length>1?n+="0x"+to.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var f=t.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(t.type===_t.Type.OCTETSTRING)MTe.test(t.value)||(n+="("+t.value+") "),n+="0x"+to.util.bytesToHex(t.value);else if(t.type===_t.Type.UTF8)try{n+=to.util.decodeUtf8(t.value)}catch(d){if(d.message==="URI malformed")n+="0x"+to.util.bytesToHex(t.value)+" (malformed UTF8)";else throw d}else t.type===_t.Type.PRINTABLESTRING||t.type===_t.Type.IA5String?n+=t.value:MTe.test(t.value)?n+="0x"+to.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var uh=q((Vzr,UTe)=>{u();var ZP=en();UTe.exports=ZP.md=ZP.md||{};ZP.md.algorithms=ZP.md.algorithms||{}});var $x=q((Yzr,HTe)=>{u();var np=en();uh();ei();var fdt=HTe.exports=np.hmac=np.hmac||{};fdt.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in np.md.algorithms)e=np.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=np.util.createBuffer(a);else if(np.util.isArray(a)){var c=a;a=np.util.createBuffer();for(var l=0;l<c.length;++l)a.putByte(c[l])}var f=a.length();f>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=np.util.createBuffer(),n=np.util.createBuffer(),f=a.length();for(var l=0;l<f;++l){var c=a.at(l);r.putByte(54^c),n.putByte(92^c)}if(f<e.blockLength)for(var c=e.blockLength-f,l=0;l<c;++l)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var tF=q((zzr,WTe)=>{u();var fh=en();uh();ei();var GTe=WTe.exports=fh.md5=fh.md5||{};fh.md.md5=fh.md.algorithms.md5=GTe;GTe.create=function(){VTe||ddt();var t=null,e=fh.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=fh.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=fh.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),qTe(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=fh.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(PJ.substr(0,n.blockLength-a));for(var c,l=0,f=n.fullMessageLength.length-1;f>=0;--f)c=n.fullMessageLength[f]*8+l,l=c/4294967296>>>0,i.putInt32Le(c>>>0);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};qTe(d,r,i);var h=fh.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var PJ=null,eF=null,ww=null,zx=null,VTe=!1;function ddt(){PJ="\x80",PJ+=fh.util.fillString("\0",64),eF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],ww=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],zx=new Array(64);for(var t=0;t<64;++t)zx[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);VTe=!0}o(ddt,"_init");function qTe(t,e,r){for(var n,i,s,a,c,l,f,d,h=r.length();h>=64;){for(i=t.h0,s=t.h1,a=t.h2,c=t.h3,d=0;d<16;++d)e[d]=r.getInt32Le(),l=c^s&(a^c),n=i+l+zx[d]+e[d],f=ww[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<32;++d)l=a^c&(s^a),n=i+l+zx[d]+e[eF[d]],f=ww[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<48;++d)l=s^a^c,n=i+l+zx[d]+e[eF[d]],f=ww[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;for(;d<64;++d)l=a^(s|~c),n=i+l+zx[d]+e[eF[d]],f=ww[d],i=c,c=a,a=s,s+=n<<f|n>>>32-f;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+c|0,h-=64}}o(qTe,"_update")});var LE=q((Jzr,$Te)=>{u();var nF=en();ei();var YTe=$Te.exports=nF.pem=nF.pem||{};YTe.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=rF(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=rF(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=rF(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=rF(t.headers[i]);return t.procType&&(r+=`\r
`),r+=nF.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};YTe.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var c={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:nF.util.decode64(s[3])};if(e.push(c),!!s[2]){for(var l=s[2].split(i),f=0;s&&f<l.length;){for(var d=l[f].replace(/\s+$/,""),h=f+1;h<l.length;++h){var A=l[h];if(!/\s/.test(A[0]))break;d+=A,f=h}if(s=d.match(n),s){for(var g={name:s[1],values:[]},y=s[2].split(","),v=0;v<y.length;++v)g.values.push(hdt(y[v]));if(c.procType)if(!c.contentDomain&&g.name==="Content-Domain")c.contentDomain=y[0]||"";else if(!c.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:y[0],parameters:y[1]||null}}else c.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:y[0],type:y[1]}}}++f}if(c.procType==="ENCRYPTED"&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function rF(t){for(var e=t.name+": ",r=[],n=o(function(l,f){return" "+f},"insertSpace"),i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<e.length;++i,++s)if(s>65&&a!==-1){var c=e[a];c===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+c+e.substr(a+1),s=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}o(rF,"foldHeader");function hdt(t){return t.replace(/^\s+/,"")}o(hdt,"ltrim")});var Bw=q((ejr,jTe)=>{u();var Ao=en();zP();RJ();ei();jTe.exports=Ao.des=Ao.des||{};Ao.des.startEncrypting=function(t,e,r,n){var i=iF({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ao.des.createEncryptionCipher=function(t,e){return iF({key:t,output:null,decrypt:!1,mode:e})};Ao.des.startDecrypting=function(t,e,r,n){var i=iF({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ao.des.createDecryptionCipher=function(t,e){return iF({key:t,output:null,decrypt:!0,mode:e})};Ao.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:o(function(n,i){return zTe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return zTe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Ao.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Ao.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=vdt(e),this._init=!0}};dh("DES-ECB",Ao.cipher.modes.ecb);dh("DES-CBC",Ao.cipher.modes.cbc);dh("DES-CFB",Ao.cipher.modes.cfb);dh("DES-OFB",Ao.cipher.modes.ofb);dh("DES-CTR",Ao.cipher.modes.ctr);dh("3DES-ECB",Ao.cipher.modes.ecb);dh("3DES-CBC",Ao.cipher.modes.cbc);dh("3DES-CFB",Ao.cipher.modes.cfb);dh("3DES-OFB",Ao.cipher.modes.ofb);dh("3DES-CTR",Ao.cipher.modes.ctr);function dh(t,e){var r=o(function(){return new Ao.des.Algorithm(t,e)},"factory");Ao.cipher.registerAlgorithm(t,r)}o(dh,"registerAlgorithm");var Adt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],pdt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],mdt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],gdt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ydt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Cdt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Edt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Idt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function vdt(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],A=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=t.length()>8?3:1,_=[],T=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,D,Q=0;Q<v;Q++){var k=t.getInt32(),P=t.getInt32();D=(k>>>4^P)&252645135,P^=D,k^=D<<4,D=(P>>>-16^k)&65535,k^=D,P^=D<<-16,D=(k>>>2^P)&858993459,P^=D,k^=D<<2,D=(P>>>-16^k)&65535,k^=D,P^=D<<-16,D=(k>>>1^P)&1431655765,P^=D,k^=D<<1,D=(P>>>8^k)&16711935,k^=D,P^=D<<8,D=(k>>>1^P)&1431655765,P^=D,k^=D<<1,D=k<<8|P>>>20&240,k=P<<24|P<<8&16711680|P>>>8&65280|P>>>24&240,P=D;for(var W=0;W<T.length;++W){T[W]?(k=k<<2|k>>>26,P=P<<2|P>>>26):(k=k<<1|k>>>27,P=P<<1|P>>>27),k&=-15,P&=-15;var re=e[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|s[k>>>12&15]|a[k>>>8&15]|c[k>>>4&15],ye=l[P>>>28]|f[P>>>24&15]|d[P>>>20&15]|h[P>>>16&15]|A[P>>>12&15]|g[P>>>8&15]|y[P>>>4&15];D=(ye>>>16^re)&65535,_[S++]=re^D,_[S++]=ye^D<<16}}return _}o(vdt,"_createKeys");function zTe(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,c=e[0],l=e[1];a=(c>>>4^l)&252645135,l^=a,c^=a<<4,a=(c>>>16^l)&65535,l^=a,c^=a<<16,a=(l>>>2^c)&858993459,c^=a,l^=a<<2,a=(l>>>8^c)&16711935,c^=a,l^=a<<8,a=(c>>>1^l)&1431655765,l^=a,c^=a<<1,c=c<<1|c>>>31,l=l<<1|l>>>31;for(var f=0;f<i;f+=3){for(var d=s[f+1],h=s[f+2],A=s[f];A!=d;A+=h){var g=l^t[A],y=(l>>>4|l<<28)^t[A+1];a=c,c=l,l=a^(pdt[g>>>24&63]|gdt[g>>>16&63]|Cdt[g>>>8&63]|Idt[g&63]|Adt[y>>>24&63]|mdt[y>>>16&63]|ydt[y>>>8&63]|Edt[y&63])}a=c,c=l,l=a}c=c>>>1|c<<31,l=l>>>1|l<<31,a=(c>>>1^l)&1431655765,l^=a,c^=a<<1,a=(l>>>8^c)&16711935,c^=a,l^=a<<8,a=(l>>>2^c)&858993459,c^=a,l^=a<<2,a=(c>>>16^l)&65535,l^=a,c^=a<<16,a=(c>>>4^l)&252645135,l^=a,c^=a<<4,r[0]=c,r[1]=l}o(zTe,"_updateBlock");function iF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=Ao.cipher.createDecipher(r,t.key):n=Ao.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var c=null;a instanceof Ao.util.ByteBuffer&&(c=a,a={}),a=a||{},a.output=c,a.iv=s,i.call(n,a)},n}o(iF,"_createCipher")});var oF=q((njr,KTe)=>{u();var T0=en();$x();uh();ei();var bdt=T0.pkcs5=T0.pkcs5||{},ip;T0.util.isNodejs&&!T0.options.usePureJavaScript&&(ip=require("crypto"));KTe.exports=T0.pbkdf2=bdt.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),T0.util.isNodejs&&!T0.options.usePureJavaScript&&ip.pbkdf2&&(i===null||typeof i!="object")&&(ip.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?ip.pbkdf2Sync.length===4?ip.pbkdf2(t,e,r,n,function(D,Q){if(D)return s(D);s(null,Q.toString("binary"))}):ip.pbkdf2(t,e,r,n,i,function(D,Q){if(D)return s(D);s(null,Q.toString("binary"))}):ip.pbkdf2Sync.length===4?ip.pbkdf2Sync(t,e,r,n).toString("binary"):ip.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in T0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=T0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var c=new Error("Derived key is too long.");if(s)return s(c);throw c}var l=Math.ceil(n/a),f=n-(l-1)*a,d=T0.hmac.create();d.start(i,t);var h="",A,g,y;if(!s){for(var v=1;v<=l;++v){d.start(null,null),d.update(e),d.update(T0.util.int32ToBytes(v)),A=y=d.digest().getBytes();for(var _=2;_<=r;++_)d.start(null,null),d.update(y),g=d.digest().getBytes(),A=T0.util.xorBytes(A,g,a),y=g;h+=v<l?A:A.substr(0,f)}return h}var v=1,_;function T(){if(v>l)return s(null,h);d.start(null,null),d.update(e),d.update(T0.util.int32ToBytes(v)),A=y=d.digest().getBytes(),_=2,S()}o(T,"outer");function S(){if(_<=r)return d.start(null,null),d.update(y),g=d.digest().getBytes(),A=T0.util.xorBytes(A,g,a),y=g,++_,T0.util.setImmediate(S);h+=v<l?A:A.substr(0,f),++v,T()}o(S,"inner"),T()}});var LJ=q((sjr,t4e)=>{u();var hh=en();uh();ei();var XTe=t4e.exports=hh.sha256=hh.sha256||{};hh.md.sha256=hh.md.algorithms.sha256=XTe;XTe.create=function(){ZTe||xdt();var t=null,e=hh.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=hh.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=hh.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),JTe(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=hh.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(FJ.substr(0,n.blockLength-a));for(var c,l,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,l=c/4294967296>>>0,f+=l,i.putInt32(f>>>0),f=c>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};JTe(h,r,i);var A=hh.util.createBuffer();return A.putInt32(h.h0),A.putInt32(h.h1),A.putInt32(h.h2),A.putInt32(h.h3),A.putInt32(h.h4),A.putInt32(h.h5),A.putInt32(h.h6),A.putInt32(h.h7),A},n};var FJ=null,ZTe=!1,e4e=null;function xdt(){FJ="\x80",FJ+=hh.util.fillString("\0",64),e4e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ZTe=!0}o(xdt,"_init");function JTe(t,e,r){for(var n,i,s,a,c,l,f,d,h,A,g,y,v,_,T,S=r.length();S>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[f]=n+e[f-7]+i+e[f-16]|0;for(d=t.h0,h=t.h1,A=t.h2,g=t.h3,y=t.h4,v=t.h5,_=t.h6,T=t.h7,f=0;f<64;++f)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),c=_^y&(v^_),s=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),l=d&h|A&(d^h),n=T+a+c+e4e[f]+e[f],i=s+l,T=_,_=v,v=y,y=g+n>>>0,g=A,A=h,h=d,d=n+i>>>0;t.h0=t.h0+d|0,t.h1=t.h1+h|0,t.h2=t.h2+A|0,t.h3=t.h3+g|0,t.h4=t.h4+y|0,t.h5=t.h5+v|0,t.h6=t.h6+_|0,t.h7=t.h7+T|0,S-=64}}o(JTe,"_update")});var MJ=q((ljr,r4e)=>{u();var Ah=en();ei();var sF=null;Ah.util.isNodejs&&!Ah.options.usePureJavaScript&&!process.versions["node-webkit"]&&(sF=require("crypto"));var Tdt=r4e.exports=Ah.prng=Ah.prng||{};Tdt.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(f,d){if(!d)return e.generateSync(f);var h=e.plugin.cipher,A=e.plugin.increment,g=e.plugin.formatKey,y=e.plugin.formatSeed,v=Ah.util.createBuffer();e.key=null,_();function _(T){if(T)return d(T);if(v.length()>=f)return d(null,v.getBytes(f));if(e.generated>1048575&&(e.key=null),e.key===null)return Ah.util.nextTick(function(){s(_)});var S=h(e.key,e.seed);e.generated+=S.length,v.putBytes(S),e.key=g(h(e.key,A(e.seed))),e.seed=y(h(e.key,e.seed)),Ah.util.setImmediate(_)}o(_,"generate")},e.generateSync=function(f){var d=e.plugin.cipher,h=e.plugin.increment,A=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var y=Ah.util.createBuffer();y.length()<f;){e.generated>1048575&&(e.key=null),e.key===null&&a();var v=d(e.key,e.seed);e.generated+=v.length,y.putBytes(v),e.key=A(d(e.key,h(e.seed))),e.seed=g(d(e.key,e.seed))}return y.getBytes(f)};function s(f){if(e.pools[0].messageLength>=32)return c(),f();var d=32-e.pools[0].messageLength<<5;e.seedFile(d,function(h,A){if(h)return f(h);e.collect(A),c(),f()})}o(s,"_reseed");function a(){if(e.pools[0].messageLength>=32)return c();var f=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(f)),c()}o(a,"_reseedSync");function c(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var f=e.plugin.md.create();f.update(e.keyBytes);for(var d=1,h=0;h<32;++h)e.reseeds%d===0&&(f.update(e.pools[h].digest().getBytes()),e.pools[h].start()),d=d<<1;e.keyBytes=f.digest().getBytes(),f.start(),f.update(e.keyBytes);var A=f.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(A),e.generated=0}o(c,"_seed");function l(f){var d=null,h=Ah.util.globalScope,A=h.crypto||h.msCrypto;A&&A.getRandomValues&&(d=o(function(k){return A.getRandomValues(k)},"getRandomValues"));var g=Ah.util.createBuffer();if(d)for(;g.length()<f;){var y=Math.max(1,Math.min(f-g.length(),65536)/4),v=new Uint32Array(Math.floor(y));try{d(v);for(var _=0;_<v.length;++_)g.putInt32(v[_])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(g.length()<f)for(var T,S,D,Q=Math.floor(Math.random()*65536);g.length()<f;){S=16807*(Q&65535),T=16807*(Q>>16),S+=(T&32767)<<16,S+=T>>15,S=(S&2147483647)+(S>>31),Q=S&4294967295;for(var _=0;_<3;++_)D=Q>>>(_<<3),D^=Math.floor(Math.random()*256),g.putByte(D&255)}return g.getBytes(f)}return o(l,"defaultSeedFile"),sF?(e.seedFile=function(f,d){sF.randomBytes(f,function(h,A){if(h)return d(h);d(null,A.toString())})},e.seedFileSync=function(f){return sF.randomBytes(f).toString()}):(e.seedFile=function(f,d){try{d(null,l(f))}catch(h){d(h)}},e.seedFileSync=l),e.collect=function(f){for(var d=f.length,h=0;h<d;++h)e.pools[e.pool].update(f.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(f,d){for(var h="",A=0;A<d;A+=8)h+=String.fromCharCode(f>>A&255);e.collect(h)},e.registerWorker=function(f){if(f===self)e.seedFile=function(h,A){function g(y){var v=y.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",g),A(v.forge.prng.err,v.forge.prng.bytes))}o(g,"listener"),self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var A=h.data;A.forge&&A.forge.prng&&e.seedFile(A.forge.prng.needed,function(g,y){f.postMessage({forge:{prng:{err:g,bytes:y}}})})},"listener");f.addEventListener("message",d)}},e}});var su=q((djr,OJ)=>{u();var ia=en();u1();LJ();MJ();ei();(function(){if(ia.random&&ia.random.getBytes){OJ.exports=ia.random;return}(function(t){var e={},r=new Array(4),n=ia.util.createBuffer();e.formatKey=function(h){var A=ia.util.createBuffer(h);return h=new Array(4),h[0]=A.getInt32(),h[1]=A.getInt32(),h[2]=A.getInt32(),h[3]=A.getInt32(),ia.aes._expandKey(h,!1)},e.formatSeed=function(h){var A=ia.util.createBuffer(h);return h=new Array(4),h[0]=A.getInt32(),h[1]=A.getInt32(),h[2]=A.getInt32(),h[3]=A.getInt32(),h},e.cipher=function(h,A){return ia.aes._updateBlock(h,A,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=ia.md.sha256;function i(){var h=ia.prng.create(e);return h.getBytes=function(A,g){return h.generate(A,g)},h.getBytesSync=function(A){return h.generate(A)},h}o(i,"spawnPrng");var s=i(),a=null,c=ia.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(a=o(function(h){return l.getRandomValues(h)},"getRandomValues")),ia.options.usePureJavaScript||!ia.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch{}s.collect(f),f=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!ia.random)ia.random=s;else for(var d in s)ia.random[d]=s[d];ia.random.createInstance=i,OJ.exports=ia.random})(typeof jQuery<"u"?jQuery:null)})()});var HJ=q((pjr,o4e)=>{u();var Ac=en();ei();var UJ=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],n4e=[1,2,3,5],_dt=o(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),Sdt=o(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");o4e.exports=Ac.rc2=Ac.rc2||{};Ac.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ac.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),a=255>>(i&7),c;for(c=n;c<128;c++)r.putByte(UJ[r.at(c-1)+r.at(c-n)&255]);for(r.setAt(128-s,UJ[r.at(128-s)&a]),c=127-s;c>=0;c--)r.setAt(c,UJ[r.at(c+1)^r.at(c+s)]);return r};var i4e=o(function(t,e,r){var n=!1,i=null,s=null,a=null,c,l,f,d,h=[];for(t=Ac.rc2.expandKey(t,e),f=0;f<64;f++)h.push(t.getInt16Le());r?(c=o(function(y){for(f=0;f<4;f++)y[f]+=h[d]+(y[(f+3)%4]&y[(f+2)%4])+(~y[(f+3)%4]&y[(f+1)%4]),y[f]=_dt(y[f],n4e[f]),d++},"mixRound"),l=o(function(y){for(f=0;f<4;f++)y[f]+=h[y[(f+3)%4]&63]},"mashRound")):(c=o(function(y){for(f=3;f>=0;f--)y[f]=Sdt(y[f],n4e[f]),y[f]-=h[d]+(y[(f+3)%4]&y[(f+2)%4])+(~y[(f+3)%4]&y[(f+1)%4]),d--},"mixRound"),l=o(function(y){for(f=3;f>=0;f--)y[f]-=h[y[(f+3)%4]&63]},"mashRound"));var A=o(function(y){var v=[];for(f=0;f<4;f++){var _=i.getInt16Le();a!==null&&(r?_^=a.getInt16Le():a.putInt16Le(_)),v.push(_&65535)}d=r?0:63;for(var T=0;T<y.length;T++)for(var S=0;S<y[T][0];S++)y[T][1](v);for(f=0;f<4;f++)a!==null&&(r?a.putInt16Le(v[f]):v[f]^=a.getInt16Le()),s.putInt16Le(v[f])},"runPlan"),g=null;return g={start:o(function(y,v){y&&typeof y=="string"&&(y=Ac.util.createBuffer(y)),n=!1,i=Ac.util.createBuffer(),s=v||new Ac.util.createBuffer,a=y,g.output=s},"start"),update:o(function(y){for(n||i.putBuffer(y);i.length()>=8;)A([[5,c],[1,l],[6,c],[1,l],[5,c]])},"update"),finish:o(function(y){var v=!0;if(r)if(y)v=y(8,i,!r);else{var _=i.length()===8?8:8-i.length();i.fillWithByte(_,_)}if(v&&(n=!0,g.update()),!r&&(v=i.length()===0,v))if(y)v=y(8,s,!r);else{var T=s.length(),S=s.at(T-1);S>T?v=!1:s.truncate(S)}return v},"finish")},g},"createCipher");Ac.rc2.startEncrypting=function(t,e,r){var n=Ac.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ac.rc2.createEncryptionCipher=function(t,e){return i4e(t,e,!0)};Ac.rc2.startDecrypting=function(t,e,r){var n=Ac.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ac.rc2.createDecryptionCipher=function(t,e){return i4e(t,e,!1)}});var kw=q((yjr,h4e)=>{u();var qJ=en();h4e.exports=qJ.jsbn=qJ.jsbn||{};var op,wdt=0xdeadbeefcafe,s4e=(wdt&16777215)==15715070;function nt(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}o(nt,"BigInteger");qJ.jsbn.BigInteger=nt;function ti(){return new nt(null)}o(ti,"nbi");function Bdt(t,e,r,n,i,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(Bdt,"am1");function Rdt(t,e,r,n,i,s){for(var a=e&32767,c=e>>15;--s>=0;){var l=this.data[t]&32767,f=this.data[t++]>>15,d=c*l+f*a;l=a*l+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(d>>>15)+c*f+(i>>>30),r.data[n++]=l&1073741823}return i}o(Rdt,"am2");function a4e(t,e,r,n,i,s){for(var a=e&16383,c=e>>14;--s>=0;){var l=this.data[t]&16383,f=this.data[t++]>>14,d=c*l+f*a;l=a*l+((d&16383)<<14)+r.data[n]+i,i=(l>>28)+(d>>14)+c*f,r.data[n++]=l&268435455}return i}o(a4e,"am3");typeof navigator>"u"?(nt.prototype.am=a4e,op=28):s4e&&navigator.appName=="Microsoft Internet Explorer"?(nt.prototype.am=Rdt,op=30):s4e&&navigator.appName!="Netscape"?(nt.prototype.am=Bdt,op=26):(nt.prototype.am=a4e,op=28);nt.prototype.DB=op;nt.prototype.DM=(1<<op)-1;nt.prototype.DV=1<<op;var GJ=52;nt.prototype.FV=Math.pow(2,GJ);nt.prototype.F1=GJ-op;nt.prototype.F2=2*op-GJ;var kdt="0123456789abcdefghijklmnopqrstuvwxyz",aF=new Array,jx,au;jx=48;for(au=0;au<=9;++au)aF[jx++]=au;jx=97;for(au=10;au<36;++au)aF[jx++]=au;jx=65;for(au=10;au<36;++au)aF[jx++]=au;function c4e(t){return kdt.charAt(t)}o(c4e,"int2char");function l4e(t,e){var r=aF[t.charCodeAt(e)];return r??-1}o(l4e,"intAt");function Ddt(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}o(Ddt,"bnpCopyTo");function Ndt(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}o(Ndt,"bnpFromInt");function d1(t){var e=ti();return e.fromInt(t),e}o(d1,"nbv");function Qdt(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var a=r==8?t[n]&255:l4e(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&nt.ZERO.subTo(this,this)}o(Qdt,"bnpFromString");function Pdt(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}o(Pdt,"bnpClamp");function Fdt(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",a=this.t,c=this.DB-a*this.DB%e;if(a-- >0)for(c<this.DB&&(n=this.data[a]>>c)>0&&(i=!0,s=c4e(n));a>=0;)c<e?(n=(this.data[a]&(1<<c)-1)<<e-c,n|=this.data[--a]>>(c+=this.DB-e)):(n=this.data[a]>>(c-=e)&r,c<=0&&(c+=this.DB,--a)),n>0&&(i=!0),i&&(s+=c4e(n));return i?s:"0"}o(Fdt,"bnToString");function Ldt(){var t=ti();return nt.ZERO.subTo(this,t),t}o(Ldt,"bnNegate");function Mdt(){return this.s<0?this.negate():this}o(Mdt,"bnAbs");function Odt(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}o(Odt,"bnCompareTo");function cF(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}o(cF,"nbits");function Udt(){return this.t<=0?0:this.DB*(this.t-1)+cF(this.data[this.t-1]^this.s&this.DM)}o(Udt,"bnBitLength");function Hdt(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}o(Hdt,"bnpDLShiftTo");function qdt(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}o(qdt,"bnpDRShiftTo");function Gdt(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,c;for(c=this.t-1;c>=0;--c)e.data[c+s+1]=this.data[c]>>n|a,a=(this.data[c]&i)<<r;for(c=s-1;c>=0;--c)e.data[c]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}o(Gdt,"bnpLShiftTo");function Vdt(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}o(Vdt,"bnpRShiftTo");function Wdt(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}o(Wdt,"bnpSubTo");function Ydt(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&nt.ZERO.subTo(e,e)}o(Ydt,"bnpMultiplyTo");function $dt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}o($dt,"bnpSquareTo");function zdt(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ti());var s=ti(),a=this.s,c=t.s,l=this.DB-cF(n.data[n.t-1]);l>0?(n.lShiftTo(l,s),i.lShiftTo(l,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,d=s.data[f-1];if(d!=0){var h=d*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),A=this.FV/h,g=(1<<this.F1)/h,y=1<<this.F2,v=r.t,_=v-f,T=e??ti();for(s.dlShiftTo(_,T),r.compareTo(T)>=0&&(r.data[r.t++]=1,r.subTo(T,r)),nt.ONE.dlShiftTo(f,T),T.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--_>=0;){var S=r.data[--v]==d?this.DM:Math.floor(r.data[v]*A+(r.data[v-1]+y)*g);if((r.data[v]+=s.am(0,S,r,_,0,f))<S)for(s.dlShiftTo(_,T),r.subTo(T,r);r.data[v]<--S;)r.subTo(T,r)}e!=null&&(r.drShiftTo(f,e),a!=c&&nt.ZERO.subTo(e,e)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),a<0&&nt.ZERO.subTo(r,r)}}}o(zdt,"bnpDivRemTo");function jdt(t){var e=ti();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(nt.ZERO)>0&&t.subTo(e,e),e}o(jdt,"bnMod");function ME(t){this.m=t}o(ME,"Classic");function Kdt(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}o(Kdt,"cConvert");function Jdt(t){return t}o(Jdt,"cRevert");function Xdt(t){t.divRemTo(this.m,null,t)}o(Xdt,"cReduce");function Zdt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(Zdt,"cMulTo");function eht(t,e){t.squareTo(e),this.reduce(e)}o(eht,"cSqrTo");ME.prototype.convert=Kdt;ME.prototype.revert=Jdt;ME.prototype.reduce=Xdt;ME.prototype.mulTo=Zdt;ME.prototype.sqrTo=eht;function tht(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}o(tht,"bnpInvDigit");function OE(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}o(OE,"Montgomery");function rht(t){var e=ti();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(nt.ZERO)>0&&this.m.subTo(e,e),e}o(rht,"montConvert");function nht(t){var e=ti();return t.copyTo(e),this.reduce(e),e}o(nht,"montRevert");function iht(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}o(iht,"montReduce");function oht(t,e){t.squareTo(e),this.reduce(e)}o(oht,"montSqrTo");function sht(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(sht,"montMulTo");OE.prototype.convert=rht;OE.prototype.revert=nht;OE.prototype.reduce=iht;OE.prototype.mulTo=sht;OE.prototype.sqrTo=oht;function aht(){return(this.t>0?this.data[0]&1:this.s)==0}o(aht,"bnpIsEven");function cht(t,e){if(t>4294967295||t<1)return nt.ONE;var r=ti(),n=ti(),i=e.convert(this),s=cF(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}o(cht,"bnpExp");function lht(t,e){var r;return t<256||e.isEven()?r=new ME(e):r=new OE(e),this.exp(t,r)}o(lht,"bnModPowInt");nt.prototype.copyTo=Ddt;nt.prototype.fromInt=Ndt;nt.prototype.fromString=Qdt;nt.prototype.clamp=Pdt;nt.prototype.dlShiftTo=Hdt;nt.prototype.drShiftTo=qdt;nt.prototype.lShiftTo=Gdt;nt.prototype.rShiftTo=Vdt;nt.prototype.subTo=Wdt;nt.prototype.multiplyTo=Ydt;nt.prototype.squareTo=$dt;nt.prototype.divRemTo=zdt;nt.prototype.invDigit=tht;nt.prototype.isEven=aht;nt.prototype.exp=cht;nt.prototype.toString=Fdt;nt.prototype.negate=Ldt;nt.prototype.abs=Mdt;nt.prototype.compareTo=Odt;nt.prototype.bitLength=Udt;nt.prototype.mod=jdt;nt.prototype.modPowInt=lht;nt.ZERO=d1(0);nt.ONE=d1(1);function uht(){var t=ti();return this.copyTo(t),t}o(uht,"bnClone");function fht(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(fht,"bnIntValue");function dht(){return this.t==0?this.s:this.data[0]<<24>>24}o(dht,"bnByteValue");function hht(){return this.t==0?this.s:this.data[0]<<16>>16}o(hht,"bnShortValue");function Aht(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}o(Aht,"bnpChunkSize");function pht(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(pht,"bnSigNum");function mht(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=d1(r),i=ti(),s=ti(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(t)+a}o(mht,"bnpToRadix");function ght(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,a=0,c=0;c<t.length;++c){var l=l4e(t,c);if(l<0){t.charAt(c)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+l,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&nt.ZERO.subTo(this,this)}o(ght,"bnpFromRadix");function yht(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(nt.ONE.shiftLeft(t-1),VJ,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(nt.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(yht,"bnpFromNumber");function Cht(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}o(Cht,"bnToByteArray");function Eht(t){return this.compareTo(t)==0}o(Eht,"bnEquals");function Iht(t){return this.compareTo(t)<0?this:t}o(Iht,"bnMin");function vht(t){return this.compareTo(t)>0?this:t}o(vht,"bnMax");function bht(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}o(bht,"bnpBitwiseTo");function xht(t,e){return t&e}o(xht,"op_and");function Tht(t){var e=ti();return this.bitwiseTo(t,xht,e),e}o(Tht,"bnAnd");function VJ(t,e){return t|e}o(VJ,"op_or");function _ht(t){var e=ti();return this.bitwiseTo(t,VJ,e),e}o(_ht,"bnOr");function u4e(t,e){return t^e}o(u4e,"op_xor");function Sht(t){var e=ti();return this.bitwiseTo(t,u4e,e),e}o(Sht,"bnXor");function f4e(t,e){return t&~e}o(f4e,"op_andnot");function wht(t){var e=ti();return this.bitwiseTo(t,f4e,e),e}o(wht,"bnAndNot");function Bht(){for(var t=ti(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}o(Bht,"bnNot");function Rht(t){var e=ti();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}o(Rht,"bnShiftLeft");function kht(t){var e=ti();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}o(kht,"bnShiftRight");function Dht(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}o(Dht,"lbit");function Nht(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Dht(this.data[t]);return this.s<0?this.t*this.DB:-1}o(Nht,"bnGetLowestSetBit");function Qht(t){for(var e=0;t!=0;)t&=t-1,++e;return e}o(Qht,"cbit");function Pht(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Qht(this.data[r]^e);return t}o(Pht,"bnBitCount");function Fht(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}o(Fht,"bnTestBit");function Lht(t,e){var r=nt.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}o(Lht,"bnpChangeBit");function Mht(t){return this.changeBit(t,VJ)}o(Mht,"bnSetBit");function Oht(t){return this.changeBit(t,f4e)}o(Oht,"bnClearBit");function Uht(t){return this.changeBit(t,u4e)}o(Uht,"bnFlipBit");function Hht(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}o(Hht,"bnpAddTo");function qht(t){var e=ti();return this.addTo(t,e),e}o(qht,"bnAdd");function Ght(t){var e=ti();return this.subTo(t,e),e}o(Ght,"bnSubtract");function Vht(t){var e=ti();return this.multiplyTo(t,e),e}o(Vht,"bnMultiply");function Wht(t){var e=ti();return this.divRemTo(t,e,null),e}o(Wht,"bnDivide");function Yht(t){var e=ti();return this.divRemTo(t,null,e),e}o(Yht,"bnRemainder");function $ht(t){var e=ti(),r=ti();return this.divRemTo(t,e,r),new Array(e,r)}o($ht,"bnDivideAndRemainder");function zht(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}o(zht,"bnpDMultiply");function jht(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}o(jht,"bnpDAddOffset");function Rw(){}o(Rw,"NullExp");function d4e(t){return t}o(d4e,"nNop");function Kht(t,e,r){t.multiplyTo(e,r)}o(Kht,"nMulTo");function Jht(t,e){t.squareTo(e)}o(Jht,"nSqrTo");Rw.prototype.convert=d4e;Rw.prototype.revert=d4e;Rw.prototype.mulTo=Kht;Rw.prototype.sqrTo=Jht;function Xht(t){return this.exp(t,new Rw)}o(Xht,"bnPow");function Zht(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}o(Zht,"bnpMultiplyLowerTo");function eAt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}o(eAt,"bnpMultiplyUpperTo");function Kx(t){this.r2=ti(),this.q3=ti(),nt.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}o(Kx,"Barrett");function tAt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ti();return t.copyTo(e),this.reduce(e),e}o(tAt,"barrettConvert");function rAt(t){return t}o(rAt,"barrettRevert");function nAt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}o(nAt,"barrettReduce");function iAt(t,e){t.squareTo(e),this.reduce(e)}o(iAt,"barrettSqrTo");function oAt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}o(oAt,"barrettMulTo");Kx.prototype.convert=tAt;Kx.prototype.revert=rAt;Kx.prototype.reduce=nAt;Kx.prototype.mulTo=oAt;Kx.prototype.sqrTo=iAt;function sAt(t,e){var r=t.bitLength(),n,i=d1(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ME(e):e.isEven()?s=new Kx(e):s=new OE(e);var a=new Array,c=3,l=n-1,f=(1<<n)-1;if(a[1]=s.convert(this),n>1){var d=ti();for(s.sqrTo(a[1],d);c<=f;)a[c]=ti(),s.mulTo(d,a[c-2],a[c]),c+=2}var h=t.t-1,A,g=!0,y=ti(),v;for(r=cF(t.data[h])-1;h>=0;){for(r>=l?A=t.data[h]>>r-l&f:(A=(t.data[h]&(1<<r+1)-1)<<l-r,h>0&&(A|=t.data[h-1]>>this.DB+r-l)),c=n;(A&1)==0;)A>>=1,--c;if((r-=c)<0&&(r+=this.DB,--h),g)a[A].copyTo(i),g=!1;else{for(;c>1;)s.sqrTo(i,y),s.sqrTo(y,i),c-=2;c>0?s.sqrTo(i,y):(v=i,i=y,y=v),s.mulTo(y,a[A],i)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(i,y),v=i,i=y,y=v,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}o(sAt,"bnModPow");function aAt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(aAt,"bnGCD");function cAt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}o(cAt,"bnpModInt");function lAt(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return nt.ZERO;for(var r=t.clone(),n=this.clone(),i=d1(1),s=d1(0),a=d1(0),c=d1(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!c.isEven())&&(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),s.subTo(c,s)):(n.subTo(r,n),e&&a.subTo(i,a),c.subTo(s,c))}if(n.compareTo(nt.ONE)!=0)return nt.ZERO;if(c.compareTo(t)>=0)return c.subtract(t);if(c.signum()<0)c.addTo(t,c);else return c;return c.signum()<0?c.add(t):c}o(lAt,"bnModInverse");var wf=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],uAt=(1<<26)/wf[wf.length-1];function fAt(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=wf[wf.length-1]){for(e=0;e<wf.length;++e)if(r.data[0]==wf[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<wf.length;){for(var n=wf[e],i=e+1;i<wf.length&&n<uAt;)n*=wf[i++];for(n=r.modInt(n);e<i;)if(n%wf[e++]==0)return!1}return r.millerRabin(t)}o(fAt,"bnIsProbablePrime");function dAt(t){var e=this.subtract(nt.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=hAt(),s,a=0;a<t;++a){do s=new nt(this.bitLength(),i);while(s.compareTo(nt.ONE)<=0||s.compareTo(e)>=0);var c=s.modPow(n,this);if(c.compareTo(nt.ONE)!=0&&c.compareTo(e)!=0){for(var l=1;l++<r&&c.compareTo(e)!=0;)if(c=c.modPowInt(2,this),c.compareTo(nt.ONE)==0)return!1;if(c.compareTo(e)!=0)return!1}}return!0}o(dAt,"bnpMillerRabin");function hAt(){return{nextBytes:o(function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)},"nextBytes")}}o(hAt,"bnGetPrng");nt.prototype.chunkSize=Aht;nt.prototype.toRadix=mht;nt.prototype.fromRadix=ght;nt.prototype.fromNumber=yht;nt.prototype.bitwiseTo=bht;nt.prototype.changeBit=Lht;nt.prototype.addTo=Hht;nt.prototype.dMultiply=zht;nt.prototype.dAddOffset=jht;nt.prototype.multiplyLowerTo=Zht;nt.prototype.multiplyUpperTo=eAt;nt.prototype.modInt=cAt;nt.prototype.millerRabin=dAt;nt.prototype.clone=uht;nt.prototype.intValue=fht;nt.prototype.byteValue=dht;nt.prototype.shortValue=hht;nt.prototype.signum=pht;nt.prototype.toByteArray=Cht;nt.prototype.equals=Eht;nt.prototype.min=Iht;nt.prototype.max=vht;nt.prototype.and=Tht;nt.prototype.or=_ht;nt.prototype.xor=Sht;nt.prototype.andNot=wht;nt.prototype.not=Bht;nt.prototype.shiftLeft=Rht;nt.prototype.shiftRight=kht;nt.prototype.getLowestSetBit=Nht;nt.prototype.bitCount=Pht;nt.prototype.testBit=Fht;nt.prototype.setBit=Mht;nt.prototype.clearBit=Oht;nt.prototype.flipBit=Uht;nt.prototype.add=qht;nt.prototype.subtract=Ght;nt.prototype.multiply=Vht;nt.prototype.divide=Wht;nt.prototype.remainder=Yht;nt.prototype.divideAndRemainder=$ht;nt.prototype.modPow=sAt;nt.prototype.modInverse=lAt;nt.prototype.pow=Xht;nt.prototype.gcd=aAt;nt.prototype.isProbablePrime=fAt});var Jx=q((Ijr,g4e)=>{u();var ph=en();uh();ei();var p4e=g4e.exports=ph.sha1=ph.sha1||{};ph.md.sha1=ph.md.algorithms.sha1=p4e;p4e.create=function(){m4e||AAt();var t=null,e=ph.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=ph.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ph.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=a[1],a[1]=a[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),A4e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=ph.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(WJ.substr(0,n.blockLength-a));for(var c,l,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,l=c/4294967296>>>0,f+=l,i.putInt32(f>>>0),f=c>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};A4e(h,r,i);var A=ph.util.createBuffer();return A.putInt32(h.h0),A.putInt32(h.h1),A.putInt32(h.h2),A.putInt32(h.h3),A.putInt32(h.h4),A},n};var WJ=null,m4e=!1;function AAt(){WJ="\x80",WJ+=ph.util.fillString("\0",64),m4e=!0}o(AAt,"_init");function A4e(t,e,r){for(var n,i,s,a,c,l,f,d,h=r.length();h>=64;){for(i=t.h0,s=t.h1,a=t.h2,c=t.h3,l=t.h4,d=0;d<16;++d)n=r.getInt32(),e[d]=n,f=c^s&(a^c),n=(i<<5|i>>>27)+f+l+1518500249+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<20;++d)n=e[d-3]^e[d-8]^e[d-14]^e[d-16],n=n<<1|n>>>31,e[d]=n,f=c^s&(a^c),n=(i<<5|i>>>27)+f+l+1518500249+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<32;++d)n=e[d-3]^e[d-8]^e[d-14]^e[d-16],n=n<<1|n>>>31,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+1859775393+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<40;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+1859775393+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<60;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s&a|c&(s^a),n=(i<<5|i>>>27)+f+l+2400959708+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<80;++d)n=e[d-6]^e[d-16]^e[d-28]^e[d-32],n=n<<2|n>>>30,e[d]=n,f=s^a^c,n=(i<<5|i>>>27)+f+l+3395469782+n,l=c,c=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+c|0,t.h4=t.h4+l|0,h-=64}}o(A4e,"_update")});var YJ=q((xjr,C4e)=>{u();var mh=en();ei();su();Jx();var y4e=C4e.exports=mh.pkcs1=mh.pkcs1||{};y4e.encode_rsa_oaep=function(t,e,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=mh.md.sha1.create(),a||(a=s);var c=Math.ceil(t.n.bitLength()/8),l=c-2*s.digestLength-2;if(e.length>l){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=e.length,f.maxLength=l,f}n||(n=""),s.update(n,"raw");for(var d=s.digest(),h="",A=l-e.length,g=0;g<A;g++)h+="\0";var y=d.getBytes()+h+""+e;if(!i)i=mh.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=s.digestLength,f}var v=lF(i,c-s.digestLength-1,a),_=mh.util.xorBytes(y,v,y.length),T=lF(_,s.digestLength,a),S=mh.util.xorBytes(i,T,i.length);return"\0"+S+_};y4e.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=e.length,_.expectedLength=a,_}if(i===void 0?i=mh.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var c=i.digest().getBytes(),l=e.charAt(0),f=e.substring(1,i.digestLength+1),d=e.substring(1+i.digestLength),h=lF(d,i.digestLength,s),A=mh.util.xorBytes(f,h,f.length),g=lF(A,a-i.digestLength-1,s),y=mh.util.xorBytes(d,g,d.length),v=y.substring(0,i.digestLength),_=l!=="\0",T=0;T<i.digestLength;++T)_|=c.charAt(T)!==v.charAt(T);for(var S=1,D=i.digestLength,Q=i.digestLength;Q<y.length;Q++){var k=y.charCodeAt(Q),P=k&1^1,W=S?65534:0;_|=k&W,S=S&P,D+=S}if(_||y.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(D+1)};function lF(t,e,r){r||(r=mh.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}o(lF,"rsa_mgf1")});var zJ=q((Sjr,$J)=>{u();var h1=en();ei();kw();su();(function(){if(h1.prime){$J.exports=h1.prime;return}var t=$J.exports=h1.prime=h1.prime||{},e=h1.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=o(function(h,A){return h|A},"op_or");t.generateProbablePrime=function(h,A,g){typeof A=="function"&&(g=A,A={}),A=A||{};var y=A.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var v=A.prng||h1.random,_={nextBytes:o(function(T){for(var S=v.getBytesSync(T.length),D=0;D<T.length;++D)T[D]=S.charCodeAt(D)},"nextBytes")};if(y.name==="PRIMEINC")return s(h,_,y.options,g);throw new Error("Invalid prime generation algorithm: "+y.name)};function s(h,A,g,y){return"workers"in g?l(h,A,g,y):a(h,A,g,y)}o(s,"primeincFindPrime");function a(h,A,g,y){var v=f(h,A),_=0,T=d(v.bitLength());"millerRabinTests"in g&&(T=g.millerRabinTests);var S=10;"maxBlockTime"in g&&(S=g.maxBlockTime),c(v,h,A,_,T,S,y)}o(a,"primeincFindPrimeWithoutWorkers");function c(h,A,g,y,v,_,T){var S=+new Date;do{if(h.bitLength()>A&&(h=f(A,g)),h.isProbablePrime(v))return T(null,h);h.dAddOffset(r[y++%8],0)}while(_<0||+new Date-S<_);h1.util.setImmediate(function(){c(h,A,g,y,v,_,T)})}o(c,"_primeinc");function l(h,A,g,y){if(typeof Worker>"u")return a(h,A,g,y);var v=f(h,A),_=g.workers,T=g.workLoad||100,S=T*30/8,D=g.workerScript||"forge/prime.worker.js";if(_===-1)return h1.util.estimateCores(function(k,P){k&&(P=2),_=P-1,Q()});Q();function Q(){_=Math.max(1,_);for(var k=[],P=0;P<_;++P)k[P]=new Worker(D);for(var W=_,P=0;P<_;++P)k[P].addEventListener("message",ye);var re=!1;function ye(Ae){if(!re){--W;var z=Ae.data;if(z.found){for(var j=0;j<k.length;++j)k[j].terminate();return re=!0,y(null,new e(z.prime,16))}v.bitLength()>h&&(v=f(h,A));var Ie=v.toString(16);Ae.target.postMessage({hex:Ie,workLoad:T}),v.dAddOffset(S,0)}}o(ye,"workerMessage")}o(Q,"generate")}o(l,"primeincFindPrimeWithWorkers");function f(h,A){var g=new e(h,A),y=h-1;return g.testBit(y)||g.bitwiseTo(e.ONE.shiftLeft(y),i,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}o(f,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var Dw=q((Rjr,_4e)=>{u();var Zt=en();Sf();kw();f1();YJ();zJ();su();ei();typeof Yn>"u"&&(Yn=Zt.jsbn.BigInteger);var Yn,jJ=Zt.util.isNodejs?require("crypto"):null,Re=Zt.asn1,cu=Zt.util;Zt.pki=Zt.pki||{};_4e.exports=Zt.pki.rsa=Zt.rsa=Zt.rsa||{};var Vr=Zt.pki,pAt=[6,4,2,4,2,4,6,2],mAt={name:"PrivateKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},gAt={name:"RSAPrivateKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},yAt={name:"RSAPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},CAt=Zt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},EAt={name:"DigestInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Re.Class.UNIVERSAL,type:Re.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},IAt=o(function(t){var e;if(t.algorithm in Vr.oids)e=Vr.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=Re.oidToDer(e).getBytes(),i=Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[]),s=Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[]);s.value.push(Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,n)),s.value.push(Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,""));var a=Re.create(Re.Class.UNIVERSAL,Re.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(a),Re.toDer(i).getBytes()},"emsaPkcs1v15encode"),x4e=o(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Yn.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Yn.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Yn(Zt.util.bytesToHex(Zt.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Yn.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var a=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a},"_modPow");Vr.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=T4e(t,e,r)):(i=Zt.util.createBuffer(),i.putBytes(t));for(var a=new Yn(i.toHex(),16),c=x4e(a,e,n),l=c.toString(16),f=Zt.util.createBuffer(),d=s-Math.ceil(l.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Zt.util.hexToBytes(l)),f.getBytes()};Vr.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var a=new Yn(Zt.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=x4e(a,e,r),l=c.toString(16),f=Zt.util.createBuffer(),d=i-Math.ceil(l.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Zt.util.hexToBytes(l)),n!==!1?uF(f.getBytes(),e,r):f.getBytes()};Vr.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||Zt.random,i={nextBytes:o(function(c){for(var l=n.getBytesSync(c.length),f=0;f<c.length;++f)c[f]=l.charCodeAt(f)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new Yn(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Vr.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Yn(null);r.fromInt(30);for(var n=0,i=o(function(h,A){return h|A},"op_or"),s=+new Date,a,c=0;t.keys===null&&(e<=0||c<e);){if(t.state===0){var l=t.p===null?t.pBits:t.qBits,f=l-1;t.pqState===0?(t.num=new Yn(l,t.rng),t.num.testBit(f)||t.num.bitwiseTo(Yn.ONE.shiftLeft(f),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(bAt(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(pAt[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Yn.ONE).gcd(t.e).compareTo(Yn.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Yn.ONE),t.q1=t.q.subtract(Yn.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Yn.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var d=t.e.modInverse(t.phi);t.keys={privateKey:Vr.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:Vr.rsa.setPublicKey(t.n,t.e)}}a=+new Date,c+=a-s,s=a}return t.keys!==null};Vr.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!Zt.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(E4e("generateKeyPair"))return jJ.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(c,l,f){if(c)return n(c);n(null,{privateKey:Vr.privateKeyFromPem(f),publicKey:Vr.publicKeyFromPem(l)})});if(I4e("generateKey")&&I4e("exportKey"))return cu.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b4e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(c){return cu.globalScope.crypto.subtle.exportKey("pkcs8",c.privateKey)}).then(void 0,function(c){n(c)}).then(function(c){if(c){var l=Vr.privateKeyFromAsn1(Re.fromDer(Zt.util.createBuffer(c)));n(null,{privateKey:l,publicKey:Vr.setRsaPublicKey(l.n,l.e)})}});if(v4e("generateKey")&&v4e("exportKey")){var i=cu.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b4e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(c){var l=c.target.result,f=cu.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);f.oncomplete=function(d){var h=d.target.result,A=Vr.privateKeyFromAsn1(Re.fromDer(Zt.util.createBuffer(h)));n(null,{privateKey:A,publicKey:Vr.setRsaPublicKey(A.n,A.e)})},f.onerror=function(d){n(d)}},i.onerror=function(c){n(c)};return}}else if(E4e("generateKeyPairSync")){var s=jJ.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Vr.privateKeyFromPem(s.privateKey),publicKey:Vr.publicKeyFromPem(s.publicKey)}}}var a=Vr.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Vr.rsa.stepKeyPairGenerationState(a,0),a.keys;vAt(a,r,n)};Vr.setRsaPublicKey=Vr.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(c,l,f){return T4e(c,l,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(c,l){return Zt.pkcs1.encode_rsa_oaep(l,c,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(c){return c},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Vr.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(l,f){f=uF(f,r,!0);var d=Re.fromDer(f,{parseAllBytes:a._parseAllDigestBytes}),h={},A=[];if(!Re.validate(d,EAt,h,A)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=A,g}var y=Re.derToOid(h.algorithmIdentifier);if(!(y===Zt.oids.md2||y===Zt.oids.md5||y===Zt.oids.sha1||y===Zt.oids.sha224||y===Zt.oids.sha256||y===Zt.oids.sha384||y===Zt.oids.sha512||y===Zt.oids["sha512-224"]||y===Zt.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=y,g}if((y===Zt.oids.md2||y===Zt.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===h.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(l,f){return f=uF(f,r,!0),l===f},"verify")});var c=Vr.rsa.decrypt(i,r,!0,!1);return s.verify(n,c,r.n.bitLength())},r};Vr.setRsaPrivateKey=Vr.rsa.setPrivateKey=function(t,e,r,n,i,s,a,c){var l={n:t,e,d:r,p:n,q:i,dP:s,dQ:a,qInv:c};return l.decrypt=function(f,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var A=Vr.rsa.decrypt(f,l,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:uF};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:o(function(g,y){return Zt.pkcs1.decode_rsa_oaep(y,g,h)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:o(function(g){return g},"decode")};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(A,l,!1)},l.sign=function(f,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:IAt},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:o(function(){return f},"encode")},h=1);var A=d.encode(f,l.n.bitLength());return Vr.rsa.encrypt(A,l,h)},l};Vr.wrapRsaPrivateKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,Re.integerToDer(0).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,Re.oidToDer(Vr.oids.rsaEncryption).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,"")]),Re.create(Re.Class.UNIVERSAL,Re.Type.OCTETSTRING,!1,Re.toDer(t).getBytes())])};Vr.privateKeyFromAsn1=function(t){var e={},r=[];if(Re.validate(t,mAt,e,r)&&(t=Re.fromDer(Zt.util.createBuffer(e.privateKey))),e={},r=[],!Re.validate(t,gAt,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,c,l,f,d,h;return i=Zt.util.createBuffer(e.privateKeyModulus).toHex(),s=Zt.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=Zt.util.createBuffer(e.privateKeyPrivateExponent).toHex(),c=Zt.util.createBuffer(e.privateKeyPrime1).toHex(),l=Zt.util.createBuffer(e.privateKeyPrime2).toHex(),f=Zt.util.createBuffer(e.privateKeyExponent1).toHex(),d=Zt.util.createBuffer(e.privateKeyExponent2).toHex(),h=Zt.util.createBuffer(e.privateKeyCoefficient).toHex(),Vr.setRsaPrivateKey(new Yn(i,16),new Yn(s,16),new Yn(a,16),new Yn(c,16),new Yn(l,16),new Yn(f,16),new Yn(d,16),new Yn(h,16))};Vr.privateKeyToAsn1=Vr.privateKeyToRSAPrivateKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,Re.integerToDer(0).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.n)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.e)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.d)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.p)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.q)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.dP)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.dQ)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.qInv))])};Vr.publicKeyFromAsn1=function(t){var e={},r=[];if(Re.validate(t,CAt,e,r)){var n=Re.derToOid(e.publicKeyOid);if(n!==Vr.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!Re.validate(t,yAt,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Zt.util.createBuffer(e.publicKeyModulus).toHex(),a=Zt.util.createBuffer(e.publicKeyExponent).toHex();return Vr.setRsaPublicKey(new Yn(s,16),new Yn(a,16))};Vr.publicKeyToAsn1=Vr.publicKeyToSubjectPublicKeyInfo=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.OID,!1,Re.oidToDer(Vr.oids.rsaEncryption).getBytes()),Re.create(Re.Class.UNIVERSAL,Re.Type.NULL,!1,"")]),Re.create(Re.Class.UNIVERSAL,Re.Type.BITSTRING,!1,[Vr.publicKeyToRSAPublicKey(t)])])};Vr.publicKeyToRSAPublicKey=function(t){return Re.create(Re.Class.UNIVERSAL,Re.Type.SEQUENCE,!0,[Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.n)),Re.create(Re.Class.UNIVERSAL,Re.Type.INTEGER,!1,gh(t.e))])};function T4e(t,e,r){var n=Zt.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-t.length,c;if(r===0||r===1){c=r===0?0:255;for(var l=0;l<a;++l)n.putByte(c)}else for(;a>0;){for(var f=0,d=Zt.random.getBytes(a),l=0;l<a;++l)c=d.charCodeAt(l),c===0?++f:n.putByte(c);a=f}return n.putByte(0),n.putBytes(t),n}o(T4e,"_encodePkcs1_v1_5");function uF(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=Zt.util.createBuffer(t),a=s.getByte(),c=s.getByte();if(a!==0||r&&c!==0&&c!==1||!r&&c!=2||r&&c===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(c===0){l=i-3-n;for(var f=0;f<l;++f)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(c===1)for(l=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++l}else if(c===2)for(l=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++l}var d=s.getByte();if(d!==0||l!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(uF,"_decodePkcs1_v1_5");function vAt(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(c,l){if(c)return r(c);if(t.p=l,t.q!==null)return a(c,t.q);s(t.qBits,a)})}o(i,"generate");function s(c,l){Zt.prime.generateProbablePrime(c,n,l)}o(s,"getPrime");function a(c,l){if(c)return r(c);if(t.q=l,t.p.compareTo(t.q)<0){var f=t.p;t.p=t.q,t.q=f}if(t.p.subtract(Yn.ONE).gcd(t.e).compareTo(Yn.ONE)!==0){t.p=null,i();return}if(t.q.subtract(Yn.ONE).gcd(t.e).compareTo(Yn.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract(Yn.ONE),t.q1=t.q.subtract(Yn.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Yn.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var d=t.e.modInverse(t.phi);t.keys={privateKey:Vr.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:Vr.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}o(a,"finish")}o(vAt,"_generateKeyPair");function gh(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=Zt.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(gh,"_bnToBytes");function bAt(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}o(bAt,"_getMillerRabinTests");function E4e(t){return Zt.util.isNodejs&&typeof jJ[t]=="function"}o(E4e,"_detectNodeCrypto");function I4e(t){return typeof cu.globalScope<"u"&&typeof cu.globalScope.crypto=="object"&&typeof cu.globalScope.crypto.subtle=="object"&&typeof cu.globalScope.crypto.subtle[t]=="function"}o(I4e,"_detectSubtleCrypto");function v4e(t){return typeof cu.globalScope<"u"&&typeof cu.globalScope.msCrypto=="object"&&typeof cu.globalScope.msCrypto.subtle=="object"&&typeof cu.globalScope.msCrypto.subtle[t]=="function"}o(v4e,"_detectSubtleMsCrypto");function b4e(t){for(var e=Zt.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}o(b4e,"_intToUint8Array")});var KJ=q((Njr,k4e)=>{u();var Rt=en();u1();Sf();Bw();uh();f1();oF();LE();su();HJ();Dw();ei();typeof S4e>"u"&&(S4e=Rt.jsbn.BigInteger);var S4e,Ve=Rt.asn1,Kr=Rt.pki=Rt.pki||{};k4e.exports=Kr.pbe=Rt.pbe=Rt.pbe||{};var UE=Kr.oids,xAt={name:"EncryptedPrivateKeyInfo",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},TAt={name:"PBES2Algorithms",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},_At={name:"pkcs-12PbeParams",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Ve.Class.UNIVERSAL,type:Ve.Type.INTEGER,constructed:!1,capture:"iterations"}]};Kr.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Rt.random.getBytesSync(r.saltSize),i=r.count,s=Ve.integerToDer(i),a,c,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,h;switch(r.algorithm){case"aes128":a=16,f=16,d=UE["aes128-CBC"],h=Rt.aes.createEncryptionCipher;break;case"aes192":a=24,f=16,d=UE["aes192-CBC"],h=Rt.aes.createEncryptionCipher;break;case"aes256":a=32,f=16,d=UE["aes256-CBC"],h=Rt.aes.createEncryptionCipher;break;case"des":a=8,f=8,d=UE.desCBC,h=Rt.des.createEncryptionCipher;break;default:var A=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw A.algorithm=r.algorithm,A}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),y=R4e(g),v=Rt.pkcs5.pbkdf2(e,n,i,a,y),_=Rt.random.getBytesSync(f),T=h(v);T.start(_),T.update(Ve.toDer(t)),T.finish(),l=T.output.getBytes();var S=SAt(n,s,a,g);c=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(UE.pkcs5PBES2).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(UE.pkcs5PBKDF2).getBytes()),S]),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(d).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){a=24;var D=new Rt.util.ByteBuffer(n),v=Kr.pbe.generatePkcs12Key(e,D,1,i,a),_=Kr.pbe.generatePkcs12Key(e,D,2,i,a),T=Rt.des.createEncryptionCipher(v);T.start(_),T.update(Ve.toDer(t)),T.finish(),l=T.output.getBytes(),c=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(UE["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,n),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,s.getBytes())])])}else{var A=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw A.algorithm=r.algorithm,A}var Q=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[c,Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,l)]);return Q};Kr.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!Ve.validate(t,xAt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=Ve.derToOid(n.encryptionOid),c=Kr.pbe.getCipher(a,n.encryptionParams,e),l=Rt.util.createBuffer(n.encryptedData);return c.update(l),c.finish()&&(r=Ve.fromDer(c.output)),r};Kr.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:Ve.toDer(t).getBytes()};return Rt.pem.encode(r,{maxline:e})};Kr.encryptedPrivateKeyFromPem=function(t){var e=Rt.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Ve.fromDer(e.body)};Kr.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Kr.wrapRsaPrivateKey(Kr.privateKeyToAsn1(t));return n=Kr.encryptPrivateKeyInfo(n,e,r),Kr.encryptedPrivateKeyToPem(n)}var i,s,a,c;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=Rt.random.getBytesSync(16),c=Rt.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=Rt.random.getBytesSync(8),c=Rt.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=Rt.random.getBytesSync(8),c=Rt.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var f=Rt.pbe.opensslDeriveBytes(e,s.substr(0,8),a),d=c(f);d.start(s),d.update(Ve.toDer(Kr.privateKeyToAsn1(t))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:Rt.util.bytesToHex(s).toUpperCase()},body:d.output.getBytes()};return Rt.pem.encode(h)};Kr.decryptRsaPrivateKey=function(t,e){var r=null,n=Rt.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=Rt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=Rt.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=Rt.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=Rt.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=Rt.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(h){return Rt.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var c=Rt.util.hexToBytes(n.dekInfo.parameters),l=Rt.pbe.opensslDeriveBytes(e,c.substr(0,8),s),f=a(l);if(f.start(c),f.update(Rt.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Kr.decryptPrivateKeyInfo(Ve.fromDer(r),e):r=Ve.fromDer(r),r!==null&&(r=Kr.privateKeyFromAsn1(r)),r};Kr.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var a,c;if(typeof s>"u"||s===null){if(!("sha1"in Rt.md))throw new Error('"sha1" hash algorithm unavailable.');s=Rt.md.sha1.create()}var l=s.digestLength,f=s.blockLength,d=new Rt.util.ByteBuffer,h=new Rt.util.ByteBuffer;if(t!=null){for(c=0;c<t.length;c++)h.putInt16(t.charCodeAt(c));h.putInt16(0)}var A=h.length(),g=e.length(),y=new Rt.util.ByteBuffer;y.fillWithByte(r,f);var v=f*Math.ceil(g/f),_=new Rt.util.ByteBuffer;for(c=0;c<v;c++)_.putByte(e.at(c%g));var T=f*Math.ceil(A/f),S=new Rt.util.ByteBuffer;for(c=0;c<T;c++)S.putByte(h.at(c%A));var D=_;D.putBuffer(S);for(var Q=Math.ceil(i/l),k=1;k<=Q;k++){var P=new Rt.util.ByteBuffer;P.putBytes(y.bytes()),P.putBytes(D.bytes());for(var W=0;W<n;W++)s.start(),s.update(P.getBytes()),P=s.digest();var re=new Rt.util.ByteBuffer;for(c=0;c<f;c++)re.putByte(P.at(c%l));var ye=Math.ceil(g/f)+Math.ceil(A/f),Ae=new Rt.util.ByteBuffer;for(a=0;a<ye;a++){var z=new Rt.util.ByteBuffer(D.getBytes(f)),j=511;for(c=re.length()-1;c>=0;c--)j=j>>8,j+=re.at(c)+z.at(c),z.setAt(c,j&255);Ae.putBuffer(z)}D=Ae,d.putBuffer(P)}return d.truncate(d.length()-i),d};Kr.pbe.getCipher=function(t,e,r){switch(t){case Kr.oids.pkcs5PBES2:return Kr.pbe.getCipherForPBES2(t,e,r);case Kr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Kr.oids["pbewithSHAAnd40BitRC2-CBC"]:return Kr.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Kr.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!Ve.validate(e,TAt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=Ve.derToOid(n.kdfOid),t!==Kr.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=Ve.derToOid(n.encOid),t!==Kr.oids["aes128-CBC"]&&t!==Kr.oids["aes192-CBC"]&&t!==Kr.oids["aes256-CBC"]&&t!==Kr.oids["des-EDE3-CBC"]&&t!==Kr.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,c=Rt.util.createBuffer(n.kdfIterationCount);c=c.getInt(c.length()<<3);var l,f;switch(Kr.oids[t]){case"aes128-CBC":l=16,f=Rt.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,f=Rt.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,f=Rt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,f=Rt.des.createDecryptionCipher;break;case"desCBC":l=8,f=Rt.des.createDecryptionCipher;break}var d=B4e(n.prfOid),h=Rt.pkcs5.pbkdf2(r,a,c,l,d),A=n.encIv,g=f(h);return g.start(A),g};Kr.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!Ve.validate(e,_At,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=Rt.util.createBuffer(n.salt),c=Rt.util.createBuffer(n.iterations);c=c.getInt(c.length()<<3);var l,f,d;switch(t){case Kr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,f=8,d=Rt.des.startDecrypting;break;case Kr.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,f=8,d=o(function(v,_){var T=Rt.rc2.createDecryptionCipher(v,40);return T.start(_,null),T},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=B4e(n.prfOid),A=Kr.pbe.generatePkcs12Key(r,a,1,c,l,h);h.start();var g=Kr.pbe.generatePkcs12Key(r,a,2,c,f,h);return d(A,g)};Kr.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in Rt.md))throw new Error('"md5" hash algorithm unavailable.');n=Rt.md.md5.create()}e===null&&(e="");for(var i=[w4e(n,t+e)],s=16,a=1;s<r;++a,s+=16)i.push(w4e(n,i[a-1]+t+e));return i.join("").substr(0,r)};function w4e(t,e){return t.start().update(e).digest().getBytes()}o(w4e,"hash");function B4e(t){var e;if(!t)e="hmacWithSHA1";else if(e=Kr.oids[Ve.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return R4e(e)}o(B4e,"prfOidToMessageDigest");function R4e(t){var e=Rt.md;switch(t){case"hmacWithSHA224":e=Rt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}o(R4e,"prfAlgorithmToMessageDigest");function SAt(t,e,r,n){var i=Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OCTETSTRING,!1,t),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(Ve.create(Ve.Class.UNIVERSAL,Ve.Type.INTEGER,!1,Rt.util.hexToBytes(r.toString(16))),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.SEQUENCE,!0,[Ve.create(Ve.Class.UNIVERSAL,Ve.Type.OID,!1,Ve.oidToDer(Kr.oids[n]).getBytes()),Ve.create(Ve.Class.UNIVERSAL,Ve.Type.NULL,!1,"")])),i}o(SAt,"createPbkdf2Params")});var JJ=q((Fjr,Q4e)=>{u();var Xx=en();Sf();ei();var wt=Xx.asn1,Zx=Q4e.exports=Xx.pkcs7asn1=Xx.pkcs7asn1||{};Xx.pkcs7=Xx.pkcs7||{};Xx.pkcs7.asn1=Zx;var D4e={name:"ContentInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Zx.contentInfoValidator=D4e;var N4e={name:"EncryptedContentInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Zx.envelopedDataValidator={name:"EnvelopedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(N4e)};Zx.encryptedDataValidator={name:"EncryptedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"}].concat(N4e)};var wAt={name:"SignerInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:wt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Zx.signedDataValidator={name:"SignedData",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},D4e,{name:"SignedData.Certificates",tagClass:wt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:wt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SET,capture:"signerInfos",optional:!0,value:[wAt]}]};Zx.recipientInfoValidator={name:"RecipientInfo",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:wt.Class.UNIVERSAL,type:wt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:wt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:wt.Class.UNIVERSAL,type:wt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var XJ=q((Mjr,P4e)=>{u();var HE=en();ei();HE.mgf=HE.mgf||{};var BAt=P4e.exports=HE.mgf.mgf1=HE.mgf1=HE.mgf1||{};BAt.create=function(t){var e={generate:o(function(r,n){for(var i=new HE.util.ByteBuffer,s=Math.ceil(n/t.digestLength),a=0;a<s;a++){var c=new HE.util.ByteBuffer;c.putInt32(a),t.start(),t.update(r+c.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return e}});var L4e=q((Hjr,F4e)=>{u();var fF=en();XJ();F4e.exports=fF.mgf=fF.mgf||{};fF.mgf.mgf1=fF.mgf1});var dF=q((Gjr,M4e)=>{u();var qE=en();su();ei();var RAt=M4e.exports=qE.pss=qE.pss||{};RAt.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=qE.util.createBuffer(i));var s;if("saltLength"in t)s=t.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||qE.random,c={};return c.encode=function(l,f){var d,h=f-1,A=Math.ceil(h/8),g=l.digest().getBytes();if(A<n+s+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=a.getBytesSync(s):y=i.bytes();var v=new qE.util.ByteBuffer;v.fillWithByte(0,8),v.putBytes(g),v.putBytes(y),e.start(),e.update(v.getBytes());var _=e.digest().getBytes(),T=new qE.util.ByteBuffer;T.fillWithByte(0,A-s-n-2),T.putByte(1),T.putBytes(y);var S=T.getBytes(),D=A-n-1,Q=r.generate(_,D),k="";for(d=0;d<D;d++)k+=String.fromCharCode(S.charCodeAt(d)^Q.charCodeAt(d));var P=65280>>8*A-h&255;return k=String.fromCharCode(k.charCodeAt(0)&~P)+k.substr(1),k+_+"\xBC"},c.verify=function(l,f,d){var h,A=d-1,g=Math.ceil(A/8);if(f=f.substr(-g),g<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=g-n-1,v=f.substr(0,y),_=f.substr(y,n),T=65280>>8*g-A&255;if((v.charCodeAt(0)&T)!==0)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(_,y),D="";for(h=0;h<y;h++)D+=String.fromCharCode(v.charCodeAt(h)^S.charCodeAt(h));D=String.fromCharCode(D.charCodeAt(0)&~T)+D.substr(1);var Q=g-n-s-2;for(h=0;h<Q;h++)if(D.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(Q)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=D.substr(-s),P=new qE.util.ByteBuffer;P.fillWithByte(0,8),P.putBytes(l),P.putBytes(k),e.start(),e.update(P.getBytes());var W=e.digest().getBytes();return _===W},c}});var pF=q((Wjr,G4e)=>{u();var er=en();u1();Sf();Bw();uh();L4e();f1();LE();dF();Dw();ei();var O=er.asn1,gt=G4e.exports=er.pki=er.pki||{},$n=gt.oids,Uo={};Uo.CN=$n.commonName;Uo.commonName="CN";Uo.C=$n.countryName;Uo.countryName="C";Uo.L=$n.localityName;Uo.localityName="L";Uo.ST=$n.stateOrProvinceName;Uo.stateOrProvinceName="ST";Uo.O=$n.organizationName;Uo.organizationName="O";Uo.OU=$n.organizationalUnitName;Uo.organizationalUnitName="OU";Uo.E=$n.emailAddress;Uo.emailAddress="E";var U4e=er.pki.rsa.publicKeyValidator,kAt={name:"Certificate",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:O.Class.UNIVERSAL,type:O.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:O.Class.UNIVERSAL,type:O.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:O.Class.UNIVERSAL,type:O.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:O.Class.UNIVERSAL,type:O.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},U4e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:O.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:O.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:O.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},DAt={name:"rsapss",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:O.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:O.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:O.Class.UNIVERSAL,type:O.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:O.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:O.Class.UNIVERSAL,type:O.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},NAt={name:"CertificationRequestInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},U4e,{name:"CertificationRequestInfo.attributes",tagClass:O.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0}]}]}]},QAt={name:"CertificationRequest",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[NAt,{name:"CertificationRequest.signatureAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:O.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};gt.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,s,a=0;a<t.value.length;++a){n=t.value[a];for(var c=0;c<n.value.length;++c)s={},i=n.value[c],s.type=O.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in $n&&(s.name=$n[s.type],s.name in Uo&&(s.shortName=Uo[s.name])),e&&(e.update(s.type),e.update(s.value)),r.push(s)}return r};gt.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=O.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var c={};if(c.type=i,c.value=s[a].value,c.valueTagClass=s[a].type,c.type in $n&&(c.name=$n[c.type],c.name in Uo&&(c.shortName=Uo[c.name])),c.type===$n.extensionRequest){c.extensions=[];for(var l=0;l<c.value.length;++l)c.extensions.push(gt.certificateExtensionFromAsn1(c.value[l]))}e.push(c)}return e};function A1(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}o(A1,"_getAttribute");var hF=o(function(t,e,r){var n={};if(t!==$n["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:$n.sha1},mgf:{algorithmOid:$n.mgf1,hash:{algorithmOid:$n.sha1}},saltLength:20});var i={},s=[];if(!O.validate(e,DAt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=O.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=O.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=O.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),AF=o(function(t){switch($n[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return er.md.sha1.create();case"md5WithRSAEncryption":return er.md.md5.create();case"sha256WithRSAEncryption":return er.md.sha256.create();case"sha384WithRSAEncryption":return er.md.sha384.create();case"sha512WithRSAEncryption":return er.md.sha512.create();case"RSASSA-PSS":return er.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},"_createSignatureDigest"),H4e=o(function(t){var e=t.certificate,r;switch(e.signatureOid){case $n.sha1WithRSAEncryption:case $n.sha1WithRSASignature:break;case $n["RSASSA-PSS"]:var n,i;if(n=$n[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||er.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=e.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=$n[e.signatureParameters.mgf.algorithmOid],i===void 0||er.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=e.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=er.mgf[i].create(er.md[n].create()),n=$n[e.signatureParameters.hash.algorithmOid],n===void 0||er.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=e.signatureParameters.hash.algorithmOid,s.name=n,s}r=er.pss.create(er.md[n].create(),i,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)},"_verifySignature");gt.certificateFromPem=function(t,e,r){var n=er.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=O.fromDer(n.body,r);return gt.certificateFromAsn1(s,e)};gt.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:O.toDer(gt.certificateToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.publicKeyFromPem=function(t){var e=er.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=O.fromDer(e.body);return gt.publicKeyFromAsn1(n)};gt.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:O.toDer(gt.publicKeyToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:O.toDer(gt.publicKeyToRSAPublicKey(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||er.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=O.toDer(gt.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=O.toDer(gt.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var s=r.digest();if(e.encoding==="hex"){var a=s.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};gt.certificationRequestFromPem=function(t,e,r){var n=er.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=O.fromDer(n.body,r);return gt.certificationRequestFromAsn1(s,e)};gt.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:O.toDer(gt.certificationRequestToAsn1(t)).getBytes()};return er.pem.encode(r,{maxline:e})};gt.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return A1(t.issuer,e)},t.issuer.addField=function(e){lu([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return A1(t.subject,e)},t.subject.addField=function(e){lu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){lu(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){lu(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)q4e(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||er.md.sha1.create();var n=$n[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=gt.getTBSCertificate(t);var s=O.toDer(t.tbsCertificate);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=e.md;if(a===null){a=AF({signatureOid:e.signatureOid,type:"certificate"});var c=e.tbsCertificate||gt.getTBSCertificate(e),l=O.toDer(c);a.update(l.getBytes())}return a!==null&&(r=H4e({certificate:t,md:a,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,c=0;r&&c<n.attributes.length;++c)s=n.attributes[c],a=i.attributes[c],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return gt.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=$n.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return er.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};gt.certificateFromAsn1=function(t,e){var r={},n=[];if(!O.validate(t,kAt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=O.derToOid(r.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=gt.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=er.util.createBuffer(r.certSerialNumber);a.serialNumber=c.toHex(),a.signatureOid=er.asn1.derToOid(r.certSignatureOid),a.signatureParameters=hF(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=er.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=hF(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(O.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(O.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(O.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(O.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=l[0],a.validity.notAfter=l[1],a.tbsCertificate=r.tbsCertificate,e){a.md=AF({signatureOid:a.signatureOid,type:"certificate"});var f=O.toDer(a.tbsCertificate);a.md.update(f.getBytes())}var d=er.md.sha1.create(),h=O.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(y){return A1(a.issuer,y)},a.issuer.addField=function(y){lu([y]),a.issuer.attributes.push(y)},a.issuer.attributes=gt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var A=er.md.sha1.create(),g=O.toDer(r.certSubject);return A.update(g.getBytes()),a.subject.getField=function(y){return A1(a.subject,y)},a.subject.addField=function(y){lu([y]),a.subject.attributes.push(y)},a.subject.attributes=gt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=A.digest().toHex(),r.certExtensions?a.extensions=gt.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=gt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};gt.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(gt.certificateExtensionFromAsn1(n.value[i]));return e};gt.certificateExtensionFromAsn1=function(t){var e={};if(e.id=O.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===O.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in $n){if(e.name=$n[e.id],e.name==="keyUsage"){var r=O.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=O.fromDer(e.value);r.value.length>0&&r.value[0].type===O.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var s=null;r.value.length>0&&r.value[0].type===O.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(e.pathLenConstraint=O.derToInteger(s))}else if(e.name==="extKeyUsage")for(var r=O.fromDer(e.value),a=0;a<r.value.length;++a){var c=O.derToOid(r.value[a].value);c in $n?e[$n[c]]=!0:e[c]=!0}else if(e.name==="nsCertType"){var r=O.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var l,r=O.fromDer(e.value),f=0;f<r.value.length;++f){l=r.value[f];var d={type:l.type,value:l.value};switch(e.altNames.push(d),l.type){case 1:case 2:case 6:break;case 7:d.ip=er.util.bytesToIP(l.value);break;case 8:d.oid=O.derToOid(l.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=O.fromDer(e.value);e.subjectKeyIdentifier=er.util.bytesToHex(r.value)}}return e};gt.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!O.validate(t,QAt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=O.derToOid(r.publicKeyOid);if(s!==gt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=gt.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=er.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=hF(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=er.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=hF(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,e){a.md=AF({signatureOid:a.signatureOid,type:"certification request"});var c=O.toDer(a.certificationRequestInfo);a.md.update(c.getBytes())}var l=er.md.sha1.create();return a.subject.getField=function(f){return A1(a.subject,f)},a.subject.addField=function(f){lu([f]),a.subject.attributes.push(f)},a.subject.attributes=gt.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),a.subject.hash=l.digest().toHex(),a.publicKey=gt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(f){return A1(a,f)},a.addAttribute=function(f){lu([f]),a.attributes.push(f)},a.attributes=gt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};gt.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return A1(t.subject,e)},t.subject.addField=function(e){lu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return A1(t,e)},t.addAttribute=function(e){lu([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){lu(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){lu(e),t.attributes=e},t.sign=function(e,r){t.md=r||er.md.sha1.create();var n=$n[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=gt.getCertificationRequestInfo(t);var s=O.toDer(t.certificationRequestInfo);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=AF({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||gt.getCertificationRequestInfo(t),i=O.toDer(n);r.update(i.getBytes())}return r!==null&&(e=H4e({certificate:t,md:r,signature:t.signature})),e},t};function e5(t){for(var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,c=O.Type.PRINTABLESTRING;"valueTagClass"in r&&(c=r.valueTagClass,c===O.Type.UTF8&&(a=er.util.encodeUtf8(a))),n=O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(r.type).getBytes()),O.create(O.Class.UNIVERSAL,c,!1,a)])]),e.value.push(n)}return e}o(e5,"_dnToAsn1");function lu(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in gt.oids?e.name=gt.oids[e.type]:e.shortName&&e.shortName in Uo&&(e.name=gt.oids[Uo[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in gt.oids)e.type=gt.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in Uo&&(e.shortName=Uo[e.name]),e.type===$n.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=O.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(gt.certificateExtensionToAsn1(q4e(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}o(lu,"_fillMissingFields");function q4e(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in gt.oids&&(t.name=gt.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in gt.oids)t.id=gt.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,s=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),t.value=O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,a)}else if(t.name==="basicConstraints")t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(O.create(O.Class.UNIVERSAL,O.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);var c=t.value.value;for(var l in t)t[l]===!0&&(l in $n?c.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer($n[l]).getBytes())):l.indexOf(".")!==-1&&c.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(l).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),t.value=O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,a)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);for(var f,d=0;d<t.altNames.length;++d){f=t.altNames[d];var a=f.value;if(f.type===7&&f.ip){if(a=er.util.bytesFromIP(f.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?a=O.oidToDer(O.oidToDer(f.oid)):a=O.oidToDer(a));t.value.value.push(O.create(O.Class.CONTEXT_SPECIFIC,f.type,!1,a))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=O.create(O.Class.UNIVERSAL,O.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var h=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=h.toHex(),t.value=O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,h.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);var c=t.value.value;if(t.keyIdentifier){var A=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;c.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!1,A))}if(t.authorityCertIssuer){var g=[O.create(O.Class.CONTEXT_SPECIFIC,4,!0,[e5(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];c.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,g))}if(t.serialNumber){var y=er.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);c.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(t.name==="cRLDistributionPoints"){t.value=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);for(var c=t.value.value,v=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),_=O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<t.altNames.length;++d){f=t.altNames[d];var a=f.value;if(f.type===7&&f.ip){if(a=er.util.bytesFromIP(f.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?a=O.oidToDer(O.oidToDer(f.oid)):a=O.oidToDer(a));_.value.push(O.create(O.Class.CONTEXT_SPECIFIC,f.type,!1,a))}v.value.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[_])),c.push(v)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}o(q4e,"_fillMissingExtensionFields");function ZJ(t,e){switch(t){case $n["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.hash.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.mgf.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(e.mgf.hash.algorithmOid).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(e.saltLength).getBytes())])),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,r);default:return O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")}}o(ZJ,"_signatureParametersToAsn1");function PAt(t){var e=O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=O.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===O.Type.UTF8&&(s=er.util.encodeUtf8(s));var c=!1;"valueConstructed"in i&&(c=i.valueConstructed);var l=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(i.type).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,a,c,s)])]);e.value.push(l)}return e}o(PAt,"_CRIAttributesToAsn1");var FAt=new Date("1950-01-01T00:00:00Z"),LAt=new Date("2050-01-01T00:00:00Z");function O4e(t){return t>=FAt&&t<LAt?O.create(O.Class.UNIVERSAL,O.Type.UTCTIME,!1,O.dateToUtcTime(t)):O.create(O.Class.UNIVERSAL,O.Type.GENERALIZEDTIME,!1,O.dateToGeneralizedTime(t))}o(O4e,"_dateToAsn1");gt.getTBSCertificate=function(t){var e=O4e(t.validity.notBefore),r=O4e(t.validity.notAfter),n=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.version).getBytes())]),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,er.util.hexToBytes(t.serialNumber)),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.siginfo.algorithmOid).getBytes()),ZJ(t.siginfo.algorithmOid,t.siginfo.parameters)]),e5(t.issuer),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,r]),e5(t.subject),gt.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(O.create(O.Class.CONTEXT_SPECIFIC,1,!0,[O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(O.create(O.Class.CONTEXT_SPECIFIC,2,!0,[O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(gt.certificateExtensionsToAsn1(t.extensions)),n};gt.getCertificationRequestInfo=function(t){var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(t.version).getBytes()),e5(t.subject),gt.publicKeyToAsn1(t.publicKey),PAt(t)]);return e};gt.distinguishedNameToAsn1=function(t){return e5(t)};gt.certificateToAsn1=function(t){var e=t.tbsCertificate||gt.getTBSCertificate(t);return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.signatureOid).getBytes()),ZJ(t.signatureOid,t.signatureParameters)]),O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.signature)])};gt.certificateExtensionsToAsn1=function(t){var e=O.create(O.Class.CONTEXT_SPECIFIC,3,!0,[]),r=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(gt.certificateExtensionToAsn1(t[n]));return e};gt.certificateExtensionToAsn1=function(t){var e=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);e.value.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.id).getBytes())),t.critical&&e.value.push(O.create(O.Class.UNIVERSAL,O.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=O.toDer(r).getBytes()),e.value.push(O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,r)),e};gt.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||gt.getCertificationRequestInfo(t);return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[e,O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(t.signatureOid).getBytes()),ZJ(t.signatureOid,t.signatureParameters)]),O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,"\0"+t.signature)])};gt.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(a){var c=r(a.issuer);return c},e.addCertificate=function(a){if(typeof a=="string"&&(a=er.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))if(a.subject.hash in e.certs){var c=e.certs[a.subject.hash];er.util.isArray(c)||(c=[c]),c.push(a),e.certs[a.subject.hash]=c}else e.certs[a.subject.hash]=a},e.hasCertificate=function(a){typeof a=="string"&&(a=er.pki.certificateFromPem(a));var c=r(a.subject);if(!c)return!1;er.util.isArray(c)||(c=[c]);for(var l=O.toDer(gt.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var d=O.toDer(gt.certificateToAsn1(c[f])).getBytes();if(l===d)return!0}return!1},e.listAllCertificates=function(){var a=[];for(var c in e.certs)if(e.certs.hasOwnProperty(c)){var l=e.certs[c];if(!er.util.isArray(l))a.push(l);else for(var f=0;f<l.length;++f)a.push(l[f])}return a},e.removeCertificate=function(a){var c;if(typeof a=="string"&&(a=er.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))return null;var l=r(a.subject);if(!er.util.isArray(l))return c=e.certs[a.subject.hash],delete e.certs[a.subject.hash],c;for(var f=O.toDer(gt.certificateToAsn1(a)).getBytes(),d=0;d<l.length;++d){var h=O.toDer(gt.certificateToAsn1(l[d])).getBytes();f===h&&(c=l[d],l.splice(d,1))}return l.length===0&&delete e.certs[a.subject.hash],c};function r(a){return n(a),e.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var c=er.md.sha1.create();a.attributes=gt.RDNAttributesAsArray(e5(a),c),a.hash=c.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),t)for(var i=0;i<t.length;++i){var s=t[i];e.addCertificate(s)}return e};gt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};gt.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,c=0;do{var l=e.shift(),f=null,d=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:gt.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),a===null){if(f=e[0]||t.getIssuer(l),f===null&&l.isIssuer(l)&&(d=!0,f=l),f){var h=f;er.util.isArray(h)||(h=[h]);for(var A=!1;!A&&h.length>0;){f=h.shift();try{A=f.verify(l)}catch{}}A||(a={message:"Certificate signature is invalid.",error:gt.certificateError.bad_certificate})}a===null&&(!f||d)&&!t.hasCertificate(l)&&(a={message:"Certificate is not trusted.",error:gt.certificateError.unknown_ca})}if(a===null&&f&&!l.isIssuer(f)&&(a={message:"Certificate issuer is invalid.",error:gt.certificateError.bad_certificate}),a===null)for(var g={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<l.extensions.length;++y){var v=l.extensions[y];v.critical&&!(v.name in g)&&(a={message:"Certificate has an unsupported critical extension.",error:gt.certificateError.unsupported_certificate})}if(a===null&&(!s||e.length===0&&(!f||d))){var _=l.getExtension("basicConstraints"),T=l.getExtension("keyUsage");if(T!==null&&(!T.keyCertSign||_===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:gt.certificateError.bad_certificate}),a===null&&_!==null&&!_.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:gt.certificateError.bad_certificate}),a===null&&T!==null&&"pathLenConstraint"in _){var S=c-1;S>_.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:gt.certificateError.bad_certificate})}}var D=a===null?!0:a.error,Q=r.verify?r.verify(D,c,n):D;if(Q===!0)a=null;else throw D===!0&&(a={message:"The application rejected the certificate.",error:gt.certificateError.bad_certificate}),(Q||Q===0)&&(typeof Q=="object"&&!er.util.isArray(Q)?(Q.message&&(a.message=Q.message),Q.error&&(a.error=Q.error)):typeof Q=="string"&&(a.error=Q)),a;s=!1,++c}while(e.length>0);return!0}});var tX=q((zjr,W4e)=>{u();var Hi=en();Sf();$x();f1();JJ();KJ();su();Dw();Jx();ei();pF();var de=Hi.asn1,yn=Hi.pki,Qw=W4e.exports=Hi.pkcs12=Hi.pkcs12||{},V4e={name:"ContentInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:de.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},MAt={name:"PFX",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"version"},V4e,{name:"PFX.macData",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:de.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},OAt={name:"SafeBag",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:de.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:de.Class.UNIVERSAL,type:de.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},UAt={name:"Attribute",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:de.Class.UNIVERSAL,type:de.Type.SET,constructed:!0,capture:"values"}]},HAt={name:"CertBag",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:de.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:de.Class.UNIVERSAL,type:de.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Nw(t,e,r,n){for(var i=[],s=0;s<t.length;s++)for(var a=0;a<t[s].safeBags.length;a++){var c=t[s].safeBags[a];if(!(n!==void 0&&c.type!==n)){if(e===null){i.push(c);continue}c.attributes[e]!==void 0&&c.attributes[e].indexOf(r)>=0&&i.push(c)}}return i}o(Nw,"_getBagsByAttribute");Qw.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!de.validate(t,MAt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(_){var T={},S;return"localKeyId"in _?S=_.localKeyId:"localKeyIdHex"in _&&(S=Hi.util.hexToBytes(_.localKeyIdHex)),S===void 0&&!("friendlyName"in _)&&"bagType"in _&&(T[_.bagType]=Nw(a.safeContents,null,null,_.bagType)),S!==void 0&&(T.localKeyId=Nw(a.safeContents,"localKeyId",S,_.bagType)),"friendlyName"in _&&(T.friendlyName=Nw(a.safeContents,"friendlyName",_.friendlyName,_.bagType)),T},"getBags"),getBagsByFriendlyName:o(function(_,T){return Nw(a.safeContents,"friendlyName",_,T)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(_,T){return Nw(a.safeContents,"localKeyId",_,T)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(de.derToOid(n.contentType)!==yn.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=de.derToOid(n.contentType),s}var c=n.content.value[0];if(c.tagClass!==de.Class.UNIVERSAL||c.type!==de.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(c=eX(c),n.mac){var l=null,f=0,d=de.derToOid(n.macAlgorithm);switch(d){case yn.oids.sha1:l=Hi.md.sha1.create(),f=20;break;case yn.oids.sha256:l=Hi.md.sha256.create(),f=32;break;case yn.oids.sha384:l=Hi.md.sha384.create(),f=48;break;case yn.oids.sha512:l=Hi.md.sha512.create(),f=64;break;case yn.oids.md5:l=Hi.md.md5.create(),f=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new Hi.util.ByteBuffer(n.macSalt),A="macIterations"in n?parseInt(Hi.util.bytesToHex(n.macIterations),16):1,g=Qw.generateKey(r,h,3,A,f,l),y=Hi.hmac.create();y.start(l,g),y.update(c.value);var v=y.getMac();if(v.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return qAt(a,c.value,e,r),a};function eX(t){if(t.composed||t.constructed){for(var e=Hi.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}o(eX,"_decodePkcs7Data");function qAt(t,e,r,n){if(e=de.fromDer(e,r),e.tagClass!==de.Class.UNIVERSAL||e.type!==de.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var s=e.value[i],a={},c=[];if(!de.validate(s,V4e,a,c)){var l=new Error("Cannot read ContentInfo.");throw l.errors=c,l}var f={encrypted:!1},d=null,h=a.content.value[0];switch(de.derToOid(a.contentType)){case yn.oids.data:if(h.tagClass!==de.Class.UNIVERSAL||h.type!==de.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=eX(h).value;break;case yn.oids.encryptedData:d=GAt(h,n),f.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=de.derToOid(a.contentType),l}f.safeBags=VAt(d,r,n),t.safeContents.push(f)}}o(qAt,"_decodeAuthenticatedSafe");function GAt(t,e){var r={},n=[];if(!de.validate(t,Hi.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=de.derToOid(r.contentType);if(s!==yn.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=de.derToOid(r.encAlgorithm);var a=yn.pbe.getCipher(s,r.encParameter,e),c=eX(r.encryptedContentAsn1),l=Hi.util.createBuffer(c.value);if(a.update(l),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(GAt,"_decryptSafeContents");function VAt(t,e,r){if(!e&&t.length===0)return[];if(t=de.fromDer(t,e),t.tagClass!==de.Class.UNIVERSAL||t.type!==de.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var s=t.value[i],a={},c=[];if(!de.validate(s,OAt,a,c)){var l=new Error("Cannot read SafeBag.");throw l.errors=c,l}var f={type:de.derToOid(a.bagId),attributes:WAt(a.bagAttributes)};n.push(f);var d,h,A=a.bagValue.value[0];switch(f.type){case yn.oids.pkcs8ShroudedKeyBag:if(A=yn.decryptPrivateKeyInfo(A,r),A===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yn.oids.keyBag:try{f.key=yn.privateKeyFromAsn1(A)}catch{f.key=null,f.asn1=A}continue;case yn.oids.certBag:d=HAt,h=o(function(){if(de.derToOid(a.certId)!==yn.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=de.derToOid(a.certId),y}var v=de.fromDer(a.cert,e);try{f.cert=yn.certificateFromAsn1(v,!0)}catch{f.cert=null,f.asn1=v}},"decoder");break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=f.type,l}if(d!==void 0&&!de.validate(A,d,a,c)){var l=new Error("Cannot read PKCS#12 "+d.name);throw l.errors=c,l}h()}return n}o(VAt,"_decodeSafeContents");function WAt(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!de.validate(t[r],UAt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=de.derToOid(n.oid);if(yn.oids[a]!==void 0){e[yn.oids[a]]=[];for(var c=0;c<n.values.length;++c)e[yn.oids[a]].push(n.values[c].value)}}return e}o(WAt,"_decodeBagAttributes");Qw.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=Hi.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var a=Hi.util.isArray(e)?e[0]:e;typeof a=="string"&&(a=yn.certificateFromPem(a));var c=Hi.md.sha1.create();c.update(de.toDer(yn.certificateToAsn1(a)).getBytes()),i=c.digest().getBytes()}else i=Hi.random.getBytes(20);var l=[];i!==null&&l.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.localKeyId).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.friendlyName).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[de.create(de.Class.UNIVERSAL,de.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(s=de.create(de.Class.UNIVERSAL,de.Type.SET,!0,l));var f=[],d=[];e!==null&&(Hi.util.isArray(e)?d=e:d=[e]);for(var h=[],A=0;A<d.length;++A){e=d[A],typeof e=="string"&&(e=yn.certificateFromPem(e));var g=A===0?s:void 0,y=yn.certificateToAsn1(e),v=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.certBag).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.x509Certificate).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(y).getBytes())])])]),g]);h.push(v)}if(h.length>0){var _=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,h),T=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.data).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(_).getBytes())])]);f.push(T)}var S=null;if(t!==null){var D=yn.wrapRsaPrivateKey(yn.privateKeyToAsn1(t));r===null?S=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.keyBag).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[D]),s]):S=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.pkcs8ShroudedKeyBag).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[yn.encryptPrivateKeyInfo(D,r,n)]),s]);var Q=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[S]),k=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.data).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(Q).getBytes())])]);f.push(k)}var P=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,f),W;if(n.useMac){var c=Hi.md.sha1.create(),re=new Hi.util.ByteBuffer(Hi.random.getBytes(n.saltSize)),ye=n.count,t=Qw.generateKey(r,re,3,ye,20),Ae=Hi.hmac.create();Ae.start(c,t),Ae.update(de.toDer(P).getBytes());var z=Ae.getMac();W=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.sha1).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,z.getBytes())]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,re.getBytes()),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(ye).getBytes())])}return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(3).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(yn.oids.data).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(P).getBytes())])]),W])};Qw.generateKey=Hi.pbe.generatePkcs12Key});var nX=q((Jjr,Y4e)=>{u();var p1=en();Sf();f1();KJ();LE();oF();tX();dF();Dw();ei();pF();var rX=p1.asn1,t5=Y4e.exports=p1.pki=p1.pki||{};t5.pemToDer=function(t){var e=p1.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return p1.util.createBuffer(e.body)};t5.privateKeyFromPem=function(t){var e=p1.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=rX.fromDer(e.body);return t5.privateKeyFromAsn1(n)};t5.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:rX.toDer(t5.privateKeyToAsn1(t)).getBytes()};return p1.pem.encode(r,{maxline:e})};t5.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:rX.toDer(t).getBytes()};return p1.pem.encode(r,{maxline:e})}});var lX=q((Zjr,e_e)=>{u();var it=en();Sf();$x();tF();LE();nX();su();Jx();ei();var CF=o(function(t,e,r,n){var i=it.util.createBuffer(),s=t.length>>1,a=s+(t.length&1),c=t.substr(0,a),l=t.substr(s,a),f=it.util.createBuffer(),d=it.hmac.create();r=e+r;var h=Math.ceil(n/16),A=Math.ceil(n/20);d.start("MD5",c);var g=it.util.createBuffer();f.putBytes(r);for(var y=0;y<h;++y)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),g.putBuffer(d.digest());d.start("SHA1",l);var v=it.util.createBuffer();f.clear(),f.putBytes(r);for(var y=0;y<A;++y)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),v.putBuffer(d.digest());return i.putBytes(it.util.xorBytes(g.getBytes(),v.getBytes(),n)),i},"prf_TLS1"),YAt=o(function(t,e,r){var n=it.hmac.create();n.start("SHA1",t);var i=it.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),$At=o(function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},"deflate"),zAt=o(function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},"inflate"),al=o(function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return it.util.createBuffer(t.getBytes(r))},"readVector"),uu=o(function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},"writeVector"),G={};G.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};G.SupportedVersions=[G.Versions.TLS_1_1,G.Versions.TLS_1_0];G.Version=G.SupportedVersions[0];G.MaxFragment=15360;G.ConnectionEnd={server:0,client:1};G.PRFAlgorithm={tls_prf_sha256:0};G.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};G.CipherType={stream:0,block:1,aead:2};G.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};G.CompressionMethod={none:0,deflate:1};G.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};G.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};G.Alert={};G.Alert.Level={warning:1,fatal:2};G.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};G.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};G.CipherSuites={};G.getCipherSuite=function(t){var e=null;for(var r in G.CipherSuites){var n=G.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};G.handleUnexpected=function(t,e){var r=!t.open&&t.entity===G.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})};G.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(G.queue(t,G.createAlert(t,{level:G.Alert.Level.warning,description:G.Alert.Description.no_renegotiation})),G.flush(t)),t.process()};G.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===G.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});else{var s=e.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:it.util.createBuffer(s.getBytes(32)),session_id:al(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=al(s,2),n.compression_methods=al(s,1)),a=r-(a-s.length()),a>0){for(var c=al(s,2);c.length()>0;)n.extensions.push({type:[c.getByte(),c.getByte()],data:al(c,2)});if(!i)for(var l=0;l<n.extensions.length;++l){var f=n.extensions[l];if(f.type[0]===0&&f.type[1]===0)for(var d=al(f.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;t.session.extensions.server_name.serverNameList.push(al(d,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=G.getCipherSuite(n.cipher_suite);else for(var A=it.util.createBuffer(n.cipher_suites.bytes());A.length()>0&&(t.session.cipherSuite=G.getCipherSuite(A.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure},cipherSuite:it.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=G.CompressionMethod.none}return n};G.createSecurityParameters=function(t,e){var r=t.entity===G.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,s=r?n:G.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:G.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};G.handleServerHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=j4e,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=KAt,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.session.id=i,t.process()}};G.handleClientHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),s=null;if(t.sessionCache&&(s=t.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=it.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var a,c=1;c<G.SupportedVersions.length&&(a=G.SupportedVersions[c],!(a.minor<=n.version.minor));++c);t.version={major:a.major,minor:a.minor},t.session.version=t.version}s!==null?(t.expect=aX,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?npt:sX,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.open=!0,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHello(t)})),t.session.resuming?(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.pending=G.createConnectionState(t),t.state.current.write=t.state.pending.write,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))):(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)})),t.fail||(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerKeyExchange(t)})),t.verifyClient!==!1&&G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificateRequest(t)})),G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHelloDone(t)})))),G.flush(t),t.process()}};G.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_list:al(n,3)},s,a,c=[];try{for(;i.certificate_list.length()>0;)s=al(i.certificate_list,3),a=it.asn1.fromDer(s),s=it.pki.certificateFromAsn1(a,!0),c.push(s)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var l=t.entity===G.ConnectionEnd.client;(l||t.verifyClient===!0)&&c.length===0?t.error(t,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}}):c.length===0?t.expect=l?$4e:sX:(l?t.session.serverCertificate=c[0]:t.session.clientCertificate=c[0],G.verifyCertificateChain(t,c)&&(t.expect=l?$4e:sX)),t.process()};G.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});t.expect=JAt,t.process()};G.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:al(n,2).getBytes()},s=null;if(t.getPrivateKey)try{s=t.getPrivateKey(t,t.session.serverCertificate),s=it.pki.privateKeyFromPem(s)}catch(l){t.error(t,{message:"Could not get private key.",cause:l,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}if(s===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}});try{var a=t.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var c=t.session.clientHelloVersion;if(c.major!==a.pre_master_secret.charCodeAt(0)||c.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=it.random.getBytes(48)}t.expect=aX,t.session.clientCertificate!==null&&(t.expect=ipt),t.process()};G.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:al(n,1),certificate_authorities:al(n,2)};t.session.certificateRequest=i,t.expect=XAt,t.process()};G.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:al(n,2).getBytes()},a=it.util.createBuffer();a.putBuffer(t.session.md5.digest()),a.putBuffer(t.session.sha1.digest()),a=a.getBytes();try{var c=t.session.clientCertificate;if(!c.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure}})}t.expect=aX,t.process()};G.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.insufficient_security}},i=0,s=t.verify(t,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!it.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),t.error(t,n)}t.session.certificateRequest!==null&&(e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)}),G.queue(t,e)),e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createClientKeyExchange(t)}),G.queue(t,e),t.expect=tpt;var a=o(function(c,l){c.session.certificateRequest!==null&&c.session.clientCertificate!==null&&G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createCertificateVerify(c,l)})),G.queue(c,G.createRecord(c,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),c.state.pending=G.createConnectionState(c),c.state.current.write=c.state.pending.write,G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createFinished(c)})),c.expect=j4e,G.flush(c),c.process()},"callback");if(t.session.certificateRequest===null||t.session.clientCertificate===null)return a(t,null);G.getClientSignature(t,a)};G.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var r=t.entity===G.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=G.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?ZAt:opt,t.process()};G.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=e.fragment.getBytes();n=it.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var a=t.entity===G.ConnectionEnd.client,c=a?"server finished":"client finished",l=t.session.sp,f=12,d=CF;if(n=d(l.master_secret,c,n.getBytes(),f),n.getBytes()!==s)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&a||!t.session.resuming&&!a)&&(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))),t.expect=a?ept:spt,t.handshaking=!1,++t.handshakes,t.peerCertificate=a?t.session.serverCertificate:t.session.clientCertificate,G.flush(t),t.isConnected=!0,t.connected(t),t.process()};G.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case G.Alert.Description.close_notify:i="Connection closed.";break;case G.Alert.Description.unexpected_message:i="Unexpected message.";break;case G.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case G.Alert.Description.decryption_failed:i="Decryption failed.";break;case G.Alert.Description.record_overflow:i="Record overflow.";break;case G.Alert.Description.decompression_failure:i="Decompression failed.";break;case G.Alert.Description.handshake_failure:i="Handshake failure.";break;case G.Alert.Description.bad_certificate:i="Bad certificate.";break;case G.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case G.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case G.Alert.Description.certificate_expired:i="Certificate expired.";break;case G.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case G.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case G.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case G.Alert.Description.access_denied:i="Access denied.";break;case G.Alert.Description.decode_error:i="Decode error.";break;case G.Alert.Description.decrypt_error:i="Decrypt error.";break;case G.Alert.Description.export_restriction:i="Export restriction.";break;case G.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case G.Alert.Description.insufficient_security:i="Insufficient security.";break;case G.Alert.Description.internal_error:i="Internal error.";break;case G.Alert.Description.user_canceled:i="User canceled.";break;case G.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===G.Alert.Description.close_notify)return t.close();t.error(t,{message:i,send:!1,origin:t.entity===G.ConnectionEnd.client?"server":"client",alert:n}),t.process()};G.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=it.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in yF[t.entity][t.expect]?(t.entity===G.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:it.md.md5.create(),sha1:it.md.sha1.create()}),n!==G.HandshakeType.hello_request&&n!==G.HandshakeType.certificate_verify&&n!==G.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),yF[t.entity][t.expect][n](t,e,i)):G.handleUnexpected(t,e)};G.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};G.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===G.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>s.length)return t.process();G.queue(t,G.createRecord(t,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_response,s)})),G.flush(t)}else if(n===G.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,it.util.createBuffer(s))}t.process()};var jAt=0,KAt=1,$4e=2,JAt=3,XAt=4,j4e=5,ZAt=6,ept=7,tpt=8,rpt=0,npt=1,sX=2,ipt=3,aX=4,opt=5,spt=6,U=G.handleUnexpected,K4e=G.handleChangeCipherSpec,ka=G.handleAlert,_0=G.handleHandshake,J4e=G.handleApplicationData,Da=G.handleHeartbeat,cX=[];cX[G.ConnectionEnd.client]=[[U,ka,_0,U,Da],[U,ka,_0,U,Da],[U,ka,_0,U,Da],[U,ka,_0,U,Da],[U,ka,_0,U,Da],[K4e,ka,U,U,Da],[U,ka,_0,U,Da],[U,ka,_0,J4e,Da],[U,ka,_0,U,Da]];cX[G.ConnectionEnd.server]=[[U,ka,_0,U,Da],[U,ka,_0,U,Da],[U,ka,_0,U,Da],[U,ka,_0,U,Da],[K4e,ka,U,U,Da],[U,ka,_0,U,Da],[U,ka,_0,J4e,Da],[U,ka,_0,U,Da]];var m1=G.handleHelloRequest,apt=G.handleServerHello,X4e=G.handleCertificate,z4e=G.handleServerKeyExchange,iX=G.handleCertificateRequest,mF=G.handleServerHelloDone,Z4e=G.handleFinished,yF=[];yF[G.ConnectionEnd.client]=[[U,U,apt,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,X4e,z4e,iX,mF,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,z4e,iX,mF,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,U,iX,mF,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,U,U,mF,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,Z4e],[m1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[m1,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U]];var cpt=G.handleClientHello,lpt=G.handleClientKeyExchange,upt=G.handleCertificateVerify;yF[G.ConnectionEnd.server]=[[U,cpt,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,X4e,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,lpt,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,upt,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,Z4e],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U],[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U]];G.generateKeys=function(t,e){var r=CF,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,s=t.version.major===G.Versions.TLS_1_0.major&&t.version.minor===G.Versions.TLS_1_0.minor;s&&(i+=2*e.fixed_iv_length);var a=r(e.master_secret,"key expansion",n,i),c={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return s&&(c.client_write_IV=a.getBytes(e.fixed_iv_length),c.server_write_IV=a.getBytes(e.fixed_iv_length)),c};G.createConnectionState=function(t){var e=t.entity===G.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}),!s.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=G.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case G.CompressionMethod.none:break;case G.CompressionMethod.deflate:n.read.compressFunction=zAt,n.write.compressFunction=$At;break;default:throw new Error("Unsupported compression algorithm.")}}return n};G.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=it.util.createBuffer();return r.putInt32(e),r.putBytes(it.random.getBytes(28)),r};G.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};G.createAlert=function(t,e){var r=it.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),G.createRecord(t,{type:G.ContentType.alert,data:r})};G.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=it.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),s=it.util.createBuffer();s.putByte(G.CompressionMethod.none);var a=s.length(),c=it.util.createBuffer();if(t.virtualHost){var l=it.util.createBuffer();l.putByte(0),l.putByte(0);var f=it.util.createBuffer();f.putByte(0),uu(f,2,it.util.createBuffer(t.virtualHost));var d=it.util.createBuffer();uu(d,2,f),uu(l,2,d),c.putBuffer(l)}var h=c.length();h>0&&(h+=2);var A=t.session.id,g=A.length+1+2+4+28+2+i+1+a+h,y=it.util.createBuffer();return y.putByte(G.HandshakeType.client_hello),y.putInt24(g),y.putByte(t.version.major),y.putByte(t.version.minor),y.putBytes(t.session.sp.client_random),uu(y,1,it.util.createBuffer(A)),uu(y,2,e),uu(y,1,s),h>0&&uu(y,2,c),y};G.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=it.util.createBuffer();return n.putByte(G.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),uu(n,1,it.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};G.createCertificate=function(t){var e=t.entity===G.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=it.util.createBuffer();if(r!==null)try{it.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var c=it.pem.decode(r[a])[0];if(c.type!=="CERTIFICATE"&&c.type!=="X509 CERTIFICATE"&&c.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=c.type,l}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=it.util.createBuffer(c.body);s===null&&(s=it.asn1.fromDer(f.bytes(),!1));var d=it.util.createBuffer();uu(d,3,f),i.putBuffer(d)}r=it.pki.certificateFromAsn1(s),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(g){return t.error(t,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var h=3+i.length(),A=it.util.createBuffer();return A.putByte(G.HandshakeType.certificate),A.putInt24(h),uu(A,3,i),A};G.createClientKeyExchange=function(t){var e=it.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(it.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,s=it.util.createBuffer();return s.putByte(G.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(e.length),s.putBytes(e),s};G.createServerKeyExchange=function(t){var e=0,r=it.util.createBuffer();return e>0&&(r.putByte(G.HandshakeType.server_key_exchange),r.putInt24(e)),r};G.getClientSignature=function(t,e){var r=it.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=it.pki.privateKeyFromPem(a)}catch(c){n.error(n,{message:"Could not get private key.",cause:c,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},t.getSignature(t,r,e)};G.createCertificateVerify=function(t,e){var r=e.length+2,n=it.util.createBuffer();return n.putByte(G.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};G.createCertificateRequest=function(t){var e=it.util.createBuffer();e.putByte(1);var r=it.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],s=it.pki.distinguishedNameToAsn1(i.subject),a=it.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var c=1+e.length()+2+r.length(),l=it.util.createBuffer();return l.putByte(G.HandshakeType.certificate_request),l.putInt24(c),uu(l,1,e),uu(l,2,r),l};G.createServerHelloDone=function(t){var e=it.util.createBuffer();return e.putByte(G.HandshakeType.server_hello_done),e.putInt24(0),e};G.createChangeCipherSpec=function(){var t=it.util.createBuffer();return t.putByte(1),t};G.createFinished=function(t){var e=it.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===G.ConnectionEnd.client,n=t.session.sp,i=12,s=CF,a=r?"client finished":"server finished";e=s(n.master_secret,a,e.getBytes(),i);var c=it.util.createBuffer();return c.putByte(G.HandshakeType.finished),c.putInt24(e.length()),c.putBuffer(e),c};G.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=it.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(it.random.getBytes(s)),n};G.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===G.ContentType.handshake||e.type===G.ContentType.alert||e.type===G.ContentType.change_cipher_spec))){if(e.type===G.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=G.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>G.MaxFragment;)n.push(G.createRecord(t,{type:e.type,data:it.util.createBuffer(i.slice(0,G.MaxFragment))})),i=i.slice(G.MaxFragment);i.length>0&&n.push(G.createRecord(t,{type:e.type,data:it.util.createBuffer(i)}))}for(var s=0;s<n.length&&!t.fail;++s){var a=n[s],c=t.state.current.write;c.update(t,a)&&t.records.push(a)}}};G.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var oX=o(function(t){switch(t){case!0:return!0;case it.pki.certificateError.bad_certificate:return G.Alert.Description.bad_certificate;case it.pki.certificateError.unsupported_certificate:return G.Alert.Description.unsupported_certificate;case it.pki.certificateError.certificate_revoked:return G.Alert.Description.certificate_revoked;case it.pki.certificateError.certificate_expired:return G.Alert.Description.certificate_expired;case it.pki.certificateError.certificate_unknown:return G.Alert.Description.certificate_unknown;case it.pki.certificateError.unknown_ca:return G.Alert.Description.unknown_ca;default:return G.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),fpt=o(function(t){switch(t){case!0:return!0;case G.Alert.Description.bad_certificate:return it.pki.certificateError.bad_certificate;case G.Alert.Description.unsupported_certificate:return it.pki.certificateError.unsupported_certificate;case G.Alert.Description.certificate_revoked:return it.pki.certificateError.certificate_revoked;case G.Alert.Description.certificate_expired:return it.pki.certificateError.certificate_expired;case G.Alert.Description.certificate_unknown:return it.pki.certificateError.certificate_unknown;case G.Alert.Description.unknown_ca:return it.pki.certificateError.unknown_ca;default:return it.pki.certificateError.bad_certificate}},"_alertDescToCertError");G.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(s,a,c){var l=oX(s),f=t.verify(t,s,a,c);if(f!==!0){if(typeof f=="object"&&!it.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==s&&(f=fpt(f))}return f},it.pki.verifyCertificateChain(t.caStore,e,r)}catch(s){var i=s;(typeof i!="object"||it.util.isArray(i))&&(i={send:!0,alert:{level:G.Alert.Level.fatal,description:oX(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:G.Alert.Level.fatal,description:oX(i.error)}),t.error(t,i)}return!t.fail};G.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(i){var s=null,a=null;if(i?a=it.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var c in r.order)if(r.order[c]===a){r.order.splice(c,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=it.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};G.createConnection=function(t){var e=null;t.caStore?it.util.isArray(t.caStore)?e=it.pki.createCaStore(t.caStore):e=t.caStore:e=it.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in G.CipherSuites)r.push(G.CipherSuites[n])}var i=t.server?G.ConnectionEnd.server:G.ConnectionEnd.client,s=t.sessionCache?G.createSessionCache(t.sessionCache):null,a={version:{major:G.Version.major,minor:G.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:s,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(d,h,A,g){return h},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:it.util.createBuffer(),tlsData:it.util.createBuffer(),data:it.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:o(function(d,h){h.origin=h.origin||(d.entity===G.ConnectionEnd.client?"client":"server"),h.send&&(G.queue(d,G.createAlert(d,h.alert)),G.flush(d));var A=h.fatal!==!1;A&&(d.fail=!0),t.error(d,h),A&&d.close(!1)},"error"),deflate:t.deflate||null,inflate:t.inflate||null};a.reset=function(d){a.version={major:G.Version.major,minor:G.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===G.ConnectionEnd.client?jAt:rpt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=G.createConnectionState(a)},a.reset();var c=o(function(d,h){var A=h.type-G.ContentType.change_cipher_spec,g=cX[d.entity][d.expect];A in g?g[A](d,h):G.handleUnexpected(d,h)},"_update"),l=o(function(d){var h=0,A=d.input,g=A.length();if(g<5)h=5-g;else{d.record={type:A.getByte(),version:{major:A.getByte(),minor:A.getByte()},length:A.getInt16(),fragment:it.util.createBuffer(),ready:!1};var y=d.record.version.major===d.version.major;y&&d.session&&d.session.version&&(y=d.record.version.minor===d.version.minor),y||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),f=o(function(d){var h=0,A=d.input,g=A.length();if(g<d.record.length)h=d.record.length-g;else{d.record.fragment.putBytes(A.getBytes(d.record.length)),A.compact();var y=d.state.current.read;y.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==G.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:it.md.md5.create(),sha1:it.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=G.createRandom().getBytes(),a.open=!0,G.queue(a,G.createRecord(a,{type:G.ContentType.handshake,data:G.createClientHello(a)})),G.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=l(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=f(a)),!a.fail&&a.record!==null&&a.record.ready&&c(a,a.record)),h},a.prepare=function(d){return G.queue(a,G.createRecord(a,{type:G.ContentType.application_data,data:it.util.createBuffer(d)})),G.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof it.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,G.queue(a,G.createRecord(a,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_request,d,h)})),G.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,G.queue(a,G.createAlert(a,{level:G.Alert.Level.warning,description:G.Alert.Description.close_notify})),G.flush(a)),a.closed(a)),a.reset(d)},a};e_e.exports=it.tls=it.tls||{};for(gF in G)typeof G[gF]!="function"&&(it.tls[gF]=G[gF]);var gF;it.tls.prf_tls1=CF;it.tls.hmac_sha1=YAt;it.tls.createSessionCache=G.createSessionCache;it.tls.createConnection=G.createConnection});var n_e=q((rKr,r_e)=>{u();var g1=en();u1();lX();var fu=r_e.exports=g1.tls;fu.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(t){t.bulk_cipher_algorithm=fu.BulkCipherAlgorithm.aes,t.cipher_type=fu.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=fu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:t_e};fu.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(t){t.bulk_cipher_algorithm=fu.BulkCipherAlgorithm.aes,t.cipher_type=fu.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=fu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:t_e};function t_e(t,e,r){var n=e.entity===g1.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:g1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:g1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=ppt,t.write.cipherFunction=dpt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=fu.hmac_sha1}o(t_e,"initConnectionState");function dpt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var i;t.version.minor===fu.Versions.TLS_1_0.minor?i=e.cipherState.init?null:e.cipherState.iv:i=g1.random.getBytesSync(16),e.cipherState.init=!0;var s=e.cipherState.cipher;return s.start({iv:i}),t.version.minor>=fu.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(t.fragment),s.finish(hpt)&&(t.fragment=s.output,t.length=t.fragment.length(),r=!0),r}o(dpt,"encrypt_aes_cbc_sha1");function hpt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}o(hpt,"encrypt_aes_cbc_sha1_padding");function Apt(t,e,r){var n=!0;if(r){for(var i=e.length(),s=e.last(),a=i-1-s;a<i-1;++a)n=n&&e.at(a)==s;n&&e.truncate(s+1)}return n}o(Apt,"decrypt_aes_cbc_sha1_padding");function ppt(t,e){var r=!1,n;t.version.minor===fu.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var i=e.cipherState.cipher;i.start({iv:n}),i.update(t.fragment),r=i.finish(Apt);var s=e.macLength,a=g1.random.getBytesSync(s),c=i.output.length();c>=s?(t.fragment=i.output.getBytes(c-s),a=i.output.getBytes(s)):t.fragment=i.output.getBytes(),t.fragment=g1.util.createBuffer(t.fragment),t.length=t.fragment.length();var l=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=mpt(e.macKey,a,l)&&r,r}o(ppt,"decrypt_aes_cbc_sha1");function mpt(t,e,r){var n=g1.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}o(mpt,"compareMacs")});var dX=q((oKr,a_e)=>{u();var ro=en();uh();ei();var Pw=a_e.exports=ro.sha512=ro.sha512||{};ro.md.sha512=ro.md.algorithms.sha512=Pw;var o_e=ro.sha384=ro.sha512.sha384=ro.sha512.sha384||{};o_e.create=function(){return Pw.create("SHA-384")};ro.md.sha384=ro.md.algorithms.sha384=o_e;ro.sha512.sha256=ro.sha512.sha256||{create:o(function(){return Pw.create("SHA-512/256")},"create")};ro.md["sha512/256"]=ro.md.algorithms["sha512/256"]=ro.sha512.sha256;ro.sha512.sha224=ro.sha512.sha224||{create:o(function(){return Pw.create("SHA-512/224")},"create")};ro.md["sha512/224"]=ro.md.algorithms["sha512/224"]=ro.sha512.sha224;Pw.create=function(t){if(s_e||gpt(),typeof t>"u"&&(t="SHA-512"),!(t in GE))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=GE[t],r=null,n=ro.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var c={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var l=c.messageLengthSize/4,f=0;f<l;++f)c.fullMessageLength.push(0);n=ro.util.createBuffer(),r=new Array(e.length);for(var f=0;f<e.length;++f)r[f]=e[f].slice(0);return c},c.start(),c.update=function(l,f){f==="utf8"&&(l=ro.util.encodeUtf8(l));var d=l.length;c.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=c.fullMessageLength.length-1;h>=0;--h)c.fullMessageLength[h]+=d[1],d[1]=d[0]+(c.fullMessageLength[h]/4294967296>>>0),c.fullMessageLength[h]=c.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(l),i_e(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),c},c.digest=function(){var l=ro.util.createBuffer();l.putBytes(n.bytes());var f=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,d=f&c.blockLength-1;l.putBytes(uX.substr(0,c.blockLength-d));for(var h,A,g=c.fullMessageLength[0]*8,y=0;y<c.fullMessageLength.length-1;++y)h=c.fullMessageLength[y+1]*8,A=h/4294967296>>>0,g+=A,l.putInt32(g>>>0),g=h>>>0;l.putInt32(g);for(var v=new Array(r.length),y=0;y<r.length;++y)v[y]=r[y].slice(0);i_e(v,i,l);var _=ro.util.createBuffer(),T;t==="SHA-512"?T=v.length:t==="SHA-384"?T=v.length-2:T=v.length-4;for(var y=0;y<T;++y)_.putInt32(v[y][0]),(y!==T-1||t!=="SHA-512/224")&&_.putInt32(v[y][1]);return _},c};var uX=null,s_e=!1,fX=null,GE=null;function gpt(){uX="\x80",uX+=ro.util.fillString("\0",128),fX=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],GE={},GE["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],GE["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],GE["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],GE["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s_e=!0}o(gpt,"_init");function i_e(t,e,r){for(var n,i,s,a,c,l,f,d,h,A,g,y,v,_,T,S,D,Q,k,P,W,re,ye,Ae,z,j,Ie,ue,J,H,Z,ee,se,ne,le,he=r.length();he>=128;){for(J=0;J<16;++J)e[J][0]=r.getInt32()>>>0,e[J][1]=r.getInt32()>>>0;for(;J<80;++J)ee=e[J-2],H=ee[0],Z=ee[1],n=((H>>>19|Z<<13)^(Z>>>29|H<<3)^H>>>6)>>>0,i=((H<<13|Z>>>19)^(Z<<3|H>>>29)^(H<<26|Z>>>6))>>>0,ne=e[J-15],H=ne[0],Z=ne[1],s=((H>>>1|Z<<31)^(H>>>8|Z<<24)^H>>>7)>>>0,a=((H<<31|Z>>>1)^(H<<24|Z>>>8)^(H<<25|Z>>>7))>>>0,se=e[J-7],le=e[J-16],Z=i+se[1]+a+le[1],e[J][0]=n+se[0]+s+le[0]+(Z/4294967296>>>0)>>>0,e[J][1]=Z>>>0;for(v=t[0][0],_=t[0][1],T=t[1][0],S=t[1][1],D=t[2][0],Q=t[2][1],k=t[3][0],P=t[3][1],W=t[4][0],re=t[4][1],ye=t[5][0],Ae=t[5][1],z=t[6][0],j=t[6][1],Ie=t[7][0],ue=t[7][1],J=0;J<80;++J)f=((W>>>14|re<<18)^(W>>>18|re<<14)^(re>>>9|W<<23))>>>0,d=((W<<18|re>>>14)^(W<<14|re>>>18)^(re<<23|W>>>9))>>>0,h=(z^W&(ye^z))>>>0,A=(j^re&(Ae^j))>>>0,c=((v>>>28|_<<4)^(_>>>2|v<<30)^(_>>>7|v<<25))>>>0,l=((v<<4|_>>>28)^(_<<30|v>>>2)^(_<<25|v>>>7))>>>0,g=(v&T|D&(v^T))>>>0,y=(_&S|Q&(_^S))>>>0,Z=ue+d+A+fX[J][1]+e[J][1],n=Ie+f+h+fX[J][0]+e[J][0]+(Z/4294967296>>>0)>>>0,i=Z>>>0,Z=l+y,s=c+g+(Z/4294967296>>>0)>>>0,a=Z>>>0,Ie=z,ue=j,z=ye,j=Ae,ye=W,Ae=re,Z=P+i,W=k+n+(Z/4294967296>>>0)>>>0,re=Z>>>0,k=D,P=Q,D=T,Q=S,T=v,S=_,Z=i+a,v=n+s+(Z/4294967296>>>0)>>>0,_=Z>>>0;Z=t[0][1]+_,t[0][0]=t[0][0]+v+(Z/4294967296>>>0)>>>0,t[0][1]=Z>>>0,Z=t[1][1]+S,t[1][0]=t[1][0]+T+(Z/4294967296>>>0)>>>0,t[1][1]=Z>>>0,Z=t[2][1]+Q,t[2][0]=t[2][0]+D+(Z/4294967296>>>0)>>>0,t[2][1]=Z>>>0,Z=t[3][1]+P,t[3][0]=t[3][0]+k+(Z/4294967296>>>0)>>>0,t[3][1]=Z>>>0,Z=t[4][1]+re,t[4][0]=t[4][0]+W+(Z/4294967296>>>0)>>>0,t[4][1]=Z>>>0,Z=t[5][1]+Ae,t[5][0]=t[5][0]+ye+(Z/4294967296>>>0)>>>0,t[5][1]=Z>>>0,Z=t[6][1]+j,t[6][0]=t[6][0]+z+(Z/4294967296>>>0)>>>0,t[6][1]=Z>>>0,Z=t[7][1]+ue,t[7][0]=t[7][0]+Ie+(Z/4294967296>>>0)>>>0,t[7][1]=Z>>>0,he-=128}}o(i_e,"_update")});var c_e=q(hX=>{u();var ypt=en();Sf();var oa=ypt.asn1;hX.privateKeyValidator={name:"PrivateKeyInfo",tagClass:oa.Class.UNIVERSAL,type:oa.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:oa.Class.UNIVERSAL,type:oa.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:oa.Class.UNIVERSAL,type:oa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:oa.Class.UNIVERSAL,type:oa.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:oa.Class.UNIVERSAL,type:oa.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};hX.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:oa.Class.UNIVERSAL,type:oa.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:oa.Class.UNIVERSAL,type:oa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:oa.Class.UNIVERSAL,type:oa.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:oa.Class.UNIVERSAL,type:oa.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var I_e=q((uKr,E_e)=>{u();var Na=en();kw();su();dX();ei();var A_e=c_e(),Cpt=A_e.publicKeyValidator,Ept=A_e.privateKeyValidator;typeof l_e>"u"&&(l_e=Na.jsbn.BigInteger);var l_e,mX=Na.util.ByteBuffer,pc=typeof Buffer>"u"?Uint8Array:Buffer;Na.pki=Na.pki||{};E_e.exports=Na.pki.ed25519=Na.ed25519=Na.ed25519||{};var Cn=Na.ed25519;Cn.constants={};Cn.constants.PUBLIC_KEY_BYTE_LENGTH=32;Cn.constants.PRIVATE_KEY_BYTE_LENGTH=64;Cn.constants.SEED_BYTE_LENGTH=32;Cn.constants.SIGN_BYTE_LENGTH=64;Cn.constants.HASH_BYTE_LENGTH=64;Cn.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Na.random.getBytesSync(Cn.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==Cn.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Cn.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=sp({message:e,encoding:"binary"});for(var r=new pc(Cn.constants.PUBLIC_KEY_BYTE_LENGTH),n=new pc(Cn.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return xpt(r,n),{publicKey:r,privateKey:n}};Cn.privateKeyFromAsn1=function(t){var e={},r=[],n=Na.asn1.validate(t,Ept,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Na.asn1.derToOid(e.privateKeyOid),a=Na.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var c=e.privateKey,l=sp({message:Na.asn1.fromDer(c).value,encoding:"binary"});return{privateKeyBytes:l}};Cn.publicKeyFromAsn1=function(t){var e={},r=[],n=Na.asn1.validate(t,Cpt,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Na.asn1.derToOid(e.publicKeyOid),a=Na.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var c=e.ed25519PublicKey;if(c.length!==Cn.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return sp({message:c,encoding:"binary"})};Cn.publicKeyFromPrivateKey=function(t){t=t||{};var e=sp({message:t.privateKey,encoding:"binary"});if(e.length!==Cn.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Cn.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new pc(Cn.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};Cn.sign=function(t){t=t||{};var e=sp(t),r=sp({message:t.privateKey,encoding:"binary"});if(r.length===Cn.constants.SEED_BYTE_LENGTH){var n=Cn.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Cn.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Cn.constants.SEED_BYTE_LENGTH+" or "+Cn.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new pc(Cn.constants.SIGN_BYTE_LENGTH+e.length);Tpt(i,e,e.length,r);for(var s=new pc(Cn.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};Cn.verify=function(t){t=t||{};var e=sp(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=sp({message:t.signature,encoding:"binary"});if(r.length!==Cn.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Cn.constants.SIGN_BYTE_LENGTH);var n=sp({message:t.publicKey,encoding:"binary"});if(n.length!==Cn.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Cn.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new pc(Cn.constants.SIGN_BYTE_LENGTH+e.length),s=new pc(Cn.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<Cn.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<e.length;++a)i[a+Cn.constants.SIGN_BYTE_LENGTH]=e[a];return _pt(s,i,i.length,n)>=0};function sp(t){var e=t.message;if(e instanceof Uint8Array||e instanceof pc)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new mX(e,r)}else if(!(e instanceof mX))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new pc(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}o(sp,"messageToNativeBuffer");var gX=dr(),EF=dr([1]),Ipt=dr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),vpt=dr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u_e=dr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f_e=dr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),AX=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),bpt=dr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Fw(t,e){var r=Na.md.sha512.create(),n=new mX(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new pc(Cn.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(Fw,"sha512");function xpt(t,e){var r=[dr(),dr(),dr(),dr()],n,i=Fw(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,IX(r,i),EX(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}o(xpt,"crypto_sign_keypair");function Tpt(t,e,r,n){var i,s,a=new Float64Array(64),c=[dr(),dr(),dr(),dr()],l=Fw(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var f=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=l[32+i];var d=Fw(t.subarray(32),r+32);for(yX(d),IX(c,d),EX(t,c),i=32;i<64;++i)t[i]=n[i];var h=Fw(t,r+64);for(yX(h),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=d[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=h[i]*l[s];return p_e(t.subarray(32),a),f}o(Tpt,"crypto_sign");function _pt(t,e,r,n){var i,s,a=new pc(32),c=[dr(),dr(),dr(),dr()],l=[dr(),dr(),dr(),dr()];if(s=-1,r<64||Spt(l,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var f=Fw(t,r);if(yX(f),y_e(c,l,f),IX(l,e.subarray(32)),CX(c,l),EX(a,c),r-=64,m_e(e,0,a,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return s=r,s}o(_pt,"crypto_sign_open");function p_e(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*AX[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*AX[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*AX[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}o(p_e,"modL");function yX(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;p_e(t,e)}o(yX,"reduce");function CX(t,e){var r=dr(),n=dr(),i=dr(),s=dr(),a=dr(),c=dr(),l=dr(),f=dr(),d=dr();n5(r,t[1],t[0]),n5(d,e[1],e[0]),Di(r,r,d),r5(n,t[0],t[1]),r5(d,e[0],e[1]),Di(n,n,d),Di(i,t[3],e[3]),Di(i,i,vpt),Di(s,t[2],e[2]),r5(s,s,s),n5(a,n,r),n5(c,s,i),r5(l,s,i),r5(f,n,r),Di(t[0],a,c),Di(t[1],f,l),Di(t[2],l,c),Di(t[3],a,f)}o(CX,"add");function d_e(t,e,r){for(var n=0;n<4;++n)C_e(t[n],e[n],r)}o(d_e,"cswap");function EX(t,e){var r=dr(),n=dr(),i=dr();kpt(i,e[2]),Di(r,e[0],i),Di(n,e[1],i),IF(t,n),t[31]^=g_e(r)<<7}o(EX,"pack");function IF(t,e){var r,n,i,s=dr(),a=dr();for(r=0;r<16;++r)a[r]=e[r];for(pX(a),pX(a),pX(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,C_e(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}o(IF,"pack25519");function Spt(t,e){var r=dr(),n=dr(),i=dr(),s=dr(),a=dr(),c=dr(),l=dr();return y1(t[2],EF),wpt(t[1],e),VE(i,t[1]),Di(s,i,Ipt),n5(i,i,t[2]),r5(s,t[2],s),VE(a,s),VE(c,a),Di(l,c,a),Di(r,l,i),Di(r,r,s),Bpt(r,r),Di(r,r,i),Di(r,r,s),Di(r,r,s),Di(t[0],r,s),VE(n,t[0]),Di(n,n,s),h_e(n,i)&&Di(t[0],t[0],bpt),VE(n,t[0]),Di(n,n,s),h_e(n,i)?-1:(g_e(t[0])===e[31]>>7&&n5(t[0],gX,t[0]),Di(t[3],t[0],t[1]),0)}o(Spt,"unpackneg");function wpt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}o(wpt,"unpack25519");function Bpt(t,e){var r=dr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)VE(r,r),n!==1&&Di(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}o(Bpt,"pow2523");function h_e(t,e){var r=new pc(32),n=new pc(32);return IF(r,t),IF(n,e),m_e(r,0,n,0)}o(h_e,"neq25519");function m_e(t,e,r,n){return Rpt(t,e,r,n,32)}o(m_e,"crypto_verify_32");function Rpt(t,e,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=t[e+s]^r[n+s];return(1&a-1>>>8)-1}o(Rpt,"vn");function g_e(t){var e=new pc(32);return IF(e,t),e[0]&1}o(g_e,"par25519");function y_e(t,e,r){var n,i;for(y1(t[0],gX),y1(t[1],EF),y1(t[2],EF),y1(t[3],gX),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,d_e(t,e,n),CX(e,t),CX(t,t),d_e(t,e,n)}o(y_e,"scalarmult");function IX(t,e){var r=[dr(),dr(),dr(),dr()];y1(r[0],u_e),y1(r[1],f_e),y1(r[2],EF),Di(r[3],u_e,f_e),y_e(t,r,e)}o(IX,"scalarbase");function y1(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}o(y1,"set25519");function kpt(t,e){var r=dr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)VE(r,r),n!==2&&n!==4&&Di(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}o(kpt,"inv25519");function pX(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}o(pX,"car25519");function C_e(t,e,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}o(C_e,"sel25519");function dr(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}o(dr,"gf");function r5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}o(r5,"A");function n5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}o(n5,"Z");function VE(t,e){Di(t,e,e)}o(VE,"S");function Di(t,e,r){var n,i,s=0,a=0,c=0,l=0,f=0,d=0,h=0,A=0,g=0,y=0,v=0,_=0,T=0,S=0,D=0,Q=0,k=0,P=0,W=0,re=0,ye=0,Ae=0,z=0,j=0,Ie=0,ue=0,J=0,H=0,Z=0,ee=0,se=0,ne=r[0],le=r[1],he=r[2],Ke=r[3],tt=r[4],ct=r[5],Ct=r[6],qt=r[7],Or=r[8],kn=r[9],br=r[10],oe=r[11],Je=r[12],pe=r[13],ut=r[14],ot=r[15];n=e[0],s+=n*ne,a+=n*le,c+=n*he,l+=n*Ke,f+=n*tt,d+=n*ct,h+=n*Ct,A+=n*qt,g+=n*Or,y+=n*kn,v+=n*br,_+=n*oe,T+=n*Je,S+=n*pe,D+=n*ut,Q+=n*ot,n=e[1],a+=n*ne,c+=n*le,l+=n*he,f+=n*Ke,d+=n*tt,h+=n*ct,A+=n*Ct,g+=n*qt,y+=n*Or,v+=n*kn,_+=n*br,T+=n*oe,S+=n*Je,D+=n*pe,Q+=n*ut,k+=n*ot,n=e[2],c+=n*ne,l+=n*le,f+=n*he,d+=n*Ke,h+=n*tt,A+=n*ct,g+=n*Ct,y+=n*qt,v+=n*Or,_+=n*kn,T+=n*br,S+=n*oe,D+=n*Je,Q+=n*pe,k+=n*ut,P+=n*ot,n=e[3],l+=n*ne,f+=n*le,d+=n*he,h+=n*Ke,A+=n*tt,g+=n*ct,y+=n*Ct,v+=n*qt,_+=n*Or,T+=n*kn,S+=n*br,D+=n*oe,Q+=n*Je,k+=n*pe,P+=n*ut,W+=n*ot,n=e[4],f+=n*ne,d+=n*le,h+=n*he,A+=n*Ke,g+=n*tt,y+=n*ct,v+=n*Ct,_+=n*qt,T+=n*Or,S+=n*kn,D+=n*br,Q+=n*oe,k+=n*Je,P+=n*pe,W+=n*ut,re+=n*ot,n=e[5],d+=n*ne,h+=n*le,A+=n*he,g+=n*Ke,y+=n*tt,v+=n*ct,_+=n*Ct,T+=n*qt,S+=n*Or,D+=n*kn,Q+=n*br,k+=n*oe,P+=n*Je,W+=n*pe,re+=n*ut,ye+=n*ot,n=e[6],h+=n*ne,A+=n*le,g+=n*he,y+=n*Ke,v+=n*tt,_+=n*ct,T+=n*Ct,S+=n*qt,D+=n*Or,Q+=n*kn,k+=n*br,P+=n*oe,W+=n*Je,re+=n*pe,ye+=n*ut,Ae+=n*ot,n=e[7],A+=n*ne,g+=n*le,y+=n*he,v+=n*Ke,_+=n*tt,T+=n*ct,S+=n*Ct,D+=n*qt,Q+=n*Or,k+=n*kn,P+=n*br,W+=n*oe,re+=n*Je,ye+=n*pe,Ae+=n*ut,z+=n*ot,n=e[8],g+=n*ne,y+=n*le,v+=n*he,_+=n*Ke,T+=n*tt,S+=n*ct,D+=n*Ct,Q+=n*qt,k+=n*Or,P+=n*kn,W+=n*br,re+=n*oe,ye+=n*Je,Ae+=n*pe,z+=n*ut,j+=n*ot,n=e[9],y+=n*ne,v+=n*le,_+=n*he,T+=n*Ke,S+=n*tt,D+=n*ct,Q+=n*Ct,k+=n*qt,P+=n*Or,W+=n*kn,re+=n*br,ye+=n*oe,Ae+=n*Je,z+=n*pe,j+=n*ut,Ie+=n*ot,n=e[10],v+=n*ne,_+=n*le,T+=n*he,S+=n*Ke,D+=n*tt,Q+=n*ct,k+=n*Ct,P+=n*qt,W+=n*Or,re+=n*kn,ye+=n*br,Ae+=n*oe,z+=n*Je,j+=n*pe,Ie+=n*ut,ue+=n*ot,n=e[11],_+=n*ne,T+=n*le,S+=n*he,D+=n*Ke,Q+=n*tt,k+=n*ct,P+=n*Ct,W+=n*qt,re+=n*Or,ye+=n*kn,Ae+=n*br,z+=n*oe,j+=n*Je,Ie+=n*pe,ue+=n*ut,J+=n*ot,n=e[12],T+=n*ne,S+=n*le,D+=n*he,Q+=n*Ke,k+=n*tt,P+=n*ct,W+=n*Ct,re+=n*qt,ye+=n*Or,Ae+=n*kn,z+=n*br,j+=n*oe,Ie+=n*Je,ue+=n*pe,J+=n*ut,H+=n*ot,n=e[13],S+=n*ne,D+=n*le,Q+=n*he,k+=n*Ke,P+=n*tt,W+=n*ct,re+=n*Ct,ye+=n*qt,Ae+=n*Or,z+=n*kn,j+=n*br,Ie+=n*oe,ue+=n*Je,J+=n*pe,H+=n*ut,Z+=n*ot,n=e[14],D+=n*ne,Q+=n*le,k+=n*he,P+=n*Ke,W+=n*tt,re+=n*ct,ye+=n*Ct,Ae+=n*qt,z+=n*Or,j+=n*kn,Ie+=n*br,ue+=n*oe,J+=n*Je,H+=n*pe,Z+=n*ut,ee+=n*ot,n=e[15],Q+=n*ne,k+=n*le,P+=n*he,W+=n*Ke,re+=n*tt,ye+=n*ct,Ae+=n*Ct,z+=n*qt,j+=n*Or,Ie+=n*kn,ue+=n*br,J+=n*oe,H+=n*Je,Z+=n*pe,ee+=n*ut,se+=n*ot,s+=38*k,a+=38*P,c+=38*W,l+=38*re,f+=38*ye,d+=38*Ae,h+=38*z,A+=38*j,g+=38*Ie,y+=38*ue,v+=38*J,_+=38*H,T+=38*Z,S+=38*ee,D+=38*se,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=a,t[2]=c,t[3]=l,t[4]=f,t[5]=d,t[6]=h,t[7]=A,t[8]=g,t[9]=y,t[10]=v,t[11]=_,t[12]=T,t[13]=S,t[14]=D,t[15]=Q}o(Di,"M")});var T_e=q((hKr,x_e)=>{u();var cl=en();ei();su();kw();x_e.exports=cl.kem=cl.kem||{};var v_e=cl.jsbn.BigInteger;cl.kem.rsa={};cl.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||cl.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),c;do c=new v_e(cl.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(c.compareTo(v_e.ONE)<=0);c=cl.util.hexToBytes(c.toString(16));var l=a-c.length;l>0&&(c=cl.util.fillString("\0",l)+c);var f=i.encrypt(c,"NONE"),d=t.generate(c,s);return{encapsulation:f,key:d}},n.decrypt=function(i,s,a){var c=i.decrypt(s,"NONE");return t.generate(c,a)},n};cl.kem.kdf1=function(t,e){b_e(this,t,0,e||t.digestLength)};cl.kem.kdf2=function(t,e){b_e(this,t,1,e||t.digestLength)};function b_e(t,e,r,n){t.generate=function(i,s){for(var a=new cl.util.ByteBuffer,c=Math.ceil(s/n)+r,l=new cl.util.ByteBuffer,f=r;f<c;++f){l.putInt32(f),e.start(),e.update(i+l.getBytes());var d=e.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(b_e,"_createKDF")});var B_e=q((mKr,w_e)=>{u();var Rn=en();ei();w_e.exports=Rn.log=Rn.log||{};Rn.log.levels=["none","error","warning","info","debug","verbose","max"];var vF={},xX=[],Mw=null;Rn.log.LEVEL_LOCKED=2;Rn.log.NO_LEVEL_CHECK=4;Rn.log.INTERPOLATE=8;for(yh=0;yh<Rn.log.levels.length;++yh)vX=Rn.log.levels[yh],vF[vX]={index:yh,name:vX.toUpperCase()};var vX,yh;Rn.log.logMessage=function(t){for(var e=vF[t.level].index,r=0;r<xX.length;++r){var n=xX[r];if(n.flags&Rn.log.NO_LEVEL_CHECK)n.f(t);else{var i=vF[n.level].index;e<=i&&n.f(n,t)}}};Rn.log.prepareStandard=function(t){"standard"in t||(t.standard=vF[t.level].name+" ["+t.category+"] "+t.message)};Rn.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=Rn.util.format.apply(this,e)}};Rn.log.prepareStandardFull=function(t){"standardFull"in t||(Rn.log.prepareStandard(t),t.standardFull=t.standard)};for(bX=["error","warning","info","debug","verbose"],yh=0;yh<bX.length;++yh)(function(e){Rn.log[e]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:r,message:n,arguments:i};Rn.log.logMessage(s)}})(bX[yh]);var bX,yh;Rn.log.makeLogger=function(t){var e={flags:0,f:t};return Rn.log.setLevel(e,"none"),e};Rn.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&Rn.log.LEVEL_LOCKED))for(var n=0;n<Rn.log.levels.length;++n){var i=Rn.log.levels[n];if(e==i){t.level=e,r=!0;break}}return r};Rn.log.lock=function(t,e){typeof e>"u"||e?t.flags|=Rn.log.LEVEL_LOCKED:t.flags&=~Rn.log.LEVEL_LOCKED};Rn.log.addLogger=function(t){xX.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(__e={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Ow=o(function(t,e){Rn.log.prepareStandard(e);var r=__e[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},"f"),i5=Rn.log.makeLogger(Ow)):(Ow=o(function(e,r){Rn.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),i5=Rn.log.makeLogger(Ow)),Rn.log.setLevel(i5,"debug"),Rn.log.addLogger(i5),Mw=i5):console={log:o(function(){},"log")};var i5,__e,Ow;Mw!==null&&typeof window<"u"&&window.location&&(Lw=new URL(window.location.href).searchParams,Lw.has("console.level")&&Rn.log.setLevel(Mw,Lw.get("console.level").slice(-1)[0]),Lw.has("console.lock")&&(S_e=Lw.get("console.lock").slice(-1)[0],S_e=="true"&&Rn.log.lock(Mw)));var Lw,S_e;Rn.log.consoleLogger=Mw});var k_e=q((CKr,R_e)=>{u();R_e.exports=uh();tF();Jx();LJ();dX()});var Q_e=q((IKr,N_e)=>{u();var It=en();u1();Sf();Bw();f1();LE();JJ();su();ei();pF();var Ee=It.asn1,S0=N_e.exports=It.pkcs7=It.pkcs7||{};S0.messageFromPem=function(t){var e=It.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Ee.fromDer(e.body);return S0.messageFromAsn1(n)};S0.messageToPem=function(t,e){var r={type:"PKCS7",body:Ee.toDer(t.toAsn1()).getBytes()};return It.pem.encode(r,{maxline:e})};S0.messageFromAsn1=function(t){var e={},r=[];if(!Ee.validate(t,S0.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Ee.derToOid(e.contentType),s;switch(i){case It.pki.oids.envelopedData:s=S0.createEnvelopedData();break;case It.pki.oids.encryptedData:s=S0.createEncryptedData();break;case It.pki.oids.signedData:s=S0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s};S0.createSignedData=function(){var t=null;return t={type:It.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(_X(t,n,S0.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var i=t.rawCapture.certificates.value,s=0;s<i.length;++s)t.certificates.push(It.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){t.contentInfo||t.sign();for(var n=[],i=0;i<t.certificates.length;++i)n.push(It.pki.certificateToAsn1(t.certificates[i]));var s=[],a=Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&a.value[0].value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,t.signerInfos)),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=It.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var c=n.key;if(!c)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof c=="string"&&(c=It.pki.privateKeyFromPem(c));var l=n.digestAlgorithm||It.pki.oids.sha1;switch(l){case It.pki.oids.sha1:case It.pki.oids.sha256:case It.pki.oids.sha384:case It.pki.oids.sha512:case It.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,h=!1,A=0;A<f.length;++A){var g=f[A];if(!d&&g.type===It.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&g.type===It.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:c,version:1,issuer:i,serialNumber:s,digestAlgorithm:l,signatureAlgorithm:It.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(It.pki.oids.data).getBytes())]),"content"in t)){var i;t.content instanceof It.util.ByteBuffer?i=t.content.bytes():typeof t.content=="string"&&(i=It.util.encodeUtf8(t.content)),n.detached?t.detachedContent=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,i):t.contentInfo.value.push(Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,i)]))}if(t.signers.length!==0){var s=e();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=It.pki.certificateFromPem(n)),t.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},t;function e(){for(var n={},i=0;i<t.signers.length;++i){var s=t.signers[i],a=s.digestAlgorithm;a in n||(n[a]=It.md[It.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=It.md[It.pki.oids[a]].create()}t.digestAlgorithmIdentifiers=[];for(var a in n)t.digestAlgorithmIdentifiers.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(a).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")]));return n}o(e,"addDigestAlgorithmIds");function r(n){var i;if(t.detachedContent?i=t.detachedContent:(i=t.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=Ee.derToOid(t.contentInfo.value[0].value),a=Ee.toDer(i);a.getByte(),Ee.getBerValueLength(a),a=a.getBytes();for(var c in n)n[c].start().update(a);for(var l=new Date,f=0;f<t.signers.length;++f){var d=t.signers[f];if(d.authenticatedAttributes.length===0){if(s!==It.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,[]),A=0;A<d.authenticatedAttributes.length;++A){var g=d.authenticatedAttributes[A];g.type===It.pki.oids.messageDigest?g.value=n[d.digestAlgorithm].digest():g.type===It.pki.oids.signingTime&&(g.value||(g.value=l)),h.value.push(TX(g)),d.authenticatedAttributesAsn1.value.push(TX(g))}a=Ee.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=Lpt(t.signers)}o(r,"addSignerInfos")};S0.createEncryptedData=function(){var t=null;return t={type:It.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:It.pki.oids["aes256-CBC"]},fromAsn1:o(function(e){_X(t,e,S0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(e){e!==void 0&&(t.encryptedContent.key=e),D_e(t)},"decrypt")},t};S0.createEnvelopedData=function(){var t=null;return t={type:It.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:It.pki.oids["aes256-CBC"]},fromAsn1:o(function(e){var r=_X(t,e,S0.asn1.envelopedDataValidator);t.recipients=Qpt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,Ppt(t.recipients)),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,Mpt(t.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],s=i.issuer;if(i.serialNumber===e.serialNumber&&s.length===r.length){for(var a=!0,c=0;c<r.length;++c)if(s[c].type!==r[c].type||s[c].value!==r[c].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case It.pki.oids.rsaEncryption:case It.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=It.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}D_e(t)},"decrypt"),addRecipient:o(function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:It.pki.oids.rsaEncryption,key:e.publicKey}})},"addRecipient"),encrypt:o(function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,i,s;switch(r){case It.pki.oids["aes128-CBC"]:n=16,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["aes192-CBC"]:n=24,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["aes256-CBC"]:n=32,i=16,s=It.aes.createEncryptionCipher;break;case It.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=It.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=It.util.createBuffer(It.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=It.util.createBuffer(It.random.getBytes(i));var a=s(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var c=0;c<t.recipients.length;++c){var l=t.recipients[c];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case It.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}},"encrypt")},t};function Dpt(t){var e={},r=[];if(!Ee.validate(t,S0.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:It.pki.RDNAttributesAsArray(e.issuer),serialNumber:It.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Ee.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}o(Dpt,"_recipientFromAsn1");function Npt(t){return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[It.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,It.util.hexToBytes(t.serialNumber))]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.encryptedContent.algorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.encryptedContent.content)])}o(Npt,"_recipientToAsn1");function Qpt(t){for(var e=[],r=0;r<t.length;++r)e.push(Dpt(t[r]));return e}o(Qpt,"_recipientsFromAsn1");function Ppt(t){for(var e=[],r=0;r<t.length;++r)e.push(Npt(t[r]));return e}o(Ppt,"_recipientsToAsn1");function Fpt(t){var e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,Ee.integerToDer(t.version).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[It.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.INTEGER,!1,It.util.hexToBytes(t.serialNumber))]),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.digestAlgorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.signatureAlgorithm).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.NULL,!1,"")])),e.value.push(Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=Ee.create(Ee.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var i=t.unauthenticatedAttributes[n];r.values.push(TX(i))}e.value.push(r)}return e}o(Fpt,"_signerToAsn1");function Lpt(t){for(var e=[],r=0;r<t.length;++r)e.push(Fpt(t[r]));return e}o(Lpt,"_signersToAsn1");function TX(t){var e;if(t.type===It.pki.oids.contentType)e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.value).getBytes());else if(t.type===It.pki.oids.messageDigest)e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===It.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=t.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=Ee.utcTimeToDate(i):i=Ee.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.UTCTIME,!1,Ee.dateToUtcTime(i)):e=Ee.create(Ee.Class.UNIVERSAL,Ee.Type.GENERALIZEDTIME,!1,Ee.dateToGeneralizedTime(i))}return Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.type).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SET,!0,[e])])}o(TX,"_attributeToAsn1");function Mpt(t){return[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(It.pki.oids.data).getBytes()),Ee.create(Ee.Class.UNIVERSAL,Ee.Type.SEQUENCE,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OID,!1,Ee.oidToDer(t.algorithm).getBytes()),t.parameter?Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),Ee.create(Ee.Class.CONTEXT_SPECIFIC,0,!0,[Ee.create(Ee.Class.UNIVERSAL,Ee.Type.OCTETSTRING,!1,t.content.getBytes())])]}o(Mpt,"_encryptedContentToAsn1");function _X(t,e,r){var n={},i=[];if(!Ee.validate(e,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=Ee.derToOid(n.contentType);if(a!==It.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var c="";if(It.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==Ee.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");c+=n.encryptedContent[l].value}else c=n.encryptedContent;t.encryptedContent={algorithm:Ee.derToOid(n.encAlgorithm),parameter:It.util.createBuffer(n.encParameter.value),content:It.util.createBuffer(c)}}if(n.content){var c="";if(It.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==Ee.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");c+=n.content[l].value}else c=n.content;t.content=It.util.createBuffer(c)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}o(_X,"_fromAsn1");function D_e(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case It.pki.oids["aes128-CBC"]:case It.pki.oids["aes192-CBC"]:case It.pki.oids["aes256-CBC"]:e=It.aes.createDecryptionCipher(t.encryptedContent.key);break;case It.pki.oids.desCBC:case It.pki.oids["des-EDE3-CBC"]:e=It.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}o(D_e,"_decryptContent")});var F_e=q((xKr,P_e)=>{u();var vs=en();u1();$x();tF();Jx();ei();var xF=P_e.exports=vs.ssh=vs.ssh||{};xF.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",i=e===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=vs.util.createBuffer();o5(a,n),Ch(a,t.e),Ch(a,t.n);var c=vs.util.encode64(a.bytes(),64),l=Math.floor(c.length/66)+1;s+="Public-Lines: "+l+`\r
`,s+=c;var f=vs.util.createBuffer();Ch(f,t.d),Ch(f,t.p),Ch(f,t.q),Ch(f,t.qInv);var d;if(!e)d=vs.util.encode64(f.bytes(),64);else{var h=f.length()+16-1;h-=h%16;var A=bF(f.bytes());A.truncate(A.length()-h+f.length()),f.putBuffer(A);var g=vs.util.createBuffer();g.putBuffer(bF("\0\0\0\0",e)),g.putBuffer(bF("\0\0\0",e));var y=vs.aes.createEncryptionCipher(g.truncate(8),"CBC");y.start(vs.util.createBuffer().fillWithByte(0,16)),y.update(f.copy()),y.finish();var v=y.output;v.truncate(16),d=vs.util.encode64(v.bytes(),64)}l=Math.floor(d.length/66)+1,s+=`\r
Private-Lines: `+l+`\r
`,s+=d;var _=bF("putty-private-key-file-mac-key",e),T=vs.util.createBuffer();o5(T,n),o5(T,i),o5(T,r),T.putInt32(a.length()),T.putBuffer(a),T.putInt32(f.length()),T.putBuffer(f);var S=vs.hmac.create();return S.start("sha1",_),S.update(T.bytes()),s+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,s};xF.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=vs.util.createBuffer();return o5(n,r),Ch(n,t.e),Ch(n,t.n),r+" "+vs.util.encode64(n.bytes())+" "+e};xF.privateKeyToOpenSSH=function(t,e){return e?vs.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):vs.pki.privateKeyToPem(t)};xF.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||vs.md.md5.create(),n="ssh-rsa",i=vs.util.createBuffer();o5(i,n),Ch(i,t.e),Ch(i,t.n),r.start(),r.update(i.getBytes());var s=r.digest();if(e.encoding==="hex"){var a=s.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};function Ch(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=vs.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}o(Ch,"_addBigIntegerToBuffer");function o5(t,e){t.putInt32(e.length),t.putString(e)}o(o5,"_addStringToBuffer");function bF(){for(var t=vs.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}o(bF,"_sha1")});var M_e=q((SKr,L_e)=>{u();L_e.exports=en();u1();n_e();Sf();zP();Bw();I_e();$x();T_e();B_e();k_e();XJ();oF();LE();YJ();tX();Q_e();nX();zJ();MJ();dF();su();HJ();F_e();lX();ei()});var H_e=q(WE=>{"use strict";u();Object.defineProperty(WE,"__esModule",{value:!0});WE.convert=WE.Format=void 0;var Uw=M_e(),C1;(function(t){t.der="der",t.pem="pem",t.txt="txt",t.asn1="asn1",t.x509="x509",t.fingerprint="fingerprint"})(C1=WE.Format||(WE.Format={}));function O_e(t){var e=Uw.pki.pemToDer(t),r=Uw.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(O_e,"myASN");function Opt(t){var e=O_e(t),r=e.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=e.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(t)].join(`
`)}o(Opt,"txtFormat");function U_e(t,e){switch(e){case C1.der:return Uw.pki.pemToDer(t);case C1.pem:return t;case C1.txt:return Opt(t);case C1.asn1:return O_e(t);case C1.fingerprint:var r=Uw.md.sha1.create(),n=U_e(t,C1.der);return r.update(n.getBytes()),r.digest().toHex();case C1.x509:return Uw.pki.certificateFromPem(t);default:throw new Error("unknown format ".concat(e))}}o(U_e,"convert");WE.convert=U_e});var $_e=q(mc=>{"use strict";u();var E1=mc&&mc.__assign||function(){return E1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E1.apply(this,arguments)},TF=mc&&mc.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(mc,"__esModule",{value:!0});mc.convert=mc.Format=mc.addToGlobalAgent=mc.get=void 0;var SX=require("https"),Upt=require("tls"),q_e=require("child_process"),G_e=vTe(),ap=H_e();Object.defineProperty(mc,"Format",{enumerable:!0,get:o(function(){return ap.Format},"get")});Object.defineProperty(mc,"convert",{enumerable:!0,get:o(function(){return ap.convert},"get")});var V_e=process.platform==="darwin",W_e=SX.globalAgent,SF={keychain:"all",unique:!0,excludeBundled:!0,format:ap.Format.pem};function Y_e(t){if(t===void 0&&(t=SF),!V_e)return[];t=E1(E1({},SF),t);var e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(t.keychain==="all"||t.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,q_e.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(e).map(function(f){return f.trim()});n=TF(TF([],n,!0),s,!0)}if(t.keychain==="all"||t.keychain==="current"){var a=(0,q_e.spawnSync)("/usr/bin/security",r).stdout.toString().split(e).map(function(f){return f.trim()});n=TF(TF([],n,!0),a,!0)}if(t.unique||t.excludeBundled){var c=n.map(function(f){return(0,ap.convert)(f,ap.Format.fingerprint)}),l=t.excludeBundled?Upt.rootCertificates.map(function(f){return(0,ap.convert)(f,ap.Format.fingerprint)}):[];n=n.filter(function(f,d){var h=c[d];return!(t.unique&&d!==c.indexOf(h)||t.excludeBundled&&l.includes(h))})}return n.map(function(f){return(0,ap.convert)(f,t.format)})}o(Y_e,"get");mc.get=Y_e;var _F=W_e.options.ca,Hpt=o(function(t){if(t===void 0&&(t=SF),!!V_e){var e;Array.isArray(_F)?e=Array.from(_F):e=typeof _F<"u"?[_F]:[],Y_e(E1(E1(E1({},SF),t),{format:ap.Format.pem,excludeBundled:!1})).forEach(function(r){return e.push(r)}),W_e.options.ca=e,SX.Agent=function(r){return function(n){var i=typeof n<"u"?E1({},n):{};return typeof i.ca>"u"&&(i.ca=e),r.call(this,i)}}(SX.Agent),(0,G_e.setGlobalDispatcher)(new G_e.Agent({connect:{ca:e}}))}},"addToGlobalAgent");mc.addToGlobalAgent=Hpt});var z_e=q((PKr,wX)=>{u();function qpt(){let{X509Certificate:t}=require("crypto"),{join:e}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(e(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let c=new t(a);i.push(c.toString())}}finally{s.done()}return Array.from(new Set(i))}o(qpt,"all");process.platform!=="win32"?wX.exports.all=()=>[]:wX.exports.all=qpt});var i3e=q((qKr,n3e)=>{u();var LX=require("fs"),BF=require("path"),Hw=BF.join,Vpt=BF.dirname,t3e=LX.accessSync&&function(t){try{LX.accessSync(t)}catch{return!1}return!0}||LX.existsSync||BF.existsSync,r3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Wpt(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(r3e).map(function(l){l in t||(t[l]=r3e[l])}),t.module_root||(t.module_root=Ypt(__filename)),BF.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=t.try.length,s,a,c;n<i;n++){s=Hw.apply(null,t.try[n].map(function(l){return t[l]||l})),r.push(s);try{return a=t.path?e.resolve(s):e(s),t.path||(a.path=s),a}catch(l){if(l.code!=="MODULE_NOT_FOUND"&&l.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(l.message))throw l}}throw c=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(l){return t.arrow+l}).join(`
`)),c.tries=r,c}o(Wpt,"bindings");n3e.exports=Wpt;function Ypt(t){for(var e=Vpt(t),r;;){if(e==="."&&(e=process.cwd()),t3e(Hw(e,"dist")))return Hw(e,"dist");if(t3e(Hw(e,"compiled")))return e;if(r===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');r=e,e=Hw(e,"..")}}o(Ypt,"getRoot")});var a3e=q((WKr,s3e)=>{"use strict";u();function o3e(t,e,r){let n=e[r];if(t==null&&n.required===!1)return;if(t==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof t;if(n.type&&i!==n.type){if(n.required===!1&&e.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof t}\``)}return!0}o(o3e,"validateParameter");function $pt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o($pt,"hasOwnProperty");function zpt(t,e){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<e.length;++s,++a){let c=e[s],l=r[a];$pt(c,"default")&&l==null&&(l=c.default),c.type==="object"&&c.default!=null&&(l=Object.assign({},c.default,l)),c.name==="options"&&(typeof l=="function"||l==null)&&(l={}),o3e(l,e,s)?n.push(l):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((c,l)=>{if(c)return a(c);s(l)}),t.apply(this,n)});t.apply(this,n)}}o(zpt,"defineOperation");s3e.exports={defineOperation:zpt,validateParameter:o3e}});var MX=q((zKr,u3e)=>{"use strict";u();var c5=i3e()("kerberos"),a5=c5.KerberosClient,c3e=c5.KerberosServer,I1=a3e().defineOperation,jpt=1,Kpt=2,Jpt=4,Xpt=8,Zpt=16,emt=32,tmt=64,rmt=128,nmt=256,l3e=0,imt=9,omt=6;a5.prototype.step=I1(a5.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);a5.prototype.wrap=I1(a5.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);a5.prototype.unwrap=I1(a5.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);c3e.prototype.step=I1(c3e.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var smt=I1(c5.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),amt=I1(c5.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),cmt=I1(c5.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:l3e}},{name:"callback",type:"function",required:!1}]),lmt=I1(c5.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);u3e.exports={initializeClient:cmt,initializeServer:lmt,principalDetails:amt,checkPassword:smt,GSS_C_DELEG_FLAG:jpt,GSS_C_MUTUAL_FLAG:Kpt,GSS_C_REPLAY_FLAG:Jpt,GSS_C_SEQUENCE_FLAG:Xpt,GSS_C_CONF_FLAG:Zpt,GSS_C_INTEG_FLAG:emt,GSS_C_ANON_FLAG:tmt,GSS_C_PROT_READY_FLAG:rmt,GSS_C_TRANS_FLAG:nmt,GSS_C_NO_OID:l3e,GSS_MECH_OID_KRB5:imt,GSS_MECH_OID_SPNEGO:omt}});var f3e=q((KKr,umt)=>{umt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var h3e=q((JKr,d3e)=>{"use strict";u();var fmt=require("dns"),dmt=MX(),OX=class{static{o(this,"MongoAuthProcess")}constructor(e,r,n,i){i=i||{},this.host=e,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=hmt(this),this.retries=10}init(e,r,n){let i=this;this.username=e,this.password=r;function s(a,c,l){if(!a)return l();fmt.resolveCname(c,(f,d)=>{if(f)return l(f);Array.isArray(d)&&d.length>0&&(i.host=d[0]),l()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let c={};r!=null&&Object.assign(c,{user:e,password:r});let l=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;dmt.initializeClient(l,c,(f,d)=>{if(f)return n(f,null);i.client=d,n(null,d)})})}transition(e,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(e,r)}};function hmt(t){return(e,r)=>{t.client.step("",(n,i)=>{if(n)return r(n);t._transition=Amt(t),r(null,i)})}}o(hmt,"firstTransition");function Amt(t){return(e,r)=>{t.client.step(e,(n,i)=>{if(n&&t.retries===0)return r(n);if(n)return t.retries=t.retries-1,t.transition(e,r);t._transition=pmt(t),r(null,i||"")})}}o(Amt,"secondTransition");function pmt(t){return(e,r)=>{t.client.unwrap(e,(n,i)=>{if(n)return r(n,!1);t.client.wrap(i,{user:t.username},(s,a)=>{if(s)return r(s,!1);t._transition=mmt(t),r(null,a)})})}}o(pmt,"thirdTransition");function mmt(t){return(e,r)=>{t._transition=null,r(null,!0)}}o(mmt,"fourthTransition");d3e.exports={MongoAuthProcess:OX}});var p3e=q((eJr,qw)=>{"use strict";u();var A3e=MX();qw.exports=A3e;qw.exports.Kerberos=A3e;qw.exports.version=f3e().version;qw.exports.processes={MongoAuthProcess:h3e().MongoAuthProcess}});var KX=q((oXr,L3e)=>{u();var Vw=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Pmt=typeof AbortController=="function",QF=Pmt?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new Q3e}abort(){this.signal.dispatchEvent("abort")}},Fmt=typeof AbortSignal=="function",Lmt=typeof QF.AbortSignal=="function",Q3e=Fmt?AbortSignal:Lmt?QF.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},zX=new Set,WX=o((t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;PF(r)&&jX(r,`${t} option`,`options.${e}`,f5)},"deprecatedOption"),YX=o((t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(PF(r)){let{prototype:n}=f5,{get:i}=Object.getOwnPropertyDescriptor(n,t);jX(r,`${t} method`,`cache.${e}()`,i)}},"deprecatedMethod"),Mmt=o((t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(PF(r)){let{prototype:n}=f5,{get:i}=Object.getOwnPropertyDescriptor(n,t);jX(r,`${t} property`,`cache.${e}`,i)}},"deprecatedProperty"),P3e=o((...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},"emitWarning"),PF=o(t=>!zX.has(t),"shouldWarn"),jX=o((t,e,r,n)=>{zX.add(t);let i=`The ${e} is deprecated. Please use ${r} instead.`;P3e(i,"DeprecationWarning",t,n)},"warn"),zE=o(t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),"isPosInt"),F3e=o(t=>zE(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?u5:null:null,"getUintArray"),u5=class extends Array{static{o(this,"ZeroArray")}constructor(e){super(e),this.fill(0)}},$X=class{static{o(this,"Stack")}constructor(e){if(e===0)return[];let r=F3e(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},f5=class t{static{o(this,"LRUCache")}constructor(e={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:c,allowStale:l,dispose:f,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:A,maxSize:g=0,sizeCalculation:y,fetchMethod:v,fetchContext:_,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:S}=e,{length:D,maxAge:Q,stale:k}=e instanceof t?{}:e;if(r!==0&&!zE(r))throw new TypeError("max option must be a nonnegative integer");let P=r?F3e(r):Array;if(!P)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=g,this.sizeCalculation=y||D,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=_,!this.fetchMethod&&_!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new P(r),this.prev=new P(r),this.head=0,this.tail=0,this.free=new $X(r),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!A,this.noDeleteOnFetchRejection=!!T,this.maxSize!==0){if(!zE(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!k,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!c,this.ttlResolution=zE(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||Q||0,this.ttl){if(!zE(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let W="LRU_CACHE_UNBOUNDED";PF(W)&&(zX.add(W),P3e("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,t))}k&&WX("stale","allowStale"),Q&&WX("maxAge","ttl"),D&&WX("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new u5(this.max),this.starts=new u5(this.max),this.setItemTTL=(n,i,s=Vw.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Vw.now():0};let e=0,r=o(()=>{let n=Vw.now();if(this.ttlResolution>0){e=n;let i=setTimeout(()=>e=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new u5(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,i)=>{if(!zE(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,e),!zE(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return YX("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let c=Vw.now()-this.starts[r];a.start=Math.floor(Date.now()-c)}this.sizes&&(a.size=this.sizes[r]),e.unshift([n,a])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=Vw.now()-i}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL}={}){if(a=this.requireSize(e,r,a,c),this.maxSize&&a>this.maxSize)return this;let f=this.size===0?void 0:this.keyMap.get(e);if(f===void 0)f=this.newIndex(),this.keyList[f]=e,this.valList[f]=r,this.keyMap.set(e,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,a),l=!1;else{let d=this.valList[f];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():s||(this.dispose(d,e,"set"),this.disposeAfter&&this.disposed.push([d,e,"set"])),this.removeItemSize(f),this.valList[f]=r,this.addItemSize(f,a)),this.moveToTail(f)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),l||this.setItemTTL(f,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(e,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new QF,c={signal:a.signal,options:n,context:i},l=o(A=>(a.signal.aborted||this.set(e,A,c.options),A),"cb"),f=o(A=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw A},"eb"),d=o(A=>A(this.fetchMethod(e,s,c)),"pcall"),h=new Promise(d).then(l,f);return h.__abortController=a,h.__staleWhileFetching=s,h.__returned=null,r===void 0?(this.set(e,h,c.options),r=this.keyMap.get(e)):this.valList[r]=h,h}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:A=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:c,sizeCalculation:l,noUpdateTTL:f,noDeleteOnFetchRejection:d},y=this.keyMap.get(e);if(y===void 0){let v=this.backgroundFetch(e,y,g,h);return v.__returned=v}else{let v=this.valList[y];if(this.isBackgroundFetch(v))return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v;if(!A&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),v;let _=this.backgroundFetch(e,y,g,h);return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(e);if(s!==void 0){let a=this.valList[s],c=this.isBackgroundFetch(a);return this.isStale(s)?c?r?a.__staleWhileFetching:void 0:(i||this.delete(e),r?a:void 0):c?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return YX("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,e,"delete"),this.disposeAfter&&this.disposed.push([i,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return YX("reset","clear"),this.clear}get length(){return Mmt("length","size"),this.size}static get AbortController(){return QF}static get AbortSignal(){return Q3e}};L3e.exports=f5});var ZX=q((cXr,M3e)=>{"use strict";u();var Ww=class extends Error{static{o(this,"FetchBaseError")}constructor(e,r,n){super(e),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},JX=class extends Ww{static{o(this,"FetchError")}constructor(e,r,n){super(e,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},XX=class extends Ww{static{o(this,"AbortError")}constructor(e,r="aborted"){super(e,r,"AbortError")}};M3e.exports={FetchBaseError:Ww,FetchError:JX,AbortError:XX}});var cp=q((fXr,U3e)=>{"use strict";u();var{constants:{MAX_LENGTH:Omt}}=require("buffer"),{pipeline:FF,PassThrough:Umt}=require("stream"),{promisify:Hmt}=require("util"),{createGunzip:qmt,createInflate:Gmt,createBrotliDecompress:Vmt,constants:{Z_SYNC_FLUSH:O3e}}=require("zlib"),Wmt=xd()("helix-fetch:utils"),Ymt=Hmt(FF),$mt=o((t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),"canDecode"),zmt=o((t,e,r,n)=>{if(!$mt(t,e))return r;let i=o(s=>{s&&(Wmt(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return FF(r,qmt({flush:O3e,finishFlush:O3e}),i);case"deflate":case"x-deflate":return FF(r,Gmt(),i);case"br":return FF(r,Vmt(),i);default:return r}},"decodeStream"),jmt=o(t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},"isPlainObject"),LF=o((t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?Kmt(t,e):Jmt(t,e);default:return 0}},"calcSize"),Kmt=o((t,e)=>(e.add(t),t.map(r=>e.has(r)?0:LF(r,e)).reduce((r,n)=>r+n,0)),"calcArraySize"),Jmt=o((t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let i in t)n.push(i);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(i=>{if(r+=LF(i,e),typeof t[i]=="object"&&t[i]!==null){if(e.has(t[i]))return;e.add(t[i])}r+=LF(t[i],e)}),r},"calcObjectSize"),Xmt=o(t=>LF(t,new WeakSet),"sizeof"),Zmt=o(async t=>{let e=new Umt,r=0,n=[];return e.on("data",i=>{if(r+i.length>Omt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await Ymt(t,e),Buffer.concat(n,r)},"streamToBuffer");U3e.exports={decodeStream:zmt,isPlainObject:jmt,sizeof:Xmt,streamToBuffer:Zmt}});var OF=q((AXr,V3e)=>{"use strict";u();var{PassThrough:H3e,Readable:lp}=require("stream"),{types:{isAnyArrayBuffer:G3e}}=require("util"),{FetchError:egt,FetchBaseError:tgt}=ZX(),{streamToBuffer:rgt}=cp(),ngt=Buffer.alloc(0),du=Symbol("Body internals"),igt=o(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),q3e=o(async t=>{if(t[du].disturbed)throw new TypeError("Already read");if(t[du].error)throw new TypeError(`Stream had error: ${t[du].error.message}`);t[du].disturbed=!0;let{stream:e}=t[du];return e===null?ngt:rgt(e)},"consume"),MF=class{static{o(this,"Body")}constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=lp.from(e.toString()):e instanceof lp?r=e:Buffer.isBuffer(e)?r=lp.from(e):G3e(e)?r=lp.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=lp.from(e):r=lp.from(String(e)),this[du]={stream:r,disturbed:!1,error:null},e instanceof lp&&r.on("error",n=>{let i=n instanceof tgt?n:new egt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[du].error=i})}get body(){return this[du].stream}get bodyUsed(){return this[du].disturbed}async buffer(){return q3e(this)}async arrayBuffer(){return igt(await this.buffer())}async text(){return(await q3e(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(MF.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var ogt=o(t=>{if(t[du].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[du],r=e;if(e instanceof lp){r=new H3e;let n=new H3e;e.pipe(r),e.pipe(n),t[du].stream=n}return r},"cloneStream"),sgt=o(t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||G3e(t)||t instanceof lp?null:"text/plain; charset=utf-8","guessContentType");V3e.exports={Body:MF,cloneStream:ogt,guessContentType:sgt}});var d5=q((gXr,z3e)=>{"use strict";u();var{validateHeaderName:W3e,validateHeaderValue:Y3e}=require("http"),{isPlainObject:agt}=cp(),up=Symbol("Headers internals"),Yw=o(t=>{let e=typeof t!="string"?String(t):t;if(typeof W3e=="function")W3e(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},"normalizeName"),$3e=o((t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof Y3e=="function")Y3e(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),UF=class t{static{o(this,"Headers")}constructor(e={}){if(this[up]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(agt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[up].map.set(Yw(e),$3e(r,e))}has(e){return this[up].map.has(Yw(e))}get(e){let r=this[up].map.get(Yw(e));return r===void 0?null:r}append(e,r){let n=Yw(e),i=$3e(r,e),s=this[up].map.get(n);this[up].map.set(n,s?`${s}, ${i}`:i)}delete(e){this[up].map.delete(Yw(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[up].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[up].map)}};Object.defineProperties(UF.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));z3e.exports={Headers:UF}});var eZ=q((EXr,j3e)=>{"use strict";u();var{EventEmitter:cgt}=require("events"),Bf=Symbol("AbortSignal internals"),h5=class{static{o(this,"AbortSignal")}constructor(){this[Bf]={eventEmitter:new cgt,onabort:null,aborted:!1}}get aborted(){return this[Bf].aborted}get onabort(){return this[Bf].onabort}set onabort(e){this[Bf].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[Bf].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[Bf].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[Bf][n]=="function"&&this[n](r),this[Bf].eventEmitter.emit(e,r)}fire(){this[Bf].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(h5.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var qF=class extends h5{static{o(this,"TimeoutSignal")}constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[Bf].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[Bf].timerId)}};Object.defineProperties(qF.prototype,{clear:{enumerable:!0}});var HF=Symbol("AbortController internals"),GF=class{static{o(this,"AbortController")}constructor(){this[HF]={signal:new h5}}get signal(){return this[HF].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[HF].signal.aborted||this[HF].signal.fire()}};Object.defineProperties(GF.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});j3e.exports={AbortController:GF,AbortSignal:h5,TimeoutSignal:qF}});var $w=q((bXr,X3e)=>{"use strict";u();var{randomBytes:lgt}=require("crypto"),{Readable:ugt}=require("stream"),rZ=o(t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),"isBlob"),fgt=o(t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData","isFormData"),K3e=o(t=>`--${t}--\r
\r
`,"getFooter"),J3e=o((t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,rZ(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*dgt(t,e){for(let[r,n]of t)yield J3e(e,r,n),rZ(n)?yield*n.stream():yield n,yield`\r
`;yield K3e(e)}o(dgt,"formDataIterator");var hgt=o((t,e)=>{let r=0;for(let[n,i]of t)r+=Buffer.byteLength(J3e(e,n,i)),r+=rZ(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(K3e(e)),r},"getFormDataLength"),tZ=class{static{o(this,"FormDataSerializer")}constructor(e){this.fd=e,this.boundary=lgt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=hgt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return ugt.from(dgt(this.fd,this.boundary))}};X3e.exports={isFormData:fgt,FormDataSerializer:tZ}});var eSe=q((SXr,Z3e)=>{"use strict";u();var{AbortSignal:_Xr}=eZ(),{Body:Agt,cloneStream:pgt,guessContentType:mgt}=OF(),{Headers:ggt}=d5(),{isPlainObject:ygt}=cp(),{isFormData:Cgt,FormDataSerializer:Egt}=$w(),Igt=20,b1=Symbol("Request internals"),VF=class t extends Agt{static{o(this,"Request")}constructor(e,r={}){let n=e instanceof t?e:null,i=n?new URL(n.url):new URL(e),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?pgt(n):null),c=new ggt(r.headers||n&&n.headers||{});if(Cgt(a)&&!c.has("content-type")){let h=new Egt(a);a=h.stream(),c.set("content-type",h.contentType()),!c.has("transfer-encoding")&&!c.has("content-length")&&c.set("content-length",h.length())}if(!c.has("content-type"))if(ygt(a))a=JSON.stringify(a),c.set("content-type","application/json");else{let h=mgt(a);h&&c.set("content-type",h)}super(a);let l=n?n.signal:null;"signal"in r&&(l=r.signal);let f=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(f))throw new TypeError(`'${f}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[b1]={init:{...r},method:s,redirect:f,cache:d,headers:c,parsedURL:i,signal:l},r.follow===void 0?!n||n.follow===void 0?this.follow=Igt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[b1].method}get url(){return this[b1].parsedURL.toString()}get headers(){return this[b1].headers}get redirect(){return this[b1].redirect}get cache(){return this[b1].cache}get signal(){return this[b1].signal}clone(){return new t(this)}get init(){return this[b1].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(VF.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});Z3e.exports={Request:VF}});var nZ=q((RXr,tSe)=>{"use strict";u();var{Body:vgt,cloneStream:bgt,guessContentType:xgt}=OF(),{Headers:Tgt}=d5(),{isPlainObject:_gt}=cp(),{isFormData:Sgt,FormDataSerializer:wgt}=$w(),Rf=Symbol("Response internals"),WF=class t extends vgt{static{o(this,"Response")}constructor(e=null,r={}){let n=new Tgt(r.headers),i=e;if(Sgt(i)&&!n.has("content-type")){let s=new wgt(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(_gt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=xgt(i);s&&n.set("content-type",s)}super(i),this[Rf]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Rf].url||""}get status(){return this[Rf].status}get statusText(){return this[Rf].statusText}get ok(){return this[Rf].status>=200&&this[Rf].status<300}get redirected(){return this[Rf].counter>0}get headers(){return this[Rf].headers}get httpVersion(){return this[Rf].httpVersion}get decoded(){return this[Rf].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(bgt(this),{...this[Rf]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(WF.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});tSe.exports={Response:WF}});var nSe=q((QXr,rSe)=>{"use strict";u();var Bgt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Rgt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),kgt=new Set([500,502,503,504]),Dgt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Ngt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function jE(t){let e=parseInt(t,10);return isFinite(e)?e:0}o(jE,"toNumberOrZero");function Qgt(t){return t?kgt.has(t.status):!0}o(Qgt,"isErrorResponse");function iZ(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);e[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return e}o(iZ,"parseCacheControl");function Pgt(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}o(Pgt,"formatCacheControl");rSe.exports=class{static{o(this,"CachePolicy")}constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:c}={}){if(c){this._fromObject(c);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=iZ(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=iZ(e.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Pgt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Rgt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Bgt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=iZ(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)Dgt[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return jE(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return jE(this._rescc["s-maxage"])}if(this._rescc["max-age"])return jE(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+jE(this._rescc["stale-if-error"]),n=e+jE(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+jE(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+jE(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Qgt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!Ngt[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var aSe=q((LXr,sSe)=>{"use strict";u();var Fgt=nSe(),{Headers:Lgt}=d5(),iSe=o(t=>({url:t.url,method:t.method,headers:t.headers.plain()}),"convertRequest"),oSe=o(t=>({status:t.status,headers:t.headers.plain()}),"convertResponse"),oZ=class{static{o(this,"CachePolicyWrapper")}constructor(e,r,n){this.policy=new Fgt(iSe(e),oSe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(iSe(e))}responseHeaders(e){return new Lgt(this.policy.responseHeaders(oSe(e)))}timeToLive(){return this.policy.timeToLive()}};sSe.exports=oZ});var uSe=q((UXr,lSe)=>{"use strict";u();var{Readable:Mgt}=require("stream"),{Headers:cSe}=d5(),{Response:Ogt}=nZ(),x1=Symbol("CacheableResponse internals"),Ugt=o(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),sZ=class t extends Ogt{static{o(this,"CacheableResponse")}constructor(e,r){super(e,r);let n=new cSe(r.headers);this[x1]={headers:n,bufferedBody:e}}get headers(){return this[x1].headers}set headers(e){if(e instanceof cSe)this[x1].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return Mgt.from(this[x1].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[x1].bufferedBody}async arrayBuffer(){return Ugt(this[x1].bufferedBody)}async text(){return this[x1].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:c}=this;return new t(this[x1].bufferedBody,{url:e,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:c})}get[Symbol.toStringTag](){return this.constructor.name}},Hgt=o(async t=>{let e=await t.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:c,counter:l}=t;return new sZ(e,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:c,counter:l})},"cacheableResponse");lSe.exports={cacheableResponse:Hgt}});var YF=q((GXr,fSe)=>{"use strict";u();var aZ=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};fSe.exports={RequestAbortedError:aZ}});var mSe=q((YXr,pSe)=>{"use strict";u();var hSe=require("http"),ASe=require("https"),{Readable:qgt}=require("stream"),fp=xd()("helix-fetch:h1"),{RequestAbortedError:dSe}=YF(),{decodeStream:Ggt}=cp(),Vgt=o((t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new ASe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new hSe.Agent(n),r.httpAgent):void 0},"getAgent"),Wgt=o(t=>{t.h1={}},"setupContext"),Ygt=o(async({h1:t})=>{t.httpAgent&&(fp("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(fp("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},"resetContext"),$gt=o((t,e,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:c,headers:l}=t,f=e?Ggt(n,l,t,r):t;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:c,headers:l,readable:f,decoded:!!(e&&f!==t)}},"createResponse"),zgt=o(async(t,e,r)=>{let{request:n}=e.protocol==="https:"?ASe:hSe,i=Vgt(t,e.protocol),s={...r,agent:i},{socket:a,body:c}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((l,f)=>f==="createConnection"&&!a.inUse?(d,h)=>{fp(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:l[f],"get")}):s.createConnection=(l,f)=>{fp(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,f(null,a)})),new Promise((l,f)=>{fp(`${s.method} ${e.href}`);let d,{signal:h}=s,A=o(()=>{h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f(new dSe),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){f(new dSe);return}h.addEventListener("abort",A)}d=n(e,s),d.once("response",g=>{h&&h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),l($gt(g,s.decode,f))}),d.once("error",g=>{h&&h.removeEventListener("abort",A),a&&!a.inUse&&(fp(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(fp(`${s.method} ${e.href} failed with: ${g.message}`),d.abort(),f(g))}),c instanceof qgt?c.pipe(d):(c&&d.write(c),d.end())})},"h1Request");pSe.exports={request:zgt,setupContext:Wgt,resetContext:Ygt}});var ESe=q((jXr,CSe)=>{"use strict";u();var{connect:jgt,constants:Kgt}=require("http2"),{Readable:Jgt}=require("stream"),no=xd()("helix-fetch:h2"),{RequestAbortedError:gSe}=YF(),{decodeStream:Xgt}=cp(),{NGHTTP2_CANCEL:zw}=Kgt,Zgt=300*1e3,e1t=5e3,t1t=o(t=>{t.h2={sessionCache:{}}},"setupContext"),r1t=o(async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),no(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),"resetContext"),ySe=o((t,e,r,n=()=>{})=>{let i={...t},s=i[":status"];delete i[":status"];let a=r?Xgt(s,t,e,n):e;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==e)}},"createResponse"),n1t=o((t,e,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:c,pushedStreamIdleTimeout:l=e1t}}}=t,f=i[":path"],d=`${e}${f}`;no(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(d,i,o(()=>{n.close(zw)},"rejectPush")),n.on("push",(h,A)=>{no(`received push headers for ${e}${f}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${A}`),n.setTimeout(l,()=>{no(`closing pushed stream #${n.id} after ${l} ms of inactivity`),n.close(zw)}),c&&c(d,i,ySe(h,n,r))}),n.on("aborted",()=>{no(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{no(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,A,g)=>{no(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${A}, id: ${g}`)})},"handlePush"),i1t=o(async(t,e,r)=>{let{origin:n,pathname:i,search:s,hash:a}=e,c=`${i}${s}${a}`,{options:{h2:l={}},h2:{sessionCache:f}}=t,{idleSessionTimeout:d=Zgt,pushPromiseHandler:h,pushHandler:A}=l,g={...r},{method:y,headers:v,socket:_,body:T,decode:S}=g;return _&&delete g.socket,v.host&&(v[":authority"]=v.host,delete v.host),new Promise((D,Q)=>{let k=f[n];if(!k||k.closed||k.destroyed){let Ae=!(t.options.rejectUnauthorized===!1||l.rejectUnauthorized===!1),z={...l,rejectUnauthorized:Ae};_&&!_.inUse&&(z.createConnection=()=>(no(`reusing socket #${_.id} (${_.servername})`),_.inUse=!0,_)),k=jgt(n,{...z,settings:{enablePush:!!(h||A)}}),k.setMaxListeners(1e3),k.setTimeout(d,()=>{no(`closing session ${n} after ${d} ms of inactivity`),k.close()}),k.once("connect",()=>{no(`session ${n} established`),no(`caching session ${n}`),f[n]=k}),k.on("localSettings",Ie=>{no(`session ${n} localSettings: ${JSON.stringify(Ie)}`)}),k.on("remoteSettings",Ie=>{no(`session ${n} remoteSettings: ${JSON.stringify(Ie)}`)}),k.once("close",()=>{no(`session ${n} closed`),f[n]===k&&(no(`discarding cached session ${n}`),delete f[n])}),k.once("error",Ie=>{no(`session ${n} encountered error: ${Ie}`),f[n]===k&&(no(`discarding cached session ${n}`),delete f[n])}),k.on("frameError",(Ie,ue,J)=>{no(`session ${n} encountered frameError: type: ${Ie}, code: ${ue}, id: ${J}`)}),k.once("goaway",(Ie,ue,J)=>{no(`session ${n} received GOAWAY frame: errorCode: ${Ie}, lastStreamID: ${ue}, opaqueData: ${J?J.toString():void 0}`)}),k.on("stream",(Ie,ue,J)=>{n1t(t,n,S,Ie,ue,J)})}else _&&_.id!==k.socket.id&&!_.inUse&&(no(`discarding redundant socket used for ALPN: #${_.id} ${_.servername}`),_.destroy());no(`${y} ${e.host}${c}`);let P,{signal:W}=g,re=o(()=>{W.removeEventListener("abort",re),Q(new gSe),P&&P.close(zw)},"onAbortSignal");if(W){if(W.aborted){Q(new gSe);return}W.addEventListener("abort",re)}let ye=o(Ae=>{no(`session ${n} encountered error during ${g.method} ${e.href}: ${Ae}`),Q(Ae)},"onSessionError");k.once("error",ye),P=k.request({":method":y,":path":c,...v}),P.once("response",Ae=>{k.off("error",ye),W&&W.removeEventListener("abort",re),D(ySe(Ae,P,g.decode,Q))}),P.once("error",Ae=>{k.off("error",ye),W&&W.removeEventListener("abort",re),P.rstCode!==zw&&(no(`${g.method} ${e.href} failed with: ${Ae.message}`),P.close(zw),Q(Ae))}),P.once("frameError",(Ae,z,j)=>{k.off("error",ye),no(`encountered frameError during ${g.method} ${e.href}: type: ${Ae}, code: ${z}, id: ${j}`)}),P.on("push",(Ae,z)=>{no(`received 'push' event: headers: ${JSON.stringify(Ae)}, flags: ${z}`)}),T instanceof Jgt?T.pipe(P):(T&&P.write(T),P.end())})},"request");CSe.exports={request:i1t,setupContext:t1t,resetContext:r1t}});var vSe=q((XXr,ISe)=>{"use strict";u();var{EventEmitter:o1t}=require("events"),s1t=o(()=>{let t={},e=new o1t;return e.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let i=o(s=>{t[r]||(t[r]=!0,e.removeListener(r,i),n(s))},"tryAcquire");e.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))},"release")}},"lock");ISe.exports=s1t});var bSe=q((tZr,a1t)=>{a1t.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var wSe=q((rZr,SSe)=>{"use strict";u();var{Readable:c1t}=require("stream"),l1t=require("tls"),{types:{isAnyArrayBuffer:u1t}}=require("util"),f1t=KX(),cZ=xd()("helix-fetch:core"),{RequestAbortedError:$F}=YF(),lZ=mSe(),zF=ESe(),d1t=vSe(),{isPlainObject:h1t}=cp(),{isFormData:A1t,FormDataSerializer:p1t}=$w(),{version:m1t}=bSe(),uZ="h2",fZ="h2c",dZ="http/1.0",KE="http/1.1",g1t=100,y1t=3600*1e3,C1t=[uZ,KE,dZ],E1t=`helix-fetch/${m1t}`,I1t={method:"GET",compress:!0,decode:!0},xSe=0,TSe=d1t(),_Se=o((t,e)=>new Promise((r,n)=>{let{signal:i}=e,s,a=o(()=>{i.removeEventListener("abort",a);let f=new $F;n(f),s&&s.destroy(f)},"onAbortSignal");if(i){if(i.aborted){n(new $F);return}i.addEventListener("abort",a)}let c=+t.port||443,l=o(f=>{i&&i.removeEventListener("abort",a),f instanceof $F||(cZ(`connecting to ${t.hostname}:${c} failed with: ${f.message}`),n(f))},"onError");s=l1t.connect(c,t.hostname,e),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",l),xSe+=1,s.id=xSe,s.secureConnecting=!1,cZ(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",l)}),"connectTLS"),v1t=o(async(t,e)=>{let r=await TSe.acquire(t.origin);try{return r||(r=await _Se(t,e)),r}finally{TSe.release(t.origin,r)}},"connect"),b1t=o(async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,i=t.alpnCache.get(n);if(i)return{protocol:i};switch(e.protocol){case"http:":return i=KE,t.alpnCache.set(n,i),{protocol:i};case"http2:":return i=fZ,t.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:c={}}}=t,l=!(s===!1||a.rejectUnauthorized===!1||c.rejectUnauthorized===!1),f={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:l};t.options.ca&&(f.ca=t.options.ca);let d=await v1t(e,f);return i=d.alpnProtocol,i||(i=KE),t.alpnCache.set(n,i),{protocol:i,socket:d}},"determineProtocol"),x1t=o(t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},"sanitizeHeaders"),T1t=o(async(t,e,r,n)=>{let i=e.protocol==="https:",s;e.port?s=e.port:i?s=443:s=80;let a={...r,host:e.host,hostname:e.hostname,port:s},c=await t(a);if(i){let f={...a,ALPNProtocols:n};f.socket=c,f.servername=a.host;let d=await _Se(e,f);return{protocol:d.alpnProtocol||KE,socket:d}}return{protocol:c.alpnProtocol||KE,socket:c}},"getProtocolAndSocketFromFactory"),_1t=o(async(t,e,r)=>{let n=new URL(e),i={...I1t,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=x1t(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),t.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=t.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(A1t(i.body)){let f=new p1t(i.body);s=f.contentType(),i.body=f.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(f.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":h1t(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):u1t(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof c1t||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:c,socket:l=null}=t.socketFactory?await T1t(t.socketFactory,n,i,t.alpnProtocols):await b1t(t,n,a);switch(cZ(`${n.host} -> ${c}`),c){case uZ:try{return await zF.request(t,n,l?{...i,socket:l}:i)}catch(f){let{code:d,message:h}=f;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),f}case fZ:return zF.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),l?{...i,socket:l}:i);case dZ:case KE:return lZ.request(t,n,l?{...i,socket:l}:i);default:throw new TypeError(`unsupported protocol: ${c}`)}},"request"),S1t=o(async t=>(t.alpnCache.clear(),Promise.all([lZ.resetContext(t),zF.resetContext(t)])),"resetContext"),w1t=o(t=>{let{options:{alpnProtocols:e=C1t,alpnCacheTTL:r=y1t,alpnCacheSize:n=g1t,userAgent:i=E1t,socketFactory:s}}=t;t.alpnProtocols=e,t.alpnCache=new f1t({max:n,ttl:r}),t.userAgent=i,t.socketFactory=s,lZ.setupContext(t),zF.setupContext(t)},"setupContext");SSe.exports={request:_1t,setupContext:w1t,resetContext:S1t,RequestAbortedError:$F,ALPN_HTTP2:uZ,ALPN_HTTP2C:fZ,ALPN_HTTP1_1:KE,ALPN_HTTP1_0:dZ}});var RSe=q((oZr,BSe)=>{"use strict";u();var B1t=xd()("helix-fetch:core"),{request:R1t,setupContext:k1t,resetContext:D1t,RequestAbortedError:N1t,ALPN_HTTP2:Q1t,ALPN_HTTP2C:P1t,ALPN_HTTP1_1:F1t,ALPN_HTTP1_0:L1t}=wSe(),hZ=class t{static{o(this,"RequestContext")}constructor(e){this.options={...e||{}},k1t(this)}api(){return{request:o(async(e,r)=>this.request(e,r),"request"),context:o((e={})=>new t(e).api(),"context"),setCA:o(e=>this.setCA(e),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:N1t,ALPN_HTTP2:Q1t,ALPN_HTTP2C:P1t,ALPN_HTTP1_1:F1t,ALPN_HTTP1_0:L1t}}async request(e,r){return R1t(this,e,r)}setCA(e){this.options.ca=e}async reset(){return B1t("resetting context"),D1t(this)}};BSe.exports=new hZ().api()});var PSe=q((cZr,QSe)=>{"use strict";u();var{EventEmitter:M1t}=require("events"),{Readable:jw}=require("stream"),AZ=xd()("helix-fetch"),O1t=KX(),{Body:U1t}=OF(),{Headers:yZ}=d5(),{Request:JE}=eSe(),{Response:mZ}=nZ(),{FetchBaseError:H1t,FetchError:Kw,AbortError:jF}=ZX(),{AbortController:q1t,AbortSignal:G1t,TimeoutSignal:V1t}=eZ(),W1t=aSe(),{cacheableResponse:Y1t}=uSe(),{sizeof:$1t}=cp(),{isFormData:z1t}=$w(),{context:j1t,RequestAbortedError:K1t}=RSe(),kSe=["GET","HEAD"],J1t=500,X1t=100*1024*1024,pZ="push",DSe=o(async(t,e,r)=>{let{request:n}=t.context,i=e instanceof JE&&typeof r>"u"?e:new JE(e,r),{method:s,body:a,signal:c,compress:l,decode:f,follow:d,redirect:h,init:{body:A}}=i,g;if(c&&c.aborted){let k=new jF("The operation was aborted.");throw i.init.body instanceof jw&&i.init.body.destroy(k),k}try{g=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:A&&!(A instanceof jw)&&!z1t(A)?A:a,compress:l,decode:f,follow:d,redirect:h,signal:c})}catch(k){throw A instanceof jw&&A.destroy(k),k instanceof TypeError?k:k instanceof K1t?new jF("The operation was aborted."):new Kw(k.message,"system",k)}let y=o(()=>{c.removeEventListener("abort",y);let k=new jF("The operation was aborted.");i.init.body instanceof jw&&i.init.body.destroy(k),g.readable.emit("error",k)},"abortHandler");c&&c.addEventListener("abort",y);let{statusCode:v,statusText:_,httpVersion:T,headers:S,readable:D,decoded:Q}=g;if([301,302,303,307,308].includes(v)){let{location:k}=S,P=k==null?null:new URL(k,i.url);switch(i.redirect){case"manual":break;case"error":throw c&&c.removeEventListener("abort",y),new Kw(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(P===null)break;if(i.counter>=i.follow)throw c&&c.removeEventListener("abort",y),new Kw(`maximum redirect reached at: ${i.url}`,"max-redirect");let W={headers:new yZ(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(v!==303&&i.body&&i.init.body instanceof jw)throw c&&c.removeEventListener("abort",y),new Kw("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(v===303||(v===301||v===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length")),c&&c.removeEventListener("abort",y),DSe(t,new JE(P,W))}default:}}return c&&(D.once("end",()=>{c.removeEventListener("abort",y)}),D.once("error",()=>{c.removeEventListener("abort",y)})),new mZ(D,{url:i.url,status:v,statusText:_,headers:S,httpVersion:T,decoded:Q,counter:i.counter})},"fetch"),NSe=o(async(t,e,r)=>{if(t.options.maxCacheSize===0||!kSe.includes(e.method))return r;let n=new W1t(e,r,{shared:!1});if(n.storable()){let i=await Y1t(r);return t.cache.set(e.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),Z1t=o(async(t,e,r)=>{let n=new JE(e,r);if(t.options.maxCacheSize!==0&&kSe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:c}=t.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){c.headers=new yZ(a.responseHeaders(c));let l=c.clone();return l.fromCache=!0,l}}let s=await DSe(t,n);return n.cache!=="no-store"?NSe(t,n,s):s},"cachingFetch"),eyt=o((t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),tyt=o(t=>new V1t(t),"timeoutSignal"),gZ=class t{static{o(this,"FetchContext")}constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:X1t,i=J1t;n===0&&(n=1,i=1);let s=o(({response:c},l)=>$1t(c),"sizeCalculation");this.cache=new O1t({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new M1t,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(c,l,f)=>{let d={...l};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(c,d,f)},this.options.h2.pushHandler=(c,l,f)=>{let d={...l};Object.keys(d).filter(T=>T.startsWith(":")).forEach(T=>delete d[T]);let{statusCode:h,statusText:A,httpVersion:g,headers:y,readable:v,decoded:_}=f;this.pushHandler(c,d,new mZ(v,{url:c,status:h,statusText:A,headers:y,httpVersion:g,decoded:_}))}),this.context=j1t(this.options)}api(){return{fetch:o(async(e,r)=>this.fetch(e,r),"fetch"),Body:U1t,Headers:yZ,Request:JE,Response:mZ,AbortController:q1t,AbortSignal:G1t,FetchBaseError:H1t,FetchError:Kw,AbortError:jF,context:o((e={})=>new t(e).api(),"context"),setCA:o(e=>this.setCA(e),"setCA"),noCache:o((e={})=>new t({...e,maxCacheSize:0}).api(),"noCache"),h1:o((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(e=>this.onPush(e),"onPush"),offPush:o(e=>this.offPush(e),"offPush"),createUrl:eyt,timeoutSignal:tyt,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return Z1t(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(pZ,e)}offPush(e){return this.eventEmitter.off(pZ,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){AZ(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let i=new JE(e,{headers:r}),{policy:s}=this.cache.get(e)||{};s&&s.satisfiesWithoutRevalidation(i)&&(AZ(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){AZ(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await NSe(this,new JE(e,{headers:r}),n);this.eventEmitter.emit(pZ,e,i)}};QSe.exports=new gZ().api()});var LSe=q((fZr,FSe)=>{"use strict";u();FSe.exports=PSe()});u();u();u();u();u();var by=class extends Error{static{o(this,"CopilotAuthError")}constructor(e,r){super(e,{cause:r}),this.name="CopilotAuthError"}};u();u();var MT="github.copilot";u();u();u();u();u();u();u();u();var Ua={};Eo(Ua,{HasPropertyKey:()=>DB,IsArray:()=>zo,IsAsyncIterator:()=>NM,IsBigInt:()=>OT,IsBoolean:()=>$h,IsDate:()=>xy,IsFunction:()=>QM,IsIterator:()=>PM,IsNull:()=>FM,IsNumber:()=>_c,IsObject:()=>yi,IsRegExp:()=>UT,IsString:()=>Bi,IsSymbol:()=>LM,IsUint8Array:()=>zh,IsUndefined:()=>jo});u();function DB(t,e){return e in t}o(DB,"HasPropertyKey");function NM(t){return yi(t)&&!zo(t)&&!zh(t)&&Symbol.asyncIterator in t}o(NM,"IsAsyncIterator");function zo(t){return Array.isArray(t)}o(zo,"IsArray");function OT(t){return typeof t=="bigint"}o(OT,"IsBigInt");function $h(t){return typeof t=="boolean"}o($h,"IsBoolean");function xy(t){return t instanceof globalThis.Date}o(xy,"IsDate");function QM(t){return typeof t=="function"}o(QM,"IsFunction");function PM(t){return yi(t)&&!zo(t)&&!zh(t)&&Symbol.iterator in t}o(PM,"IsIterator");function FM(t){return t===null}o(FM,"IsNull");function _c(t){return typeof t=="number"}o(_c,"IsNumber");function yi(t){return typeof t=="object"&&t!==null}o(yi,"IsObject");function UT(t){return t instanceof globalThis.RegExp}o(UT,"IsRegExp");function Bi(t){return typeof t=="string"}o(Bi,"IsString");function LM(t){return typeof t=="symbol"}o(LM,"IsSymbol");function zh(t){return t instanceof globalThis.Uint8Array}o(zh,"IsUint8Array");function jo(t){return t===void 0}o(jo,"IsUndefined");function d8e(t){return t.map(e=>NB(e))}o(d8e,"ArrayType");function h8e(t){return new Date(t.getTime())}o(h8e,"DateType");function A8e(t){return new Uint8Array(t)}o(A8e,"Uint8ArrayType");function p8e(t){return new RegExp(t.source,t.flags)}o(p8e,"RegExpType");function m8e(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=NB(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=NB(t[r]);return e}o(m8e,"ObjectType");function NB(t){return zo(t)?d8e(t):xy(t)?h8e(t):zh(t)?A8e(t):UT(t)?p8e(t):yi(t)?m8e(t):t}o(NB,"Visit");function Wi(t){return NB(t)}o(Wi,"Clone");function A2(t,e){return e===void 0?Wi(t):Wi({...e,...t})}o(A2,"CloneType");u();u();u();function QB(t){return Xr(t)&&globalThis.Symbol.asyncIterator in t}o(QB,"IsAsyncIterator");function PB(t){return Xr(t)&&globalThis.Symbol.iterator in t}o(PB,"IsIterator");function MM(t){return Xr(t)&&(globalThis.Object.getPrototypeOf(t)===Object.prototype||globalThis.Object.getPrototypeOf(t)===null)}o(MM,"IsStandardObject");function FB(t){return t instanceof globalThis.Promise}o(FB,"IsPromise");function l0(t){return t instanceof Date&&globalThis.Number.isFinite(t.getTime())}o(l0,"IsDate");function Cee(t){return t instanceof globalThis.Map}o(Cee,"IsMap");function Eee(t){return t instanceof globalThis.Set}o(Eee,"IsSet");function xl(t){return globalThis.ArrayBuffer.isView(t)}o(xl,"IsTypedArray");function p2(t){return t instanceof globalThis.Uint8Array}o(p2,"IsUint8Array");function ar(t,e){return e in t}o(ar,"HasPropertyKey");function Xr(t){return t!==null&&typeof t=="object"}o(Xr,"IsObject");function cr(t){return globalThis.Array.isArray(t)&&!globalThis.ArrayBuffer.isView(t)}o(cr,"IsArray");function Yi(t){return t===void 0}o(Yi,"IsUndefined");function jh(t){return t===null}o(jh,"IsNull");function ud(t){return typeof t=="boolean"}o(ud,"IsBoolean");function Yt(t){return typeof t=="number"}o(Yt,"IsNumber");function LB(t){return globalThis.Number.isInteger(t)}o(LB,"IsInteger");function ha(t){return typeof t=="bigint"}o(ha,"IsBigInt");function Nn(t){return typeof t=="string"}o(Nn,"IsString");function wm(t){return typeof t=="function"}o(wm,"IsFunction");function Kh(t){return typeof t=="symbol"}o(Kh,"IsSymbol");function Sc(t){return ha(t)||ud(t)||jh(t)||Yt(t)||Nn(t)||Kh(t)||Yi(t)}o(Sc,"IsValueType");var Ni;(function(t){t.InstanceMode="default",t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(a,c){return t.ExactOptionalPropertyTypes?c in a:a[c]!==void 0}o(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(a){let c=Xr(a);return t.AllowArrayObject?c:c&&!cr(a)}o(r,"IsObjectLike"),t.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),t.IsRecordLike=n;function i(a){return t.AllowNaN?Yt(a):Number.isFinite(a)}o(i,"IsNumberLike"),t.IsNumberLike=i;function s(a){let c=Yi(a);return t.AllowNullVoid?c||a===null:c}o(s,"IsVoidLike"),t.IsVoidLike=s})(Ni||(Ni={}));u();function g8e(t){return globalThis.Object.freeze(t).map(e=>HT(e))}o(g8e,"ImmutableArray");function y8e(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=HT(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=HT(t[r]);return globalThis.Object.freeze(e)}o(y8e,"ImmutableObject");function HT(t){return zo(t)?g8e(t):xy(t)?t:zh(t)?t:UT(t)?t:yi(t)?y8e(t):t}o(HT,"Immutable");function Ue(t,e){let r=e!==void 0?{...e,...t}:t;switch(Ni.InstanceMode){case"freeze":return HT(r);case"clone":return Wi(r);default:return r}}o(Ue,"CreateType");u();var lr=class extends Error{static{o(this,"TypeBoxError")}constructor(e){super(e)}};u();u();u();var ao=Symbol.for("TypeBox.Transform"),Pu=Symbol.for("TypeBox.Readonly"),Aa=Symbol.for("TypeBox.Optional"),Tl=Symbol.for("TypeBox.Hint"),Me=Symbol.for("TypeBox.Kind");function m2(t){return yi(t)&&t[Pu]==="Readonly"}o(m2,"IsReadonly");function O0(t){return yi(t)&&t[Aa]==="Optional"}o(O0,"IsOptional");function OM(t){return vn(t,"Any")}o(OM,"IsAny");function UM(t){return vn(t,"Argument")}o(UM,"IsArgument");function Fu(t){return vn(t,"Array")}o(Fu,"IsArray");function Ty(t){return vn(t,"AsyncIterator")}o(Ty,"IsAsyncIterator");function _y(t){return vn(t,"BigInt")}o(_y,"IsBigInt");function Jh(t){return vn(t,"Boolean")}o(Jh,"IsBoolean");function Lu(t){return vn(t,"Computed")}o(Lu,"IsComputed");function Mu(t){return vn(t,"Constructor")}o(Mu,"IsConstructor");function C8e(t){return vn(t,"Date")}o(C8e,"IsDate");function Ou(t){return vn(t,"Function")}o(Ou,"IsFunction");function Uu(t){return vn(t,"Integer")}o(Uu,"IsInteger");function Io(t){return vn(t,"Intersect")}o(Io,"IsIntersect");function Sy(t){return vn(t,"Iterator")}o(Sy,"IsIterator");function vn(t,e){return yi(t)&&Me in t&&t[Me]===e}o(vn,"IsKindOf");function MB(t){return $h(t)||_c(t)||Bi(t)}o(MB,"IsLiteralValue");function wc(t){return vn(t,"Literal")}o(wc,"IsLiteral");function Bc(t){return vn(t,"MappedKey")}o(Bc,"IsMappedKey");function $i(t){return vn(t,"MappedResult")}o($i,"IsMappedResult");function Bm(t){return vn(t,"Never")}o(Bm,"IsNever");function E8e(t){return vn(t,"Not")}o(E8e,"IsNot");function qT(t){return vn(t,"Null")}o(qT,"IsNull");function Hu(t){return vn(t,"Number")}o(Hu,"IsNumber");function Ko(t){return vn(t,"Object")}o(Ko,"IsObject");function wy(t){return vn(t,"Promise")}o(wy,"IsPromise");function By(t){return vn(t,"Record")}o(By,"IsRecord");function Do(t){return vn(t,"Ref")}o(Do,"IsRef");function HM(t){return vn(t,"RegExp")}o(HM,"IsRegExp");function Xh(t){return vn(t,"String")}o(Xh,"IsString");function GT(t){return vn(t,"Symbol")}o(GT,"IsSymbol");function Rc(t){return vn(t,"TemplateLiteral")}o(Rc,"IsTemplateLiteral");function I8e(t){return vn(t,"This")}o(I8e,"IsThis");function Jn(t){return yi(t)&&ao in t}o(Jn,"IsTransform");function kc(t){return vn(t,"Tuple")}o(kc,"IsTuple");function Zh(t){return vn(t,"Undefined")}o(Zh,"IsUndefined");function Qn(t){return vn(t,"Union")}o(Qn,"IsUnion");function v8e(t){return vn(t,"Uint8Array")}o(v8e,"IsUint8Array");function b8e(t){return vn(t,"Unknown")}o(b8e,"IsUnknown");function x8e(t){return vn(t,"Unsafe")}o(x8e,"IsUnsafe");function T8e(t){return vn(t,"Void")}o(T8e,"IsVoid");function Rm(t){return yi(t)&&Me in t&&Bi(t[Me])}o(Rm,"IsKind");function co(t){return OM(t)||UM(t)||Fu(t)||Jh(t)||_y(t)||Ty(t)||Lu(t)||Mu(t)||C8e(t)||Ou(t)||Uu(t)||Io(t)||Sy(t)||wc(t)||Bc(t)||$i(t)||Bm(t)||E8e(t)||qT(t)||Hu(t)||Ko(t)||wy(t)||By(t)||Do(t)||HM(t)||Xh(t)||GT(t)||Rc(t)||I8e(t)||kc(t)||Zh(t)||Qn(t)||v8e(t)||b8e(t)||x8e(t)||T8e(t)||Rm(t)}o(co,"IsSchema");var be={};Eo(be,{IsAny:()=>xee,IsArgument:()=>Tee,IsArray:()=>_ee,IsAsyncIterator:()=>See,IsBigInt:()=>wee,IsBoolean:()=>Bee,IsComputed:()=>Ree,IsConstructor:()=>kee,IsDate:()=>Dee,IsFunction:()=>Nee,IsImport:()=>k8e,IsInteger:()=>Qee,IsIntersect:()=>Pee,IsIterator:()=>Fee,IsKind:()=>cte,IsKindOf:()=>un,IsLiteral:()=>WT,IsLiteralBoolean:()=>D8e,IsLiteralNumber:()=>Mee,IsLiteralString:()=>Lee,IsLiteralValue:()=>Oee,IsMappedKey:()=>Uee,IsMappedResult:()=>Hee,IsNever:()=>qee,IsNot:()=>Gee,IsNull:()=>Vee,IsNumber:()=>Wee,IsObject:()=>Yee,IsOptional:()=>R8e,IsPromise:()=>$ee,IsProperties:()=>OB,IsReadonly:()=>B8e,IsRecord:()=>zee,IsRecursive:()=>N8e,IsRef:()=>jee,IsRegExp:()=>Kee,IsSchema:()=>zi,IsString:()=>Jee,IsSymbol:()=>Xee,IsTemplateLiteral:()=>Zee,IsThis:()=>ete,IsTransform:()=>tte,IsTuple:()=>rte,IsUint8Array:()=>ite,IsUndefined:()=>nte,IsUnion:()=>WM,IsUnionLiteral:()=>Q8e,IsUnknown:()=>ote,IsUnsafe:()=>ste,IsVoid:()=>ate,TypeGuardUnknownTypeError:()=>qM});u();var qM=class extends lr{static{o(this,"TypeGuardUnknownTypeError")}},_8e=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Iee(t){try{return new RegExp(t),!0}catch{return!1}}o(Iee,"IsPattern");function GM(t){if(!Bi(t))return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(GM,"IsControlCharacterFree");function vee(t){return VM(t)||zi(t)}o(vee,"IsAdditionalProperties");function VT(t){return jo(t)||OT(t)}o(VT,"IsOptionalBigInt");function Ri(t){return jo(t)||_c(t)}o(Ri,"IsOptionalNumber");function VM(t){return jo(t)||$h(t)}o(VM,"IsOptionalBoolean");function Ci(t){return jo(t)||Bi(t)}o(Ci,"IsOptionalString");function S8e(t){return jo(t)||Bi(t)&&GM(t)&&Iee(t)}o(S8e,"IsOptionalPattern");function w8e(t){return jo(t)||Bi(t)&&GM(t)}o(w8e,"IsOptionalFormat");function bee(t){return jo(t)||zi(t)}o(bee,"IsOptionalSchema");function B8e(t){return yi(t)&&t[Pu]==="Readonly"}o(B8e,"IsReadonly");function R8e(t){return yi(t)&&t[Aa]==="Optional"}o(R8e,"IsOptional");function xee(t){return un(t,"Any")&&Ci(t.$id)}o(xee,"IsAny");function Tee(t){return un(t,"Argument")&&_c(t.index)}o(Tee,"IsArgument");function _ee(t){return un(t,"Array")&&t.type==="array"&&Ci(t.$id)&&zi(t.items)&&Ri(t.minItems)&&Ri(t.maxItems)&&VM(t.uniqueItems)&&bee(t.contains)&&Ri(t.minContains)&&Ri(t.maxContains)}o(_ee,"IsArray");function See(t){return un(t,"AsyncIterator")&&t.type==="AsyncIterator"&&Ci(t.$id)&&zi(t.items)}o(See,"IsAsyncIterator");function wee(t){return un(t,"BigInt")&&t.type==="bigint"&&Ci(t.$id)&&VT(t.exclusiveMaximum)&&VT(t.exclusiveMinimum)&&VT(t.maximum)&&VT(t.minimum)&&VT(t.multipleOf)}o(wee,"IsBigInt");function Bee(t){return un(t,"Boolean")&&t.type==="boolean"&&Ci(t.$id)}o(Bee,"IsBoolean");function Ree(t){return un(t,"Computed")&&Bi(t.target)&&zo(t.parameters)&&t.parameters.every(e=>zi(e))}o(Ree,"IsComputed");function kee(t){return un(t,"Constructor")&&t.type==="Constructor"&&Ci(t.$id)&&zo(t.parameters)&&t.parameters.every(e=>zi(e))&&zi(t.returns)}o(kee,"IsConstructor");function Dee(t){return un(t,"Date")&&t.type==="Date"&&Ci(t.$id)&&Ri(t.exclusiveMaximumTimestamp)&&Ri(t.exclusiveMinimumTimestamp)&&Ri(t.maximumTimestamp)&&Ri(t.minimumTimestamp)&&Ri(t.multipleOfTimestamp)}o(Dee,"IsDate");function Nee(t){return un(t,"Function")&&t.type==="Function"&&Ci(t.$id)&&zo(t.parameters)&&t.parameters.every(e=>zi(e))&&zi(t.returns)}o(Nee,"IsFunction");function k8e(t){return un(t,"Import")&&DB(t,"$defs")&&yi(t.$defs)&&OB(t.$defs)&&DB(t,"$ref")&&Bi(t.$ref)&&t.$ref in t.$defs}o(k8e,"IsImport");function Qee(t){return un(t,"Integer")&&t.type==="integer"&&Ci(t.$id)&&Ri(t.exclusiveMaximum)&&Ri(t.exclusiveMinimum)&&Ri(t.maximum)&&Ri(t.minimum)&&Ri(t.multipleOf)}o(Qee,"IsInteger");function OB(t){return yi(t)&&Object.entries(t).every(([e,r])=>GM(e)&&zi(r))}o(OB,"IsProperties");function Pee(t){return un(t,"Intersect")&&!(Bi(t.type)&&t.type!=="object")&&zo(t.allOf)&&t.allOf.every(e=>zi(e)&&!tte(e))&&Ci(t.type)&&(VM(t.unevaluatedProperties)||bee(t.unevaluatedProperties))&&Ci(t.$id)}o(Pee,"IsIntersect");function Fee(t){return un(t,"Iterator")&&t.type==="Iterator"&&Ci(t.$id)&&zi(t.items)}o(Fee,"IsIterator");function un(t,e){return yi(t)&&Me in t&&t[Me]===e}o(un,"IsKindOf");function Lee(t){return WT(t)&&Bi(t.const)}o(Lee,"IsLiteralString");function Mee(t){return WT(t)&&_c(t.const)}o(Mee,"IsLiteralNumber");function D8e(t){return WT(t)&&$h(t.const)}o(D8e,"IsLiteralBoolean");function WT(t){return un(t,"Literal")&&Ci(t.$id)&&Oee(t.const)}o(WT,"IsLiteral");function Oee(t){return $h(t)||_c(t)||Bi(t)}o(Oee,"IsLiteralValue");function Uee(t){return un(t,"MappedKey")&&zo(t.keys)&&t.keys.every(e=>_c(e)||Bi(e))}o(Uee,"IsMappedKey");function Hee(t){return un(t,"MappedResult")&&OB(t.properties)}o(Hee,"IsMappedResult");function qee(t){return un(t,"Never")&&yi(t.not)&&Object.getOwnPropertyNames(t.not).length===0}o(qee,"IsNever");function Gee(t){return un(t,"Not")&&zi(t.not)}o(Gee,"IsNot");function Vee(t){return un(t,"Null")&&t.type==="null"&&Ci(t.$id)}o(Vee,"IsNull");function Wee(t){return un(t,"Number")&&t.type==="number"&&Ci(t.$id)&&Ri(t.exclusiveMaximum)&&Ri(t.exclusiveMinimum)&&Ri(t.maximum)&&Ri(t.minimum)&&Ri(t.multipleOf)}o(Wee,"IsNumber");function Yee(t){return un(t,"Object")&&t.type==="object"&&Ci(t.$id)&&OB(t.properties)&&vee(t.additionalProperties)&&Ri(t.minProperties)&&Ri(t.maxProperties)}o(Yee,"IsObject");function $ee(t){return un(t,"Promise")&&t.type==="Promise"&&Ci(t.$id)&&zi(t.item)}o($ee,"IsPromise");function zee(t){return un(t,"Record")&&t.type==="object"&&Ci(t.$id)&&vee(t.additionalProperties)&&yi(t.patternProperties)&&(e=>{let r=Object.getOwnPropertyNames(e.patternProperties);return r.length===1&&Iee(r[0])&&yi(e.patternProperties)&&zi(e.patternProperties[r[0]])})(t)}o(zee,"IsRecord");function N8e(t){return yi(t)&&Tl in t&&t[Tl]==="Recursive"}o(N8e,"IsRecursive");function jee(t){return un(t,"Ref")&&Ci(t.$id)&&Bi(t.$ref)}o(jee,"IsRef");function Kee(t){return un(t,"RegExp")&&Ci(t.$id)&&Bi(t.source)&&Bi(t.flags)&&Ri(t.maxLength)&&Ri(t.minLength)}o(Kee,"IsRegExp");function Jee(t){return un(t,"String")&&t.type==="string"&&Ci(t.$id)&&Ri(t.minLength)&&Ri(t.maxLength)&&S8e(t.pattern)&&w8e(t.format)}o(Jee,"IsString");function Xee(t){return un(t,"Symbol")&&t.type==="symbol"&&Ci(t.$id)}o(Xee,"IsSymbol");function Zee(t){return un(t,"TemplateLiteral")&&t.type==="string"&&Bi(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}o(Zee,"IsTemplateLiteral");function ete(t){return un(t,"This")&&Ci(t.$id)&&Bi(t.$ref)}o(ete,"IsThis");function tte(t){return yi(t)&&ao in t}o(tte,"IsTransform");function rte(t){return un(t,"Tuple")&&t.type==="array"&&Ci(t.$id)&&_c(t.minItems)&&_c(t.maxItems)&&t.minItems===t.maxItems&&(jo(t.items)&&jo(t.additionalItems)&&t.minItems===0||zo(t.items)&&t.items.every(e=>zi(e)))}o(rte,"IsTuple");function nte(t){return un(t,"Undefined")&&t.type==="undefined"&&Ci(t.$id)}o(nte,"IsUndefined");function Q8e(t){return WM(t)&&t.anyOf.every(e=>Lee(e)||Mee(e))}o(Q8e,"IsUnionLiteral");function WM(t){return un(t,"Union")&&Ci(t.$id)&&yi(t)&&zo(t.anyOf)&&t.anyOf.every(e=>zi(e))}o(WM,"IsUnion");function ite(t){return un(t,"Uint8Array")&&t.type==="Uint8Array"&&Ci(t.$id)&&Ri(t.minByteLength)&&Ri(t.maxByteLength)}o(ite,"IsUint8Array");function ote(t){return un(t,"Unknown")&&Ci(t.$id)}o(ote,"IsUnknown");function ste(t){return un(t,"Unsafe")}o(ste,"IsUnsafe");function ate(t){return un(t,"Void")&&t.type==="void"&&Ci(t.$id)}o(ate,"IsVoid");function cte(t){return yi(t)&&Me in t&&Bi(t[Me])&&!_8e.includes(t[Me])}o(cte,"IsKind");function zi(t){return yi(t)&&(xee(t)||Tee(t)||_ee(t)||Bee(t)||wee(t)||See(t)||Ree(t)||kee(t)||Dee(t)||Nee(t)||Qee(t)||Pee(t)||Fee(t)||WT(t)||Uee(t)||Hee(t)||qee(t)||Gee(t)||Vee(t)||Wee(t)||Yee(t)||$ee(t)||zee(t)||jee(t)||Kee(t)||Jee(t)||Xee(t)||Zee(t)||ete(t)||rte(t)||nte(t)||WM(t)||ite(t)||ote(t)||ste(t)||ate(t)||cte(t))}o(zi,"IsSchema");u();var YM="(true|false)",YT="(0|[1-9][0-9]*)",$M="(.*)",P8e="(?!.*)",Xyt=`^${YM}$`,fd=`^${YT}$`,dd=`^${$M}$`,lte=`^${P8e}$`;u();var qu={};Eo(qu,{Clear:()=>L8e,Delete:()=>M8e,Entries:()=>F8e,Get:()=>H8e,Has:()=>O8e,Set:()=>U8e});u();var g2=new Map;function F8e(){return new Map(g2)}o(F8e,"Entries");function L8e(){return g2.clear()}o(L8e,"Clear");function M8e(t){return g2.delete(t)}o(M8e,"Delete");function O8e(t){return g2.has(t)}o(O8e,"Has");function U8e(t,e){g2.set(t,e)}o(U8e,"Set");function H8e(t){return g2.get(t)}o(H8e,"Get");var u0={};Eo(u0,{Clear:()=>G8e,Delete:()=>V8e,Entries:()=>q8e,Get:()=>$8e,Has:()=>W8e,Set:()=>Y8e});u();var y2=new Map;function q8e(){return new Map(y2)}o(q8e,"Entries");function G8e(){return y2.clear()}o(G8e,"Clear");function V8e(t){return y2.delete(t)}o(V8e,"Delete");function W8e(t){return y2.has(t)}o(W8e,"Has");function Y8e(t,e){y2.set(t,e)}o(Y8e,"Set");function $8e(t){return y2.get(t)}o($8e,"Get");u();function ute(t,e){return t.includes(e)}o(ute,"SetIncludes");function fte(t){return[...new Set(t)]}o(fte,"SetDistinct");function z8e(t,e){return t.filter(r=>e.includes(r))}o(z8e,"SetIntersect");function j8e(t,e){return t.reduce((r,n)=>z8e(r,n),e)}o(j8e,"SetIntersectManyResolve");function dte(t){return t.length===1?t[0]:t.length>1?j8e(t.slice(1),t[0]):[]}o(dte,"SetIntersectMany");function hte(t){let e=[];for(let r of t)e.push(...r);return e}o(hte,"SetUnionMany");u();function km(t){return Ue({[Me]:"Any"},t)}o(km,"Any");u();function C2(t,e){return Ue({[Me]:"Array",type:"array",items:t},e)}o(C2,"Array");u();function Ate(t){return Ue({[Me]:"Argument",index:t})}o(Ate,"Argument");u();function E2(t,e){return Ue({[Me]:"AsyncIterator",type:"AsyncIterator",items:t},e)}o(E2,"AsyncIterator");u();u();function Qi(t,e,r){return Ue({[Me]:"Computed",target:t,parameters:e},r)}o(Qi,"Computed");u();u();function K8e(t,e){let{[e]:r,...n}=t;return n}o(K8e,"DiscardKey");function vo(t,e){return e.reduce((r,n)=>K8e(r,n),t)}o(vo,"Discard");u();function $r(t){return Ue({[Me]:"Never",not:{}},t)}o($r,"Never");u();u();function Un(t){return Ue({[Me]:"MappedResult",properties:t})}o(Un,"MappedResult");u();u();function I2(t,e,r){return Ue({[Me]:"Constructor",type:"Constructor",parameters:t,returns:e},r)}o(I2,"Constructor");u();function hd(t,e,r){return Ue({[Me]:"Function",type:"Function",parameters:t,returns:e},r)}o(hd,"Function");u();u();u();u();function $T(t,e){return Ue({[Me]:"Union",anyOf:t},e)}o($T,"UnionCreate");function J8e(t){return t.some(e=>O0(e))}o(J8e,"IsUnionOptional");function pte(t){return t.map(e=>O0(e)?X8e(e):e)}o(pte,"RemoveOptionalFromRest");function X8e(t){return vo(t,[Aa])}o(X8e,"RemoveOptionalFromType");function Z8e(t,e){return J8e(t)?Ha($T(pte(t),e)):$T(pte(t),e)}o(Z8e,"ResolveUnion");function Ad(t,e){return t.length===1?Ue(t[0],e):t.length===0?$r(e):Z8e(t,e)}o(Ad,"UnionEvaluated");u();function Xn(t,e){return t.length===0?$r(e):t.length===1?Ue(t[0],e):$T(t,e)}o(Xn,"Union");u();u();u();var UB=class extends lr{static{o(this,"TemplateLiteralParserError")}};function eBe(t){return t.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(eBe,"Unescape");function zM(t,e,r){return t[e]===r&&t.charCodeAt(e-1)!==92}o(zM,"IsNonEscaped");function tA(t,e){return zM(t,e,"(")}o(tA,"IsOpenParen");function zT(t,e){return zM(t,e,")")}o(zT,"IsCloseParen");function mte(t,e){return zM(t,e,"|")}o(mte,"IsSeparator");function tBe(t){if(!(tA(t,0)&&zT(t,t.length-1)))return!1;let e=0;for(let r=0;r<t.length;r++)if(tA(t,r)&&(e+=1),zT(t,r)&&(e-=1),e===0&&r!==t.length-1)return!1;return!0}o(tBe,"IsGroup");function rBe(t){return t.slice(1,t.length-1)}o(rBe,"InGroup");function nBe(t){let e=0;for(let r=0;r<t.length;r++)if(tA(t,r)&&(e+=1),zT(t,r)&&(e-=1),mte(t,r)&&e===0)return!0;return!1}o(nBe,"IsPrecedenceOr");function iBe(t){for(let e=0;e<t.length;e++)if(tA(t,e))return!0;return!1}o(iBe,"IsPrecedenceAnd");function oBe(t){let[e,r]=[0,0],n=[];for(let s=0;s<t.length;s++)if(tA(t,s)&&(e+=1),zT(t,s)&&(e-=1),mte(t,s)&&e===0){let a=t.slice(r,s);a.length>0&&n.push(v2(a)),r=s+1}let i=t.slice(r);return i.length>0&&n.push(v2(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(oBe,"Or");function sBe(t){function e(i,s){if(!tA(i,s))throw new UB("TemplateLiteralParser: Index must point to open parens");let a=0;for(let c=s;c<i.length;c++)if(tA(i,c)&&(a+=1),zT(i,c)&&(a-=1),a===0)return[s,c];throw new UB("TemplateLiteralParser: Unclosed group parens in expression")}o(e,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(tA(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<t.length;i++)if(tA(t,i)){let[s,a]=e(t,i),c=t.slice(s,a+1);n.push(v2(c)),i=a}else{let[s,a]=r(t,i),c=t.slice(s,a);c.length>0&&n.push(v2(c)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(sBe,"And");function v2(t){return tBe(t)?v2(rBe(t)):nBe(t)?oBe(t):iBe(t)?sBe(t):{type:"const",const:eBe(t)}}o(v2,"TemplateLiteralParse");function b2(t){return v2(t.slice(1,t.length-1))}o(b2,"TemplateLiteralParseExact");var jM=class extends lr{static{o(this,"TemplateLiteralFiniteError")}};function aBe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}o(aBe,"IsNumberExpression");function cBe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}o(cBe,"IsBooleanExpression");function lBe(t){return t.type==="const"&&t.const===".*"}o(lBe,"IsStringExpression");function Ry(t){return aBe(t)||lBe(t)?!1:cBe(t)?!0:t.type==="and"?t.expr.every(e=>Ry(e)):t.type==="or"?t.expr.every(e=>Ry(e)):t.type==="const"?!0:(()=>{throw new jM("Unknown expression type")})()}o(Ry,"IsTemplateLiteralExpressionFinite");function HB(t){let e=b2(t.pattern);return Ry(e)}o(HB,"IsTemplateLiteralFinite");u();var KM=class extends lr{static{o(this,"TemplateLiteralGenerateError")}};function*gte(t){if(t.length===1)return yield*t[0];for(let e of t[0])for(let r of gte(t.slice(1)))yield`${e}${r}`}o(gte,"GenerateReduce");function*uBe(t){return yield*gte(t.expr.map(e=>[...jT(e)]))}o(uBe,"GenerateAnd");function*fBe(t){for(let e of t.expr)yield*jT(e)}o(fBe,"GenerateOr");function*dBe(t){return yield t.const}o(dBe,"GenerateConst");function*jT(t){return t.type==="and"?yield*uBe(t):t.type==="or"?yield*fBe(t):t.type==="const"?yield*dBe(t):(()=>{throw new KM("Unknown expression")})()}o(jT,"TemplateLiteralExpressionGenerate");function x2(t){let e=b2(t.pattern);return Ry(e)?[...jT(e)]:[]}o(x2,"TemplateLiteralGenerate");u();u();function bn(t,e){return Ue({[Me]:"Literal",const:t,type:typeof t},e)}o(bn,"Literal");u();function qB(t){return Ue({[Me]:"Boolean",type:"boolean"},t)}o(qB,"Boolean");u();function T2(t){return Ue({[Me]:"BigInt",type:"bigint"},t)}o(T2,"BigInt");u();function _l(t){return Ue({[Me]:"Number",type:"number"},t)}o(_l,"Number");u();function f0(t){return Ue({[Me]:"String",type:"string"},t)}o(f0,"String");function*hBe(t){let e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield qB():e==="number"?yield _l():e==="bigint"?yield T2():e==="string"?yield f0():yield(()=>{let r=e.split("|").map(n=>bn(n.trim()));return r.length===0?$r():r.length===1?r[0]:Ad(r)})()}o(hBe,"FromUnion");function*ABe(t){if(t[1]!=="{"){let e=bn("$"),r=JM(t.slice(1));return yield*[e,...r]}for(let e=2;e<t.length;e++)if(t[e]==="}"){let r=hBe(t.slice(2,e)),n=JM(t.slice(e+1));return yield*[...r,...n]}yield bn(t)}o(ABe,"FromTerminal");function*JM(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){let r=bn(t.slice(0,e)),n=ABe(t.slice(e));return yield*[r,...n]}yield bn(t)}o(JM,"FromSyntax");function yte(t){return[...JM(t)]}o(yte,"TemplateLiteralSyntax");u();var XM=class extends lr{static{o(this,"TemplateLiteralPatternError")}};function pBe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(pBe,"Escape");function Cte(t,e){return Rc(t)?t.pattern.slice(1,t.pattern.length-1):Qn(t)?`(${t.anyOf.map(r=>Cte(r,e)).join("|")})`:Hu(t)?`${e}${YT}`:Uu(t)?`${e}${YT}`:_y(t)?`${e}${YT}`:Xh(t)?`${e}${$M}`:wc(t)?`${e}${pBe(t.const.toString())}`:Jh(t)?`${e}${YM}`:(()=>{throw new XM(`Unexpected Kind '${t[Me]}'`)})()}o(Cte,"Visit");function ZM(t){return`^${t.map(e=>Cte(e,"")).join("")}$`}o(ZM,"TemplateLiteralPattern");u();function ky(t){let r=x2(t).map(n=>bn(n));return Ad(r)}o(ky,"TemplateLiteralToUnion");u();function GB(t,e){let r=Bi(t)?ZM(yte(t)):ZM(t);return Ue({[Me]:"TemplateLiteral",type:"string",pattern:r},e)}o(GB,"TemplateLiteral");function mBe(t){return x2(t).map(r=>r.toString())}o(mBe,"FromTemplateLiteral");function gBe(t){let e=[];for(let r of t)e.push(...U0(r));return e}o(gBe,"FromUnion");function yBe(t){return[t.toString()]}o(yBe,"FromLiteral");function U0(t){return[...new Set(Rc(t)?mBe(t):Qn(t)?gBe(t.anyOf):wc(t)?yBe(t.const):Hu(t)?["[number]"]:Uu(t)?["[number]"]:[])]}o(U0,"IndexPropertyKeys");u();function CBe(t,e,r){let n={};for(let i of Object.getOwnPropertyNames(e))n[i]=Dm(t,U0(e[i]),r);return n}o(CBe,"FromProperties");function EBe(t,e,r){return CBe(t,e.properties,r)}o(EBe,"FromMappedResult");function Ete(t,e,r){let n=EBe(t,e,r);return Un(n)}o(Ete,"IndexFromMappedResult");function vte(t,e){return t.map(r=>bte(r,e))}o(vte,"FromRest");function IBe(t){return t.filter(e=>!Bm(e))}o(IBe,"FromIntersectRest");function vBe(t,e){return VB(IBe(vte(t,e)))}o(vBe,"FromIntersect");function bBe(t){return t.some(e=>Bm(e))?[]:t}o(bBe,"FromUnionRest");function xBe(t,e){return Ad(bBe(vte(t,e)))}o(xBe,"FromUnion");function TBe(t,e){return e in t?t[e]:e==="[number]"?Ad(t):$r()}o(TBe,"FromTuple");function _Be(t,e){return e==="[number]"?t:$r()}o(_Be,"FromArray");function SBe(t,e){return e in t?t[e]:$r()}o(SBe,"FromProperty");function bte(t,e){return Io(t)?vBe(t.allOf,e):Qn(t)?xBe(t.anyOf,e):kc(t)?TBe(t.items??[],e):Fu(t)?_Be(t.items,e):Ko(t)?SBe(t.properties,e):$r()}o(bte,"IndexFromPropertyKey");function KT(t,e){return e.map(r=>bte(t,r))}o(KT,"IndexFromPropertyKeys");function Ite(t,e){return Ad(KT(t,e))}o(Ite,"FromSchema");function Dm(t,e,r){if(Do(t)||Do(e)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!co(t)||!co(e))throw new lr(n);return Qi("Index",[t,e])}return $i(e)?Ete(t,e,r):Bc(e)?xte(t,e,r):Ue(co(e)?Ite(t,U0(e)):Ite(t,e),r)}o(Dm,"Index");function wBe(t,e,r){return{[e]:Dm(t,[e],Wi(r))}}o(wBe,"MappedIndexPropertyKey");function BBe(t,e,r){return e.reduce((n,i)=>({...n,...wBe(t,i,r)}),{})}o(BBe,"MappedIndexPropertyKeys");function RBe(t,e,r){return BBe(t,e.keys,r)}o(RBe,"MappedIndexProperties");function xte(t,e,r){let n=RBe(t,e,r);return Un(n)}o(xte,"IndexFromMappedKey");u();function _2(t,e){return Ue({[Me]:"Iterator",type:"Iterator",items:t},e)}o(_2,"Iterator");u();function kBe(t){let e=[];for(let r in t)O0(t[r])||e.push(r);return e}o(kBe,"RequiredKeys");function DBe(t,e){let r=kBe(t),n=r.length>0?{[Me]:"Object",type:"object",properties:t,required:r}:{[Me]:"Object",type:"object",properties:t};return Ue(n,e)}o(DBe,"_Object");var Zn=DBe;u();function WB(t,e){return Ue({[Me]:"Promise",type:"Promise",item:t},e)}o(WB,"Promise");u();u();function NBe(t){return Ue(vo(t,[Pu]))}o(NBe,"RemoveReadonly");function QBe(t){return Ue({...t,[Pu]:"Readonly"})}o(QBe,"AddReadonly");function PBe(t,e){return e===!1?NBe(t):QBe(t)}o(PBe,"ReadonlyWithFlag");function H0(t,e){let r=e??!0;return $i(t)?Tte(t,r):PBe(t,r)}o(H0,"Readonly");function FBe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=H0(t[n],e);return r}o(FBe,"FromProperties");function LBe(t,e){return FBe(t.properties,e)}o(LBe,"FromMappedResult");function Tte(t,e){let r=LBe(t,e);return Un(r)}o(Tte,"ReadonlyFromMappedResult");u();function Sl(t,e){return Ue(t.length>0?{[Me]:"Tuple",type:"array",items:t,additionalItems:!1,minItems:t.length,maxItems:t.length}:{[Me]:"Tuple",type:"array",minItems:t.length,maxItems:t.length},e)}o(Sl,"Tuple");function _te(t,e){return t in e?wl(t,e[t]):Un(e)}o(_te,"FromMappedResult");function MBe(t){return{[t]:bn(t)}}o(MBe,"MappedKeyToKnownMappedResultProperties");function OBe(t){let e={};for(let r of t)e[r]=bn(r);return e}o(OBe,"MappedKeyToUnknownMappedResultProperties");function UBe(t,e){return ute(e,t)?MBe(t):OBe(e)}o(UBe,"MappedKeyToMappedResultProperties");function HBe(t,e){let r=UBe(t,e);return _te(t,r)}o(HBe,"FromMappedKey");function JT(t,e){return e.map(r=>wl(t,r))}o(JT,"FromRest");function qBe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=wl(t,e[n]);return r}o(qBe,"FromProperties");function wl(t,e){let r={...e};return O0(e)?Ha(wl(t,vo(e,[Aa]))):m2(e)?H0(wl(t,vo(e,[Pu]))):$i(e)?_te(t,e.properties):Bc(e)?HBe(t,e.keys):Mu(e)?I2(JT(t,e.parameters),wl(t,e.returns),r):Ou(e)?hd(JT(t,e.parameters),wl(t,e.returns),r):Ty(e)?E2(wl(t,e.items),r):Sy(e)?_2(wl(t,e.items),r):Io(e)?qa(JT(t,e.allOf),r):Qn(e)?Xn(JT(t,e.anyOf),r):kc(e)?Sl(JT(t,e.items??[]),r):Ko(e)?Zn(qBe(t,e.properties),r):Fu(e)?C2(wl(t,e.items),r):wy(e)?WB(wl(t,e.item),r):e}o(wl,"FromSchemaType");function GBe(t,e){let r={};for(let n of t)r[n]=wl(n,e);return r}o(GBe,"MappedFunctionReturnType");function Ste(t,e,r){let n=co(t)?U0(t):t,i=e({[Me]:"MappedKey",keys:n}),s=GBe(n,i);return Zn(s,r)}o(Ste,"Mapped");u();function VBe(t){return Ue(vo(t,[Aa]))}o(VBe,"RemoveOptional");function WBe(t){return Ue({...t,[Aa]:"Optional"})}o(WBe,"AddOptional");function YBe(t,e){return e===!1?VBe(t):WBe(t)}o(YBe,"OptionalWithFlag");function Ha(t,e){let r=e??!0;return $i(t)?wte(t,r):YBe(t,r)}o(Ha,"Optional");function $Be(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Ha(t[n],e);return r}o($Be,"FromProperties");function zBe(t,e){return $Be(t.properties,e)}o(zBe,"FromMappedResult");function wte(t,e){let r=zBe(t,e);return Un(r)}o(wte,"OptionalFromMappedResult");u();function XT(t,e={}){let r=t.every(i=>Ko(i)),n=co(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return Ue(e.unevaluatedProperties===!1||co(e.unevaluatedProperties)||r?{...n,[Me]:"Intersect",type:"object",allOf:t}:{...n,[Me]:"Intersect",allOf:t},e)}o(XT,"IntersectCreate");function jBe(t){return t.every(e=>O0(e))}o(jBe,"IsIntersectOptional");function KBe(t){return vo(t,[Aa])}o(KBe,"RemoveOptionalFromType");function Bte(t){return t.map(e=>O0(e)?KBe(e):e)}o(Bte,"RemoveOptionalFromRest");function JBe(t,e){return jBe(t)?Ha(XT(Bte(t),e)):XT(Bte(t),e)}o(JBe,"ResolveIntersect");function VB(t,e={}){if(t.length===1)return Ue(t[0],e);if(t.length===0)return $r(e);if(t.some(r=>Jn(r)))throw new Error("Cannot intersect transform types");return JBe(t,e)}o(VB,"IntersectEvaluated");u();function qa(t,e){if(t.length===1)return Ue(t[0],e);if(t.length===0)return $r(e);if(t.some(r=>Jn(r)))throw new Error("Cannot intersect transform types");return XT(t,e)}o(qa,"Intersect");u();function Bl(...t){let[e,r]=typeof t[0]=="string"?[t[0],t[1]]:[t[0].$id,t[1]];if(typeof e!="string")throw new lr("Ref: $ref must be a string");return Ue({[Me]:"Ref",$ref:e},r)}o(Bl,"Ref");function XBe(t,e){return Qi("Awaited",[Qi(t,e)])}o(XBe,"FromComputed");function ZBe(t){return Qi("Awaited",[Bl(t)])}o(ZBe,"FromRef");function e6e(t){return qa(Rte(t))}o(e6e,"FromIntersect");function t6e(t){return Xn(Rte(t))}o(t6e,"FromUnion");function r6e(t){return S2(t)}o(r6e,"FromPromise");function Rte(t){return t.map(e=>S2(e))}o(Rte,"FromRest");function S2(t,e){return Ue(Lu(t)?XBe(t.target,t.parameters):Io(t)?e6e(t.allOf):Qn(t)?t6e(t.anyOf):wy(t)?r6e(t.item):Do(t)?ZBe(t.$ref):t,e)}o(S2,"Awaited");u();u();u();u();function kte(t){let e=[];for(let r of t)e.push(q0(r));return e}o(kte,"FromRest");function n6e(t){let e=kte(t);return hte(e)}o(n6e,"FromIntersect");function i6e(t){let e=kte(t);return dte(e)}o(i6e,"FromUnion");function o6e(t){return t.map((e,r)=>r.toString())}o(o6e,"FromTuple");function s6e(t){return["[number]"]}o(s6e,"FromArray");function a6e(t){return globalThis.Object.getOwnPropertyNames(t)}o(a6e,"FromProperties");function c6e(t){return eO?globalThis.Object.getOwnPropertyNames(t).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(c6e,"FromPatternProperties");function q0(t){return Io(t)?n6e(t.allOf):Qn(t)?i6e(t.anyOf):kc(t)?o6e(t.items??[]):Fu(t)?s6e(t.items):Ko(t)?a6e(t.properties):By(t)?c6e(t.patternProperties):[]}o(q0,"KeyOfPropertyKeys");var eO=!1;function rA(t){eO=!0;let e=q0(t);return eO=!1,`^(${e.map(n=>`(${n})`).join("|")})$`}o(rA,"KeyOfPattern");function l6e(t,e){return Qi("KeyOf",[Qi(t,e)])}o(l6e,"FromComputed");function u6e(t){return Qi("KeyOf",[Bl(t)])}o(u6e,"FromRef");function f6e(t,e){let r=q0(t),n=d6e(r),i=Ad(n);return Ue(i,e)}o(f6e,"KeyOfFromType");function d6e(t){return t.map(e=>e==="[number]"?_l():bn(e))}o(d6e,"KeyOfPropertyKeysToRest");function w2(t,e){return Lu(t)?l6e(t.target,t.parameters):Do(t)?u6e(t.$ref):$i(t)?Dte(t,e):f6e(t,e)}o(w2,"KeyOf");function h6e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=w2(t[n],Wi(e));return r}o(h6e,"FromProperties");function A6e(t,e){return h6e(t.properties,e)}o(A6e,"FromMappedResult");function Dte(t,e){let r=A6e(t,e);return Un(r)}o(Dte,"KeyOfFromMappedResult");u();function YB(t){let e=q0(t),r=KT(t,e);return e.map((n,i)=>[e[i],r[i]])}o(YB,"KeyOfPropertyEntries");function p6e(t){let e=[];for(let r of t)e.push(...q0(r));return fte(e)}o(p6e,"CompositeKeys");function m6e(t){return t.filter(e=>!Bm(e))}o(m6e,"FilterNever");function g6e(t,e){let r=[];for(let n of t)r.push(...KT(n,[e]));return m6e(r)}o(g6e,"CompositeProperty");function y6e(t,e){let r={};for(let n of e)r[n]=VB(g6e(t,n));return r}o(y6e,"CompositeProperties");function Nte(t,e){let r=p6e(t),n=y6e(t,r);return Zn(n,e)}o(Nte,"Composite");u();u();function $B(t){return Ue({[Me]:"Date",type:"Date"},t)}o($B,"Date");u();function zB(t){return Ue({[Me]:"Null",type:"null"},t)}o(zB,"Null");u();function jB(t){return Ue({[Me]:"Symbol",type:"symbol"},t)}o(jB,"Symbol");u();function KB(t){return Ue({[Me]:"Undefined",type:"undefined"},t)}o(KB,"Undefined");u();function JB(t){return Ue({[Me]:"Uint8Array",type:"Uint8Array"},t)}o(JB,"Uint8Array");u();function Gu(t){return Ue({[Me]:"Unknown"},t)}o(Gu,"Unknown");function C6e(t){return t.map(e=>tO(e,!1))}o(C6e,"FromArray");function E6e(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=H0(tO(t[r],!1));return e}o(E6e,"FromProperties");function XB(t,e){return e===!0?t:H0(t)}o(XB,"ConditionalReadonly");function tO(t,e){return NM(t)?XB(km(),e):PM(t)?XB(km(),e):zo(t)?H0(Sl(C6e(t))):zh(t)?JB():xy(t)?$B():yi(t)?XB(Zn(E6e(t)),e):QM(t)?XB(hd([],Gu()),e):jo(t)?KB():FM(t)?zB():LM(t)?jB():OT(t)?T2():_c(t)?bn(t):$h(t)?bn(t):Bi(t)?bn(t):Zn({})}o(tO,"FromValue");function Qte(t,e){return Ue(tO(t,!0),e)}o(Qte,"Const");u();function Pte(t,e){return Mu(t)?Sl(t.parameters,e):$r(e)}o(Pte,"ConstructorParameters");u();function Fte(t,e){if(jo(t))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(t).filter(s=>isNaN(s)).map(s=>t[s]),i=[...new Set(r)].map(s=>bn(s));return Xn(i,{...e,[Tl]:"Enum"})}o(Fte,"Enum");u();u();u();var nO=class extends lr{static{o(this,"ExtendsResolverError")}},He;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(He||(He={}));function Rl(t){return t===He.False?t:He.True}o(Rl,"IntoBooleanResult");function B2(t){throw new nO(t)}o(B2,"Throw");function ls(t){return be.IsNever(t)||be.IsIntersect(t)||be.IsUnion(t)||be.IsUnknown(t)||be.IsAny(t)}o(ls,"IsStructuralRight");function us(t,e){return be.IsNever(e)?Gte(t,e):be.IsIntersect(e)?ZB(t,e):be.IsUnion(e)?aO(t,e):be.IsUnknown(e)?$te(t,e):be.IsAny(e)?sO(t,e):B2("StructuralRight")}o(us,"StructuralRight");function sO(t,e){return He.True}o(sO,"FromAnyRight");function I6e(t,e){return be.IsIntersect(e)?ZB(t,e):be.IsUnion(e)&&e.anyOf.some(r=>be.IsAny(r)||be.IsUnknown(r))?He.True:be.IsUnion(e)?He.Union:be.IsUnknown(e)||be.IsAny(e)?He.True:He.Union}o(I6e,"FromAny");function v6e(t,e){return be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:be.IsNever(t)?He.True:He.False}o(v6e,"FromArrayRight");function b6e(t,e){return be.IsObject(e)&&e6(e)?He.True:ls(e)?us(t,e):be.IsArray(e)?Rl(Ei(t.items,e.items)):He.False}o(b6e,"FromArray");function x6e(t,e){return ls(e)?us(t,e):be.IsAsyncIterator(e)?Rl(Ei(t.items,e.items)):He.False}o(x6e,"FromAsyncIterator");function T6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsBigInt(e)?He.True:He.False}o(T6e,"FromBigInt");function Hte(t,e){return be.IsLiteralBoolean(t)||be.IsBoolean(t)?He.True:He.False}o(Hte,"FromBooleanRight");function _6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsBoolean(e)?He.True:He.False}o(_6e,"FromBoolean");function S6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsConstructor(e)?t.parameters.length>e.parameters.length?He.False:t.parameters.every((r,n)=>Rl(Ei(e.parameters[n],r))===He.True)?Rl(Ei(t.returns,e.returns)):He.False:He.False}o(S6e,"FromConstructor");function w6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsDate(e)?He.True:He.False}o(w6e,"FromDate");function B6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsFunction(e)?t.parameters.length>e.parameters.length?He.False:t.parameters.every((r,n)=>Rl(Ei(e.parameters[n],r))===He.True)?Rl(Ei(t.returns,e.returns)):He.False:He.False}o(B6e,"FromFunction");function qte(t,e){return be.IsLiteral(t)&&Ua.IsNumber(t.const)||be.IsNumber(t)||be.IsInteger(t)?He.True:He.False}o(qte,"FromIntegerRight");function R6e(t,e){return be.IsInteger(e)||be.IsNumber(e)?He.True:ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):He.False}o(R6e,"FromInteger");function ZB(t,e){return e.allOf.every(r=>Ei(t,r)===He.True)?He.True:He.False}o(ZB,"FromIntersectRight");function k6e(t,e){return t.allOf.some(r=>Ei(r,e)===He.True)?He.True:He.False}o(k6e,"FromIntersect");function D6e(t,e){return ls(e)?us(t,e):be.IsIterator(e)?Rl(Ei(t.items,e.items)):He.False}o(D6e,"FromIterator");function N6e(t,e){return be.IsLiteral(e)&&e.const===t.const?He.True:ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsString(e)?Yte(t,e):be.IsNumber(e)?Vte(t,e):be.IsInteger(e)?qte(t,e):be.IsBoolean(e)?Hte(t,e):He.False}o(N6e,"FromLiteral");function Gte(t,e){return He.False}o(Gte,"FromNeverRight");function Q6e(t,e){return He.True}o(Q6e,"FromNever");function Lte(t){let[e,r]=[t,0];for(;be.IsNot(e);)e=e.not,r+=1;return r%2===0?e:Gu()}o(Lte,"UnwrapTNot");function P6e(t,e){return be.IsNot(t)?Ei(Lte(t),e):be.IsNot(e)?Ei(t,Lte(e)):B2("Invalid fallthrough for Not")}o(P6e,"FromNot");function F6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsNull(e)?He.True:He.False}o(F6e,"FromNull");function Vte(t,e){return be.IsLiteralNumber(t)||be.IsNumber(t)||be.IsInteger(t)?He.True:He.False}o(Vte,"FromNumberRight");function L6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsInteger(e)||be.IsNumber(e)?He.True:He.False}o(L6e,"FromNumber");function G0(t,e){return Object.getOwnPropertyNames(t.properties).length===e}o(G0,"IsObjectPropertyCount");function Mte(t){return e6(t)}o(Mte,"IsObjectStringLike");function Ote(t){return G0(t,0)||G0(t,1)&&"description"in t.properties&&be.IsUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(be.IsString(t.properties.description.anyOf[0])&&be.IsUndefined(t.properties.description.anyOf[1])||be.IsString(t.properties.description.anyOf[1])&&be.IsUndefined(t.properties.description.anyOf[0]))}o(Ote,"IsObjectSymbolLike");function rO(t){return G0(t,0)}o(rO,"IsObjectNumberLike");function Ute(t){return G0(t,0)}o(Ute,"IsObjectBooleanLike");function M6e(t){return G0(t,0)}o(M6e,"IsObjectBigIntLike");function O6e(t){return G0(t,0)}o(O6e,"IsObjectDateLike");function U6e(t){return e6(t)}o(U6e,"IsObjectUint8ArrayLike");function H6e(t){let e=_l();return G0(t,0)||G0(t,1)&&"length"in t.properties&&Rl(Ei(t.properties.length,e))===He.True}o(H6e,"IsObjectFunctionLike");function q6e(t){return G0(t,0)}o(q6e,"IsObjectConstructorLike");function e6(t){let e=_l();return G0(t,0)||G0(t,1)&&"length"in t.properties&&Rl(Ei(t.properties.length,e))===He.True}o(e6,"IsObjectArrayLike");function G6e(t){let e=hd([km()],km());return G0(t,0)||G0(t,1)&&"then"in t.properties&&Rl(Ei(t.properties.then,e))===He.True}o(G6e,"IsObjectPromiseLike");function Wte(t,e){return Ei(t,e)===He.False||be.IsOptional(t)&&!be.IsOptional(e)?He.False:He.True}o(Wte,"Property");function Ga(t,e){return be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:be.IsNever(t)||be.IsLiteralString(t)&&Mte(e)||be.IsLiteralNumber(t)&&rO(e)||be.IsLiteralBoolean(t)&&Ute(e)||be.IsSymbol(t)&&Ote(e)||be.IsBigInt(t)&&M6e(e)||be.IsString(t)&&Mte(e)||be.IsSymbol(t)&&Ote(e)||be.IsNumber(t)&&rO(e)||be.IsInteger(t)&&rO(e)||be.IsBoolean(t)&&Ute(e)||be.IsUint8Array(t)&&U6e(e)||be.IsDate(t)&&O6e(e)||be.IsConstructor(t)&&q6e(e)||be.IsFunction(t)&&H6e(e)?He.True:be.IsRecord(t)&&be.IsString(iO(t))?e[Tl]==="Record"?He.True:He.False:be.IsRecord(t)&&be.IsNumber(iO(t))?G0(e,0)?He.True:He.False:He.False}o(Ga,"FromObjectRight");function V6e(t,e){return ls(e)?us(t,e):be.IsRecord(e)?kl(t,e):be.IsObject(e)?(()=>{for(let r of Object.getOwnPropertyNames(e.properties)){if(!(r in t.properties)&&!be.IsOptional(e.properties[r]))return He.False;if(be.IsOptional(e.properties[r]))return He.True;if(Wte(t.properties[r],e.properties[r])===He.False)return He.False}return He.True})():He.False}o(V6e,"FromObject");function W6e(t,e){return ls(e)?us(t,e):be.IsObject(e)&&G6e(e)?He.True:be.IsPromise(e)?Rl(Ei(t.item,e.item)):He.False}o(W6e,"FromPromise");function iO(t){return fd in t.patternProperties?_l():dd in t.patternProperties?f0():B2("Unknown record key pattern")}o(iO,"RecordKey");function oO(t){return fd in t.patternProperties?t.patternProperties[fd]:dd in t.patternProperties?t.patternProperties[dd]:B2("Unable to get record value schema")}o(oO,"RecordValue");function kl(t,e){let[r,n]=[iO(e),oO(e)];return be.IsLiteralString(t)&&be.IsNumber(r)&&Rl(Ei(t,n))===He.True?He.True:be.IsUint8Array(t)&&be.IsNumber(r)||be.IsString(t)&&be.IsNumber(r)||be.IsArray(t)&&be.IsNumber(r)?Ei(t,n):be.IsObject(t)?(()=>{for(let i of Object.getOwnPropertyNames(t.properties))if(Wte(n,t.properties[i])===He.False)return He.False;return He.True})():He.False}o(kl,"FromRecordRight");function Y6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?Ei(oO(t),oO(e)):He.False}o(Y6e,"FromRecord");function $6e(t,e){let r=be.IsRegExp(t)?f0():t,n=be.IsRegExp(e)?f0():e;return Ei(r,n)}o($6e,"FromRegExp");function Yte(t,e){return be.IsLiteral(t)&&Ua.IsString(t.const)||be.IsString(t)?He.True:He.False}o(Yte,"FromStringRight");function z6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsString(e)?He.True:He.False}o(z6e,"FromString");function j6e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsSymbol(e)?He.True:He.False}o(j6e,"FromSymbol");function K6e(t,e){return be.IsTemplateLiteral(t)?Ei(ky(t),e):be.IsTemplateLiteral(e)?Ei(t,ky(e)):B2("Invalid fallthrough for TemplateLiteral")}o(K6e,"FromTemplateLiteral");function J6e(t,e){return be.IsArray(e)&&t.items!==void 0&&t.items.every(r=>Ei(r,e.items)===He.True)}o(J6e,"IsArrayOfTuple");function X6e(t,e){return be.IsNever(t)?He.True:be.IsUnknown(t)?He.False:be.IsAny(t)?He.Union:He.False}o(X6e,"FromTupleRight");function Z6e(t,e){return ls(e)?us(t,e):be.IsObject(e)&&e6(e)||be.IsArray(e)&&J6e(t,e)?He.True:be.IsTuple(e)?Ua.IsUndefined(t.items)&&!Ua.IsUndefined(e.items)||!Ua.IsUndefined(t.items)&&Ua.IsUndefined(e.items)?He.False:Ua.IsUndefined(t.items)&&!Ua.IsUndefined(e.items)||t.items.every((r,n)=>Ei(r,e.items[n])===He.True)?He.True:He.False:He.False}o(Z6e,"FromTuple");function e9e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsUint8Array(e)?He.True:He.False}o(e9e,"FromUint8Array");function t9e(t,e){return ls(e)?us(t,e):be.IsObject(e)?Ga(t,e):be.IsRecord(e)?kl(t,e):be.IsVoid(e)?i9e(t,e):be.IsUndefined(e)?He.True:He.False}o(t9e,"FromUndefined");function aO(t,e){return e.anyOf.some(r=>Ei(t,r)===He.True)?He.True:He.False}o(aO,"FromUnionRight");function r9e(t,e){return t.anyOf.every(r=>Ei(r,e)===He.True)?He.True:He.False}o(r9e,"FromUnion");function $te(t,e){return He.True}o($te,"FromUnknownRight");function n9e(t,e){return be.IsNever(e)?Gte(t,e):be.IsIntersect(e)?ZB(t,e):be.IsUnion(e)?aO(t,e):be.IsAny(e)?sO(t,e):be.IsString(e)?Yte(t,e):be.IsNumber(e)?Vte(t,e):be.IsInteger(e)?qte(t,e):be.IsBoolean(e)?Hte(t,e):be.IsArray(e)?v6e(t,e):be.IsTuple(e)?X6e(t,e):be.IsObject(e)?Ga(t,e):be.IsUnknown(e)?He.True:He.False}o(n9e,"FromUnknown");function i9e(t,e){return be.IsUndefined(t)||be.IsUndefined(t)?He.True:He.False}o(i9e,"FromVoidRight");function o9e(t,e){return be.IsIntersect(e)?ZB(t,e):be.IsUnion(e)?aO(t,e):be.IsUnknown(e)?$te(t,e):be.IsAny(e)?sO(t,e):be.IsObject(e)?Ga(t,e):be.IsVoid(e)?He.True:He.False}o(o9e,"FromVoid");function Ei(t,e){return be.IsTemplateLiteral(t)||be.IsTemplateLiteral(e)?K6e(t,e):be.IsRegExp(t)||be.IsRegExp(e)?$6e(t,e):be.IsNot(t)||be.IsNot(e)?P6e(t,e):be.IsAny(t)?I6e(t,e):be.IsArray(t)?b6e(t,e):be.IsBigInt(t)?T6e(t,e):be.IsBoolean(t)?_6e(t,e):be.IsAsyncIterator(t)?x6e(t,e):be.IsConstructor(t)?S6e(t,e):be.IsDate(t)?w6e(t,e):be.IsFunction(t)?B6e(t,e):be.IsInteger(t)?R6e(t,e):be.IsIntersect(t)?k6e(t,e):be.IsIterator(t)?D6e(t,e):be.IsLiteral(t)?N6e(t,e):be.IsNever(t)?Q6e(t,e):be.IsNull(t)?F6e(t,e):be.IsNumber(t)?L6e(t,e):be.IsObject(t)?V6e(t,e):be.IsRecord(t)?Y6e(t,e):be.IsString(t)?z6e(t,e):be.IsSymbol(t)?j6e(t,e):be.IsTuple(t)?Z6e(t,e):be.IsPromise(t)?W6e(t,e):be.IsUint8Array(t)?e9e(t,e):be.IsUndefined(t)?t9e(t,e):be.IsUnion(t)?r9e(t,e):be.IsUnknown(t)?n9e(t,e):be.IsVoid(t)?o9e(t,e):B2(`Unknown left type operand '${t[Me]}'`)}o(Ei,"Visit");function Nm(t,e){return Ei(t,e)}o(Nm,"ExtendsCheck");u();u();u();function s9e(t,e,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(t))s[a]=R2(t[a],e,r,n,Wi(i));return s}o(s9e,"FromProperties");function a9e(t,e,r,n,i){return s9e(t.properties,e,r,n,i)}o(a9e,"FromMappedResult");function zte(t,e,r,n,i){let s=a9e(t,e,r,n,i);return Un(s)}o(zte,"ExtendsFromMappedResult");function c9e(t,e,r,n){let i=Nm(t,e);return i===He.Union?Xn([r,n]):i===He.True?r:n}o(c9e,"ExtendsResolve");function R2(t,e,r,n,i){return $i(t)?zte(t,e,r,n,i):Bc(t)?Ue(jte(t,e,r,n,i)):Ue(c9e(t,e,r,n),i)}o(R2,"Extends");function l9e(t,e,r,n,i){return{[t]:R2(bn(t),e,r,n,Wi(i))}}o(l9e,"FromPropertyKey");function u9e(t,e,r,n,i){return t.reduce((s,a)=>({...s,...l9e(a,e,r,n,i)}),{})}o(u9e,"FromPropertyKeys");function f9e(t,e,r,n,i){return u9e(t.keys,e,r,n,i)}o(f9e,"FromMappedKey");function jte(t,e,r,n,i){let s=f9e(t,e,r,n,i);return Un(s)}o(jte,"ExtendsFromMappedKey");u();function d9e(t){return t.allOf.every(e=>nA(e))}o(d9e,"Intersect");function h9e(t){return t.anyOf.some(e=>nA(e))}o(h9e,"Union");function A9e(t){return!nA(t.not)}o(A9e,"Not");function nA(t){return t[Me]==="Intersect"?d9e(t):t[Me]==="Union"?h9e(t):t[Me]==="Not"?A9e(t):t[Me]==="Undefined"}o(nA,"ExtendsUndefinedCheck");u();function Kte(t,e){return k2(ky(t),e)}o(Kte,"ExcludeFromTemplateLiteral");function p9e(t,e){let r=t.filter(n=>Nm(n,e)===He.False);return r.length===1?r[0]:Xn(r)}o(p9e,"ExcludeRest");function k2(t,e,r={}){return Rc(t)?Ue(Kte(t,e),r):$i(t)?Ue(Jte(t,e),r):Ue(Qn(t)?p9e(t.anyOf,e):Nm(t,e)!==He.False?$r():t,r)}o(k2,"Exclude");function m9e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=k2(t[n],e);return r}o(m9e,"FromProperties");function g9e(t,e){return m9e(t.properties,e)}o(g9e,"FromMappedResult");function Jte(t,e){let r=g9e(t,e);return Un(r)}o(Jte,"ExcludeFromMappedResult");u();u();u();function Xte(t,e){return D2(ky(t),e)}o(Xte,"ExtractFromTemplateLiteral");function y9e(t,e){let r=t.filter(n=>Nm(n,e)!==He.False);return r.length===1?r[0]:Xn(r)}o(y9e,"ExtractRest");function D2(t,e,r){return Rc(t)?Ue(Xte(t,e),r):$i(t)?Ue(Zte(t,e),r):Ue(Qn(t)?y9e(t.anyOf,e):Nm(t,e)!==He.False?t:$r(),r)}o(D2,"Extract");function C9e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=D2(t[n],e);return r}o(C9e,"FromProperties");function E9e(t,e){return C9e(t.properties,e)}o(E9e,"FromMappedResult");function Zte(t,e){let r=E9e(t,e);return Un(r)}o(Zte,"ExtractFromMappedResult");u();function ere(t,e){return Mu(t)?Ue(t.returns,e):$r(e)}o(ere,"InstanceType");u();u();function t6(t){return H0(Ha(t))}o(t6,"ReadonlyOptional");u();function Dy(t,e,r){return Ue({[Me]:"Record",type:"object",patternProperties:{[t]:e}},r)}o(Dy,"RecordCreateFromPattern");function cO(t,e,r){let n={};for(let i of t)n[i]=e;return Zn(n,{...r,[Tl]:"Record"})}o(cO,"RecordCreateFromKeys");function I9e(t,e,r){return HB(t)?cO(U0(t),e,r):Dy(t.pattern,e,r)}o(I9e,"FromTemplateLiteralKey");function v9e(t,e,r){return cO(U0(Xn(t)),e,r)}o(v9e,"FromUnionKey");function b9e(t,e,r){return cO([t.toString()],e,r)}o(b9e,"FromLiteralKey");function x9e(t,e,r){return Dy(t.source,e,r)}o(x9e,"FromRegExpKey");function T9e(t,e,r){let n=jo(t.pattern)?dd:t.pattern;return Dy(n,e,r)}o(T9e,"FromStringKey");function _9e(t,e,r){return Dy(dd,e,r)}o(_9e,"FromAnyKey");function S9e(t,e,r){return Dy(lte,e,r)}o(S9e,"FromNeverKey");function w9e(t,e,r){return Zn({true:e,false:e},r)}o(w9e,"FromBooleanKey");function B9e(t,e,r){return Dy(fd,e,r)}o(B9e,"FromIntegerKey");function R9e(t,e,r){return Dy(fd,e,r)}o(R9e,"FromNumberKey");function r6(t,e,r={}){return Qn(t)?v9e(t.anyOf,e,r):Rc(t)?I9e(t,e,r):wc(t)?b9e(t.const,e,r):Jh(t)?w9e(t,e,r):Uu(t)?B9e(t,e,r):Hu(t)?R9e(t,e,r):HM(t)?x9e(t,e,r):Xh(t)?T9e(t,e,r):OM(t)?_9e(t,e,r):Bm(t)?S9e(t,e,r):$r(r)}o(r6,"Record");function n6(t){return globalThis.Object.getOwnPropertyNames(t.patternProperties)[0]}o(n6,"RecordPattern");function tre(t){let e=n6(t);return e===dd?f0():e===fd?_l():f0({pattern:e})}o(tre,"RecordKey");function i6(t){return t.patternProperties[n6(t)]}o(i6,"RecordValue");function k9e(t,e){return e.parameters=ZT(t,e.parameters),e.returns=Vu(t,e.returns),e}o(k9e,"FromConstructor");function D9e(t,e){return e.parameters=ZT(t,e.parameters),e.returns=Vu(t,e.returns),e}o(D9e,"FromFunction");function N9e(t,e){return e.allOf=ZT(t,e.allOf),e}o(N9e,"FromIntersect");function Q9e(t,e){return e.anyOf=ZT(t,e.anyOf),e}o(Q9e,"FromUnion");function P9e(t,e){return jo(e.items)||(e.items=ZT(t,e.items)),e}o(P9e,"FromTuple");function F9e(t,e){return e.items=Vu(t,e.items),e}o(F9e,"FromArray");function L9e(t,e){return e.items=Vu(t,e.items),e}o(L9e,"FromAsyncIterator");function M9e(t,e){return e.items=Vu(t,e.items),e}o(M9e,"FromIterator");function O9e(t,e){return e.item=Vu(t,e.item),e}o(O9e,"FromPromise");function U9e(t,e){let r=V9e(t,e.properties);return{...e,...Zn(r)}}o(U9e,"FromObject");function H9e(t,e){let r=Vu(t,tre(e)),n=Vu(t,i6(e)),i=r6(r,n);return{...e,...i}}o(H9e,"FromRecord");function q9e(t,e){return e.index in t?t[e.index]:Gu()}o(q9e,"FromArgument");function G9e(t,e){let r=m2(e),n=O0(e),i=Vu(t,e);return r&&n?t6(i):r&&!n?H0(i):!r&&n?Ha(i):i}o(G9e,"FromProperty");function V9e(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:G9e(t,e[n])}),{})}o(V9e,"FromProperties");function ZT(t,e){return e.map(r=>Vu(t,r))}o(ZT,"FromTypes");function Vu(t,e){return Mu(e)?k9e(t,e):Ou(e)?D9e(t,e):Io(e)?N9e(t,e):Qn(e)?Q9e(t,e):kc(e)?P9e(t,e):Fu(e)?F9e(t,e):Ty(e)?L9e(t,e):Sy(e)?M9e(t,e):wy(e)?O9e(t,e):Ko(e)?U9e(t,e):By(e)?H9e(t,e):UM(e)?q9e(t,e):e}o(Vu,"FromType");function rre(t,e){return Vu(e,A2(t))}o(rre,"Instantiate");u();function nre(t){return Ue({[Me]:"Integer",type:"integer"},t)}o(nre,"Integer");u();u();u();function W9e(t,e,r){return{[t]:Wu(bn(t),e,Wi(r))}}o(W9e,"MappedIntrinsicPropertyKey");function Y9e(t,e,r){return t.reduce((i,s)=>({...i,...W9e(s,e,r)}),{})}o(Y9e,"MappedIntrinsicPropertyKeys");function $9e(t,e,r){return Y9e(t.keys,e,r)}o($9e,"MappedIntrinsicProperties");function ire(t,e,r){let n=$9e(t,e,r);return Un(n)}o(ire,"IntrinsicFromMappedKey");function z9e(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),r].join("")}o(z9e,"ApplyUncapitalize");function j9e(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),r].join("")}o(j9e,"ApplyCapitalize");function K9e(t){return t.toUpperCase()}o(K9e,"ApplyUppercase");function J9e(t){return t.toLowerCase()}o(J9e,"ApplyLowercase");function X9e(t,e,r){let n=b2(t.pattern);if(!Ry(n))return{...t,pattern:ore(t.pattern,e)};let a=[...jT(n)].map(f=>bn(f)),c=sre(a,e),l=Xn(c);return GB([l],r)}o(X9e,"FromTemplateLiteral");function ore(t,e){return typeof t=="string"?e==="Uncapitalize"?z9e(t):e==="Capitalize"?j9e(t):e==="Uppercase"?K9e(t):e==="Lowercase"?J9e(t):t:t.toString()}o(ore,"FromLiteralValue");function sre(t,e){return t.map(r=>Wu(r,e))}o(sre,"FromRest");function Wu(t,e,r={}){return Bc(t)?ire(t,e,r):Rc(t)?X9e(t,e,r):Qn(t)?Xn(sre(t.anyOf,e),r):wc(t)?bn(ore(t.const,e),r):Ue(t,r)}o(Wu,"Intrinsic");function are(t,e={}){return Wu(t,"Capitalize",e)}o(are,"Capitalize");u();function cre(t,e={}){return Wu(t,"Lowercase",e)}o(cre,"Lowercase");u();function lre(t,e={}){return Wu(t,"Uncapitalize",e)}o(lre,"Uncapitalize");u();function ure(t,e={}){return Wu(t,"Uppercase",e)}o(ure,"Uppercase");u();u();u();u();u();function Z9e(t,e,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(t))n[i]=Qm(t[i],e,Wi(r));return n}o(Z9e,"FromProperties");function eRe(t,e,r){return Z9e(t.properties,e,r)}o(eRe,"FromMappedResult");function fre(t,e,r){let n=eRe(t,e,r);return Un(n)}o(fre,"OmitFromMappedResult");function tRe(t,e){return t.map(r=>lO(r,e))}o(tRe,"FromIntersect");function rRe(t,e){return t.map(r=>lO(r,e))}o(rRe,"FromUnion");function nRe(t,e){let{[e]:r,...n}=t;return n}o(nRe,"FromProperty");function iRe(t,e){return e.reduce((r,n)=>nRe(r,n),t)}o(iRe,"FromProperties");function oRe(t,e){let r=vo(t,[ao,"$id","required","properties"]),n=iRe(t.properties,e);return Zn(n,r)}o(oRe,"FromObject");function sRe(t){let e=t.reduce((r,n)=>MB(n)?[...r,bn(n)]:r,[]);return Xn(e)}o(sRe,"UnionFromPropertyKeys");function lO(t,e){return Io(t)?qa(tRe(t.allOf,e)):Qn(t)?Xn(rRe(t.anyOf,e)):Ko(t)?oRe(t,e):Zn({})}o(lO,"OmitResolve");function Qm(t,e,r){let n=zo(e)?sRe(e):e,i=co(e)?U0(e):e,s=Do(t),a=Do(e);return $i(t)?fre(t,i,r):Bc(e)?dre(t,e,r):s&&a?Qi("Omit",[t,n],r):!s&&a?Qi("Omit",[t,n],r):s&&!a?Qi("Omit",[t,n],r):Ue({...lO(t,i),...r})}o(Qm,"Omit");function aRe(t,e,r){return{[e]:Qm(t,[e],Wi(r))}}o(aRe,"FromPropertyKey");function cRe(t,e,r){return e.reduce((n,i)=>({...n,...aRe(t,i,r)}),{})}o(cRe,"FromPropertyKeys");function lRe(t,e,r){return cRe(t,e.keys,r)}o(lRe,"FromMappedKey");function dre(t,e,r){let n=lRe(t,e,r);return Un(n)}o(dre,"OmitFromMappedKey");u();u();u();function uRe(t,e,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(t))n[i]=Pm(t[i],e,Wi(r));return n}o(uRe,"FromProperties");function fRe(t,e,r){return uRe(t.properties,e,r)}o(fRe,"FromMappedResult");function hre(t,e,r){let n=fRe(t,e,r);return Un(n)}o(hre,"PickFromMappedResult");function dRe(t,e){return t.map(r=>uO(r,e))}o(dRe,"FromIntersect");function hRe(t,e){return t.map(r=>uO(r,e))}o(hRe,"FromUnion");function ARe(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}o(ARe,"FromProperties");function pRe(t,e){let r=vo(t,[ao,"$id","required","properties"]),n=ARe(t.properties,e);return Zn(n,r)}o(pRe,"FromObject");function mRe(t){let e=t.reduce((r,n)=>MB(n)?[...r,bn(n)]:r,[]);return Xn(e)}o(mRe,"UnionFromPropertyKeys");function uO(t,e){return Io(t)?qa(dRe(t.allOf,e)):Qn(t)?Xn(hRe(t.anyOf,e)):Ko(t)?pRe(t,e):Zn({})}o(uO,"PickResolve");function Pm(t,e,r){let n=zo(e)?mRe(e):e,i=co(e)?U0(e):e,s=Do(t),a=Do(e);return $i(t)?hre(t,i,r):Bc(e)?Are(t,e,r):s&&a?Qi("Pick",[t,n],r):!s&&a?Qi("Pick",[t,n],r):s&&!a?Qi("Pick",[t,n],r):Ue({...uO(t,i),...r})}o(Pm,"Pick");function gRe(t,e,r){return{[e]:Pm(t,[e],Wi(r))}}o(gRe,"FromPropertyKey");function yRe(t,e,r){return e.reduce((n,i)=>({...n,...gRe(t,i,r)}),{})}o(yRe,"FromPropertyKeys");function CRe(t,e,r){return yRe(t,e.keys,r)}o(CRe,"FromMappedKey");function Are(t,e,r){let n=CRe(t,e,r);return Un(n)}o(Are,"PickFromMappedKey");u();u();function ERe(t,e){return Qi("Partial",[Qi(t,e)])}o(ERe,"FromComputed");function IRe(t){return Qi("Partial",[Bl(t)])}o(IRe,"FromRef");function vRe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=Ha(t[r]);return e}o(vRe,"FromProperties");function bRe(t){let e=vo(t,[ao,"$id","required","properties"]),r=vRe(t.properties);return Zn(r,e)}o(bRe,"FromObject");function pre(t){return t.map(e=>mre(e))}o(pre,"FromRest");function mre(t){return Lu(t)?ERe(t.target,t.parameters):Do(t)?IRe(t.$ref):Io(t)?qa(pre(t.allOf)):Qn(t)?Xn(pre(t.anyOf)):Ko(t)?bRe(t):_y(t)||Jh(t)||Uu(t)||wc(t)||qT(t)||Hu(t)||Xh(t)||GT(t)||Zh(t)?t:Zn({})}o(mre,"PartialResolve");function N2(t,e){return $i(t)?gre(t,e):Ue({...mre(t),...e})}o(N2,"Partial");function xRe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=N2(t[n],Wi(e));return r}o(xRe,"FromProperties");function TRe(t,e){return xRe(t.properties,e)}o(TRe,"FromMappedResult");function gre(t,e){let r=TRe(t,e);return Un(r)}o(gre,"PartialFromMappedResult");u();u();function _Re(t,e){return Qi("Required",[Qi(t,e)])}o(_Re,"FromComputed");function SRe(t){return Qi("Required",[Bl(t)])}o(SRe,"FromRef");function wRe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=vo(t[r],[Aa]);return e}o(wRe,"FromProperties");function BRe(t){let e=vo(t,[ao,"$id","required","properties"]),r=wRe(t.properties);return Zn(r,e)}o(BRe,"FromObject");function yre(t){return t.map(e=>Cre(e))}o(yre,"FromRest");function Cre(t){return Lu(t)?_Re(t.target,t.parameters):Do(t)?SRe(t.$ref):Io(t)?qa(yre(t.allOf)):Qn(t)?Xn(yre(t.anyOf)):Ko(t)?BRe(t):_y(t)||Jh(t)||Uu(t)||wc(t)||qT(t)||Hu(t)||Xh(t)||GT(t)||Zh(t)?t:Zn({})}o(Cre,"RequiredResolve");function Q2(t,e){return $i(t)?Ere(t,e):Ue({...Cre(t),...e})}o(Q2,"Required");function RRe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Q2(t[n],e);return r}o(RRe,"FromProperties");function kRe(t,e){return RRe(t.properties,e)}o(kRe,"FromMappedResult");function Ere(t,e){let r=kRe(t,e);return Un(r)}o(Ere,"RequiredFromMappedResult");function DRe(t,e){return e.map(r=>Do(r)?fO(t,r.$ref):Dc(t,r))}o(DRe,"DereferenceParameters");function fO(t,e){return e in t?Do(t[e])?fO(t,t[e].$ref):Dc(t,t[e]):$r()}o(fO,"Dereference");function NRe(t){return S2(t[0])}o(NRe,"FromAwaited");function QRe(t){return Dm(t[0],t[1])}o(QRe,"FromIndex");function PRe(t){return w2(t[0])}o(PRe,"FromKeyOf");function FRe(t){return N2(t[0])}o(FRe,"FromPartial");function LRe(t){return Qm(t[0],t[1])}o(LRe,"FromOmit");function MRe(t){return Pm(t[0],t[1])}o(MRe,"FromPick");function ORe(t){return Q2(t[0])}o(ORe,"FromRequired");function URe(t,e,r){let n=DRe(t,r);return e==="Awaited"?NRe(n):e==="Index"?QRe(n):e==="KeyOf"?PRe(n):e==="Partial"?FRe(n):e==="Omit"?LRe(n):e==="Pick"?MRe(n):e==="Required"?ORe(n):$r()}o(URe,"FromComputed");function HRe(t,e){return C2(Dc(t,e))}o(HRe,"FromArray");function qRe(t,e){return E2(Dc(t,e))}o(qRe,"FromAsyncIterator");function GRe(t,e,r){return I2(e4(t,e),Dc(t,r))}o(GRe,"FromConstructor");function VRe(t,e,r){return hd(e4(t,e),Dc(t,r))}o(VRe,"FromFunction");function WRe(t,e){return qa(e4(t,e))}o(WRe,"FromIntersect");function YRe(t,e){return _2(Dc(t,e))}o(YRe,"FromIterator");function $Re(t,e){return Zn(globalThis.Object.keys(e).reduce((r,n)=>({...r,[n]:Dc(t,e[n])}),{}))}o($Re,"FromObject");function zRe(t,e){let[r,n]=[Dc(t,i6(e)),n6(e)],i=A2(e);return i.patternProperties[n]=r,i}o(zRe,"FromRecord");function jRe(t,e){return Do(e)?{...fO(t,e.$ref),[ao]:e[ao]}:e}o(jRe,"FromTransform");function KRe(t,e){return Sl(e4(t,e))}o(KRe,"FromTuple");function JRe(t,e){return Xn(e4(t,e))}o(JRe,"FromUnion");function e4(t,e){return e.map(r=>Dc(t,r))}o(e4,"FromTypes");function Dc(t,e){return O0(e)?Ue(Dc(t,vo(e,[Aa])),e):m2(e)?Ue(Dc(t,vo(e,[Pu])),e):Jn(e)?Ue(jRe(t,e),e):Fu(e)?Ue(HRe(t,e.items),e):Ty(e)?Ue(qRe(t,e.items),e):Lu(e)?Ue(URe(t,e.target,e.parameters)):Mu(e)?Ue(GRe(t,e.parameters,e.returns),e):Ou(e)?Ue(VRe(t,e.parameters,e.returns),e):Io(e)?Ue(WRe(t,e.allOf),e):Sy(e)?Ue(YRe(t,e.items),e):Ko(e)?Ue($Re(t,e.properties),e):By(e)?Ue(zRe(t,e)):kc(e)?Ue(KRe(t,e.items||[]),e):Qn(e)?Ue(JRe(t,e.anyOf),e):e}o(Dc,"FromType");function XRe(t,e){return e in t?Dc(t,t[e]):$r()}o(XRe,"ComputeType");function Ire(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,r)=>({...e,[r]:XRe(t,r)}),{})}o(Ire,"ComputeModuleProperties");var dO=class{static{o(this,"TModule")}constructor(e){let r=Ire(e),n=this.WithIdentifiers(r);this.$defs=n}Import(e,r){let n={...this.$defs,[e]:Ue(this.$defs[e],r)};return Ue({[Me]:"Import",$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:{...e[n],$id:n}}),{})}};function vre(t){return new dO(t)}o(vre,"Module");u();function bre(t,e){return Ue({[Me]:"Not",not:t},e)}o(bre,"Not");u();function xre(t,e){return Ou(t)?Sl(t.parameters,e):$r()}o(xre,"Parameters");u();var ZRe=0;function Tre(t,e={}){jo(e.$id)&&(e.$id=`T${ZRe++}`);let r=A2(t({[Me]:"This",$ref:`${e.$id}`}));return r.$id=e.$id,Ue({[Tl]:"Recursive",...r},e)}o(Tre,"Recursive");u();function _re(t,e){let r=Bi(t)?new globalThis.RegExp(t):t;return Ue({[Me]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},e)}o(_re,"RegExp");u();function e7e(t){return Io(t)?t.allOf:Qn(t)?t.anyOf:kc(t)?t.items??[]:[]}o(e7e,"RestResolve");function Sre(t){return e7e(t)}o(Sre,"Rest");u();function wre(t,e){return Ou(t)?Ue(t.returns,e):$r(e)}o(wre,"ReturnType");u();var hO=class{static{o(this,"TransformDecodeBuilder")}constructor(e){this.schema=e}Decode(e){return new AO(this.schema,e)}},AO=class{static{o(this,"TransformEncodeBuilder")}constructor(e,r){this.schema=e,this.decode=r}EncodeTransform(e,r){let s={Encode:o(a=>r[ao].Encode(e(a)),"Encode"),Decode:o(a=>this.decode(r[ao].Decode(a)),"Decode")};return{...r,[ao]:s}}EncodeSchema(e,r){let n={Decode:this.decode,Encode:e};return{...r,[ao]:n}}Encode(e){return Jn(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function Bre(t){return new hO(t)}o(Bre,"Transform");u();function Rre(t={}){return Ue({[Me]:t[Me]??"Unsafe"},t)}o(Rre,"Unsafe");u();function kre(t){return Ue({[Me]:"Void",type:"void"},t)}o(kre,"Void");u();var pO={};Eo(pO,{Any:()=>km,Argument:()=>Ate,Array:()=>C2,AsyncIterator:()=>E2,Awaited:()=>S2,BigInt:()=>T2,Boolean:()=>qB,Capitalize:()=>are,Composite:()=>Nte,Const:()=>Qte,Constructor:()=>I2,ConstructorParameters:()=>Pte,Date:()=>$B,Enum:()=>Fte,Exclude:()=>k2,Extends:()=>R2,Extract:()=>D2,Function:()=>hd,Index:()=>Dm,InstanceType:()=>ere,Instantiate:()=>rre,Integer:()=>nre,Intersect:()=>qa,Iterator:()=>_2,KeyOf:()=>w2,Literal:()=>bn,Lowercase:()=>cre,Mapped:()=>Ste,Module:()=>vre,Never:()=>$r,Not:()=>bre,Null:()=>zB,Number:()=>_l,Object:()=>Zn,Omit:()=>Qm,Optional:()=>Ha,Parameters:()=>xre,Partial:()=>N2,Pick:()=>Pm,Promise:()=>WB,Readonly:()=>H0,ReadonlyOptional:()=>t6,Record:()=>r6,Recursive:()=>Tre,Ref:()=>Bl,RegExp:()=>_re,Required:()=>Q2,Rest:()=>Sre,ReturnType:()=>wre,String:()=>f0,Symbol:()=>jB,TemplateLiteral:()=>GB,Transform:()=>Bre,Tuple:()=>Sl,Uint8Array:()=>JB,Uncapitalize:()=>lre,Undefined:()=>KB,Union:()=>Xn,Unknown:()=>Gu,Unsafe:()=>Rre,Uppercase:()=>ure,Void:()=>kre});u();var X=pO;var ase=yt($a()),I6t=X.Object({accessToken:X.Optional(X.String({minLength:1})),handle:X.Optional(X.String({minLength:1})),githubAppId:X.Optional(X.String({minLength:1}))}),ike;(r=>(r.method="github/didChangeAuth",r.type=new ase.ProtocolNotificationType(r.method)))(ike||={});u();var cse=yt($a()),oke;(r=>(r.method="copilot/ipCodeCitation",r.type=new cse.NotificationType(r.method)))(oke||={});u();var lse=yt($a()),ske;(r=>(r.method="context/update",r.type=new lse.ProtocolRequestType(r.method)))(ske||={});u();u();u();var Ki=yt($a()),ake=X.String(),cke=X.Object({uri:ake}),My=X.Intersect([cke,X.Object({version:X.Optional(X.Integer())})]),Q6t=X.Required(My),Wm=X.Object({line:X.Integer({minimum:0}),character:X.Integer({minimum:0})}),use=X.Object({start:Wm,end:Wm}),GU=X.Union([X.Integer(),X.String()]),P6t=X.Object({isCancellationRequested:X.Boolean(),onCancellationRequested:X.Any()});u();var fse=yt($a()),lke;(r=>(r.method="textDocument/didFocus",r.type=new fse.ProtocolNotificationType(r.method)))(lke||={});u();var uke=X.Object({didChangeFeatureFlags:X.Boolean(),fetch:X.Boolean(),ipCodeCitation:X.Boolean(),redirectedTelemetry:X.Boolean(),related:X.Boolean(),token:X.Boolean(),watchedFiles:X.Boolean(),showPanelMessage:X.Boolean()}),fke=X.Object({name:X.String(),version:X.String(),readableName:X.Optional(X.String())}),dse=X.Object({name:X.String(),version:X.Optional(X.String()),readableName:X.Optional(X.String())}),q6t=X.Object({editorInfo:X.Optional(dse),editorPluginInfo:X.Optional(dse),relatedPluginInfo:X.Optional(X.Array(fke)),copilotIntegrationId:X.Optional(X.String()),copilotCapabilities:X.Optional(X.Partial(uke)),githubAppId:X.Optional(X.String())});u();var u4=yt($a());var hse=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(hse||{}),dke=X.Enum(hse),hke=X.Object({triggerKind:dke,selectedCompletionInfo:X.Optional(X.Object({text:X.String(),range:use,tooltipSignature:X.Optional(X.String())}))}),Ase=X.Object({textDocument:My,position:Wm,formattingOptions:X.Optional(X.Object({tabSize:X.Optional(X.Union([X.Integer({minimum:1}),X.String()])),insertSpaces:X.Optional(X.Union([X.Boolean(),X.String()]))})),context:hke,data:X.Optional(X.Unknown())}),Ake;(r=>(r.method="textDocument/inlineCompletion",r.type=new u4.ProtocolRequestType(r.method)))(Ake||={});var pse=X.Object({command:X.Object({arguments:X.Tuple([X.String({minLength:1})])})}),z6t=X.Object({item:pse}),pke;(r=>(r.method="textDocument/didShowCompletion",r.type=new u4.ProtocolNotificationType(r.method)))(pke||={});var j6t=X.Object({item:pse,acceptedLength:X.Integer({minimum:1})}),mke;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new u4.ProtocolNotificationType(r.method)))(mke||={});u();var mse=yt($a()),gke;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new mse.ProtocolRequestType(r.method)))(gke||={});u();var gse=yt($a()),n9t=X.Object({textDocument:My,position:Wm}),yke=X.Object({command:X.Object({arguments:X.Tuple([X.String({minLength:1})])})}),i9t=X.Object({item:yke}),Cke;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new gse.ProtocolNotificationType(r.method)))(Cke||={});u();var W6=yt($a());var f9t=X.Object({textDocument:My,position:Wm,partialResultToken:X.Optional(GU),workDoneToken:X.Optional(GU)}),Eke;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new W6.ProtocolRequestType(n.method),n.partialResult=new W6.ProgressType))(Eke||={});u();var yse=yt($a()),Ike;(r=>(r.method="copilot/related",r.type=new yse.ProtocolRequestType(r.method)))(Ike||={});u();var Cse=yt($a()),vke;(r=>(r.method="statusNotification",r.type=new Cse.ProtocolNotificationType(r.method)))(vke||={});var Ese=yt(require("events"));var Oy=class{static{o(this,"CopilotTokenNotifier")}#e=new Ese.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(e){if(e.token!==this.#t?.token)return this.#t=e,this.emit("CopilotToken",e)}emit(e,...r){return this.#e.emit(e,...r)}on(e,r,n){let i=ev(e,n,`event.${r}`);return this.#e.on(r,i),Ki.Disposable.create(()=>this.#e.off(r,i))}};function ma(t,e){return t.get(Oy).on(t,"CopilotToken",e)}o(ma,"onCopilotToken");function VU(t){return t.get(Oy).lastToken}o(VU,"getLastCopilotToken");u();u();function Ise(t){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>t.includes(r))}o(Ise,"findKnownOrg");function vse(t){let e=t.organization_list??[];return Ise(e)??""}o(vse,"getUserKind");u();u();var Y6=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(Y6||{}),Uy=class{static{o(this,"LogTarget")}},Ym=class{static{o(this,"TelemetryLogSender")}},zr=class{constructor(e){this.category=e}static{o(this,"Logger")}log(e,r,...n){e.get(Uy).logIt(e,r,this.category,...n)}debug(e,...r){this.log(e,4,...r)}info(e,...r){this.log(e,3,...r)}warn(e,...r){this.log(e,2,...r)}error(e,...r){e.get(Ym).sendError(e,this.category,...r),this.log(e,1,...r)}exception(e,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),e.get(Ym).sendException(e,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(e,1,`${i}:`,s)}},hs=new zr("default");u();u();var Rae=yt(d4());var Tn=class{constructor(e=10){this.valueMap=new Map;if(e<1)throw new Error("Size limit must be at least 1");this.sizeLimit=e}static{o(this,"LRUCacheMap")}set(e,r){if(this.has(e))this.valueMap.delete(e);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(e,r),this}get(e){if(this.valueMap.has(e)){let r=this.valueMap.get(e);return this.valueMap.delete(e),this.valueMap.set(e,r),r}}delete(e){return this.valueMap.delete(e)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(e){return this.valueMap.has(e)}forEach(e,r){new Map(this.valueMap).forEach(e,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(e){return this.valueMap.get(e)}},k9=class extends Tn{constructor(r,n=120*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{o(this,"LRUExpirationCacheMap")}has(r){let n=!1,i=this.expiration.get(r);return i!==void 0&&(i>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,i=this.defaultTtl){if(i<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+i),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}},tv=class extends Tn{static{o(this,"LRUDisposableCacheMap")}delete(e){let r=this.peek(e);return r&&r.dispose(),super.delete(e)}clear(){for(let e of this.values())e.dispose();super.clear()}uncache(e){let r=this.peek(e);return super.delete(e),r}dispose(){this.clear()}};var rv=class{constructor(){this.recentNotifications=new Tn(100)}static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showWarningMessage(r,...n)}};u();var h4=class{static{o(this,"UrlOpener")}};var bke=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],kae="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Dae="https://gh.io/copilot-network-errors",Hy=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(e,r){if(!(r instanceof Error))return;let n=r;n.code&&bke.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(e,n))}async displayCertificateErrorNotification(e,r){new zr("certificates").error(e,`${kae} Please visit ${Dae} to learn more. Original cause:`,r);let n={title:"Learn more"};return e.get(rv).showWarningMessage(kae,n).then(i=>{if(i?.title===n.title)return e.get(h4).open(Dae)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};u();u();var As=class{static{o(this,"Fetcher")}getImplementation(){return this}},A4=class extends Error{static{o(this,"HttpTimeoutError")}constructor(e,r){super(e,{cause:r}),this.name="HttpTimeoutError"}};function jm(t){return!t||typeof t!="object"?!1:t instanceof A4||"name"in t&&t.name==="AbortError"||"code"in t&&t.code==="ABORT_ERR"}o(jm,"isAbortError");var nv=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},aA=class extends Error{static{o(this,"FetchResponseError")}constructor(e,r=`HTTP ${e.status} ${e.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${e.status}`}},xke=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function $U(t,e=!0){return t instanceof Error?e&&"cause"in t&&$U(t.cause,!1)?!0:t.name==="EditorFetcherError"||t.name==="FetchError"||t instanceof nv||t instanceof aA||t?.message?.startsWith("net::")||xke.has(t.code??""):!1}o($U,"isNetworkError");var D9=class{constructor(e,r,n,i,s){this.status=e;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let e=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new nv(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==e.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(e).length,a=this.headers.get("content-length");throw a===null?new nv(`Response body truncated: actualLength=${s}`,"Truncated"):new nv(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function zU(t,e,r,n,i,s,a,c,l){let f={...c,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":t.get(Vs).sessionId,"VScode-MachineId":t.get(Vs).machineId,...qy(t),"X-GitHub-Api-Version":iv};n&&(f["OpenAI-Intent"]=n);let d={method:"POST",headers:f,json:s,timeout:l},h=t.get(As);if(a){let g=new AbortController;a.onCancellationRequested(()=>{or(t,"networking.cancelRequest",rn.createAndMarkAsIssued({headerRequestId:i})),g.abort()}),d.signal=g.signal}return h.fetch(e,d).catch(g=>{if(Tke(g))return or(t,"networking.disconnectAll"),h.disconnectAll().then(()=>h.fetch(e,d));throw g})}o(zU,"postRequest");function Tke(t){return t instanceof Error?t.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in t?t.code=="ECONNRESET"||t.code=="ETIMEDOUT"||t.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(Tke,"isInterruptedNetworkError");u();function Nae(){return typeof process>"u"}o(Nae,"isWeb");function N9(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}o(N9,"isMsBenchModeEnabled");var jU=class extends aA{static{o(this,"ProxiedResponseError")}constructor(e){super(e,`HTTP ${e.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function Q9(t,e,r,n={}){n={...n,headers:{Authorization:`Bearer ${e.accessToken}`,...Nae()?{}:qy(t),...n.headers}};let i=await t.get(As).fetch(new URL(r,e.apiUrl).href,n);if(i.status>=500)throw new aA(i);if(!i.headers.get("x-github-request-id"))throw new jU(i);return i}o(Q9,"apiFetch");u();u();var Km=class t{constructor(e){this.flags=e}static{o(this,"RuntimeMode")}static fromEnvironment(e,r=process.argv,n=process.env){return new t({debug:Fae(r,n),verboseLogging:Ske(r,n),testMode:e,simulation:_ke(n)})}};function Gy(t){return t.get(Km).flags.testMode}o(Gy,"isRunningInTest");function p4(t){return Gy(t)}o(p4,"shouldFailForDebugPurposes");function Qae(t){return t.get(Km).flags.debug}o(Qae,"isDebugEnabled");function Pae(t){return t.get(Km).flags.verboseLogging}o(Pae,"isVerboseLoggingEnabled");function Fae(t,e){return t.includes("--debug")||KU(e,"DEBUG")}o(Fae,"determineDebugFlag");function _ke(t){return KU(t,"SIMULATION")}o(_ke,"determineSimulationFlag");function Ske(t,e){return e.COPILOT_AGENT_VERBOSE==="1"||e.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||KU(e,"VERBOSE")||Fae(t,e)}o(Ske,"determineVerboseLoggingEnabled");function KU(t,e){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=t[`${r}${e}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(KU,"determineEnvFlagEnabled");u();var Oae=require("os"),P9=require("path");u();var Lae;(()=>{"use strict";var t={975:z=>{function j(J){if(typeof J!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(J))}o(j,"e");function Ie(J,H){for(var Z,ee="",se=0,ne=-1,le=0,he=0;he<=J.length;++he){if(he<J.length)Z=J.charCodeAt(he);else{if(Z===47)break;Z=47}if(Z===47){if(!(ne===he-1||le===1))if(ne!==he-1&&le===2){if(ee.length<2||se!==2||ee.charCodeAt(ee.length-1)!==46||ee.charCodeAt(ee.length-2)!==46){if(ee.length>2){var Ke=ee.lastIndexOf("/");if(Ke!==ee.length-1){Ke===-1?(ee="",se=0):se=(ee=ee.slice(0,Ke)).length-1-ee.lastIndexOf("/"),ne=he,le=0;continue}}else if(ee.length===2||ee.length===1){ee="",se=0,ne=he,le=0;continue}}H&&(ee.length>0?ee+="/..":ee="..",se=2)}else ee.length>0?ee+="/"+J.slice(ne+1,he):ee=J.slice(ne+1,he),se=he-ne-1;ne=he,le=0}else Z===46&&le!==-1?++le:le=-1}return ee}o(Ie,"r");var ue={resolve:o(function(){for(var J,H="",Z=!1,ee=arguments.length-1;ee>=-1&&!Z;ee--){var se;ee>=0?se=arguments[ee]:(J===void 0&&(J=process.cwd()),se=J),j(se),se.length!==0&&(H=se+"/"+H,Z=se.charCodeAt(0)===47)}return H=Ie(H,!Z),Z?H.length>0?"/"+H:"/":H.length>0?H:"."},"resolve"),normalize:o(function(J){if(j(J),J.length===0)return".";var H=J.charCodeAt(0)===47,Z=J.charCodeAt(J.length-1)===47;return(J=Ie(J,!H)).length!==0||H||(J="."),J.length>0&&Z&&(J+="/"),H?"/"+J:J},"normalize"),isAbsolute:o(function(J){return j(J),J.length>0&&J.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var J,H=0;H<arguments.length;++H){var Z=arguments[H];j(Z),Z.length>0&&(J===void 0?J=Z:J+="/"+Z)}return J===void 0?".":ue.normalize(J)},"join"),relative:o(function(J,H){if(j(J),j(H),J===H||(J=ue.resolve(J))===(H=ue.resolve(H)))return"";for(var Z=1;Z<J.length&&J.charCodeAt(Z)===47;++Z);for(var ee=J.length,se=ee-Z,ne=1;ne<H.length&&H.charCodeAt(ne)===47;++ne);for(var le=H.length-ne,he=se<le?se:le,Ke=-1,tt=0;tt<=he;++tt){if(tt===he){if(le>he){if(H.charCodeAt(ne+tt)===47)return H.slice(ne+tt+1);if(tt===0)return H.slice(ne+tt)}else se>he&&(J.charCodeAt(Z+tt)===47?Ke=tt:tt===0&&(Ke=0));break}var ct=J.charCodeAt(Z+tt);if(ct!==H.charCodeAt(ne+tt))break;ct===47&&(Ke=tt)}var Ct="";for(tt=Z+Ke+1;tt<=ee;++tt)tt!==ee&&J.charCodeAt(tt)!==47||(Ct.length===0?Ct+="..":Ct+="/..");return Ct.length>0?Ct+H.slice(ne+Ke):(ne+=Ke,H.charCodeAt(ne)===47&&++ne,H.slice(ne))},"relative"),_makeLong:o(function(J){return J},"_makeLong"),dirname:o(function(J){if(j(J),J.length===0)return".";for(var H=J.charCodeAt(0),Z=H===47,ee=-1,se=!0,ne=J.length-1;ne>=1;--ne)if((H=J.charCodeAt(ne))===47){if(!se){ee=ne;break}}else se=!1;return ee===-1?Z?"/":".":Z&&ee===1?"//":J.slice(0,ee)},"dirname"),basename:o(function(J,H){if(H!==void 0&&typeof H!="string")throw new TypeError('"ext" argument must be a string');j(J);var Z,ee=0,se=-1,ne=!0;if(H!==void 0&&H.length>0&&H.length<=J.length){if(H.length===J.length&&H===J)return"";var le=H.length-1,he=-1;for(Z=J.length-1;Z>=0;--Z){var Ke=J.charCodeAt(Z);if(Ke===47){if(!ne){ee=Z+1;break}}else he===-1&&(ne=!1,he=Z+1),le>=0&&(Ke===H.charCodeAt(le)?--le==-1&&(se=Z):(le=-1,se=he))}return ee===se?se=he:se===-1&&(se=J.length),J.slice(ee,se)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===47){if(!ne){ee=Z+1;break}}else se===-1&&(ne=!1,se=Z+1);return se===-1?"":J.slice(ee,se)},"basename"),extname:o(function(J){j(J);for(var H=-1,Z=0,ee=-1,se=!0,ne=0,le=J.length-1;le>=0;--le){var he=J.charCodeAt(le);if(he!==47)ee===-1&&(se=!1,ee=le+1),he===46?H===-1?H=le:ne!==1&&(ne=1):H!==-1&&(ne=-1);else if(!se){Z=le+1;break}}return H===-1||ee===-1||ne===0||ne===1&&H===ee-1&&H===Z+1?"":J.slice(H,ee)},"extname"),format:o(function(J){if(J===null||typeof J!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof J);return function(H,Z){var ee=Z.dir||Z.root,se=Z.base||(Z.name||"")+(Z.ext||"");return ee?ee===Z.root?ee+se:ee+"/"+se:se}(0,J)},"format"),parse:o(function(J){j(J);var H={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return H;var Z,ee=J.charCodeAt(0),se=ee===47;se?(H.root="/",Z=1):Z=0;for(var ne=-1,le=0,he=-1,Ke=!0,tt=J.length-1,ct=0;tt>=Z;--tt)if((ee=J.charCodeAt(tt))!==47)he===-1&&(Ke=!1,he=tt+1),ee===46?ne===-1?ne=tt:ct!==1&&(ct=1):ne!==-1&&(ct=-1);else if(!Ke){le=tt+1;break}return ne===-1||he===-1||ct===0||ct===1&&ne===he-1&&ne===le+1?he!==-1&&(H.base=H.name=le===0&&se?J.slice(1,he):J.slice(le,he)):(le===0&&se?(H.name=J.slice(1,ne),H.base=J.slice(1,he)):(H.name=J.slice(le,ne),H.base=J.slice(le,he)),H.ext=J.slice(ne,he)),le>0?H.dir=J.slice(0,le-1):se&&(H.dir="/"),H},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ue.posix=ue,z.exports=ue}},e={};function r(z){var j=e[z];if(j!==void 0)return j.exports;var Ie=e[z]={exports:{}};return t[z](Ie,Ie.exports,r),Ie.exports}o(r,"r"),r.d=(z,j)=>{for(var Ie in j)r.o(j,Ie)&&!r.o(z,Ie)&&Object.defineProperty(z,Ie,{enumerable:!0,get:j[Ie]})},r.o=(z,j)=>Object.prototype.hasOwnProperty.call(z,j),r.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>A,"URI"),Utils:o(()=>Ae,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,c=/^\/\//;function l(z,j){if(!z.scheme&&j)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${z.authority}", path: "${z.path}", query: "${z.query}", fragment: "${z.fragment}"}`);if(z.scheme&&!s.test(z.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(z.path){if(z.authority){if(!a.test(z.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(z.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(l,"a");let f="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class A{static{o(this,"l")}static isUri(j){return j instanceof A||!!j&&typeof j.authority=="string"&&typeof j.fragment=="string"&&typeof j.path=="string"&&typeof j.query=="string"&&typeof j.scheme=="string"&&typeof j.fsPath=="string"&&typeof j.with=="function"&&typeof j.toString=="function"}scheme;authority;path;query;fragment;constructor(j,Ie,ue,J,H,Z=!1){typeof j=="object"?(this.scheme=j.scheme||f,this.authority=j.authority||f,this.path=j.path||f,this.query=j.query||f,this.fragment=j.fragment||f):(this.scheme=function(ee,se){return ee||se?ee:"file"}(j,Z),this.authority=Ie||f,this.path=function(ee,se){switch(ee){case"https":case"http":case"file":se?se[0]!==d&&(se=d+se):se=d}return se}(this.scheme,ue||f),this.query=J||f,this.fragment=H||f,l(this,Z))}get fsPath(){return S(this,!1)}with(j){if(!j)return this;let{scheme:Ie,authority:ue,path:J,query:H,fragment:Z}=j;return Ie===void 0?Ie=this.scheme:Ie===null&&(Ie=f),ue===void 0?ue=this.authority:ue===null&&(ue=f),J===void 0?J=this.path:J===null&&(J=f),H===void 0?H=this.query:H===null&&(H=f),Z===void 0?Z=this.fragment:Z===null&&(Z=f),Ie===this.scheme&&ue===this.authority&&J===this.path&&H===this.query&&Z===this.fragment?this:new y(Ie,ue,J,H,Z)}static parse(j,Ie=!1){let ue=h.exec(j);return ue?new y(ue[2]||f,P(ue[4]||f),P(ue[5]||f),P(ue[7]||f),P(ue[9]||f),Ie):new y(f,f,f,f,f)}static file(j){let Ie=f;if(i&&(j=j.replace(/\\/g,d)),j[0]===d&&j[1]===d){let ue=j.indexOf(d,2);ue===-1?(Ie=j.substring(2),j=d):(Ie=j.substring(2,ue),j=j.substring(ue)||d)}return new y("file",Ie,j,f,f)}static from(j){let Ie=new y(j.scheme,j.authority,j.path,j.query,j.fragment);return l(Ie,!0),Ie}toString(j=!1){return D(this,j)}toJSON(){return this}static revive(j){if(j){if(j instanceof A)return j;{let Ie=new y(j);return Ie._formatted=j.external,Ie._fsPath=j._sep===g?j.fsPath:null,Ie}}return j}}let g=i?1:void 0;class y extends A{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=S(this,!1)),this._fsPath}toString(j=!1){return j?D(this,!0):(this._formatted||(this._formatted=D(this,!1)),this._formatted)}toJSON(){let j={$mid:1};return this._fsPath&&(j.fsPath=this._fsPath,j._sep=g),this._formatted&&(j.external=this._formatted),this.path&&(j.path=this.path),this.scheme&&(j.scheme=this.scheme),this.authority&&(j.authority=this.authority),this.query&&(j.query=this.query),this.fragment&&(j.fragment=this.fragment),j}}let v={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(z,j,Ie){let ue,J=-1;for(let H=0;H<z.length;H++){let Z=z.charCodeAt(H);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||j&&Z===47||Ie&&Z===91||Ie&&Z===93||Ie&&Z===58)J!==-1&&(ue+=encodeURIComponent(z.substring(J,H)),J=-1),ue!==void 0&&(ue+=z.charAt(H));else{ue===void 0&&(ue=z.substr(0,H));let ee=v[Z];ee!==void 0?(J!==-1&&(ue+=encodeURIComponent(z.substring(J,H)),J=-1),ue+=ee):J===-1&&(J=H)}}return J!==-1&&(ue+=encodeURIComponent(z.substring(J))),ue!==void 0?ue:z}o(_,"m");function T(z){let j;for(let Ie=0;Ie<z.length;Ie++){let ue=z.charCodeAt(Ie);ue===35||ue===63?(j===void 0&&(j=z.substr(0,Ie)),j+=v[ue]):j!==void 0&&(j+=z[Ie])}return j!==void 0?j:z}o(T,"y");function S(z,j){let Ie;return Ie=z.authority&&z.path.length>1&&z.scheme==="file"?`//${z.authority}${z.path}`:z.path.charCodeAt(0)===47&&(z.path.charCodeAt(1)>=65&&z.path.charCodeAt(1)<=90||z.path.charCodeAt(1)>=97&&z.path.charCodeAt(1)<=122)&&z.path.charCodeAt(2)===58?j?z.path.substr(1):z.path[1].toLowerCase()+z.path.substr(2):z.path,i&&(Ie=Ie.replace(/\//g,"\\")),Ie}o(S,"v");function D(z,j){let Ie=j?T:_,ue="",{scheme:J,authority:H,path:Z,query:ee,fragment:se}=z;if(J&&(ue+=J,ue+=":"),(H||J==="file")&&(ue+=d,ue+=d),H){let ne=H.indexOf("@");if(ne!==-1){let le=H.substr(0,ne);H=H.substr(ne+1),ne=le.lastIndexOf(":"),ne===-1?ue+=Ie(le,!1,!1):(ue+=Ie(le.substr(0,ne),!1,!1),ue+=":",ue+=Ie(le.substr(ne+1),!1,!0)),ue+="@"}H=H.toLowerCase(),ne=H.lastIndexOf(":"),ne===-1?ue+=Ie(H,!1,!0):(ue+=Ie(H.substr(0,ne),!1,!0),ue+=H.substr(ne))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58){let ne=Z.charCodeAt(1);ne>=65&&ne<=90&&(Z=`/${String.fromCharCode(ne+32)}:${Z.substr(3)}`)}else if(Z.length>=2&&Z.charCodeAt(1)===58){let ne=Z.charCodeAt(0);ne>=65&&ne<=90&&(Z=`${String.fromCharCode(ne+32)}:${Z.substr(2)}`)}ue+=Ie(Z,!0,!1)}return ee&&(ue+="?",ue+=Ie(ee,!1,!1)),se&&(ue+="#",ue+=j?se:_(se,!1,!1)),ue}o(D,"b");function Q(z){try{return decodeURIComponent(z)}catch{return z.length>3?z.substr(0,3)+Q(z.substr(3)):z}}o(Q,"C");let k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(z){return z.match(k)?z.replace(k,j=>Q(j)):z}o(P,"w");var W=r(975);let re=W.posix||W,ye="/";var Ae;(function(z){z.joinPath=function(j,...Ie){return j.with({path:re.join(j.path,...Ie)})},z.resolvePath=function(j,...Ie){let ue=j.path,J=!1;ue[0]!==ye&&(ue=ye+ue,J=!0);let H=re.resolve(ue,...Ie);return J&&H[0]===ye&&!j.authority&&(H=H.substring(1)),j.with({path:H})},z.dirname=function(j){if(j.path.length===0||j.path===ye)return j;let Ie=re.dirname(j.path);return Ie.length===1&&Ie.charCodeAt(0)===46&&(Ie=""),j.with({path:Ie})},z.basename=function(j){return re.basename(j.path)},z.extname=function(j){return re.extname(j.path)}})(Ae||(Ae={})),Lae=n})();var{URI:Jm,Utils:m4}=Lae;function Uae(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+Uae(t.substring(3)):t}}o(Uae,"decodeURIComponentGraceful");var Mae=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function JU(t){return t.match(Mae)?t.replace(Mae,e=>Uae(e)):t}o(JU,"percentDecode");function F9(t){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return Jm.file(t).toString()}o(F9,"makeFsUri");function Vy(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?Jm.parse(e[1]+e[2],!0):Jm.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}o(Vy,"parseUri");function Hae(t){return Vy(t),t}o(Hae,"validateUri");function yd(t){try{return Vy(t).toString()}catch{return t}}o(yd,"normalizeUri");var qae=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function wke(t){let e=Vy(t);if(!qae.has(e.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${e.scheme}`);if((0,Oae.platform)()==="win32"){let r=e.path;return e.authority?r=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,P9.normalize)(r)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}o(wke,"fsPath");function L9(t){try{return wke(t)}catch{return}}o(L9,"getFsPath");function Gae(t){let e=L9(t);if(e)return Jm.file(e).toString()}o(Gae,"getFsUri");function Wy(t,...e){let r,n=L9(t);return n?r=F9((0,P9.resolve)(n,...e)):r=m4.resolvePath(Vy(t),...e.map(i=>Vae(i))).toString(),typeof t=="string"?r:{uri:r}}o(Wy,"resolveFilePath");function Ws(t,...e){let r=m4.joinPath(Vy(t),...e.map(Vae)).toString();return typeof t=="string"?r:{uri:r}}o(Ws,"joinPath");function Vae(t){return Bke(t)?t.replaceAll("\\","/"):t}o(Vae,"pathToURIPath");function Bke(t){return/^[^/\\]*\\/.test(t)}o(Bke,"isWinPath");function Xm(t){return JU((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Xm,"basename");function cA(t){let e=m4.dirname(Vy(t)),r;return qae.has(e.scheme)&&e.scheme!=="file"?r=e.with({scheme:"file",fragment:""}).toString():r=e.toString(),typeof t=="string"?r:{uri:r}}o(cA,"dirname");function Wae(t){return m4.extname(Vy(t))}o(Wae,"extname");var Yy=class{static{o(this,"NetworkConfiguration")}};function ZU(t,e){try{let r=new URL(e??"");if(r.protocol==="https:"||!eH(t)&&r.protocol==="http:")return r.href}catch{}}o(ZU,"ensurePermittedUrl");var ov={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function XU(t,e,r){if(r&&Gy(t)){for(let n of r){let i=Jo(t,n);if(i)return i}return}for(let n of e){let i=Jo(t,n);if(i)return i}}o(XU,"urlConfigOverride");function Rke(t,e){switch(e){case"api":return XU(t,[Ft.DebugOverrideCapiUrl,Ft.DebugOverrideCapiUrlLegacy],[Ft.DebugTestOverrideCapiUrl,Ft.DebugTestOverrideCapiUrlLegacy]);case"proxy":return XU(t,[Ft.DebugOverrideProxyUrl,Ft.DebugOverrideProxyUrlLegacy],[Ft.DebugTestOverrideProxyUrl,Ft.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!eH(t))return XU(t,[Ft.DebugSnippyOverrideUrl])}}o(Rke,"getEndpointOverrideUrl");function g4(t,e,r,...n){let i=Rke(t,r)??e.endpoints[r];return Ws(i,...n)}o(g4,"getEndpointUrl");function M9(t){return VU(t)?.endpoints??ov}o(M9,"getLastKnownEndpoints");var Yae=new zr("auth");function tH(t){let e=t.serverUrl?.match(/^https?:\/\//)?t.serverUrl:"",r=t.apiUrl?.match(/^https?:\/\//)?t.apiUrl:"";return e?r||=e.replace("://","://api."):r?.includes("://api.")&&(e||=r.replace("://api.","://")),(!e||!r)&&(e="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:e}}o(tH,"fillGitHubUrls");u();u();u();u();var Xae=yt(jae()),Zae=yt(Jae()),Pc=yt(require("os"));var av=class{constructor(e,r,n,i,s=!1){this.ctx=e;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(e=>{this.token=e;let r=e.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((e,r)=>{if(typeof e.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof e.data}`);let n=e.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:e.data};this.ctx.get(As).fetch(e.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{hs.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new Zae.ApplicationInsights({instrumentationKey:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[Xae.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=kke(e),this.commonProperties=Dke(e),this.#e=ma(e,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(e,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(e);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(e,r,n){this.sendTelemetryEvent(this.qualifyEventName(e),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(e){return e.startsWith(this.namespace)?e:`${this.namespace}/${e}`}};function kke(t){let e={},r=t.get(Vs);e["ai.session.id"]=r.sessionId;let n=t.get(z0);return n.trackingId&&(e["ai.user.id"]=n.trackingId),e["ai.cloud.roleInstance"]="REDACTED",e["ai.device.osVersion"]=`${Pc.type()} ${Pc.release()}`,e["ai.device.osArchitecture"]=Pc.arch(),e["ai.device.osPlatform"]=Pc.platform(),e["ai.cloud.role"]="Web",e["ai.application.ver"]=t.get(ga).getVersion(),e}o(kke,"getTags");function Dke(t){let e={};e.common_os=Pc.platform(),e.common_platformversion=Pc.release(),e.common_arch=Pc.arch(),e.common_cpu=Array.from(new Set(Pc.cpus().map(n=>n.model))).join();let r=t.get(Vs);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.common_uikind=r.uiKind,e.common_remotename=r.remoteName,e.common_isnewappinstall="",e}o(Dke,"getCommonProperties");var t0e="7d7048df-6dd0-4048-bb23-b716c1461f8f",r0e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Nke="f0000000-0000-0000-0000-000000000000";function e0e(t){return new URL(t).hostname==="github.com"?ov.telemetry:t.replace("://","://copilot-telemetry-service.")}o(e0e,"getEndpointForServerUrl");var Cd=class{constructor(e,r){this.ctx=e;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=e0e(this.serverUrl);this.shuttingDown=new Set;ma(e,n=>this.updateServiceEndpoints(n.endpoints))}static{o(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(e){let r=this.ctx;this._enabled=e;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},e)){let i=r.get(Ql);i.setReporter(new av(r,this.namespace,n,t0e)),i.setRestrictedReporter(new av(r,this.namespace,n,r0e)),i.setFTReporter(new av(r,this.namespace,n,Nke,!0))}}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let e=this.ctx.get(Ql).deactivate().finally(()=>{this.shuttingDown.delete(e)});this.shuttingDown.add(e)}updateSessionConfig(e){e?.serverUrl&&e.serverUrl!==this.serverUrl&&(this.serverUrl=e.serverUrl,this.rootUrl=e0e(e.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(e){this.rootUrl=e.telemetry,this.isInitialized&&this.initialize(this._enabled)}};u();var $s=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(e){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),e().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(e,r,n){this.#t===e&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=e,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(e,r){this.forceStatus("Error",e,r)}setWarning(e){this.#t!=="Error"&&this.forceStatus("Warning",e)}setInactive(e){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",e)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let e={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(e)}};var ya=class{constructor(e=!1){this.primed=e}static{o(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}};u();var $y=class{static{o(this,"Clock")}now(){return new Date}};u();u();var zu=class t{static{o(this,"ExpConfig")}constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return i0e(e,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e){e.properties["VSCode.ABExp.Features"]=this.features,e.properties["abexp.assignmentcontext"]=this.assignmentContext}};u();var zy=class{static{o(this,"ExpConfigMaker")}},H9=class extends zy{constructor(r={}){super();this.defaultFilters=r}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,i){let s=r.get(As),a=Object.keys(i).length===0?this.defaultFilters:i,c=new URL("telemetry",n.telemetry).href,l;try{l=await s.fetch(c,{method:"GET",headers:a,timeout:5e3})}catch(A){return zu.createFallbackConfig(r,`Error fetching ExP config: ${String(A)}`)}if(!l.ok)return zu.createFallbackConfig(r,`ExP responded with ${l.status}`);let f;try{f=await l.json()}catch(A){if(A instanceof SyntaxError)return Ed(r,A,"fetchExperiments"),zu.createFallbackConfig(r,"ExP responded with invalid JSON");throw A}let d=f.Configs.find(A=>A.Id==="vscode")??{Id:"vscode",Parameters:{}},h=Object.entries(d.Parameters).map(([A,g])=>A+(g?"":"cf"));return new zu(d.Parameters,f.AssignmentContext,h.join(";"))}};u();var Id="X-Copilot-RelatedPluginVersion-",nH=(H=>(H.Market="X-MSEdge-Market",H.CorpNet="X-FD-Corpnet",H.Build="X-VSCode-Build",H.ApplicationVersion="X-VSCode-AppVersion",H.TargetPopulation="X-VSCode-TargetPopulation",H.ClientId="X-MSEdge-ClientId",H.ExtensionName="X-VSCode-ExtensionName",H.ExtensionVersion="X-VSCode-ExtensionVersion",H.ExtensionRelease="X-VSCode-ExtensionRelease",H.Language="X-VSCode-Language",H.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",H.CopilotEngine="X-Copilot-Engine",H.CopilotOverrideEngine="X-Copilot-OverrideEngine",H.CopilotRepository="X-Copilot-Repository",H.CopilotFileType="X-Copilot-FileType",H.CopilotUserKind="X-Copilot-UserKind",H.CopilotDogfood="X-Copilot-Dogfood",H.CopilotCustomModel="X-Copilot-CustomModel",H.CopilotOrgs="X-Copilot-Orgs",H.CopilotCustomModelNames="X-Copilot-CustomModelNames",H.CopilotTrackingId="X-Copilot-CopilotTrackingId",H.CopilotClientVersion="X-Copilot-ClientVersion",H.CopilotRelatedPluginVersionCppTools=Id+"msvscodecpptools",H.CopilotRelatedPluginVersionCMakeTools=Id+"msvscodecmaketools",H.CopilotRelatedPluginVersionMakefileTools=Id+"msvscodemakefiletools",H.CopilotRelatedPluginVersionCSharpDevKit=Id+"msdotnettoolscsdevkit",H.CopilotRelatedPluginVersionPython=Id+"mspythonpython",H.CopilotRelatedPluginVersionPylance=Id+"mspythonvscodepylance",H.CopilotRelatedPluginVersionJavaPack=Id+"vscjavavscodejavapack",H.CopilotRelatedPluginVersionTypescript=Id+"vscodetypescriptlanguagefeatures",H.CopilotRelatedPluginVersionTypescriptNext=Id+"msvscodevscodetypescriptnext",H.CopilotRelatedPluginVersionCSharp=Id+"msdotnettoolscsharp",H))(nH||{});var Pke={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},jy=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let i=Pke[r];i!==void 0&&(e.properties[i]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};u();u();var q9=class{constructor(e){this.prefix=e}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},iH=class extends q9{static{o(this,"ConstantGranularity")}getValue(e){return this.prefix}getUpcomingValues(e){return[]}},o0e=o(t=>new iH(t),"DEFAULT_GRANULARITY"),G9=class extends q9{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let c of s)n.push(this.prefix+a+c);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var s0e="X-Copilot-ClientTimeBucket",V9=class{constructor(e,r){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=o0e(e)}static{o(this,"GranularityDirectory")}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let i=new G9(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(e,i)}}extendFilters(e){let r=this.selectGranularity(e),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(s0e,n),otherFilterSettingsToPrefetch:i.map(s=>e.withChange(s0e,s))}}};u();u();u();u();u();u();u();var W9="4.10.2",y4="04b07795-8ddb-461a-bbee-02f9e1bf7b46",a0e="common",uA;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com"})(uA||(uA={}));var C4=uA.AzurePublicCloud,c0e="login.microsoftonline.com",l0e=["*"],u0e="cae",f0e="nocae",d0e="msal.cache";var oH;var h0e;function Fke(t){var e,r,n,i,s,a,c;let l={cache:{},broker:{isEnabled:(r=(e=t.brokerOptions)===null||e===void 0?void 0:e.enabled)!==null&&r!==void 0?r:!1,enableMsaPassthrough:(i=(n=t.brokerOptions)===null||n===void 0?void 0:n.legacyEnableMsaPassthrough)!==null&&i!==void 0?i:!1,parentWindowHandle:(s=t.brokerOptions)===null||s===void 0?void 0:s.parentWindowHandle}};if(!((a=t.tokenCachePersistenceOptions)===null||a===void 0)&&a.enabled){if(oH===void 0)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));let f=t.tokenCachePersistenceOptions.name||d0e;l.cache.cachePlugin=oH(Object.assign({name:`${f}.${f0e}`},t.tokenCachePersistenceOptions)),l.cache.cachePluginCae=oH(Object.assign({name:`${f}.${u0e}`},t.tokenCachePersistenceOptions))}if(!((c=t.brokerOptions)===null||c===void 0)&&c.enabled){if(h0e===void 0)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`."].join(" "));l.broker.nativeBrokerPlugin=h0e.broker}return l}o(Fke,"generatePluginConfiguration");var A0e={generatePluginConfiguration:Fke};u();u();u();u();u();var p0e=require("node:os"),m0e=yt(require("node:util"),1),g0e=yt(require("node:process"),1);function y0e(t,...e){g0e.stderr.write(`${m0e.default.format(t,...e)}${p0e.EOL}`)}o(y0e,"log");var C0e=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,E0e,sH=[],aH=[],Y9=[];C0e&&cH(C0e);var I0e=Object.assign(t=>v0e(t),{enable:cH,enabled:lH,disable:Lke,log:y0e});function cH(t){E0e=t,sH=[],aH=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?aH.push(new RegExp(`^${n.substr(1)}$`)):sH.push(new RegExp(`^${n}$`));for(let n of Y9)n.enabled=lH(n.namespace)}o(cH,"enable");function lH(t){if(t.endsWith("*"))return!0;for(let e of aH)if(e.test(t))return!1;for(let e of sH)if(e.test(t))return!0;return!1}o(lH,"enabled");function Lke(){let t=E0e||"";return cH(""),t}o(Lke,"disable");function v0e(t){let e=Object.assign(r,{enabled:lH(t),destroy:Mke,log:I0e.log,namespace:t,extend:Oke});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return o(r,"debug"),Y9.push(e),e}o(v0e,"createDebugger");function Mke(){let t=Y9.indexOf(this);return t>=0?(Y9.splice(t,1),!0):!1}o(Mke,"destroy");function Oke(t){let e=v0e(`${this.namespace}:${t}`);return e.log=this.log,e}o(Oke,"extend");var cv=I0e;var x0e=new Set,$9=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,j9,uH=cv("azure");uH.log=(...t)=>{cv.log(...t)};var fH=["verbose","info","warning","error"];$9&&(S0e($9)?Uke($9):console.error(`AZURE_LOG_LEVEL set to unknown log level '${$9}'; logging is not enabled. Acceptable values: ${fH.join(", ")}.`));function Uke(t){if(t&&!S0e(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${fH.join(",")}`);j9=t;let e=[];for(let r of x0e)_0e(r)&&e.push(r.namespace);cv.enable(e.join(","))}o(Uke,"setLogLevel");function K9(){return j9}o(K9,"getLogLevel");var b0e={verbose:400,info:300,warning:200,error:100};function Zm(t){let e=uH.extend(t);return T0e(uH,e),{error:z9(e,"error"),warning:z9(e,"warning"),info:z9(e,"info"),verbose:z9(e,"verbose")}}o(Zm,"createClientLogger");function T0e(t,e){e.log=(...r)=>{t.log(...r)}}o(T0e,"patchLogMethod");function z9(t,e){let r=Object.assign(t.extend(e),{level:e});if(T0e(t,r),_0e(r)){let n=cv.disable();cv.enable(n+","+r.namespace)}return x0e.add(r),r}o(z9,"createLogger");function _0e(t){return!!(j9&&b0e[t.level]<=b0e[j9])}o(_0e,"shouldEnable");function S0e(t){return fH.includes(t)}o(S0e,"isAzureLogLevel");var Fc=Zm("identity");function J9(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}o(J9,"processEnvVars");function Ss(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}o(Ss,"formatSuccess");function ri(t,e){let r="ERROR.";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}o(ri,"formatError");function w0e(t,e,r=Fc){let n=e?`${e.fullTitle} ${t}`:t;function i(l){r.info(`${n} =>`,l)}o(i,"info");function s(l){r.warning(`${n} =>`,l)}o(s,"warning");function a(l){r.verbose(`${n} =>`,l)}o(a,"verbose");function c(l){r.error(`${n} =>`,l)}return o(c,"error"),{title:t,fullTitle:n,info:i,warning:s,verbose:a,error:c}}o(w0e,"credentialLoggerInstance");function Mr(t,e=Fc){let r=w0e(t,void 0,e);return Object.assign(Object.assign({},r),{parent:e,getToken:w0e("=> getToken()",r,e)})}o(Mr,"credentialLogger");u();u();u();function Hke(t){return t&&typeof t.error=="string"&&typeof t.error_description=="string"}o(Hke,"isErrorResponse");var R0e="CredentialUnavailableError",$t=class extends Error{static{o(this,"CredentialUnavailableError")}constructor(e,r){super(e,r),this.name=R0e}},X9="AuthenticationError",eg=class extends Error{static{o(this,"AuthenticationError")}constructor(e,r,n){let i={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(Hke(r))i=B0e(r);else if(typeof r=="string")try{let s=JSON.parse(r);i=B0e(s)}catch{e===400?i={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:i={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else i={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${i.error} Status code: ${e}
More details:
${i.errorDescription},`,n),this.statusCode=e,this.errorResponse=i,this.name=X9}},k0e="AggregateAuthenticationError",E4=class extends Error{static{o(this,"AggregateAuthenticationError")}constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=k0e}};function B0e(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}o(B0e,"convertOAuthErrorResponseToErrorResponse");var ju=class extends Error{static{o(this,"AuthenticationRequiredError")}constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}};function qke(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}o(qke,"createConfigurationErrorMessage");function ps(t,e,r=[],n){var i;let s;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t==="adfs"?s=t:s=(i=e?.tenantId)!==null&&i!==void 0?i:t,t&&s!==t&&!r.includes("*")&&!r.some(a=>a.localeCompare(s)===0)){let a=qke(s);throw n?.info(a),new $t(a)}return s}o(ps,"processMultiTenantRequest");function Ca(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw t.info(ri("",r)),r}}o(Ca,"checkTenantId");function Z9(t,e,r){return e?(Ca(t,e),e):(r||(r=y4),r!==y4?"common":"organizations")}o(Z9,"resolveTenantId");function ws(t){return!t||t.length===0?[]:t.includes("*")?l0e:t}o(ws,"resolveAdditionallyAllowedTenantIds");u();u();u();u();u();u();function Vke(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}o(Vke,"isPrimitiveBody");function Wke(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}o(Wke,"handleNullableResponseAndWrappableBody");function dH(t,e){var r,n;let i=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},i),{body:t.parsedBody});let s=e&&e.bodyMapper,a=!!s?.nullable,c=s?.type.name;if(c==="Stream")return Object.assign(Object.assign({},i),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let l=c==="Composite"&&s.type.modelProperties||{},f=Object.keys(l).some(d=>l[d].serializedName==="");if(c==="Sequence"||f){let d=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let h of Object.keys(l))l[h].serializedName&&(d[h]=(n=t.parsedBody)===null||n===void 0?void 0:n[h]);if(i)for(let h of Object.keys(i))d[h]=i[h];return a&&!t.parsedBody&&!i&&Object.getOwnPropertyNames(l).length===0?null:d}return Wke({body:t.parsedBody,headers:i,hasNullableType:a,shouldWrapBody:Vke(t.parsedBody,c)})}o(dH,"flattenResponse");var vd={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};u();u();u();u();u();var bd=class extends Error{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};u();u();u();var D0e=require("node:os"),N0e=yt(require("node:util"),1),Q0e=yt(require("node:process"),1);function P0e(t,...e){Q0e.stderr.write(`${N0e.default.format(t,...e)}${D0e.EOL}`)}o(P0e,"log");var F0e=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,L0e,hH=[],AH=[],tR=[];F0e&&pH(F0e);var M0e=Object.assign(t=>O0e(t),{enable:pH,enabled:mH,disable:Yke,log:P0e});function pH(t){L0e=t,hH=[],AH=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?AH.push(new RegExp(`^${n.substr(1)}$`)):hH.push(new RegExp(`^${n}$`));for(let n of tR)n.enabled=mH(n.namespace)}o(pH,"enable");function mH(t){if(t.endsWith("*"))return!0;for(let e of AH)if(e.test(t))return!1;for(let e of hH)if(e.test(t))return!0;return!1}o(mH,"enabled");function Yke(){let t=L0e||"";return pH(""),t}o(Yke,"disable");function O0e(t){let e=Object.assign(r,{enabled:mH(t),destroy:$ke,log:M0e.log,namespace:t,extend:zke});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return o(r,"debug"),tR.push(e),e}o(O0e,"createDebugger");function $ke(){let t=tR.indexOf(this);return t>=0?(tR.splice(t,1),!0):!1}o($ke,"destroy");function zke(t){let e=O0e(`${this.namespace}:${t}`);return e.log=this.log,e}o(zke,"extend");var lv=M0e;var gH=["verbose","info","warning","error"],U0e={verbose:400,info:300,warning:200,error:100};function H0e(t,e){e.log=(...r)=>{t.log(...r)}}o(H0e,"patchLogMethod");function q0e(t){return gH.includes(t)}o(q0e,"isTypeSpecRuntimeLogLevel");function jke(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,i=lv(t.namespace);i.log=(...d)=>{lv.log(...d)};function s(d){if(d&&!q0e(d))throw new Error(`Unknown log level '${d}'. Acceptable values: ${gH.join(",")}`);n=d;let h=[];for(let A of e)a(A)&&h.push(A.namespace);lv.enable(h.join(","))}o(s,"contextSetLogLevel"),r&&(q0e(r)?s(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${gH.join(", ")}.`));function a(d){return!!(n&&U0e[d.level]<=U0e[n])}o(a,"shouldEnable");function c(d,h){let A=Object.assign(d.extend(h),{level:h});if(H0e(d,A),a(A)){let g=lv.disable();lv.enable(g+","+A.namespace)}return e.add(A),A}o(c,"createLogger");function l(){return n}o(l,"contextGetLogLevel");function f(d){let h=i.extend(d);return H0e(i,h),{error:c(h,"error"),warning:c(h,"warning"),info:c(h,"info"),verbose:c(h,"verbose")}}return o(f,"contextCreateClientLogger"),{setLogLevel:s,getLogLevel:l,createClientLogger:f,logger:i}}o(jke,"createLoggerContext");var G0e=jke({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),Kke=G0e.logger;function v4(t){return G0e.createClientLogger(t)}o(v4,"createClientLogger");u();function rR(t){return t.toLowerCase()}o(rR,"normalizeName");function*Jke(t){for(let e of t.values())yield[e.name,e.value]}o(Jke,"headerIterator");var yH=class{static{o(this,"HttpHeadersImpl")}constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(rR(e),{name:e,value:String(r).trim()})}get(e){var r;return(r=this._headersMap.get(rR(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(rR(e))}delete(e){this._headersMap.delete(rR(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return Jke(this._headersMap)}};function Lc(t){return new yH(t)}o(Lc,"createHttpHeaders");u();u();u();u();var V0e=require("node:crypto");var CH,Xke=typeof((CH=globalThis?.crypto)===null||CH===void 0?void 0:CH.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):V0e.randomUUID;function uv(){return Xke()}o(uv,"randomUUID");var EH=class{static{o(this,"PipelineRequestImpl")}constructor(e){var r,n,i,s,a,c,l;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:Lc(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(i=e.timeout)!==null&&i!==void 0?i:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(s=e.disableKeepAlive)!==null&&s!==void 0?s:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(a=e.withCredentials)!==null&&a!==void 0?a:!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||uv(),this.allowInsecureConnection=(c=e.allowInsecureConnection)!==null&&c!==void 0?c:!1,this.enableBrowserStreams=(l=e.enableBrowserStreams)!==null&&l!==void 0?l:!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function nR(t){return new EH(t)}o(nR,"createPipelineRequest");u();var W0e=new Set(["Deserialize","Serialize","Retry","Sign"]),IH=class t{static{o(this,"HttpPipeline")}constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!W0e.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!W0e.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((s,a)=>c=>a.sendRequest(c,s),s=>e.sendRequest(s))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(y){return{name:y,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}o(n,"createPhase");let i=n("Serialize"),s=n("None"),a=n("Deserialize"),c=n("Retry"),l=n("Sign"),f=[i,s,a,c,l];function d(y){return y==="Retry"?c:y==="Serialize"?i:y==="Deserialize"?a:y==="Sign"?l:s}o(d,"getPhase");for(let y of this._policies){let v=y.policy,_=y.options,T=v.name;if(r.has(T))throw new Error("Duplicate policy names not allowed in pipeline");let S={policy:v,dependsOn:new Set,dependants:new Set};_.afterPhase&&(S.afterPhase=d(_.afterPhase),S.afterPhase.hasAfterPolicies=!0),r.set(T,S),d(_.phase).policies.add(S)}for(let y of this._policies){let{policy:v,options:_}=y,T=v.name,S=r.get(T);if(!S)throw new Error(`Missing node for policy ${T}`);if(_.afterPolicies)for(let D of _.afterPolicies){let Q=r.get(D);Q&&(S.dependsOn.add(Q),Q.dependants.add(S))}if(_.beforePolicies)for(let D of _.beforePolicies){let Q=r.get(D);Q&&(Q.dependsOn.add(S),S.dependants.add(Q))}}function h(y){y.hasRun=!0;for(let v of y.policies)if(!(v.afterPhase&&(!v.afterPhase.hasRun||v.afterPhase.policies.size))&&v.dependsOn.size===0){e.push(v.policy);for(let _ of v.dependants)_.dependsOn.delete(v);r.delete(v.policy.name),y.policies.delete(v)}}o(h,"walkPhase");function A(){for(let y of f){if(h(y),y.policies.size>0&&y!==s){s.hasRun||h(s);return}y.hasAfterPolicies&&h(s)}}o(A,"walkPhases");let g=0;for(;r.size>0;){g++;let y=e.length;if(A(),e.length<=y&&g>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function iR(){return IH.create()}o(iR,"createEmptyPipeline");u();u();u();function fv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}o(fv,"isObject");function Ky(t){if(fv(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}o(Ky,"isError");u();var Y0e=require("node:util"),$0e=Y0e.inspect.custom;u();var vH="REDACTED",Zke=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],eDe=["api-version"],Ku=class{static{o(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=Zke.concat(e),r=eDe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||fv(i)){if(r.has(i))return"[Circular]";r.add(i)}return i},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,vH);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=vH;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=vH;return r}};var tDe=new Ku,Ea=class t extends Error{static{o(this,"RestError")}constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,$0e,{value:o(()=>`RestError: ${this.message} 
 ${tDe.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};Ea.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Ea.PARSE_ERROR="PARSE_ERROR";function oR(t){return t instanceof Ea?!0:Ky(t)&&t.name==="RestError"}o(oR,"isRestError");u();function j0(t,e){return Buffer.from(t,e)}o(j0,"stringToUint8Array");u();u();var dv=yt(require("node:http"),1),hv=yt(require("node:https"),1),aR=yt(require("node:zlib"),1),j0e=require("node:stream");u();var Pl=v4("ts-http-runtime");var rDe={};function b4(t){return t&&typeof t.pipe=="function"}o(b4,"isReadableStream");function z0e(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=o(()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r)},"handler");t.on("close",r),t.on("end",r),t.on("error",r)})}o(z0e,"isStreamComplete");function K0e(t){return t&&typeof t.byteLength=="number"}o(K0e,"isArrayBuffer");var sR=class extends j0e.Transform{static{o(this,"ReportTransform")}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(i){n(i)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}},bH=class{static{o(this,"NodeHttpClient")}constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,i;let s=new AbortController,a;if(e.abortSignal){if(e.abortSignal.aborted)throw new bd("The operation was aborted. Request has already been canceled.");a=o(A=>{A.type==="abort"&&s.abort()},"abortListener"),e.abortSignal.addEventListener("abort",a)}let c;e.timeout>0&&(c=setTimeout(()=>{let A=new Ku;Pl.info(`request to '${A.sanitizeUrl(e.url)}' timed out. canceling...`),s.abort()},e.timeout));let l=e.headers.get("Accept-Encoding"),f=l?.includes("gzip")||l?.includes("deflate"),d=typeof e.body=="function"?e.body():e.body;if(d&&!e.headers.has("Content-Length")){let A=sDe(d);A!==null&&e.headers.set("Content-Length",A)}let h;try{if(d&&e.onUploadProgress){let T=e.onUploadProgress,S=new sR(T);S.on("error",D=>{Pl.error("Error in upload progress",D)}),b4(d)?d.pipe(S):S.end(d),d=S}let A=await this.makeRequest(e,s,d);c!==void 0&&clearTimeout(c);let g=nDe(A),v={status:(r=A.statusCode)!==null&&r!==void 0?r:0,headers:g,request:e};if(e.method==="HEAD")return A.resume(),v;h=f?iDe(A,g):A;let _=e.onDownloadProgress;if(_){let T=new sR(_);T.on("error",S=>{Pl.error("Error in download progress",S)}),h.pipe(T),h=T}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(v.status)?v.readableStreamBody=h:v.bodyAsText=await oDe(h),v}finally{if(e.abortSignal&&a){let A=Promise.resolve();b4(d)&&(A=z0e(d));let g=Promise.resolve();b4(h)&&(g=z0e(h)),Promise.all([A,g]).then(()=>{var y;a&&((y=e.abortSignal)===null||y===void 0||y.removeEventListener("abort",a))}).catch(y=>{Pl.warning("Error when cleaning up abortListener on httpRequest",y)})}}}makeRequest(e,r,n){var i;let s=new URL(e.url),a=s.protocol!=="https:";if(a&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let c=(i=e.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(e,a),l=Object.assign({agent:c,hostname:s.hostname,path:`${s.pathname}${s.search}`,port:s.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})},e.requestOverrides);return new Promise((f,d)=>{let h=a?dv.request(l,f):hv.request(l,f);h.once("error",A=>{var g;d(new Ea(A.message,{code:(g=A.code)!==null&&g!==void 0?g:Ea.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let A=new bd("The operation was aborted. Rejecting from abort signal callback while making request.");h.destroy(A),d(A)}),n&&b4(n)?n.pipe(h):n?typeof n=="string"||Buffer.isBuffer(n)?h.end(n):K0e(n)?h.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Pl.error("Unrecognized body type",n),d(new Ea("Unrecognized body type"))):h.end()})}getOrCreateAgent(e,r){var n;let i=e.disableKeepAlive;if(r)return i?dv.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new dv.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return hv.globalAgent;let s=(n=e.tlsSettings)!==null&&n!==void 0?n:rDe,a=this.cachedHttpsAgents.get(s);return a&&a.options.keepAlive===!i||(Pl.info("No cached TLS Agent exist, creating a new Agent"),a=new hv.Agent(Object.assign({keepAlive:!i},s)),this.cachedHttpsAgents.set(s,a)),a}}};function nDe(t){let e=Lc();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}o(nDe,"getResponseHeaders");function iDe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=aR.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=aR.createInflate();return t.pipe(n),n}return t}o(iDe,"getDecodedResponseStream");function oDe(t){return new Promise((e,r)=>{let n=[];t.on("data",i=>{Buffer.isBuffer(i)?n.push(i):n.push(Buffer.from(i))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",i=>{i&&i?.name==="AbortError"?r(i):r(new Ea(`Error reading response as text: ${i.message}`,{code:Ea.PARSE_ERROR}))})})}o(oDe,"streamToText");function sDe(t){return t?Buffer.isBuffer(t)?t.length:b4(t)?null:K0e(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}o(sDe,"getBodyLength");function J0e(){return new bH}o(J0e,"createNodeHttpClient");function cR(){return J0e()}o(cR,"createDefaultHttpClient");u();u();u();u();var xH="logPolicy";function lR(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:Pl.info,n=new Ku({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:xH,async sendRequest(i,s){if(!r.enabled)return s(i);r(`Request: ${n.sanitize(i)}`);let a=await s(i);return r(`Response status code: ${a.status}`),r(`Headers: ${n.sanitize(a.headers)}`),a}}}o(lR,"logPolicy");u();var TH="redirectPolicy",X0e=["GET","HEAD"];function uR(t={}){let{maxRetries:e=20}=t;return{name:TH,async sendRequest(r,n){let i=await n(r);return Z0e(n,i,e)}}}o(uR,"redirectPolicy");async function Z0e(t,e,r,n=0){let{request:i,status:s,headers:a}=e,c=a.get("location");if(c&&(s===300||s===301&&X0e.includes(i.method)||s===302&&X0e.includes(i.method)||s===303&&i.method==="POST"||s===307)&&n<r){let l=new URL(c,i.url);i.url=l.toString(),s===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let f=await t(i);return Z0e(t,f,r,n+1)}return e}o(Z0e,"handleRedirect");u();u();u();function ece(){return"User-Agent"}o(ece,"getHeaderName");u();function tce(){return ece()}o(tce,"getUserAgentHeaderName");var LPt=tce();u();var _H="decompressResponsePolicy";function fR(){return{name:_H,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}o(fR,"decompressResponsePolicy");u();u();u();u();function x4(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}o(x4,"getRandomIntegerInclusive");function T4(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+x4(0,n/2)}}o(T4,"calculateRetryDelay");u();u();var aDe="The operation was aborted.";function rce(t,e,r){return new Promise((n,i)=>{let s,a,c=o(()=>i(new bd(r?.abortErrorMsg?r?.abortErrorMsg:aDe)),"rejectOnAbort"),l=o(()=>{r?.abortSignal&&a&&r.abortSignal.removeEventListener("abort",a)},"removeListeners");if(a=o(()=>(s&&clearTimeout(s),l(),c()),"onAborted"),r?.abortSignal&&r.abortSignal.aborted)return c();s=setTimeout(()=>{l(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",a)})}o(rce,"delay");function nce(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}o(nce,"parseHeaderValueAsNumber");var SH="Retry-After",cDe=["retry-after-ms","x-ms-retry-after-ms",SH];function ice(t){if(t&&[429,503].includes(t.status))try{for(let i of cDe){let s=nce(t,i);if(s===0||s)return s*(i===SH?1e3:1)}let e=t.headers.get(SH);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}o(ice,"getRetryAfterInMs");function oce(t){return Number.isFinite(ice(t))}o(oce,"isThrottlingRetryResponse");function wH(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=ice(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}o(wH,"throttlingRetryStrategy");var lDe=1e3,uDe=1e3*64;function dR(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:lDe,i=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:uDe;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:c}){let l=dDe(c),f=l&&t.ignoreSystemErrors,d=fDe(a),h=d&&t.ignoreHttpStatusCodes;return a&&(oce(a)||!d)||h||f?{skipStrategy:!0}:c&&!l&&!d?{errorToThrow:c}:T4(s,{retryDelayInMs:n,maxRetryDelayInMs:i})}}}o(dR,"exponentialRetryStrategy");function fDe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}o(fDe,"isExponentialRetryResponse");function dDe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":!1}o(dDe,"isSystemError");u();var hDe=v4("ts-http-runtime retryPolicy"),ADe="retryPolicy";function tg(t,e={maxRetries:3}){let r=e.logger||hDe;return{name:ADe,async sendRequest(n,i){var s,a;let c,l,f=-1;e:for(;;){f+=1,c=void 0,l=void 0;try{r.info(`Retry ${f}: Attempting to send request`,n.requestId),c=await i(n),r.info(`Retry ${f}: Received a response from request`,n.requestId)}catch(d){if(r.error(`Retry ${f}: Received an error from request`,n.requestId),l=d,!d||l.name!=="RestError")throw d;c=l.response}if(!((s=n.abortSignal)===null||s===void 0)&&s.aborted)throw r.error(`Retry ${f}: Request aborted.`),new bd;if(f>=((a=e.maxRetries)!==null&&a!==void 0?a:3)){if(r.info(`Retry ${f}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),l)throw l;if(c)return c;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${f}: Processing ${t.length} retry strategies.`);t:for(let d of t){let h=d.logger||r;h.info(`Retry ${f}: Processing retry strategy ${d.name}.`);let A=d.retry({retryCount:f,response:c,responseError:l});if(A.skipStrategy){h.info(`Retry ${f}: Skipped.`);continue t}let{errorToThrow:g,retryAfterInMs:y,redirectTo:v}=A;if(g)throw h.error(`Retry ${f}: Retry strategy ${d.name} throws error:`,g),g;if(y||y===0){h.info(`Retry ${f}: Retry strategy ${d.name} retries after ${y}`),await rce(y,void 0,{abortSignal:n.abortSignal});continue e}if(v){h.info(`Retry ${f}: Retry strategy ${d.name} redirects to ${v}`),n.url=v;continue e}}if(l)throw r.info("None of the retry strategies could work with the received error. Throwing it."),l;if(c)return r.info("None of the retry strategies could work with the received response. Returning it."),c}}}}o(tg,"retryPolicy");var BH="defaultRetryPolicy";function hR(t={}){var e;return{name:BH,sendRequest:tg([wH(),dR(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}o(hR,"defaultRetryPolicy");u();u();var RH,kH,DH,NH,sce=typeof window<"u"&&typeof window.document<"u",ace=typeof self=="object"&&typeof self?.importScripts=="function"&&(((RH=self.constructor)===null||RH===void 0?void 0:RH.name)==="DedicatedWorkerGlobalScope"||((kH=self.constructor)===null||kH===void 0?void 0:kH.name)==="ServiceWorkerGlobalScope"||((DH=self.constructor)===null||DH===void 0?void 0:DH.name)==="SharedWorkerGlobalScope"),cce=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",lce=typeof Bun<"u"&&typeof Bun.version<"u",rg=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((NH=globalThis.process.versions)===null||NH===void 0)&&NH.node);var uce=typeof navigator<"u"&&navigator?.product==="ReactNative";var QH="formDataPolicy";function pDe(t){var e;let r={};for(let[n,i]of t.entries())(e=r[n])!==null&&e!==void 0||(r[n]=[]),r[n].push(i);return r}o(pDe,"formDataToFormDataMap");function AR(){return{name:QH,async sendRequest(t,e){if(rg&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=pDe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=mDe(t.formData):await gDe(t.formData,t),t.formData=void 0}return e(t)}}}o(AR,"formDataPolicy");function mDe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.append(r,i.toString());else e.append(r,n.toString());return e.toString()}o(mDe,"wwwFormUrlEncode");async function gDe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[i,s]of Object.entries(t))for(let a of Array.isArray(s)?s:[s])if(typeof a=="string")n.push({headers:Lc({"Content-Disposition":`form-data; name="${i}"`}),body:j0(a,"utf-8")});else{if(a==null||typeof a!="object")throw new Error(`Unexpected value for key ${i}: ${a}. Value should be serialized to string first.`);{let c=a.name||"blob",l=Lc();l.set("Content-Disposition",`form-data; name="${i}"; filename="${c}"`),l.set("Content-Type",a.type||"application/octet-stream"),n.push({headers:l,body:a})}}e.multipartBody={parts:n}}o(gDe,"prepareFormData");u();var Oce=yt(Dce(),1),Uce=yt(Pce(),1);var mNe="HTTPS_PROXY",gNe="HTTP_PROXY",yNe="ALL_PROXY",CNe="NO_PROXY",GH="proxyPolicy",Fce=[],Hce=!1,ENe=new Map;function vR(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}o(vR,"getEnvironmentValue");function INe(){if(!process)return;let t=vR(mNe),e=vR(yNe),r=vR(gNe);return t||e||r}o(INe,"loadEnvironmentProxyValue");function vNe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let i=!1;for(let s of e)s[0]==="."?(n.endsWith(s)||n.length===s.length-1&&n===s.slice(1))&&(i=!0):n===s&&(i=!0);return r?.set(n,i),i}o(vNe,"isBypassed");function bNe(){let t=vR(CNe);return Hce=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}o(bNe,"loadNoProxy");function xNe(){let t=INe();return t?new URL(t):void 0}o(xNe,"getDefaultProxySettingsInternal");function Lce(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}o(Lce,"getUrlFromProxySettings");function Mce(t,e,r){if(t.agent)return;let i=new URL(t.url).protocol!=="https:";t.tlsSettings&&Pl.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let s=t.headers.toJSON();i?(e.httpProxyAgent||(e.httpProxyAgent=new Uce.HttpProxyAgent(r,{headers:s})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new Oce.HttpsProxyAgent(r,{headers:s})),t.agent=e.httpsProxyAgent)}o(Mce,"setProxyAgentOnRequest");function bR(t,e){Hce||Fce.push(...bNe());let r=t?Lce(t):xNe(),n={};return{name:GH,async sendRequest(i,s){var a;return!i.proxySettings&&r&&!vNe(i.url,(a=e?.customNoProxyList)!==null&&a!==void 0?a:Fce,e?.customNoProxyList?void 0:ENe)?Mce(i,n,r):i.proxySettings&&Mce(i,n,Lce(i.proxySettings)),s(i)}}}o(bR,"proxyPolicy");u();var VH="agentPolicy";function xR(t){return{name:VH,sendRequest:o(async(e,r)=>(e.agent||(e.agent=t),r(e)),"sendRequest")}}o(xR,"agentPolicy");u();var WH="tlsPolicy";function TR(t){return{name:WH,sendRequest:o(async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e)),"sendRequest")}}o(TR,"tlsPolicy");u();u();function _R(t){return typeof t.stream=="function"}o(_R,"isBlob");u();u();function qce(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:o(function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}},"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(qce,"__values");function _d(t){return this instanceof _d?(this.v=t,this):new _d(t)}o(_d,"__await");function YH(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,h)}}function c(g,y){n[g]&&(i[g]=function(v){return new Promise(function(_,T){s.push([g,v,_,T])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{f(n[g](y))}catch(v){A(s[0][3],v)}}function f(g){g.value instanceof _d?Promise.resolve(g.value.v).then(d,h):A(s[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function A(g,y){g(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}o(YH,"__asyncGenerator");function Gce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qce=="function"?qce(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(c,l){a=t[s](a),i(c,l,a.done,a.value)})}}function i(s,a,c,l){Promise.resolve(l).then(function(f){s({value:f,done:c})},a)}}o(Gce,"__asyncValues");var SR=require("stream");function Vce(){return YH(this,arguments,o(function*(){let e=this.getReader();try{for(;;){let{done:r,value:n}=yield _d(e.read());if(r)return yield _d(void 0);yield yield _d(n)}}finally{e.releaseLock()}},"streamAsyncIterator_1"))}o(Vce,"streamAsyncIterator");function TNe(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=Vce.bind(t)),t.values||(t.values=Vce.bind(t))}o(TNe,"makeAsyncIterable");function Wce(t){return t instanceof ReadableStream?(TNe(t),SR.Readable.fromWeb(t)):t}o(Wce,"ensureNodeStream");function _Ne(t){return t instanceof Uint8Array?SR.Readable.from(Buffer.from(t)):_R(t)?Wce(t.stream()):Wce(t)}o(_Ne,"toStream");async function Yce(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(_Ne);return SR.Readable.from(function(){return YH(this,arguments,function*(){var r,n,i,s;for(let f of e)try{for(var a=!0,c=(n=void 0,Gce(f)),l;l=yield _d(c.next()),r=l.done,!r;a=!0)s=l.value,a=!1,yield yield _d(s)}catch(d){n={error:d}}finally{try{!a&&!r&&(i=c.return)&&(yield _d(i.call(c)))}finally{if(n)throw n.error}}})}())}}o(Yce,"concat");function SNe(){return`----AzSDKFormBoundary${uv()}`}o(SNe,"generateBoundary");function wNe(t){let e="";for(let[r,n]of t)e+=`${r}: ${n}\r
`;return e}o(wNe,"encodeHeaders");function BNe(t){return t instanceof Uint8Array?t.byteLength:_R(t)?t.size===-1?void 0:t.size:void 0}o(BNe,"getLength");function RNe(t){let e=0;for(let r of t){let n=BNe(r);if(n===void 0)return;e+=n}return e}o(RNe,"getTotalLength");async function kNe(t,e,r){let n=[j0(`--${r}`,"utf-8"),...e.flatMap(s=>[j0(`\r
`,"utf-8"),j0(wNe(s.headers),"utf-8"),j0(`\r
`,"utf-8"),s.body,j0(`\r
--${r}`,"utf-8")]),j0(`--\r
\r
`,"utf-8")],i=RNe(n);i&&t.headers.set("Content-Length",i),t.body=await Yce(n)}o(kNe,"buildRequestBody");var S4="multipartPolicy",DNe=70,NNe=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function QNe(t){if(t.length>DNe)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!NNe.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}o(QNe,"assertValidBoundary");function wR(){return{name:S4,async sendRequest(t,e){var r;if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=t.multipartBody.boundary,i=(r=t.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",s=i.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!s)throw new Error(`Got multipart request body, but content-type header was not multipart: ${i}`);let[,a,c]=s;if(c&&n&&c!==n)throw new Error(`Multipart boundary was specified as ${c} in the header, but got ${n} in the request body`);return n??(n=c),n?QNe(n):n=SNe(),t.headers.set("Content-Type",`${a}; boundary=${n}`),await kNe(t,t.multipartBody.parts,n),t.multipartBody=void 0,e(t)}}}o(wR,"multipartPolicy");u();u();u();u();u();u();u();u();u();u();u();u();function BR(){return iR()}o(BR,"createEmptyPipeline");u();u();u();var Sd=Zm("core-rest-pipeline");u();u();u();u();function jH(t={}){return lR(Object.assign({logger:Sd.info},t))}o(jH,"logPolicy");u();function KH(t={}){return uR(t)}o(KH,"redirectPolicy");u();u();u();var Cv=yt(require("node:os"),1),RR=yt(require("node:process"),1);function $ce(){return"User-Agent"}o($ce,"getHeaderName");async function zce(t){if(RR&&RR.versions){let e=RR.versions;e.bun?t.set("Bun",e.bun):e.deno?t.set("Deno",e.deno):e.node&&t.set("Node",e.node)}t.set("OS",`(${Cv.arch()}-${Cv.type()}-${Cv.release()})`)}o(zce,"setPlatformSpecificData");u();var kR="1.22.0";function GNe(t){let e=[];for(let[r,n]of t){let i=n?`${r}/${n}`:r;e.push(i)}return e.join(" ")}o(GNe,"getUserAgentString");function jce(){return $ce()}o(jce,"getUserAgentHeaderName");async function DR(t){let e=new Map;e.set("core-rest-pipeline",kR),await zce(e);let r=GNe(e);return t?`${t} ${r}`:r}o(DR,"getUserAgentValue");var Kce=jce(),Jce="userAgentPolicy";function JH(t={}){let e=DR(t.userAgentPrefix);return{name:Jce,async sendRequest(r,n){return r.headers.has(Kce)||r.headers.set(Kce,await e),n(r)}}}o(JH,"userAgentPolicy");u();u();u();u();u();u();u();u();u();var Zy=class extends Error{static{o(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};function XH(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=e??{};return new Promise((s,a)=>{function c(){a(new Zy(i??"The operation was aborted."))}o(c,"rejectOnAbort");function l(){n?.removeEventListener("abort",f)}o(l,"removeListeners");function f(){r?.(),l(),c()}if(o(f,"onAbort"),n?.aborted)return c();try{t(d=>{l(),s(d)},d=>{l(),a(d)})}catch(d){a(d)}n?.addEventListener("abort",f)})}o(XH,"createAbortablePromise");u();var zNe="The delay was aborted.";function ZH(t,e){let r,{abortSignal:n,abortErrorMsg:i}=e??{};return XH(s=>{r=setTimeout(s,t)},{cleanupBeforeAbort:o(()=>clearTimeout(r),"cleanupBeforeAbort"),abortSignal:n,abortErrorMsg:i??zNe})}o(ZH,"delay");u();function Ev(t){if(Ky(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}o(Ev,"getErrorMessage");u();function Xce(t,e){return T4(t,e)}o(Xce,"calculateRetryDelay");function NR(t){return Ky(t)}o(NR,"isError");var QR=rg,Iv=rg;var Zce=Symbol("rawContent");function eq(t){return typeof t[Zce]=="function"}o(eq,"hasRawContent");function ele(t){return eq(t)?t[Zce]():t}o(ele,"getRawContent");var PR=S4;function tq(){let t=wR();return{name:PR,sendRequest:o(async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)eq(n.body)&&(n.body=ele(n.body));return t.sendRequest(e,r)},"sendRequest")}}o(tq,"multipartPolicy");u();function rq(){return fR()}o(rq,"decompressResponsePolicy");u();function nq(t={}){return hR(t)}o(nq,"defaultRetryPolicy");u();function iq(){return AR()}o(iq,"formDataPolicy");u();function oq(t,e){return bR(t,e)}o(oq,"proxyPolicy");u();var tle="setClientRequestIdPolicy";function sq(t="x-ms-client-request-id"){return{name:tle,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}o(sq,"setClientRequestIdPolicy");u();function aq(t){return xR(t)}o(aq,"agentPolicy");u();function cq(t){return TR(t)}o(cq,"tlsPolicy");u();u();u();u();var vv={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function rle(t={}){let e=new lq(t.parentContext);return t.span&&(e=e.setValue(vv.span,t.span)),t.namespace&&(e=e.setValue(vv.namespace,t.namespace)),e}o(rle,"createTracingContext");var lq=class t{static{o(this,"TracingContextImpl")}constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};u();var ile=yt(nle(),1),LR=ile.state;function jNe(){return{end:o(()=>{},"end"),isRecording:o(()=>!1,"isRecording"),recordException:o(()=>{},"recordException"),setAttribute:o(()=>{},"setAttribute"),setStatus:o(()=>{},"setStatus"),addEvent:o(()=>{},"addEvent")}}o(jNe,"createDefaultTracingSpan");function KNe(){return{createRequestHeaders:o(()=>({}),"createRequestHeaders"),parseTraceparentHeader:o(()=>{},"parseTraceparentHeader"),startSpan:o((t,e)=>({span:jNe(),tracingContext:rle({parentContext:e.tracingContext})}),"startSpan"),withContext(t,e,...r){return e(...r)}}}o(KNe,"createDefaultInstrumenter");function w4(){return LR.instrumenterImplementation||(LR.instrumenterImplementation=KNe()),LR.instrumenterImplementation}o(w4,"getInstrumenter");u();function B4(t){let{namespace:e,packageName:r,packageVersion:n}=t;function i(f,d,h){var A;let g=w4().startSpan(f,Object.assign(Object.assign({},h),{packageName:r,packageVersion:n,tracingContext:(A=d?.tracingOptions)===null||A===void 0?void 0:A.tracingContext})),y=g.tracingContext,v=g.span;y.getValue(vv.namespace)||(y=y.setValue(vv.namespace,e)),v.setAttribute("az.namespace",y.getValue(vv.namespace));let _=Object.assign({},d,{tracingOptions:Object.assign(Object.assign({},d?.tracingOptions),{tracingContext:y})});return{span:v,updatedOptions:_}}o(i,"startSpan");async function s(f,d,h,A){let{span:g,updatedOptions:y}=i(f,d,A);try{let v=await a(y.tracingOptions.tracingContext,()=>Promise.resolve(h(y,g)));return g.setStatus({status:"success"}),v}catch(v){throw g.setStatus({status:"error",error:v}),v}finally{g.end()}}o(s,"withSpan");function a(f,d,...h){return w4().withContext(f,d,...h)}o(a,"withContext");function c(f){return w4().parseTraceparentHeader(f)}o(c,"parseTraceparentHeader");function l(f){return w4().createRequestHeaders(f)}return o(l,"createRequestHeaders"),{startSpan:i,withSpan:s,withContext:a,parseTraceparentHeader:c,createRequestHeaders:l}}o(B4,"createTracingClient");u();var bv=Ea;function R4(t){return oR(t)}o(R4,"isRestError");var ole="tracingPolicy";function uq(t={}){let e=DR(t.userAgentPrefix),r=new Ku({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=JNe();return{name:ole,async sendRequest(i,s){var a;if(!n)return s(i);let c=await e,l={"http.url":r.sanitizeUrl(i.url),"http.method":i.method,"http.user_agent":c,requestId:i.requestId};c&&(l["http.user_agent"]=c);let{span:f,tracingContext:d}=(a=XNe(n,i,l))!==null&&a!==void 0?a:{};if(!f||!d)return s(i);try{let h=await n.withContext(d,s,i);return eQe(f,h),h}catch(h){throw ZNe(f,h),h}}}}o(uq,"tracingPolicy");function JNe(){try{return B4({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:kR})}catch(t){Sd.warning(`Error when creating the TracingClient: ${Ev(t)}`);return}}o(JNe,"tryCreateTracingClient");function XNe(t,e,r){try{let{span:n,updatedOptions:i}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let s=t.createRequestHeaders(i.tracingOptions.tracingContext);for(let[a,c]of Object.entries(s))e.headers.set(a,c);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){Sd.warning(`Skipping creating a tracing span due to an error: ${Ev(n)}`);return}}o(XNe,"tryCreateSpan");function ZNe(t,e){try{t.setStatus({status:"error",error:NR(e)?e:void 0}),R4(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){Sd.warning(`Skipping tracing span processing due to an error: ${Ev(r)}`)}}o(ZNe,"tryProcessError");function eQe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(r){Sd.warning(`Skipping tracing span processing due to an error: ${Ev(r)}`)}}o(eQe,"tryProcessResponse");u();u();function MR(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener("abort",i),r=!1)}o(n,"cleanup");function i(){e.abort(t.reason),n()}return o(i,"listener"),t.addEventListener("abort",i),{abortSignal:e.signal,cleanup:n}}o(MR,"wrapAbortSignalLike");var tQe="wrapAbortSignalLikePolicy";function sle(){return{name:tQe,sendRequest:o(async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=MR(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}},"sendRequest")}}o(sle,"wrapAbortSignalLikePolicy");function fq(t){var e;let r=BR();return Iv&&(t.agent&&r.addPolicy(aq(t.agent)),t.tlsOptions&&r.addPolicy(cq(t.tlsOptions)),r.addPolicy(oq(t.proxyOptions)),r.addPolicy(rq())),r.addPolicy(sle()),r.addPolicy(iq(),{beforePolicies:[PR]}),r.addPolicy(JH(t.userAgentOptions)),r.addPolicy(sq((e=t.telemetryOptions)===null||e===void 0?void 0:e.clientRequestIdHeaderName)),r.addPolicy(tq(),{afterPhase:"Deserialize"}),r.addPolicy(nq(t.retryOptions),{phase:"Retry"}),r.addPolicy(uq(Object.assign(Object.assign({},t.userAgentOptions),t.loggingOptions)),{afterPhase:"Retry"}),Iv&&r.addPolicy(KH(t.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(jH(t.loggingOptions),{afterPhase:"Sign"}),r}o(fq,"createPipelineFromOptions");u();function dq(){let t=cR();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?MR(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}o(dq,"createDefaultHttpClient");u();function ig(t){return Lc(t)}o(ig,"createHttpHeaders");u();function Ju(t){return nR(t)}o(Ju,"createPipelineRequest");u();u();u();u();var nQe=Zm("core-rest-pipeline retryPolicy");function hq(t,e={maxRetries:3}){return tg(t,Object.assign({logger:nQe},e))}o(hq,"retryPolicy");u();u();var iQe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function oQe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let s=await t();if(s===null)throw new Error("Failed to refresh access token.");return s}}o(n,"tryGetAccessToken");let i=await n();for(;i===null;)await ZH(e),i=await n();return i}o(oQe,"beginRefresh");function Aq(t,e){let r=null,n=null,i,s=Object.assign(Object.assign({},iQe),e),a={get isRefreshing(){return r!==null},get shouldRefresh(){var l;return a.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((l=n?.expiresOnTimestamp)!==null&&l!==void 0?l:0)-s.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-s.forcedRefreshWindowInMs<Date.now()}};function c(l,f){var d;return a.isRefreshing||(r=oQe(o(()=>t.getToken(l,f),"tryGetAccessToken"),s.retryIntervalInMs,(d=n?.expiresOnTimestamp)!==null&&d!==void 0?d:Date.now()).then(A=>(r=null,n=A,i=f.tenantId,n)).catch(A=>{throw r=null,n=null,i=void 0,A})),r}return o(c,"refresh"),async(l,f)=>{let d=!!f.claims,h=i!==f.tenantId;return d&&(n=null),h||d||a.mustRefresh?c(l,f):(a.shouldRefresh&&c(l,f),n)}}o(Aq,"createTokenCycler");var ule="bearerTokenAuthenticationPolicy";async function OR(t,e){try{return[await e(t),void 0]}catch(r){if(R4(r)&&r.response)return[r.response,r];throw r}}o(OR,"trySendRequest");async function sQe(t){let{scopes:e,getAccessToken:r,request:n}=t,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},s=await r(e,i);s&&t.request.headers.set("Authorization",`Bearer ${s.token}`)}o(sQe,"defaultAuthorizeRequest");function ale(t){return t.status===401&&t.headers.has("WWW-Authenticate")}o(ale,"isChallengeResponse");async function cle(t,e){var r;let{scopes:n}=t,i=await t.getAccessToken(n,{enableCae:!0,claims:e});return i?(t.request.headers.set("Authorization",`${(r=i.tokenType)!==null&&r!==void 0?r:"Bearer"} ${i.token}`),!0):!1}o(cle,"authorizeRequestOnCaeChallenge");function UR(t){var e,r,n;let{credential:i,scopes:s,challengeCallbacks:a}=t,c=t.logger||Sd,l={authorizeRequest:(r=(e=a?.authorizeRequest)===null||e===void 0?void 0:e.bind(a))!==null&&r!==void 0?r:sQe,authorizeRequestOnChallenge:(n=a?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(a)},f=i?Aq(i):()=>Promise.resolve(null);return{name:ule,async sendRequest(d,h){if(!d.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await l.authorizeRequest({scopes:Array.isArray(s)?s:[s],request:d,getAccessToken:f,logger:c});let A,g,y;if([A,g]=await OR(d,h),ale(A)){let v=lle(A.headers.get("WWW-Authenticate"));if(v){let _;try{_=atob(v)}catch{return c.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),A}y=await cle({scopes:Array.isArray(s)?s:[s],response:A,request:d,getAccessToken:f,logger:c},_),y&&([A,g]=await OR(d,h))}else if(l.authorizeRequestOnChallenge&&(y=await l.authorizeRequestOnChallenge({scopes:Array.isArray(s)?s:[s],request:d,response:A,getAccessToken:f,logger:c}),y&&([A,g]=await OR(d,h)),ale(A)&&(v=lle(A.headers.get("WWW-Authenticate")),v))){let _;try{_=atob(v)}catch{return c.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),A}y=await cle({scopes:Array.isArray(s)?s:[s],response:A,request:d,getAccessToken:f,logger:c},_),y&&([A,g]=await OR(d,h))}}if(g)throw g;return A}}}o(UR,"bearerTokenAuthenticationPolicy");function aQe(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[],i;for(;(i=e.exec(t))!==null;){let s=i[1],a=i[2],c={},l;for(;(l=r.exec(a))!==null;)c[l[1]]=l[2];n.push({scheme:s,params:c})}return n}o(aQe,"parseChallenges");function lle(t){var e;return t?(e=aQe(t).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||e===void 0?void 0:e.params.claims:void 0}o(lle,"getCaeChallengeClaims");u();u();u();u();u();u();var dle=yt(fle(),1),pq=dle.state;function og(t,e,r){let n=e.parameterPath,i=e.mapper,s;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(i.isConstant)s=i.defaultValue;else{let a=hle(t,n);!a.propertyFound&&r&&(a=hle(r,n));let c=!1;a.propertyFound||(c=i.required||n[0]==="options"&&n.length===2),s=c?i.defaultValue:a.propertyValue}}else{i.required&&(s={});for(let a in n){let c=i.type.modelProperties[a],l=n[a],f=og(t,{parameterPath:l,mapper:c},r);f!==void 0&&(s||(s={}),s[a]=f)}}return s}o(og,"getOperationArgumentValueFromParameter");function hle(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let i=e[n];if(t&&i in t)t=t[i];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}o(hle,"getPropertyFromParameterPath");var Ale=Symbol.for("@azure/core-client original request");function cQe(t){return Ale in t}o(cQe,"hasOriginalRequest");function fA(t){if(cQe(t))return fA(t[Ale]);let e=pq.operationRequestMap.get(t);return e||(e={},pq.operationRequestMap.set(t,e)),e}o(fA,"getOperationRequestInfo");var lQe=["application/json","text/json"],uQe=["application/xml","application/atom+xml"],ple="deserializationPolicy";function mq(t={}){var e,r,n,i,s,a,c;let l=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:lQe,f=(i=(n=t.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&i!==void 0?i:uQe,d=t.parseXML,h=t.serializerOptions,A={xml:{rootName:(s=h?.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(a=h?.xml.includeRoot)!==null&&a!==void 0?a:!1,xmlCharKey:(c=h?.xml.xmlCharKey)!==null&&c!==void 0?c:"_"}};return{name:ple,async sendRequest(g,y){let v=await y(g);return hQe(l,f,v,A,d)}}}o(mq,"deserializationPolicy");function fQe(t){let e,r=t.request,n=fA(r),i=n?.operationSpec;return i&&(n?.operationResponseGetter?e=n?.operationResponseGetter(i,t):e=i.responses[t.status]),e}o(fQe,"getOperationResponseMap");function dQe(t){let e=t.request,r=fA(e),n=r?.shouldDeserialize,i;return n===void 0?i=!0:typeof n=="boolean"?i=n:i=n(t),i}o(dQe,"shouldDeserializeResponse");async function hQe(t,e,r,n,i){let s=await mQe(t,e,r,n,i);if(!dQe(s))return s;let a=fA(s.request),c=a?.operationSpec;if(!c||!c.responses)return s;let l=fQe(s),{error:f,shouldReturnResponse:d}=pQe(s,c,l,n);if(f)throw f;if(d)return s;if(l){if(l.bodyMapper){let h=s.parsedBody;c.isXML&&l.bodyMapper.type.name===vd.Sequence&&(h=typeof h=="object"?h[l.bodyMapper.xmlElementName]:[]);try{s.parsedBody=c.serializer.deserialize(l.bodyMapper,h,"operationRes.parsedBody",n)}catch(A){throw new bv(`Error ${A} occurred in deserializing the responseBody - ${s.bodyAsText}`,{statusCode:s.status,request:s.request,response:s})}}else c.httpMethod==="HEAD"&&(s.parsedBody=r.status>=200&&r.status<300);l.headersMapper&&(s.parsedHeaders=c.serializer.deserialize(l.headersMapper,s.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return s}o(hQe,"deserializeResponseBody");function AQe(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}o(AQe,"isOperationSpecEmpty");function pQe(t,e,r,n){var i;let s=200<=t.status&&t.status<300;if(AQe(e)?s:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let c=r??e.responses.default,l=!((i=t.request.streamResponseStatusCodes)===null||i===void 0)&&i.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,f=new bv(l,{statusCode:t.status,request:t.request,response:t});if(!c)throw f;let d=c.bodyMapper,h=c.headersMapper;try{if(t.parsedBody){let A=t.parsedBody,g;if(d){let v=A;if(e.isXML&&d.type.name===vd.Sequence){v=[];let _=d.xmlElementName;typeof A=="object"&&_&&(v=A[_])}g=e.serializer.deserialize(d,v,"error.response.parsedBody",n)}let y=A.error||g||A;f.code=y.code,y.message&&(f.message=y.message),d&&(f.response.parsedBody=g)}t.headers&&h&&(f.response.parsedHeaders=e.serializer.deserialize(h,t.headers.toJSON(),"operationRes.parsedHeaders"))}catch(A){f.message=`Error "${A.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:f,shouldReturnResponse:!1}}o(pQe,"handleErrorResponse");async function mQe(t,e,r,n,i){var s;if(!(!((s=r.request.streamResponseStatusCodes)===null||s===void 0)&&s.has(r.status))&&r.bodyAsText){let a=r.bodyAsText,c=r.headers.get("Content-Type")||"",l=c?c.split(";").map(f=>f.toLowerCase()):[];try{if(l.length===0||l.some(f=>t.indexOf(f)!==-1))return r.parsedBody=JSON.parse(a),r;if(l.some(f=>e.indexOf(f)!==-1)){if(!i)throw new Error("Parsing XML not supported.");let f=await i(a,n.xml);return r.parsedBody=f,r}}catch(f){let d=`Error "${f}" occurred while parsing the response body - ${r.bodyAsText}.`,h=f.code||bv.PARSE_ERROR;throw new bv(d,{code:h,statusCode:r.status,request:r.request,response:r})}}return r}o(mQe,"parse");u();u();function mle(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===vd.Stream&&e.add(Number(r))}return e}o(mle,"getStreamingResponseStatusCodes");function wd(t){let{parameterPath:e,mapper:r}=t,n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=r.serializedName,n}o(wd,"getPathStringFromParameter");var gle="serializationPolicy";function gq(t={}){let e=t.stringifyXML;return{name:gle,async sendRequest(r,n){let i=fA(r),s=i?.operationSpec,a=i?.operationArguments;return s&&a&&(gQe(r,a,s),yQe(r,a,s,e)),n(r)}}}o(gq,"serializationPolicy");function gQe(t,e,r){var n,i;if(r.headerParameters)for(let a of r.headerParameters){let c=og(e,a);if(c!=null||a.mapper.required){c=r.serializer.serialize(a.mapper,c,wd(a));let l=a.mapper.headerCollectionPrefix;if(l)for(let f of Object.keys(c))t.headers.set(l+f,c[f]);else t.headers.set(a.mapper.serializedName||wd(a),c)}}let s=(i=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(s)for(let a of Object.keys(s))t.headers.set(a,s[a])}o(gQe,"serializeHeaders");function yQe(t,e,r,n=function(){throw new Error("XML serialization unsupported!")}){var i,s,a,c,l;let f=(i=e.options)===null||i===void 0?void 0:i.serializerOptions,d={xml:{rootName:(s=f?.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(a=f?.xml.includeRoot)!==null&&a!==void 0?a:!1,xmlCharKey:(c=f?.xml.xmlCharKey)!==null&&c!==void 0?c:"_"}},h=d.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=og(e,r.requestBody);let A=r.requestBody.mapper,{required:g,serializedName:y,xmlName:v,xmlElementName:_,xmlNamespace:T,xmlNamespacePrefix:S,nullable:D}=A,Q=A.type.name;try{if(t.body!==void 0&&t.body!==null||D&&t.body===null||g){let k=wd(r.requestBody);t.body=r.serializer.serialize(A,t.body,k,d);let P=Q===vd.Stream;if(r.isXML){let W=S?`xmlns:${S}`:"xmlns",re=CQe(T,W,Q,t.body,d);Q===vd.Sequence?t.body=n(EQe(re,_||v||y,W,T),{rootName:v||y,xmlCharKey:h}):P||(t.body=n(re,{rootName:v||y,xmlCharKey:h}))}else{if(Q===vd.String&&(!((l=r.contentType)===null||l===void 0)&&l.match("text/plain")||r.mediaType==="text"))return;P||(t.body=JSON.stringify(t.body))}}}catch(k){throw new Error(`Error "${k.message}" occurred in serializing the payload - ${JSON.stringify(y,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let A of r.formDataParameters){let g=og(e,A);if(g!=null){let y=A.mapper.serializedName||wd(A);t.formData[y]=r.serializer.serialize(A.mapper,g,wd(A),d)}}}}o(yQe,"serializeRequestBody");function CQe(t,e,r,n,i){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let s={};return s[i.xml.xmlCharKey]=n,s["$"]={[e]:t},s}return n}o(CQe,"getXmlValueWithNamespace");function EQe(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let i={[e]:t};return i["$"]={[r]:n},i}o(EQe,"prepareXMLRootList");function yq(t={}){let e=fq(t??{});return t.credentialOptions&&e.addPolicy(UR({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(gq(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(mq(t.deserializationOptions),{phase:"Deserialize"}),e}o(yq,"createClientPipeline");u();var Cq;function yle(){return Cq||(Cq=dq()),Cq}o(yle,"getCachedDefaultHttpClient");u();var IQe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function Ele(t,e,r,n){let i=vQe(e,r,n),s=!1,a=Cle(t,i);if(e.path){let f=Cle(e.path,i);e.path==="/{nextLink}"&&f.startsWith("/")&&(f=f.substring(1)),bQe(f)?(a=f,s=!0):a=xQe(a,f)}let{queryParams:c,sequenceParams:l}=TQe(e,r,n);return a=SQe(a,c,l,s),a}o(Ele,"getRequestUrl");function Cle(t,e){let r=t;for(let[n,i]of e)r=r.split(n).join(i);return r}o(Cle,"replaceAll");function vQe(t,e,r){var n;let i=new Map;if(!((n=t.urlParameters)===null||n===void 0)&&n.length)for(let s of t.urlParameters){let a=og(e,s,r),c=wd(s);a=t.serializer.serialize(s.mapper,a,c),s.skipEncoding||(a=encodeURIComponent(a)),i.set(`{${s.mapper.serializedName||c}}`,a)}return i}o(vQe,"calculateUrlReplacements");function bQe(t){return t.includes("://")}o(bQe,"isAbsoluteUrl");function xQe(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));let i=e.indexOf("?");if(i!==-1){let s=e.substring(0,i),a=e.substring(i+1);n=n+s,a&&(r.search=r.search?`${r.search}&${a}`:a)}else n=n+e;return r.pathname=n,r.toString()}o(xQe,"appendPath");function TQe(t,e,r){var n;let i=new Map,s=new Set;if(!((n=t.queryParameters)===null||n===void 0)&&n.length)for(let a of t.queryParameters){a.mapper.type.name==="Sequence"&&a.mapper.serializedName&&s.add(a.mapper.serializedName);let c=og(e,a,r);if(c!=null||a.mapper.required){c=t.serializer.serialize(a.mapper,c,wd(a));let l=a.collectionFormat?IQe[a.collectionFormat]:"";if(Array.isArray(c)&&(c=c.map(f=>f??"")),a.collectionFormat==="Multi"&&c.length===0)continue;Array.isArray(c)&&(a.collectionFormat==="SSV"||a.collectionFormat==="TSV")&&(c=c.join(l)),a.skipEncoding||(Array.isArray(c)?c=c.map(f=>encodeURIComponent(f)):c=encodeURIComponent(c)),Array.isArray(c)&&(a.collectionFormat==="CSV"||a.collectionFormat==="Pipes")&&(c=c.join(l)),i.set(a.mapper.serializedName||wd(a),c)}}return{queryParams:i,sequenceParams:s}}o(TQe,"calculateQueryParameters");function _Qe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let n of r){let[i,s]=n.split("=",2),a=e.get(i);a?Array.isArray(a)?a.push(s):e.set(i,[a,s]):e.set(i,s)}return e}o(_Qe,"simpleParseQueryParams");function SQe(t,e,r,n=!1){if(e.size===0)return t;let i=new URL(t),s=_Qe(i.search);for(let[c,l]of e){let f=s.get(c);if(Array.isArray(f))if(Array.isArray(l)){f.push(...l);let d=new Set(f);s.set(c,Array.from(d))}else f.push(l);else f?(Array.isArray(l)?l.unshift(f):r.has(c)&&s.set(c,[f,l]),n||s.set(c,l)):s.set(c,l)}let a=[];for(let[c,l]of s)if(typeof l=="string")a.push(`${c}=${l}`);else if(Array.isArray(l))for(let f of l)a.push(`${c}=${f}`);else a.push(`${c}=${l}`);return i.search=a.length?`?${a.join("&")}`:"",i.toString()}o(SQe,"appendQueryParams");u();var Eq=Zm("core-client");var k4=class{static{o(this,"ServiceClient")}constructor(e={}){var r,n;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&Eq.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||yle(),this.pipeline=e.pipeline||wQe(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(let{policy:i,position:s}of e.additionalPolicies){let a=s==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(i,{afterPhase:a})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let i=Ele(n,r,e,this),s=Ju({url:i});s.method=r.httpMethod;let a=fA(s);a.operationSpec=r,a.operationArguments=e;let c=r.contentType||this._requestContentType;c&&r.requestBody&&s.headers.set("Content-Type",c);let l=e.options;if(l){let f=l.requestOptions;f&&(f.timeout&&(s.timeout=f.timeout),f.onUploadProgress&&(s.onUploadProgress=f.onUploadProgress),f.onDownloadProgress&&(s.onDownloadProgress=f.onDownloadProgress),f.shouldDeserialize!==void 0&&(a.shouldDeserialize=f.shouldDeserialize),f.allowInsecureConnection&&(s.allowInsecureConnection=!0)),l.abortSignal&&(s.abortSignal=l.abortSignal),l.tracingOptions&&(s.tracingOptions=l.tracingOptions)}this._allowInsecureConnection&&(s.allowInsecureConnection=!0),s.streamResponseStatusCodes===void 0&&(s.streamResponseStatusCodes=mle(r));try{let f=await this.sendRequest(s),d=dH(f,r.responses[f.status]);return l?.onResponse&&l.onResponse(f,d),d}catch(f){if(typeof f=="object"&&f?.response){let d=f.response,h=dH(d,r.responses[f.statusCode]||r.responses.default);f.details=h,l?.onResponse&&l.onResponse(d,h,f)}throw f}}};function wQe(t){let e=BQe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return yq(Object.assign(Object.assign({},t),{credentialOptions:r}))}o(wQe,"createDefaultPipeline");function BQe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}o(BQe,"getCredentialScopes");u();u();u();function Ile(t){return t==="adfs"?"oauth2/token":"oauth2/v2.0/token"}o(Ile,"getIdentityTokenEndpointSuffix");u();var xi=B4({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:W9});u();var vle="/.default",ble="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information";function D4(t){let e="";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t=="string"&&(e=t);return e.endsWith(vle)?e.substr(0,e.lastIndexOf(vle)):e}o(D4,"mapScopesToResource");function xle(t){if(typeof t.expires_on=="number")return t.expires_on*1e3;if(typeof t.expires_on=="string"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in=="number")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${t.expires_in}", expires_on="${t.expires_on}"`)}o(xle,"parseExpirationTimestamp");function Tle(t){if(t.refresh_on){if(typeof t.refresh_on=="number")return t.refresh_on*1e3;if(typeof t.refresh_on=="string"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on="${t.refresh_on}"`)}else return}o(Tle,"parseRefreshTimestamp");var N4="noCorrelationId";function RQe(t){let e=t?.authorityHost;return QR&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??C4}o(RQe,"getIdentityClientAuthorityHost");var dA=class extends k4{static{o(this,"IdentityClient")}constructor(e){var r,n;let i=`azsdk-js-identity/${W9}`,s=!((r=e?.userAgentOptions)===null||r===void 0)&&r.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,a=RQe(e);if(!a.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super(Object.assign(Object.assign({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3}},e),{userAgentOptions:{userAgentPrefix:s},baseUri:a})),this.allowInsecureConnection=!1,this.authorityHost=a,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=(n=e?.loggingOptions)===null||n===void 0?void 0:n.allowLoggingAccountIdentifiers,this.tokenCredentialOptions=Object.assign({},e),e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){Fc.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let i={accessToken:{token:n.access_token,expiresOnTimestamp:xle(n),refreshAfterTimestamp:Tle(n),tokenType:"Bearer"},refreshToken:n.refresh_token};return Fc.info(`IdentityClient: [${e.url}] token acquired, expires on ${i.accessToken.expiresOnTimestamp}`),i}else{let n=new eg(r.status,r.bodyAsText);throw Fc.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,i,s,a={}){if(i===void 0)return null;Fc.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let c={grant_type:"refresh_token",client_id:r,refresh_token:i,scope:n};s!==void 0&&(c.client_secret=s);let l=new URLSearchParams(c);return xi.withSpan("IdentityClient.refreshAccessToken",a,async f=>{try{let d=Ile(e),h=Ju({url:`${this.authorityHost}/${e}/${d}`,method:"POST",body:l.toString(),abortSignal:a.abortSignal,headers:ig({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:f.tracingOptions}),A=await this.sendTokenRequest(h);return Fc.info(`IdentityClient: refreshed token for client ID: ${r}`),A}catch(d){if(d.name===X9&&d.errorResponse.error==="interaction_required")return Fc.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Fc.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${d}`),d}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let i=r.signal.onabort;return r.signal.onabort=(...s)=>{this.abortControllers.set(e,void 0),i&&i.apply(r.signal,s)},r.signal}abortRequests(e){let r=e||N4,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(N4)||[]];if(n.length){for(let i of n)i.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){var r;let n=(r=e?.body)===null||r===void 0?void 0:r.split("&").map(i=>i.split("=")).find(([i])=>i==="client-request-id");return n&&n.length&&n[1]||N4}async sendGetRequestAsync(e,r){let n=Ju({url:e,method:"GET",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:ig(r?.headers),abortSignal:this.generateAbortSignal(N4)}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}async sendPostRequestAsync(e,r){let n=Ju({url:e,method:"POST",body:r?.body,headers:ig(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r="No User Principal Name available";try{let i=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!i)return;let s=i.split(".")[1],{appid:a,upn:c,tid:l,oid:f}=JSON.parse(Buffer.from(s,"base64").toString("utf8"));Fc.info(`[Authenticated account] Client ID: ${a}. Tenant ID: ${l}. User Principal Name: ${c||r}. Object ID (user): ${f}`)}catch(n){Fc.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",n.message)}}};var F$t=Mr("VisualStudioCodeCredential");var L$t={AzureCloud:uA.AzurePublicCloud,AzureChina:uA.AzureChina,AzureGermanCloud:uA.AzureGermany,AzureUSGovernment:uA.AzureGovernment};u();u();var Wc={};Eo(Wc,{AuthError:()=>Dr,AuthErrorCodes:()=>Sv,AuthErrorMessage:()=>vq,AzureCloudInstance:()=>yA,ClientApplication:()=>_g,ClientAssertion:()=>_A,ClientAuthError:()=>hg,ClientAuthErrorCodes:()=>Ti,ClientAuthErrorMessage:()=>xq,ClientConfigurationError:()=>Nv,ClientConfigurationErrorCodes:()=>Dv,ClientConfigurationErrorMessage:()=>Bq,ClientCredentialClient:()=>Sg,ConfidentialClientApplication:()=>Xv,CryptoProvider:()=>Pd,DeviceCodeClient:()=>jv,DistributedCachePlugin:()=>mk,InteractionRequiredAuthError:()=>qc,InteractionRequiredAuthErrorCodes:()=>f7,InteractionRequiredAuthErrorMessage:()=>PG,LogLevel:()=>xo,Logger:()=>Uc,ManagedIdentityApplication:()=>Zv,ManagedIdentitySourceNames:()=>_r,OnBehalfOfClient:()=>Jv,PromptValue:()=>ag,ProtocolMode:()=>za,PublicClientApplication:()=>Kv,ResponseMode:()=>Bd,ServerError:()=>p0,TokenCache:()=>Hv,TokenCacheContext:()=>Gc,UsernamePasswordClient:()=>zv,internals:()=>FG,version:()=>tf});u();var FG={};Eo(FG,{Deserializer:()=>xA,Serializer:()=>sg});u();u();var sg=class{static{o(this,"Serializer")}static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,realm:i.realm,local_account_id:i.localAccountId,username:i.username,authority_type:i.authorityType,name:i.name,client_info:i.clientInfo,last_modification_time:i.lastModificationTime,last_modification_app:i.lastModificationApp,tenantProfiles:i.tenantProfiles?.map(s=>JSON.stringify(s))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm,target:i.target,cached_at:i.cachedAt,expires_on:i.expiresOn,extended_expires_on:i.extendedExpiresOn,refresh_on:i.refreshOn,key_id:i.keyId,token_type:i.tokenType,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,family_id:i.familyId,target:i.target,realm:i.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={client_id:i.clientId,environment:i.environment,family_id:i.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};u();u();u();u();u();u();u();u();u();var Pe={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},kr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},J0=[Pe.OPENID_SCOPE,Pe.PROFILE_SCOPE,Pe.OFFLINE_ACCESS_SCOPE],Iq=[...J0,Pe.EMAIL_SCOPE],Fi={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var X0={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},eC={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},ag={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},qR={PLAIN:"plain",S256:"S256"},xv={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"};var Bd={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},Z0={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},tC={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Qo={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Hn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var Q4="appmetadata",_le="client_info",hA="1",Tv={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},d0={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Bs={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},_n={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Rd={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},P4={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},F4={username:"username",password:"password"},rC={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},GR={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ki={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var _v=300,va={BASE64:"base64",HEX:"hex",UTF8:"utf-8"};var Sv={};Eo(Sv,{postRequestFailed:()=>M4,unexpectedError:()=>L4});u();var L4="unexpected_error",M4="post_request_failed";var VR={[L4]:"Unexpected error in authentication.",[M4]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},vq={unexpectedError:{code:L4,desc:VR[L4]},postRequestFailed:{code:M4,desc:VR[M4]}},Dr=class t extends Error{static{o(this,"AuthError")}constructor(e,r,n){let i=r?`${e}: ${r}`:e;super(i),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||Pe.EMPTY_STRING,this.errorMessage=r||Pe.EMPTY_STRING,this.subError=n||Pe.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function bq(t,e){return new Dr(t,e?`${VR[t]} ${e}`:VR[t])}o(bq,"createAuthError");var Ti={};Eo(Ti,{authTimeNotFound:()=>AA,authorizationCodeMissingFromServerResponse:()=>gC,bindingKeyNotRemoved:()=>j4,cannotAppendScopeSet:()=>AC,cannotRemoveEmptyScope:()=>hC,clientInfoDecodingError:()=>cg,clientInfoEmptyError:()=>nC,deviceCodeExpired:()=>q4,deviceCodePollingCancelled:()=>H4,deviceCodeUnknownError:()=>G4,emptyInputScopeSet:()=>fg,endSessionEndpointNotSupported:()=>yC,endpointResolutionError:()=>h0,hashNotDeserialized:()=>aC,invalidAssertion:()=>Y4,invalidCacheEnvironment:()=>mA,invalidCacheRecord:()=>pC,invalidClientCredential:()=>$4,invalidState:()=>Xu,keyIdMissing:()=>CC,maxAgeTranspired:()=>uC,methodNotImplemented:()=>nn,missingTenantIdError:()=>X4,multipleMatchingAccounts:()=>U4,multipleMatchingAppMetadata:()=>fC,multipleMatchingTokens:()=>O4,nestedAppAuthBridgeDisabled:()=>Z4,networkError:()=>oC,noAccountFound:()=>V4,noAccountInSilentRequest:()=>pA,noCryptoObject:()=>dg,noNetworkConnectivity:()=>K4,nonceMismatch:()=>lC,nullOrEmptyToken:()=>iC,openIdConfigError:()=>sC,requestCannotBeMade:()=>dC,stateMismatch:()=>cC,stateNotFound:()=>ug,tokenClaimsCnfRequiredForSignedJwt:()=>mC,tokenParsingError:()=>lg,tokenRefreshRequired:()=>gA,unexpectedCredentialType:()=>W4,userCanceled:()=>J4,userTimeoutReached:()=>z4});u();var cg="client_info_decoding_error",nC="client_info_empty_error",lg="token_parsing_error",iC="null_or_empty_token",h0="endpoints_resolution_error",oC="network_error",sC="openid_config_error",aC="hash_not_deserialized",Xu="invalid_state",cC="state_mismatch",ug="state_not_found",lC="nonce_mismatch",AA="auth_time_not_found",uC="max_age_transpired",O4="multiple_matching_tokens",U4="multiple_matching_accounts",fC="multiple_matching_appMetadata",dC="request_cannot_be_made",hC="cannot_remove_empty_scope",AC="cannot_append_scopeset",fg="empty_input_scopeset",H4="device_code_polling_cancelled",q4="device_code_expired",G4="device_code_unknown_error",pA="no_account_in_silent_request",pC="invalid_cache_record",mA="invalid_cache_environment",V4="no_account_found",dg="no_crypto_object",W4="unexpected_credential_type",Y4="invalid_assertion",$4="invalid_client_credential",gA="token_refresh_required",z4="user_timeout_reached",mC="token_claims_cnf_required_for_signedjwt",gC="authorization_code_missing_from_server_response",j4="binding_key_not_removed",yC="end_session_endpoint_not_supported",CC="key_id_missing",K4="no_network_connectivity",J4="user_canceled",X4="missing_tenant_id_error",nn="method_not_implemented",Z4="nested_app_auth_bridge_disabled";var Nr={[cg]:"The client info could not be parsed/decoded correctly",[nC]:"The client info was empty",[lg]:"Token cannot be parsed",[iC]:"The token is null or empty",[h0]:"Endpoints cannot be resolved",[oC]:"Network request failed",[sC]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[aC]:"The hash parameters could not be deserialized",[Xu]:"State was not the expected format",[cC]:"State mismatch error",[ug]:"State not found",[lC]:"Nonce mismatch error",[AA]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[uC]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[O4]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[U4]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[fC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[dC]:"Token request cannot be made without authorization code or refresh token.",[hC]:"Cannot remove null or empty scope from ScopeSet",[AC]:"Cannot append ScopeSet",[fg]:"Empty input ScopeSet cannot be processed",[H4]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[q4]:"Device code is expired.",[G4]:"Device code stopped polling for unknown reasons.",[pA]:"Please pass an account object, silent flow is not supported without account information",[pC]:"Cache record object was null or undefined.",[mA]:"Invalid environment when attempting to create cache entry",[V4]:"No account found in cache for given key.",[dg]:"No crypto object detected.",[W4]:"Unexpected credential type.",[Y4]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[$4]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[gA]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[z4]:"User defined timeout for device code polling reached",[mC]:"Cannot generate a POP jwt if the token_claims are not populated",[gC]:"Server response does not contain an authorization code to proceed",[j4]:"Could not remove the credential's binding key from storage.",[yC]:"The provided authority does not support logout",[CC]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[K4]:"No network connectivity. Check your internet connection.",[J4]:"User cancelled the flow.",[X4]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[nn]:"This method has not been implemented",[Z4]:"The nested app auth bridge is disabled"},xq={clientInfoDecodingError:{code:cg,desc:Nr[cg]},clientInfoEmptyError:{code:nC,desc:Nr[nC]},tokenParsingError:{code:lg,desc:Nr[lg]},nullOrEmptyToken:{code:iC,desc:Nr[iC]},endpointResolutionError:{code:h0,desc:Nr[h0]},networkError:{code:oC,desc:Nr[oC]},unableToGetOpenidConfigError:{code:sC,desc:Nr[sC]},hashNotDeserialized:{code:aC,desc:Nr[aC]},invalidStateError:{code:Xu,desc:Nr[Xu]},stateMismatchError:{code:cC,desc:Nr[cC]},stateNotFoundError:{code:ug,desc:Nr[ug]},nonceMismatchError:{code:lC,desc:Nr[lC]},authTimeNotFoundError:{code:AA,desc:Nr[AA]},maxAgeTranspired:{code:uC,desc:Nr[uC]},multipleMatchingTokens:{code:O4,desc:Nr[O4]},multipleMatchingAccounts:{code:U4,desc:Nr[U4]},multipleMatchingAppMetadata:{code:fC,desc:Nr[fC]},tokenRequestCannotBeMade:{code:dC,desc:Nr[dC]},removeEmptyScopeError:{code:hC,desc:Nr[hC]},appendScopeSetError:{code:AC,desc:Nr[AC]},emptyInputScopeSetError:{code:fg,desc:Nr[fg]},DeviceCodePollingCancelled:{code:H4,desc:Nr[H4]},DeviceCodeExpired:{code:q4,desc:Nr[q4]},DeviceCodeUnknownError:{code:G4,desc:Nr[G4]},NoAccountInSilentRequest:{code:pA,desc:Nr[pA]},invalidCacheRecord:{code:pC,desc:Nr[pC]},invalidCacheEnvironment:{code:mA,desc:Nr[mA]},noAccountFound:{code:V4,desc:Nr[V4]},noCryptoObj:{code:dg,desc:Nr[dg]},unexpectedCredentialType:{code:W4,desc:Nr[W4]},invalidAssertion:{code:Y4,desc:Nr[Y4]},invalidClientCredential:{code:$4,desc:Nr[$4]},tokenRefreshRequired:{code:gA,desc:Nr[gA]},userTimeoutReached:{code:z4,desc:Nr[z4]},tokenClaimsRequired:{code:mC,desc:Nr[mC]},noAuthorizationCodeFromServer:{code:gC,desc:Nr[gC]},bindingKeyNotRemovedError:{code:j4,desc:Nr[j4]},logoutNotSupported:{code:yC,desc:Nr[yC]},keyIdMissing:{code:CC,desc:Nr[CC]},noNetworkConnectivity:{code:K4,desc:Nr[K4]},userCanceledError:{code:J4,desc:Nr[J4]},missingTenantIdError:{code:X4,desc:Nr[X4]},nestedAppAuthBridgeDisabled:{code:Z4,desc:Nr[Z4]}},hg=class t extends Dr{static{o(this,"ClientAuthError")}constructor(e,r){super(e,r?`${Nr[e]}: ${r}`:Nr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}};function je(t,e){return new hg(t,e)}o(je,"createClientAuthError");var wv={createNewGuid:o(()=>{throw je(nn)},"createNewGuid"),base64Decode:o(()=>{throw je(nn)},"base64Decode"),base64Encode:o(()=>{throw je(nn)},"base64Encode"),base64UrlEncode:o(()=>{throw je(nn)},"base64UrlEncode"),encodeKid:o(()=>{throw je(nn)},"encodeKid"),async getPublicKeyThumbprint(){throw je(nn)},async removeTokenBindingKey(){throw je(nn)},async clearKeystore(){throw je(nn)},async signJwt(){throw je(nn)},async hashString(){throw je(nn)}};u();var xo;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(xo||(xo={}));var Uc=class t{static{o(this,"Logger")}constructor(e,r,n){this.level=xo.Info;let i=o(()=>{},"defaultLoggerCallback"),s=e||t.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:xo.Info,this.correlationId=s.correlationId||Pe.EMPTY_STRING,this.packageName=r||Pe.EMPTY_STRING,this.packageVersion=n||Pe.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xo.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let s=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${xo[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,s,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:xo.Error,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:xo.Error,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:xo.Warning,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:xo.Warning,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:xo.Info,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:xo.Info,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:xo.Verbose,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:xo.Verbose,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:xo.Trace,containsPii:!1,correlationId:r||Pe.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:xo.Trace,containsPii:!0,correlationId:r||Pe.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};u();var WR="@azure/msal-common",Bv="15.8.1";u();var yA={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};u();var Rs={};Eo(Rs,{createAccessTokenEntity:()=>Sq,createIdTokenEntity:()=>_q,createRefreshTokenEntity:()=>wq,generateAppMetadataKey:()=>GQe,generateAuthorityMetadataExpiresAt:()=>zR,generateCredentialKey:()=>r_,isAccessTokenEntity:()=>NQe,isAppMetadataEntity:()=>VQe,isAuthorityMetadataEntity:()=>WQe,isAuthorityMetadataExpired:()=>jR,isCredentialEntity:()=>$R,isIdTokenEntity:()=>QQe,isRefreshTokenEntity:()=>PQe,isServerTelemetryEntity:()=>HQe,isThrottlingEntity:()=>qQe,updateAuthorityEndpointMetadata:()=>kv,updateCloudDiscoveryMetadata:()=>n_});u();var YR={};Eo(YR,{checkMaxAge:()=>e_,extractTokenClaims:()=>CA,getJWSPayload:()=>Sle});u();function CA(t,e){let r=Sle(t);try{let n=e(r);return JSON.parse(n)}catch{throw je(lg)}}o(CA,"extractTokenClaims");function Sle(t){if(!t)throw je(iC);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw je(lg);return r[2]}o(Sle,"getJWSPayload");function e_(t,e){if(e===0||Date.now()-3e5>t+e)throw je(uC)}o(e_,"checkMaxAge");var Ji={};Eo(Ji,{delay:()=>DQe,isTokenExpired:()=>Rv,nowSeconds:()=>Hc,toDateFromSeconds:()=>t_,toSecondsFromDate:()=>kQe,wasClockTurnedBack:()=>Tq});u();function Hc(){return Math.round(new Date().getTime()/1e3)}o(Hc,"nowSeconds");function kQe(t){return t.getTime()/1e3}o(kQe,"toSecondsFromDate");function t_(t){return t?new Date(Number(t)*1e3):new Date}o(t_,"toDateFromSeconds");function Rv(t,e){let r=Number(t)||0;return Hc()+e>r}o(Rv,"isTokenExpired");function Tq(t){return Number(t)>Hc()}o(Tq,"wasClockTurnedBack");function DQe(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}o(DQe,"delay");function r_(t){return[FQe(t),LQe(t),MQe(t),OQe(t),UQe(t)].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}o(r_,"generateCredentialKey");function _q(t,e,r,n,i){return{credentialType:Hn.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:i}}o(_q,"createIdTokenEntity");function Sq(t,e,r,n,i,s,a,c,l,f,d,h,A,g,y){let v={homeAccountId:t,credentialType:Hn.ACCESS_TOKEN,secret:r,cachedAt:Hc().toString(),expiresOn:a.toString(),extendedExpiresOn:c.toString(),environment:e,clientId:n,realm:i,target:s,tokenType:d||_n.BEARER};if(h&&(v.userAssertionHash=h),f&&(v.refreshOn=f.toString()),g&&(v.requestedClaims=g,v.requestedClaimsHash=y),v.tokenType?.toLowerCase()!==_n.BEARER.toLowerCase())switch(v.credentialType=Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case _n.POP:let _=CA(r,l);if(!_?.cnf?.kid)throw je(mC);v.keyId=_.cnf.kid;break;case _n.SSH:v.keyId=A}return v}o(Sq,"createAccessTokenEntity");function wq(t,e,r,n,i,s,a){let c={credentialType:Hn.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return s&&(c.userAssertionHash=s),i&&(c.familyId=i),a&&(c.expiresOn=a.toString()),c}o(wq,"createRefreshTokenEntity");function $R(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}o($R,"isCredentialEntity");function NQe(t){return t?$R(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Hn.ACCESS_TOKEN||t.credentialType===Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}o(NQe,"isAccessTokenEntity");function QQe(t){return t?$R(t)&&t.hasOwnProperty("realm")&&t.credentialType===Hn.ID_TOKEN:!1}o(QQe,"isIdTokenEntity");function PQe(t){return t?$R(t)&&t.credentialType===Hn.REFRESH_TOKEN:!1}o(PQe,"isRefreshTokenEntity");function FQe(t){return[t.homeAccountId,t.environment].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}o(FQe,"generateAccountId");function LQe(t){let e=t.credentialType===Hn.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}o(LQe,"generateCredentialId");function MQe(t){return(t.target||"").toLowerCase()}o(MQe,"generateTarget");function OQe(t){return(t.requestedClaimsHash||"").toLowerCase()}o(OQe,"generateClaimsHash");function UQe(t){return t.tokenType&&t.tokenType.toLowerCase()!==_n.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}o(UQe,"generateScheme");function HQe(t,e){let r=t.indexOf(Bs.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}o(HQe,"isServerTelemetryEntity");function qQe(t,e){let r=!1;t&&(r=t.indexOf(Rd.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}o(qQe,"isThrottlingEntity");function GQe({environment:t,clientId:e}){return[Q4,t,e].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}o(GQe,"generateAppMetadataKey");function VQe(t,e){return e?t.indexOf(Q4)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}o(VQe,"isAppMetadataEntity");function WQe(t,e){return e?t.indexOf(Tv.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}o(WQe,"isAuthorityMetadataEntity");function zR(){return Hc()+Tv.REFRESH_TIME_SECONDS}o(zR,"generateAuthorityMetadataExpiresAt");function kv(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}o(kv,"updateAuthorityEndpointMetadata");function n_(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}o(n_,"updateCloudDiscoveryMetadata");function jR(t){return t.expiresAt<=Hc()}o(jR,"isAuthorityMetadataExpired");u();u();var Dv={};Eo(Dv,{authorityMismatch:()=>f_,authorityUriInsecure:()=>IC,cannotAllowPlatformBroker:()=>u_,cannotSetOIDCOptions:()=>l_,claimsRequestParsingError:()=>i_,emptyInputScopesError:()=>bC,invalidAuthenticationHeader:()=>c_,invalidAuthorityMetadata:()=>SC,invalidClaims:()=>Ag,invalidCloudDiscoveryMetadata:()=>pg,invalidCodeChallengeMethod:()=>o_,logoutRequestEmpty:()=>TC,missingNonceAuthenticationHeader:()=>a_,missingSshJwk:()=>EA,missingSshKid:()=>s_,pkceParamsMissing:()=>_C,redirectUriEmpty:()=>EC,tokenRequestEmpty:()=>xC,untrustedAuthority:()=>wC,urlEmptyError:()=>vC,urlParseError:()=>kd});u();var EC="redirect_uri_empty",i_="claims_request_parsing_error",IC="authority_uri_insecure",kd="url_parse_error",vC="empty_url_error",bC="empty_input_scopes_error",Ag="invalid_claims",xC="token_request_empty",TC="logout_request_empty",o_="invalid_code_challenge_method",_C="pkce_params_missing",pg="invalid_cloud_discovery_metadata",SC="invalid_authority_metadata",wC="untrusted_authority",EA="missing_ssh_jwk",s_="missing_ssh_kid",a_="missing_nonce_authentication_header",c_="invalid_authentication_header",l_="cannot_set_OIDCOptions",u_="cannot_allow_platform_broker",f_="authority_mismatch";var Po={[EC]:"A redirect URI is required for all calls, and none has been set.",[i_]:"Could not parse the given claims request object.",[IC]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[kd]:"URL could not be parsed into appropriate segments.",[vC]:"URL was empty or null.",[bC]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Ag]:"Given claims parameter must be a stringified JSON object.",[xC]:"Token request was empty and not found in cache.",[TC]:"The logout request was null or undefined.",[o_]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[_C]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[pg]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[SC]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[wC]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[EA]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[s_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[a_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[c_]:"Invalid authentication header provided",[l_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[u_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[f_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},Bq={redirectUriNotSet:{code:EC,desc:Po[EC]},claimsRequestParsingError:{code:i_,desc:Po[i_]},authorityUriInsecure:{code:IC,desc:Po[IC]},urlParseError:{code:kd,desc:Po[kd]},urlEmptyError:{code:vC,desc:Po[vC]},emptyScopesError:{code:bC,desc:Po[bC]},invalidClaimsRequest:{code:Ag,desc:Po[Ag]},tokenRequestEmptyError:{code:xC,desc:Po[xC]},logoutRequestEmptyError:{code:TC,desc:Po[TC]},invalidCodeChallengeMethod:{code:o_,desc:Po[o_]},invalidCodeChallengeParams:{code:_C,desc:Po[_C]},invalidCloudDiscoveryMetadata:{code:pg,desc:Po[pg]},invalidAuthorityMetadata:{code:SC,desc:Po[SC]},untrustedAuthority:{code:wC,desc:Po[wC]},missingSshJwk:{code:EA,desc:Po[EA]},missingSshKid:{code:s_,desc:Po[s_]},missingNonceAuthenticationHeader:{code:a_,desc:Po[a_]},invalidAuthenticationHeader:{code:c_,desc:Po[c_]},cannotSetOIDCOptions:{code:l_,desc:Po[l_]},cannotAllowPlatformBroker:{code:u_,desc:Po[u_]},authorityMismatch:{code:f_,desc:Po[f_]}},Nv=class t extends Dr{static{o(this,"ClientConfigurationError")}constructor(e){super(e,Po[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}};function _i(t){return new Nv(t)}o(_i,"createClientConfigurationError");u();var uo=class{static{o(this,"StringUtils")}static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),i=o(s=>decodeURIComponent(s.replace(/\+/g," ")),"decode");return n.forEach(s=>{if(s.trim()){let[a,c]=s.split(/=(.+)/g,2);a&&c&&(r[i(a)]=i(c))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};var ms=class t{static{o(this,"ScopeSet")}constructor(e){let r=e?uo.trimArrayEntries([...e]):[],n=r?uo.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw _i(bC);this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){let n=(e||Pe.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(Pe.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return Iq.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw je(AC)}}removeScope(e){if(!e)throw je(hC);this.scopes.delete(e.trim())}removeOIDCScopes(){Iq.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw je(fg);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw je(fg);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return r.size<i+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):Pe.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};u();u();function Qv(t,e){if(!t)throw je(nC);try{let r=e(t);return JSON.parse(r)}catch{throw je(cg)}}o(Qv,"buildClientInfo");function Dd(t){if(!t)throw je(cg);let e=t.split(Qo.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Pe.EMPTY_STRING:e[1]}}o(Dd,"buildClientInfoFromHomeAccountId");u();function wle(t,e){return!!t&&!!e&&t===e.split(".")[1]}o(wle,"tenantIdMatchesHomeTenant");function d_(t,e,r,n){if(n){let{oid:i,sub:s,tid:a,name:c,tfp:l,acr:f}=n,d=a||l||f||"";return{tenantId:d,localAccountId:i||s||"",name:c,isHomeTenant:wle(d,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:wle(r,t)}}o(d_,"buildTenantProfile");function KR(t,e,r,n){let i=t;if(e){let{isHomeTenant:s,...a}=e;i={...t,...a}}if(r){let{isHomeTenant:s,...a}=d_(t.homeAccountId,t.localAccountId,t.tenantId,r);return i={...i,...a,idTokenClaims:r,idToken:n},i}return i}o(KR,"updateAccountTenantProfileData");u();var Ol={Default:0,Adfs:1,Dsts:2,Ciam:3};u();function JR(t){return t&&(t.tid||t.tfp||t.acr)||null}o(JR,"getTenantIdFromIdTokenClaims");u();var za={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var ba=class t{static{o(this,"AccountEntity")}generateAccountId(){return[this.homeAccountId,this.environment].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let i=new t;r.authorityType===Ol.Adfs?i.authorityType=tC.ADFS_ACCOUNT_TYPE:r.protocolMode===za.OIDC?i.authorityType=tC.GENERIC_ACCOUNT_TYPE:i.authorityType=tC.MSSTS_ACCOUNT_TYPE;let s;e.clientInfo&&n&&(s=Qv(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let a=e.environment||r&&r.getPreferredCache();if(!a)throw je(mA);i.environment=a,i.realm=s?.utid||JR(e.idTokenClaims)||"",i.localAccountId=s?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let c=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,l=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=c||l||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let f=d_(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[f]}return i}static createFromAccountInfo(e,r,n){let i=new t;return i.authorityType=e.authorityType||tC.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=r,i.msGraphHost=n,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,r,n,i,s){if(!(r===Ol.Adfs||r===Ol.Dsts)){if(e)try{let a=Qv(e,i.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}n.warning("No client info in response")}return s?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let i=!0;if(n){let s=e.idTokenClaims||{},a=r.idTokenClaims||{};i=s.iat===a.iat&&s.nonce===a.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&i}};u();u();var xa={};Eo(xa,{getDeserializedResponse:()=>Rq,mapToQueryString:()=>Nd,stripLeadingHashOrQuery:()=>Ble});u();function Ble(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}o(Ble,"stripLeadingHashOrQuery");function Rq(t){if(!t||t.indexOf("=")<0)return null;try{let e=Ble(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw je(aC)}return null}o(Rq,"getDeserializedResponse");function Nd(t,e=!0,r){let n=new Array;return t.forEach((i,s)=>{!e&&r&&s in r?n.push(`${s}=${i}`):n.push(`${s}=${encodeURIComponent(i)}`)}),n.join("&")}o(Nd,"mapToQueryString");var on=class t{static{o(this,"UrlString")}get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw _i(vC);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return uo.endsWith(r,"?")?r=r.slice(0,-1):uo.endsWith(r,"?/")&&(r=r.slice(0,-2)),uo.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw _i(kd)}if(!e.HostNameAndPort||!e.PathSegments)throw _i(kd);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw _i(IC)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===X0.COMMON||n[0]===X0.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw _i(kd);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},i=n.AbsolutePath.split("/");return i=i.filter(s=>s&&s.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw _i(kd);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===Pe.FORWARD_SLASH){let i=new t(r).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Rq(e)}};var kle={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},kq=kle.endpointMetadata,Dq=kle.instanceDiscoveryMetadata,Nq=new Set;Dq.metadata.forEach(t=>{t.aliases.forEach(e=>{Nq.add(e)})});function Dle(t,e){let r,n=t.canonicalAuthority;if(n){let i=new on(n).getUrlComponents().HostNameAndPort;r=Rle(i,t.cloudDiscoveryMetadata?.metadata,d0.CONFIG,e)||Rle(i,Dq.metadata,d0.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}o(Dle,"getAliasesFromStaticSources");function Rle(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let i=h_(e,t);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}o(Rle,"getAliasesFromMetadata");function Nle(t){return h_(Dq.metadata,t)}o(Nle,"getCloudDiscoveryMetadataFromHardcodedValues");function h_(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}o(h_,"getCloudDiscoveryMetadataFromNetworkResponse");u();u();var Qq="cache_quota_exceeded",XR="cache_error_unknown";var Pq={[Qq]:"Exceeded cache storage capacity.",[XR]:"Unexpected error occurred when using cache storage."},A_=class t extends Dr{static{o(this,"CacheError")}constructor(e,r){let n=r||(Pq[e]?Pq[e]:Pq[XR]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function Qle(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new A_(Qq):new A_(t.name,t.message):new A_(XR)}o(Qle,"createCacheError");var mg=class{static{o(this,"CacheManager")}constructor(e,r,n,i,s){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(WR,Bv),this.staticAuthorityOptions=s,this.performanceClient=i}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){let n=this.getAllAccounts(e,r);return n.length>1?n.sort(s=>s.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,i,s){let a=null,c;if(s&&!this.tenantProfileMatchesFilter(n,s))return null;let l=this.getIdToken(e,i,r,n.tenantId);return l&&(c=CA(l.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,s))?null:(a=KR(e,n,c,l?.secret),a)}getTenantProfilesFromAccountEntity(e,r,n,i){let s=e.getAccountInfo(),a=s.tenantProfiles||new Map,c=this.getTokenKeys();if(n){let f=a.get(n);if(f)a=new Map([[n,f]]);else return[]}let l=[];return a.forEach(f=>{let d=this.getTenantedAccountInfoByFilter(s,c,f,r,i);d&&l.push(d)}),l}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw je(pC);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof Dr?i:Qle(i)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),s=ms.fromString(e.target);i.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,n,!1))return;let c=this.getAccessTokenCredential(a,r);c&&this.credentialMatchesFilter(c,n)&&ms.fromString(c.target).intersectingScopeSets(s)&&this.removeAccessToken(a,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),i=[];return n.forEach(s=>{if(!this.isAccountKey(s,e.homeAccountId))return;let a=this.getAccount(s,r);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;let c={localAccountId:e?.localAccountId,name:e?.name},l=a.tenantProfiles?.filter(f=>this.tenantProfileMatchesFilter(f,c));l&&l.length===0||i.push(a)}),i}isAccountKey(e,r,n){return!(e.split(Qo.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Qo.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(Hn.ID_TOKEN.toLowerCase())===-1&&r.indexOf(Hn.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(Hn.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(Hn.REFRESH_TOKEN.toLowerCase())>-1){let n=`${Hn.REFRESH_TOKEN}${Qo.CACHE_KEY_SEPARATOR}${this.clientId}${Qo.CACHE_KEY_SEPARATOR}`,i=`${Hn.REFRESH_TOKEN}${Qo.CACHE_KEY_SEPARATOR}${hA}${Qo.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(i.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===_n.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(i=>{if(!this.isAppMetadata(i))return;let s=this.getAppMetadata(i);s&&(e.environment&&!this.matchEnvironment(s,e.environment)||e.clientId&&!this.matchClientId(s,e.clientId)||(n[i]=s))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let s=this.getAuthorityMetadata(i);s&&s.aliases.indexOf(e)!==-1&&(n=s)}),n}removeAllAccounts(e){this.getAccountKeys().forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){let n=this.getAccount(e,r);n&&(this.removeAccountContext(n,r),this.removeItem(e,r))}removeAccountContext(e,r){let n=this.getTokenKeys(),i=e.generateAccountId();n.idToken.forEach(s=>{s.indexOf(i)===0&&this.removeIdToken(s,r)}),n.accessToken.forEach(s=>{s.indexOf(i)===0&&this.removeAccessToken(s,r)}),n.refreshToken.forEach(s=>{s.indexOf(i)===0&&this.removeRefreshToken(s,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==_n.POP)return;let i=n.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${i}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,r){let n=ba.generateAccountCacheKey(e);return this.getAccount(n,r)}getIdToken(e,r,n,i,s){this.commonLogger.trace("CacheManager - getIdToken called");let a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Hn.ID_TOKEN,clientId:this.clientId,realm:i},c=this.getIdTokensByFilter(a,r,n),l=c.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let f=c;if(!i){let d=new Map;c.forEach((A,g)=>{A.realm===e.tenantId&&d.set(g,A)});let h=d.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),c.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;f=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),f.forEach((d,h)=>{this.removeIdToken(h,r)}),s&&r&&s.addFields({multiMatchedID:c.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),c.values().next().value}getIdTokensByFilter(e,r,n){let i=n&&n.idToken||this.getTokenKeys().idToken,s=new Map;return i.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;let c=this.getIdTokenCredential(a,r);c&&this.credentialMatchesFilter(c,e)&&s.set(a,c)}),s}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,i){let s=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",s);let a=ms.createSearchScopes(r.scopes),c=r.authenticationScheme||_n.BEARER,l=c&&c.toLowerCase()!==_n.BEARER.toLowerCase()?Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Hn.ACCESS_TOKEN,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},d=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(g=>{if(this.accessTokenKeyMatchesFilter(g,f,!0)){let y=this.getAccessTokenCredential(g,s);y&&this.credentialMatchesFilter(y,f)&&h.push(y)}});let A=h.length;return A<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",s),null):A>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",s),h.forEach(g=>{this.removeAccessToken(r_(g),s)}),this.performanceClient.addFields({multiMatchedAT:h.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",s),h[0])}accessTokenKeyMatchesFilter(e,r,n){let i=e.toLowerCase();if(r.clientId&&i.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&i.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&i.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&i.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let s=r.target.asArray();for(let a=0;a<s.length;a++){if(n&&!i.includes(s[a].toLowerCase()))return!1;if(!n&&i.includes(s[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),i=[];return n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,e,!0))return;let a=this.getAccessTokenCredential(s,r);a&&this.credentialMatchesFilter(a,e)&&i.push(a)}),i}getRefreshToken(e,r,n,i,s){this.commonLogger.trace("CacheManager - getRefreshToken called");let a=r?hA:void 0,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Hn.REFRESH_TOKEN,clientId:this.clientId,familyId:a},l=i&&i.refreshToken||this.getTokenKeys().refreshToken,f=[];l.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,c)){let A=this.getRefreshTokenCredential(h,n);A&&this.credentialMatchesFilter(A,c)&&f.push(A)}});let d=f.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&s&&n&&s.addFields({multiMatchedRT:d},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),f[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),i=Object.keys(n).map(a=>n[a]),s=i.length;if(s<1)return null;if(s>1)throw je(fC);return i[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===hA)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let i=Dle(this.staticAuthorityOptions,this.commonLogger);if(i.includes(r)&&i.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==Hn.ACCESS_TOKEN&&e.credentialType!==Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:ms.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(Q4)!==-1}isAuthorityMetadata(e){return e.indexOf(Tv.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Tv.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},p_=class extends mg{static{o(this,"DefaultStorageClass")}async setAccount(){throw je(nn)}getAccount(){throw je(nn)}async setIdTokenCredential(){throw je(nn)}getIdTokenCredential(){throw je(nn)}async setAccessTokenCredential(){throw je(nn)}getAccessTokenCredential(){throw je(nn)}async setRefreshTokenCredential(){throw je(nn)}getRefreshTokenCredential(){throw je(nn)}setAppMetadata(){throw je(nn)}getAppMetadata(){throw je(nn)}setServerTelemetry(){throw je(nn)}getServerTelemetry(){throw je(nn)}setAuthorityMetadata(){throw je(nn)}getAuthorityMetadata(){throw je(nn)}getAuthorityMetadataKeys(){throw je(nn)}setThrottlingCache(){throw je(nn)}getThrottlingCache(){throw je(nn)}removeItem(){throw je(nn)}getKeys(){throw je(nn)}getAccountKeys(){throw je(nn)}getTokenKeys(){throw je(nn)}};u();u();var De={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},AKt=new Map([[De.AcquireTokenByCode,"ATByCode"],[De.AcquireTokenByRefreshToken,"ATByRT"],[De.AcquireTokenSilent,"ATS"],[De.AcquireTokenSilentAsync,"ATSAsync"],[De.AcquireTokenPopup,"ATPopup"],[De.AcquireTokenRedirect,"ATRedirect"],[De.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[De.CryptoOptsSignJwt,"CryptoSignJwt"],[De.SilentCacheClientAcquireToken,"SltCacheClientAT"],[De.SilentIframeClientAcquireToken,"SltIframeClientAT"],[De.SilentRefreshClientAcquireToken,"SltRClientAT"],[De.SsoSilent,"SsoSlt"],[De.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[De.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[De.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[De.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[De.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[De.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[De.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[De.BrokerHandhshake,"BrokerHandshake"],[De.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[De.AcquireTokenByBroker,"ATByBroker"],[De.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[De.RefreshTokenClientAcquireToken,"RTClientAT"],[De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[De.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[De.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[De.AcquireTokenFromCache,"ATFromCache"],[De.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[De.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[De.AcquireTokenBySilentIframe,"ATBySltIframe"],[De.InitializeBaseRequest,"InitBaseReq"],[De.InitializeSilentRequest,"InitSltReq"],[De.InitializeClientApplication,"InitClientApplication"],[De.InitializeCache,"InitCache"],[De.ImportExistingCache,"importCache"],[De.SetUserData,"setUserData"],[De.LocalStorageUpdated,"localStorageUpdated"],[De.SilentIframeClientTokenHelper,"SIClientTHelper"],[De.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[De.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[De.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[De.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[De.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[De.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[De.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[De.GetAuthCodeUrl,"GetAuthCodeUrl"],[De.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[De.HandleCodeResponse,"HandleCodeResp"],[De.HandleResponseEar,"HandleRespEar"],[De.HandleResponseCode,"HandleRespCode"],[De.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[De.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[De.AuthClientAcquireToken,"AuthClientAT"],[De.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[De.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[De.PopTokenGenerateCnf,"PopTGenCnf"],[De.PopTokenGenerateKid,"PopTGenKid"],[De.HandleServerTokenResponse,"HandleServerTRes"],[De.DeserializeResponse,"DeserializeRes"],[De.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[De.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[De.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[De.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[De.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[De.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[De.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[De.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[De.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[De.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[De.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[De.AcquireTokenByCodeAsync,"ATByCodeAsync"],[De.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[De.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[De.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[De.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[De.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[De.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[De.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[De.NativeGenerateAuthResult,"NtvGenAuthRes"],[De.RemoveHiddenIframe,"RemoveHiddenIframe"],[De.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[De.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[De.GeneratePkceCodes,"GenPkceCodes"],[De.GenerateCodeVerifier,"GenCodeVerifier"],[De.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[De.Sha256Digest,"Sha256Digest"],[De.GetRandomValues,"GetRandomValues"],[De.GenerateHKDF,"genHKDF"],[De.GenerateBaseKey,"genBaseKey"],[De.Base64Decode,"b64Decode"],[De.UrlEncodeArr,"urlEncArr"],[De.Encrypt,"encrypt"],[De.Decrypt,"decrypt"],[De.GenerateEarKey,"genEarKey"],[De.DecryptEarResponse,"decryptEarResp"]]),Ple={NotStarted:0,InProgress:1,Completed:2};var ZR=class{static{o(this,"StubPerformanceMeasurement")}startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},BC=class{static{o(this,"StubPerformanceClient")}generateId(){return"callback-id"}startMeasurement(e,r){return{end:o(()=>null,"end"),discard:o(()=>{},"discard"),add:o(()=>{},"add"),increment:o(()=>{},"increment"),event:{eventId:this.generateId(),status:Ple.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new ZR}}startPerformanceMeasurement(){return new ZR}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var YQe={tokenRenewalOffsetSeconds:_v,preventCorsPreflight:!1},$Qe={loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xo.Info,correlationId:Pe.EMPTY_STRING},zQe={claimsBasedCachingEnabled:!1},jQe={async sendGetRequestAsync(){throw je(nn)},async sendPostRequestAsync(){throw je(nn)}},KQe={sku:Pe.SKU,version:Bv,cpu:Pe.EMPTY_STRING,os:Pe.EMPTY_STRING},JQe={clientSecret:Pe.EMPTY_STRING,clientAssertion:void 0},XQe={azureCloudInstance:yA.None,tenant:`${Pe.DEFAULT_COMMON_TENANT}`},ZQe={application:{appName:"",appVersion:""}};function Fle({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:s,cryptoInterface:a,clientCredentials:c,libraryInfo:l,telemetry:f,serverTelemetryManager:d,persistencePlugin:h,serializableCache:A}){let g={...$Qe,...r};return{authOptions:ePe(t),systemOptions:{...YQe,...e},loggerOptions:g,cacheOptions:{...zQe,...n},storageInterface:i||new p_(t.clientId,wv,new Uc(g),new BC),networkInterface:s||jQe,cryptoInterface:a||wv,clientCredentials:c||JQe,libraryInfo:{...KQe,...l},telemetry:{...ZQe,...f},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:A||null}}o(Fle,"buildClientConfiguration");function ePe(t){return{clientCapabilities:[],azureCloudOptions:XQe,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}o(ePe,"buildAuthOptions");function e7(t){return t.authOptions.authority.options.protocolMode===za.OIDC}o(e7,"isOidcProtocolMode");u();var A0={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var xt={};Eo(xt,{addApplicationTelemetry:()=>y_,addAuthorizationCode:()=>_G,addBrokerParameters:()=>bA,addCcsOid:()=>IA,addCcsUpn:()=>gg,addClaims:()=>PC,addClientAssertion:()=>I_,addClientAssertionType:()=>v_,addClientCapabilitiesToClaims:()=>Lle,addClientId:()=>NC,addClientInfo:()=>LC,addClientSecret:()=>E_,addCodeChallengeParams:()=>pPe,addCodeVerifier:()=>wG,addCorrelationId:()=>FC,addDeviceCode:()=>mPe,addDomainHint:()=>bG,addEARParameters:()=>IPe,addExtraQueryParameters:()=>vA,addGrantType:()=>b_,addIdTokenHint:()=>vG,addInstanceAware:()=>x_,addLibraryInfo:()=>g_,addLoginHint:()=>Fv,addLogoutHint:()=>BG,addNativeBroker:()=>APe,addNonce:()=>TG,addOboAssertion:()=>gPe,addPassword:()=>EPe,addPopToken:()=>T_,addPostLogoutRedirectUri:()=>IG,addPrompt:()=>xG,addRedirectUri:()=>QC,addRefreshToken:()=>SG,addRequestTokenUse:()=>yPe,addResponseMode:()=>EG,addResponseType:()=>hPe,addScopes:()=>DC,addServerTelemetry:()=>S_,addSid:()=>s7,addSshJwk:()=>__,addState:()=>C_,addThrottling:()=>w_,addUsername:()=>CPe,instrumentBrokerParams:()=>kC});u();var RC={};Eo(RC,{ACCESS_TOKEN:()=>nPe,BROKER_CLIENT_ID:()=>m_,BROKER_REDIRECT_URI:()=>o7,CCS_HEADER:()=>fPe,CLAIMS:()=>Oq,CLIENT_ASSERTION:()=>lG,CLIENT_ASSERTION_TYPE:()=>uG,CLIENT_ID:()=>Qd,CLIENT_INFO:()=>cPe,CLIENT_REQUEST_ID:()=>jq,CLIENT_SECRET:()=>cG,CODE:()=>Wq,CODE_CHALLENGE:()=>Yq,CODE_CHALLENGE_METHOD:()=>$q,CODE_VERIFIER:()=>zq,DEVICE_CODE:()=>aG,DOMAIN_HINT:()=>gG,EAR_JWE_CRYPTO:()=>CG,EAR_JWK:()=>yG,ERROR:()=>tPe,ERROR_DESCRIPTION:()=>rPe,EXPIRES_IN:()=>oPe,FOCI:()=>uPe,GRANT_TYPE:()=>Mq,ID_TOKEN:()=>iPe,ID_TOKEN_HINT:()=>sG,INSTANCE_AWARE:()=>Pv,LOGIN_HINT:()=>mG,LOGOUT_HINT:()=>AG,NATIVE_BROKER:()=>hG,NONCE:()=>Gq,OBO_ASSERTION:()=>fG,ON_BEHALF_OF:()=>lPe,POST_LOGOUT_URI:()=>oG,PROMPT:()=>Vq,REDIRECT_URI:()=>t7,REFRESH_TOKEN:()=>Hq,REFRESH_TOKEN_EXPIRES_IN:()=>sPe,REQUESTED_TOKEN_USE:()=>dG,REQ_CNF:()=>n7,RESPONSE_MODE:()=>Lq,RESPONSE_TYPE:()=>Fq,RETURN_SPA_CODE:()=>i7,SCOPE:()=>Uq,SESSION_STATE:()=>aPe,SID:()=>pG,STATE:()=>qq,TOKEN_TYPE:()=>r7,X_APP_NAME:()=>nG,X_APP_VER:()=>iG,X_CLIENT_CPU:()=>Zq,X_CLIENT_CURR_TELEM:()=>eG,X_CLIENT_EXTRA_SKU:()=>dPe,X_CLIENT_LAST_TELEM:()=>tG,X_CLIENT_OS:()=>Xq,X_CLIENT_SKU:()=>Kq,X_CLIENT_VER:()=>Jq,X_MS_LIB_CAPABILITY:()=>rG});u();var Qd="client_id",t7="redirect_uri",Fq="response_type",Lq="response_mode",Mq="grant_type",Oq="claims",Uq="scope",tPe="error",rPe="error_description",nPe="access_token",iPe="id_token",Hq="refresh_token",oPe="expires_in",sPe="refresh_token_expires_in",qq="state",Gq="nonce",Vq="prompt",aPe="session_state",cPe="client_info",Wq="code",Yq="code_challenge",$q="code_challenge_method",zq="code_verifier",jq="client-request-id",Kq="x-client-SKU",Jq="x-client-VER",Xq="x-client-OS",Zq="x-client-CPU",eG="x-client-current-telemetry",tG="x-client-last-telemetry",rG="x-ms-lib-capability",nG="x-app-name",iG="x-app-ver",oG="post_logout_redirect_uri",sG="id_token_hint",aG="device_code",cG="client_secret",lG="client_assertion",uG="client_assertion_type",r7="token_type",n7="req_cnf",fG="assertion",dG="requested_token_use",lPe="on_behalf_of",uPe="foci",fPe="X-AnchorMailbox",i7="return_spa_code",hG="nativebroker",AG="logout_hint",pG="sid",mG="login_hint",gG="domain_hint",dPe="x-client-xtra-sku",m_="brk_client_id",o7="brk_redirect_uri",Pv="instance_aware",yG="ear_jwk",CG="ear_jwe_crypto";function kC(t,e,r){if(!e)return;let n=t.get(Qd);n&&t.has(m_)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(t7)},e)}o(kC,"instrumentBrokerParams");function hPe(t,e){t.set(Fq,e)}o(hPe,"addResponseType");function EG(t,e){t.set(Lq,e||Bd.QUERY)}o(EG,"addResponseMode");function APe(t){t.set(hG,"1")}o(APe,"addNativeBroker");function DC(t,e,r=!0,n=J0){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let i=r?[...e||[],...n]:e||[],s=new ms(i);t.set(Uq,s.printScopes())}o(DC,"addScopes");function NC(t,e){t.set(Qd,e)}o(NC,"addClientId");function QC(t,e){t.set(t7,e)}o(QC,"addRedirectUri");function IG(t,e){t.set(oG,e)}o(IG,"addPostLogoutRedirectUri");function vG(t,e){t.set(sG,e)}o(vG,"addIdTokenHint");function bG(t,e){t.set(gG,e)}o(bG,"addDomainHint");function Fv(t,e){t.set(mG,e)}o(Fv,"addLoginHint");function gg(t,e){t.set(Fi.CCS_HEADER,`UPN:${e}`)}o(gg,"addCcsUpn");function IA(t,e){t.set(Fi.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}o(IA,"addCcsOid");function s7(t,e){t.set("sid",e)}o(s7,"addSid");function PC(t,e,r){let n=Lle(e,r);try{JSON.parse(n)}catch{throw _i(Ag)}t.set(Oq,n)}o(PC,"addClaims");function FC(t,e){t.set(jq,e)}o(FC,"addCorrelationId");function g_(t,e){t.set(Kq,e.sku),t.set(Jq,e.version),e.os&&t.set(Xq,e.os),e.cpu&&t.set(Zq,e.cpu)}o(g_,"addLibraryInfo");function y_(t,e){e?.appName&&t.set(nG,e.appName),e?.appVersion&&t.set(iG,e.appVersion)}o(y_,"addApplicationTelemetry");function xG(t,e){t.set(Vq,e)}o(xG,"addPrompt");function C_(t,e){e&&t.set(qq,e)}o(C_,"addState");function TG(t,e){t.set(Gq,e)}o(TG,"addNonce");function pPe(t,e,r){if(e&&r)t.set(Yq,e),t.set($q,r);else throw _i(_C)}o(pPe,"addCodeChallengeParams");function _G(t,e){t.set(Wq,e)}o(_G,"addAuthorizationCode");function mPe(t,e){t.set(aG,e)}o(mPe,"addDeviceCode");function SG(t,e){t.set(Hq,e)}o(SG,"addRefreshToken");function wG(t,e){t.set(zq,e)}o(wG,"addCodeVerifier");function E_(t,e){t.set(cG,e)}o(E_,"addClientSecret");function I_(t,e){e&&t.set(lG,e)}o(I_,"addClientAssertion");function v_(t,e){e&&t.set(uG,e)}o(v_,"addClientAssertionType");function gPe(t,e){t.set(fG,e)}o(gPe,"addOboAssertion");function yPe(t,e){t.set(dG,e)}o(yPe,"addRequestTokenUse");function b_(t,e){t.set(Mq,e)}o(b_,"addGrantType");function LC(t){t.set(_le,"1")}o(LC,"addClientInfo");function x_(t){t.has(Pv)||t.set(Pv,"true")}o(x_,"addInstanceAware");function vA(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}o(vA,"addExtraQueryParameters");function Lle(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw _i(Ag)}return e&&e.length>0&&(r.hasOwnProperty(eC.ACCESS_TOKEN)||(r[eC.ACCESS_TOKEN]={}),r[eC.ACCESS_TOKEN][eC.XMS_CC]={values:e}),JSON.stringify(r)}o(Lle,"addClientCapabilitiesToClaims");function CPe(t,e){t.set(F4.username,e)}o(CPe,"addUsername");function EPe(t,e){t.set(F4.password,e)}o(EPe,"addPassword");function T_(t,e){e&&(t.set(r7,_n.POP),t.set(n7,e))}o(T_,"addPopToken");function __(t,e){e&&(t.set(r7,_n.SSH),t.set(n7,e))}o(__,"addSshJwk");function S_(t,e){t.set(eG,e.generateCurrentRequestHeaderValue()),t.set(tG,e.generateLastRequestHeaderValue())}o(S_,"addServerTelemetry");function w_(t){t.set(rG,Rd.X_MS_LIB_CAPABILITY_VALUE)}o(w_,"addThrottling");function BG(t,e){t.set(AG,e)}o(BG,"addLogoutHint");function bA(t,e,r){t.has(m_)||t.set(m_,e),t.has(o7)||t.set(o7,r)}o(bA,"addBrokerParameters");function IPe(t,e){t.set(yG,encodeURIComponent(e)),t.set(CG,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}o(IPe,"addEARParameters");var c7={};Eo(c7,{createDiscoveredInstance:()=>kG});u();u();u();function Mle(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}o(Mle,"isOpenIdConfigResponse");u();function Ole(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}o(Ole,"isCloudInstanceDiscoveryResponse");u();function Ule(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}o(Ule,"isCloudInstanceDiscoveryErrorResponse");u();u();var Hle=o((t,e,r,n,i)=>(...s)=>{r.trace(`Executing function ${e}`);let a=n?.startMeasurement(e,i);if(i){let c=e+"CallCount";n?.incrementFields({[c]:1},i)}try{let c=t(...s);return a?.end({success:!0}),r.trace(`Returning result from ${e}`),c}catch(c){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(c))}catch{r.trace("Unable to print error message.")}throw a?.end({success:!1},c),c}},"invoke"),Sn=o((t,e,r,n,i)=>(...s)=>{r.trace(`Executing function ${e}`);let a=n?.startMeasurement(e,i);if(i){let c=e+"CallCount";n?.incrementFields({[c]:1},i)}return n?.setPreQueueTime(e,i),t(...s).then(c=>(r.trace(`Returning result from ${e}`),a?.end({success:!0}),c)).catch(c=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(c))}catch{r.trace("Unable to print error message.")}throw a?.end({success:!1},c),c})},"invokeAsync");var B_=class t{static{o(this,"RegionDiscovery")}constructor(e,r,n,i){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=i}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=rC.ENVIRONMENT_VARIABLE;else{let i=t.IMDS_OPTIONS;try{let s=await Sn(this.getRegionFromIMDS.bind(this),De.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Pe.IMDS_VERSION,i);if(s.status===kr.SUCCESS&&(n=s.body,r.region_source=rC.IMDS),s.status===kr.BAD_REQUEST){let a=await Sn(this.getCurrentVersion.bind(this),De.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!a)return r.region_source=rC.FAILED_AUTO_DETECTION,null;let c=await Sn(this.getRegionFromIMDS.bind(this),De.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,i);c.status===kr.SUCCESS&&(n=c.body,r.region_source=rC.IMDS)}}catch{return r.region_source=rC.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=rC.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Pe.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,Pe.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(De.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${Pe.IMDS_ENDPOINT}?format=json`,e);return r.status===kr.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};B_.IMDS_OPTIONS={headers:{Metadata:"true"}};var Zu=class t{static{o(this,"Authority")}constructor(e,r,n,i,s,a,c,l){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=c,this.correlationId=a,this.managedIdentity=l||!1,this.regionDiscovery=new B_(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Pe.CIAM_AUTH_URL))return Ol.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case Pe.ADFS:return Ol.Adfs;case Pe.DSTS:return Ol.Dsts}return Ol.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new on(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw je(h0)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw je(h0)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw je(h0)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw je(yC);return this.replacePath(this.metadata.end_session_endpoint)}else throw je(h0)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw je(h0)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw je(h0)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ol.Default&&this.protocolMode!==za.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,i=new on(this.metadata.canonical_authority).getUrlComponents(),s=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((c,l)=>{let f=s[l];if(l===0&&this.canReplaceTenant(i)){let d=new on(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==d&&(this.logger.verbose(`Replacing tenant domain name ${f} with id ${d}`),f=d)}c!==f&&(r=r.replace(`/${f}/`,`/${c}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ol.Adfs||this.protocolMode===za.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(De.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await Sn(this.updateCloudDiscoveryMetadata.bind(this),De.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await Sn(this.updateEndpointMetadata.bind(this),De.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:zR(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==d0.CACHE&&n?.source!==d0.CACHE&&(e.expiresAt=zR(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===d0.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let i=await Sn(this.updateMetadataWithRegionalInformation.bind(this),De.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);kv(e,i,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await Sn(this.getEndpointMetadataFromNetwork.bind(this),De.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Sn(this.updateMetadataWithRegionalInformation.bind(this),De.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),kv(e,n,!0),d0.NETWORK;throw je(sC,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),kv(e,r,!1),{source:d0.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return kv(e,i,!1),{source:d0.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=jR(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:d0.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new on(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw _i(SC)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(De.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return Mle(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in kq?kq[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==Pe.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=GR.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await Sn(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),De.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=GR.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=GR.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(De.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await Sn(this.getCloudDiscoveryMetadataFromNetwork.bind(this),De.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return n_(e,n,!0),d0.NETWORK;throw _i(wC)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Pe.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Pe.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Pe.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),n_(e,r,!1),d0.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let i=Nle(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),n_(e,i,!1),d0.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=jR(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),d0.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ol.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=h_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),_i(pg)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(De.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${Pe.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let i=await this.networkInterface.sendGetRequestAsync(e,r),s,a;if(Ole(i.body))s=i.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(Ule(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),s=i.body,s.error===Pe.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=h_(a,this.hostnameAndPort)}catch(i){if(i instanceof Dr)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{let s=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&on.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==yA.None){let i=r.tenant?r.tenant:Pe.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Pe.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw je(h0)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Nq.has(e)}static isPublicCloudAuthority(e){return Pe.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let i=new on(e);i.validateAsUri();let s=i.getUrlComponents(),a=`${r}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(a=`${r}.${Pe.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let c=on.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${c}?${n}`:c}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,i=new on(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(Pe.CIAM_AUTH_URL)){let s=i.HostNameAndPort.split(".")[0];r=`${r}${s}${Pe.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};Zu.reservedTenantDomains=new Set(["{tenant}","{tenantid}",X0.COMMON,X0.CONSUMERS,X0.ORGANIZATIONS]);function qle(t){let n=new on(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case X0.COMMON:case X0.ORGANIZATIONS:case X0.CONSUMERS:return;default:return n}}o(qle,"getTenantFromAuthorityString");function a7(t){return t.endsWith(Pe.FORWARD_SLASH)?t:`${t}${Pe.FORWARD_SLASH}`}o(a7,"formatAuthorityUri");function RG(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw _i(pg)}return{canonicalAuthority:t.authority?a7(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}o(RG,"buildStaticAuthorityOptions");async function kG(t,e,r,n,i,s,a){a?.addQueueMeasurement(De.AuthorityFactoryCreateDiscoveredInstance,s);let c=Zu.transformCIAMAuthority(a7(t)),l=new Zu(c,e,r,n,i,s,a);try{return await Sn(l.resolveEndpointsAsync.bind(l),De.AuthorityResolveEndpointsAsync,i,a,s)(),l}catch{throw je(h0)}}o(kG,"createDiscoveredInstance");u();u();var p0=class t extends Dr{static{o(this,"ServerError")}constructor(e,r,n,i,s){super(e,r,n),this.name="ServerError",this.errorNo=i,this.status=s,Object.setPrototypeOf(this,t.prototype)}};u();function Lv(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}o(Lv,"getRequestThumbprint");var R_=class t{static{o(this,"ThrottlingUtils")}static generateThrottlingStorageKey(e){return`${Rd.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let i=t.generateThrottlingStorageKey(r),s=e.getThrottlingCache(i);if(s){if(s.throttleTime<Date.now()){e.removeItem(i,n);return}throw new p0(s.errorCodes?.join(" ")||Pe.EMPTY_STRING,s.errorMessage,s.subError)}}static postProcess(e,r,n,i){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let s={throttleTime:t.calculateThrottleTime(parseInt(n.headers[Fi.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),s,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Fi.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||Rd.DEFAULT_THROTTLE_TIME_SECONDS),n+Rd.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,i){let s=Lv(r,n,i),a=this.generateThrottlingStorageKey(s);e.removeItem(a,n.correlationId)}};u();var l7=class t extends Dr{static{o(this,"NetworkError")}constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var Ta=class{static{o(this,"BaseClient")}constructor(e,r){this.config=Fle(e),this.logger=new Uc(this.config.loggerOptions,WR,Bv),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[Fi.CONTENT_TYPE]=Pe.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case A0.HOME_ACCOUNT_ID:try{let n=Dd(e.credential);r[Fi.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case A0.UPN:r[Fi.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,i,s,a){a&&this.performanceClient?.addQueueMeasurement(a,s);let c=await this.sendPostRequest(i,e,{body:r,headers:n},s);return this.config.serverTelemetryManager&&c.status<500&&c.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),c}async sendPostRequest(e,r,n,i){R_.preProcess(this.cacheManager,e,i);let s;try{s=await Sn(this.networkClient.sendPostRequestAsync.bind(this.networkClient),De.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(r,n);let a=s.headers||{};this.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:a[Fi.X_MS_HTTP_VERSION]||"",requestId:a[Fi.X_MS_REQUEST_ID]||""},i)}catch(a){if(a instanceof l7){let c=a.responseHeaders;throw c&&this.performanceClient?.addFields({httpVerToken:c[Fi.X_MS_HTTP_VERSION]||"",requestId:c[Fi.X_MS_REQUEST_ID]||"",contentTypeHeader:c[Fi.CONTENT_TYPE]||void 0,contentLengthHeader:c[Fi.CONTENT_LENGTH]||void 0,httpStatus:a.httpStatus},i),a.error}throw a instanceof Dr?a:je(oC)}return R_.postProcess(this.cacheManager,e,s,i),s}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(De.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,i=await kG(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=i}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&bA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&vA(r,e.tokenQueryParameters),FC(r,e.correlationId),kC(r,e.correlationId,this.performanceClient),Nd(r)}};u();u();var f7={};Eo(f7,{badToken:()=>Cg,consentRequired:()=>NG,interactionRequired:()=>DG,loginRequired:()=>QG,nativeAccountUnavailable:()=>k_,noTokensFound:()=>yg,refreshTokenExpired:()=>D_,uxNotAllowed:()=>u7});u();var yg="no_tokens_found",k_="native_account_unavailable",D_="refresh_token_expired",u7="ux_not_allowed",DG="interaction_required",NG="consent_required",QG="login_required",Cg="bad_token";var Gle=[DG,NG,QG,Cg,u7],vPe=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],d7={[yg]:"No refresh token found in the cache. Please sign-in.",[k_]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[D_]:"Refresh token has expired.",[Cg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[u7]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},PG={noTokensFoundError:{code:yg,desc:d7[yg]},native_account_unavailable:{code:k_,desc:d7[k_]},bad_token:{code:Cg,desc:d7[Cg]}},qc=class t extends Dr{static{o(this,"InteractionRequiredAuthError")}constructor(e,r,n,i,s,a,c,l){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=i||Pe.EMPTY_STRING,this.traceId=s||Pe.EMPTY_STRING,this.correlationId=a||Pe.EMPTY_STRING,this.claims=c||Pe.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}};function h7(t,e,r){let n=!!t&&Gle.indexOf(t)>-1,i=!!r&&vPe.indexOf(r)>-1,s=!!e&&Gle.some(a=>e.indexOf(a)>-1);return n||s||i}o(h7,"isInteractionRequiredError");function A7(t){return new qc(t,d7[t])}o(A7,"createInteractionRequiredAuthError");u();var p7=class t{static{o(this,"ProtocolUtils")}static setRequestState(e,r,n){let i=t.generateLibraryState(e,n);return r?`${i}${Pe.RESOURCE_DELIM}${r}`:i}static generateLibraryState(e,r){if(!e)throw je(dg);let n={id:e.createNewGuid()};r&&(n.meta=r);let i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,r){if(!e)throw je(dg);if(!r)throw je(Xu);try{let n=r.split(Pe.RESOURCE_DELIM),i=n[0],s=n.length>1?n.slice(1).join(Pe.RESOURCE_DELIM):Pe.EMPTY_STRING,a=e.base64Decode(i),c=JSON.parse(a);return{userRequestState:s||Pe.EMPTY_STRING,libraryState:c}}catch{throw je(Xu)}}};u();var bPe={SW:"sw"},Eg=class{static{o(this,"PopTokenGenerator")}constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(De.PopTokenGenerateCnf,e.correlationId);let n=await Sn(this.generateKid.bind(this),De.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(De.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:bPe.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,i){let{resourceRequestMethod:s,resourceRequestUri:a,shrClaims:c,shrNonce:l,shrOptions:f}=n,h=(a?new on(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Hc(),m:s?.toUpperCase(),u:h?.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:h?.AbsolutePath,q:h?.QueryString?[[],h.QueryString]:void 0,client_claims:c||void 0,...i},r,f,n.correlationId)}};u();var Gc=class{static{o(this,"TokenCacheContext")}constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var Xo=class t{static{o(this,"ResponseHandler")}constructor(e,r,n,i,s,a,c){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=s,this.persistencePlugin=a,this.performanceClient=c}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||Pe.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Pe.NOT_AVAILABLE} - Description: ${e.error_description||Pe.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Pe.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Pe.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,s=new p0(e.error,n,e.suberror,i,e.status);if(r&&e.status&&e.status>=kr.SERVER_ERROR_RANGE_START&&e.status<=kr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(r&&e.status&&e.status>=kr.CLIENT_ERROR_RANGE_START&&e.status<=kr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw h7(e.error,e.error_description,e.suberror)?new qc(e.error,e.error_description,e.suberror,e.timestamp||Pe.EMPTY_STRING,e.trace_id||Pe.EMPTY_STRING,e.correlation_id||Pe.EMPTY_STRING,e.claims||Pe.EMPTY_STRING,i):s}}async handleServerTokenResponse(e,r,n,i,s,a,c,l,f){this.performanceClient?.addQueueMeasurement(De.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=CA(e.id_token||Pe.EMPTY_STRING,this.cryptoObj.base64Decode),s&&s.nonce&&d.nonce!==s.nonce)throw je(lC);if(i.maxAge||i.maxAge===0){let y=d.auth_time;if(!y)throw je(AA);e_(y,i.maxAge)}}this.homeAccountIdentifier=ba.generateHomeAccountId(e.client_info||Pe.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,d);let h;s&&s.state&&(h=p7.parseRequestState(this.cryptoObj,s.state)),e.key_id=e.key_id||i.sshKid||void 0;let A=this.generateCacheRecord(e,r,n,i,d,a,s),g;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new Gc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(g)),c&&!l&&A.account){let y=A.account.generateAccountKey();if(!this.cacheStorage.getAccount(y,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,A,!1,i,d,h,void 0,f)}await this.cacheStorage.saveCacheRecord(A,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&g&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(g))}return t.generateAuthenticationResult(this.cryptoObj,r,A,!1,i,d,h,e,f)}generateCacheRecord(e,r,n,i,s,a,c){let l=r.getPreferredCache();if(!l)throw je(mA);let f=JR(s),d,h;e.id_token&&s&&(d=_q(this.homeAccountIdentifier,l,e.id_token,this.clientId,f||""),h=Vle(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,s,e.client_info,l,f,c,void 0,this.logger));let A=null;if(e.access_token){let v=e.scope?ms.fromString(e.scope):new ms(i.scopes||[]),_=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,T=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,S=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,D=n+_,Q=D+T,k=S&&S>0?n+S:void 0;A=Sq(this.homeAccountIdentifier,l,e.access_token,this.clientId,f||r.tenant||"",v.printScopes(),D,Q,this.cryptoObj.base64Decode,k,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash)}let g=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){let _=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=n+_}g=wq(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,a,v)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:l,familyId:e.foci}),{account:h,idToken:d,accessToken:A,refreshToken:g,appMetadata:y}}static async generateAuthenticationResult(e,r,n,i,s,a,c,l,f){let d=Pe.EMPTY_STRING,h=[],A=null,g,y,v=Pe.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===_n.POP&&!s.popKid){let D=new Eg(e),{secret:Q,keyId:k}=n.accessToken;if(!k)throw je(CC);d=await D.signPopToken(Q,k,s)}else d=n.accessToken.secret;h=ms.fromString(n.accessToken.target).asArray(),A=t_(n.accessToken.expiresOn),g=t_(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(y=t_(n.accessToken.refreshOn))}n.appMetadata&&(v=n.appMetadata.familyId===hA?hA:"");let _=a?.oid||a?.sub||"",T=a?.tid||"";l?.spa_accountid&&n.account&&(n.account.nativeAccountId=l?.spa_accountid);let S=n.account?KR(n.account.getAccountInfo(),void 0,a,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:_,tenantId:T,scopes:h,account:S,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:d,fromCache:i,expiresOn:A,extExpiresOn:g,refreshOn:y,correlationId:s.correlationId,requestId:f||Pe.EMPTY_STRING,familyId:v,tokenType:n.accessToken?.tokenType||Pe.EMPTY_STRING,state:c?c.userRequestState:Pe.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Pe.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Pe.EMPTY_STRING,code:l?.spa_code,fromNativeBroker:!1}}};function Vle(t,e,r,n,i,s,a,c,l,f,d,h){h?.verbose("setCachedAccount called");let g=t.getAccountKeys().find(S=>S.startsWith(r)),y=null;g&&(y=t.getAccount(g,i));let v=y||ba.createAccount({homeAccountId:r,idTokenClaims:s,clientInfo:a,environment:c,cloudGraphHostName:f?.cloud_graph_host_name,msGraphHost:f?.msgraph_host,nativeAccountId:d},e,n),_=v.tenantProfiles||[],T=l||v.realm;if(T&&!_.find(S=>S.tenantId===T)){let S=d_(r,v.localAccountId,T,s);_.push(S)}return v.tenantProfiles=_,v}o(Vle,"buildAccountToCache");u();async function m0(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}o(m0,"getClientAssertion");var N_=class extends Ta{static{o(this,"AuthorizationCodeClient")}constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(De.AuthClientAcquireToken,e.correlationId),!e.code)throw je(dC);let n=Hc(),i=await Sn(this.executeTokenRequest.bind(this),De.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),s=i.headers?.[Fi.X_MS_REQUEST_ID],a=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),Sn(a.handleServerTokenResponse.bind(a),De.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,r,void 0,void 0,void 0,s)}getLogoutUri(e){if(!e)throw _i(TC);let r=this.createLogoutUrlQueryString(e);return on.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(De.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),i=on.appendQueryString(e.tokenEndpoint,n),s=await Sn(this.createTokenRequestBody.bind(this),De.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),a;if(r.clientInfo)try{let f=Qv(r.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${f.uid}${Qo.CLIENT_INFO_SEPARATOR}${f.utid}`,type:A0.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}let c=this.createTokenRequestHeaders(a||r.ccsCredential),l=Lv(this.config.authOptions.clientId,r);return Sn(this.executePostToTokenEndpoint.bind(this),De.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(i,s,c,l,r.correlationId,De.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(De.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(NC(r,e.embeddedClientId||e.tokenBodyParameters?.[Qd]||this.config.authOptions.clientId),this.includeRedirectUri)QC(r,e.redirectUri);else if(!e.redirectUri)throw _i(EC);if(DC(r,e.scopes,!0,this.oidcDefaultScopes),_G(r,e.code),g_(r,this.config.libraryInfo),y_(r,this.config.telemetry.application),w_(r),this.serverTelemetryManager&&!e7(this.config)&&S_(r,this.serverTelemetryManager),e.codeVerifier&&wG(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&E_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;I_(r,await m0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),v_(r,i.assertionType)}if(b_(r,Z0.AUTHORIZATION_CODE_GRANT),LC(r),e.authenticationScheme===_n.POP){let i=new Eg(this.cryptoUtils,this.performanceClient),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await Sn(i.generateCnf.bind(i),De.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,T_(r,s)}else if(e.authenticationScheme===_n.SSH)if(e.sshJwk)__(r,e.sshJwk);else throw _i(EA);(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&PC(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let i=Qv(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${i.uid}${Qo.CLIENT_INFO_SEPARATOR}${i.utid}`,type:A0.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case A0.HOME_ACCOUNT_ID:try{let i=Dd(n.credential);IA(r,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case A0.UPN:gg(r,n.credential);break}return e.embeddedClientId&&bA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&vA(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[i7])&&vA(r,{[i7]:"1"}),kC(r,e.correlationId,this.performanceClient),Nd(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&IG(r,e.postLogoutRedirectUri),e.correlationId&&FC(r,e.correlationId),e.idTokenHint&&vG(r,e.idTokenHint),e.state&&C_(r,e.state),e.logoutHint&&BG(r,e.logoutHint),e.extraQueryParameters&&vA(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&x_(r),Nd(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};u();var xPe=300,MC=class extends Ta{static{o(this,"RefreshTokenClient")}constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireToken,e.correlationId);let r=Hc(),n=await Sn(this.executeTokenRequest.bind(this),De.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=n.headers?.[Fi.X_MS_REQUEST_ID],s=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(n.body),Sn(s.handleServerTokenResponse.bind(s),De.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){if(!e)throw _i(xC);if(this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw je(pA);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let i=n instanceof qc&&n.errorCode===yg,s=n instanceof p0&&n.errorCode===P4.INVALID_GRANT_ERROR&&n.subError===P4.CLIENT_MISMATCH_ERROR;if(i||s)return Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return Sn(this.acquireTokenWithCachedRefreshToken.bind(this),De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=Hle(this.cacheManager.getRefreshToken.bind(this.cacheManager),De.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw A7(yg);if(n.expiresOn&&Rv(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||xPe))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),A7(D_);let i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||_n.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:A0.HOME_ACCOUNT_ID}};try{return await Sn(this.acquireToken.bind(this),De.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof qc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),s.subError===Cg)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let a=r_(n);this.cacheManager.removeRefreshToken(a,e.correlationId)}throw s}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),i=on.appendQueryString(r.tokenEndpoint,n),s=await Sn(this.createTokenRequestBody.bind(this),De.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),c=Lv(this.config.authOptions.clientId,e);return Sn(this.executePostToTokenEndpoint.bind(this),De.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,s,a,c,e.correlationId,De.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(De.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(NC(r,e.embeddedClientId||e.tokenBodyParameters?.[Qd]||this.config.authOptions.clientId),e.redirectUri&&QC(r,e.redirectUri),DC(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),b_(r,Z0.REFRESH_TOKEN_GRANT),LC(r),g_(r,this.config.libraryInfo),y_(r,this.config.telemetry.application),w_(r),this.serverTelemetryManager&&!e7(this.config)&&S_(r,this.serverTelemetryManager),SG(r,e.refreshToken),this.config.clientCredentials.clientSecret&&E_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;I_(r,await m0(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),v_(r,n.assertionType)}if(e.authenticationScheme===_n.POP){let n=new Eg(this.cryptoUtils,this.performanceClient),i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await Sn(n.generateCnf.bind(n),De.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,T_(r,i)}else if(e.authenticationScheme===_n.SSH)if(e.sshJwk)__(r,e.sshJwk);else throw _i(EA);if((!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&PC(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case A0.HOME_ACCOUNT_ID:try{let n=Dd(e.ccsCredential.credential);IA(r,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case A0.UPN:gg(r,e.ccsCredential.credential);break}return e.embeddedClientId&&bA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&vA(r,e.tokenBodyParameters),kC(r,e.correlationId,this.performanceClient),Nd(r)}};u();var Q_=class extends Ta{static{o(this,"SilentFlowClient")}constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(De.SilentFlowClientAcquireCachedToken,e.correlationId);let r=ki.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!uo.isEmptyObj(e.claims))throw this.setCacheOutcome(ki.FORCE_REFRESH_OR_CLAIMS,e.correlationId),je(gA);if(!e.account)throw je(pA);let n=e.account.tenantId||qle(e.authority),i=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(e.account,e,i,n);if(s){if(Tq(s.cachedAt)||Rv(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),je(gA);s.refreshOn&&Rv(s.refreshOn,0)&&(r=ki.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN,e.correlationId),je(gA);let a=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:s,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Sn(this.generateResultFromCacheRecord.bind(this),De.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(c,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==ki.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(De.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=CA(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let i=n?.auth_time;if(!i)throw je(AA);e_(i,r.maxAge)}return Xo.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var P_={};Eo(P_,{getAuthorizationCodePayload:()=>SPe,getAuthorizeUrl:()=>_Pe,getStandardAuthorizeRequestParameters:()=>TPe,validateAuthorizationResponse:()=>Wle});u();function TPe(t,e,r,n){let i=e.correlationId,s=new Map;NC(s,e.embeddedClientId||e.extraQueryParameters?.[Qd]||t.clientId);let a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(DC(s,a,!0,t.authority.options.OIDCOptions?.defaultScopes),QC(s,e.redirectUri),FC(s,i),EG(s,e.responseMode),LC(s),e.prompt&&(xG(s,e.prompt),n?.addFields({prompt:e.prompt},i)),e.domainHint&&(bG(s,e.domainHint),n?.addFields({domainHintFromRequest:!0},i)),e.prompt!==ag.SELECT_ACCOUNT)if(e.sid&&e.prompt===ag.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),s7(s,e.sid),n?.addFields({sidFromRequest:!0},i);else if(e.account){let c=BPe(e.account),l=RPe(e.account);if(l&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Fv(s,l),n?.addFields({loginHintFromClaim:!0},i);try{let f=Dd(e.account.homeAccountId);IA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(c&&e.prompt===ag.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),s7(s,c),n?.addFields({sidFromClaim:!0},i);try{let f=Dd(e.account.homeAccountId);IA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Fv(s,e.loginHint),gg(s,e.loginHint),n?.addFields({loginHintFromRequest:!0},i);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Fv(s,e.account.username),n?.addFields({loginHintFromUpn:!0},i);try{let f=Dd(e.account.homeAccountId);IA(s,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Fv(s,e.loginHint),gg(s,e.loginHint),n?.addFields({loginHintFromRequest:!0},i));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&TG(s,e.nonce),e.state&&C_(s,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&PC(s,e.claims,t.clientCapabilities),e.embeddedClientId&&bA(s,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Pv))&&x_(s),s}o(TPe,"getStandardAuthorizeRequestParameters");function _Pe(t,e,r,n){let i=Nd(e,r,n);return on.appendQueryString(t.authorizationEndpoint,i)}o(_Pe,"getAuthorizeUrl");function SPe(t,e){if(Wle(t,e),!t.code)throw je(gC);return t}o(SPe,"getAuthorizationCodePayload");function Wle(t,e){if(!t.state||!e)throw t.state?je(ug,"Cached State"):je(ug,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw je(Xu,t.state)}try{n=decodeURIComponent(e)}catch{throw je(Xu,t.state)}if(r!==n)throw je(cC);if(t.error||t.error_description||t.suberror){let i=wPe(t);throw h7(t.error,t.error_description,t.suberror)?new qc(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new p0(t.error||"",t.error_description,t.suberror,i)}}o(Wle,"validateAuthorizationResponse");function wPe(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}o(wPe,"parseServerErrorNo");function BPe(t){return t.idTokenClaims?.sid||null}o(BPe,"extractAccountSid");function RPe(t){return t.idTokenClaims?.login_hint||null}o(RPe,"extractLoginHint");u();var Yle=",",$le="|";function kPe(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:s}=t,a=new Map([[0,[r,n]],[2,[i,s]]]),c=[];if(e?.length){if(c=e.split(Yle),c.length<4)return e}else c=Array.from({length:4},()=>$le);return a.forEach((l,f)=>{l.length===2&&l[0]?.length&&l[1]?.length&&DPe({skuArr:c,index:f,skuName:l[0],skuVersion:l[1]})}),c.join(Yle)}o(kPe,"makeExtraSkuString");function DPe(t){let{skuArr:e,index:r,skuName:n,skuVersion:i}=t;r>=e.length||(e[r]=[n,i].join($le))}o(DPe,"setSku");var OC=class t{static{o(this,"ServerTelemetryManager")}constructor(e,r){this.cacheOutcome=ki.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Pe.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Pe.EMPTY_STRING,this.telemetryCacheKey=Bs.CACHE_KEY+Qo.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Bs.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let i=r.join(Bs.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),a=[e,s].join(Bs.VALUE_SEPARATOR);return[Bs.SCHEMA_VERSION,a,i].join(Bs.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Bs.VALUE_SEPARATOR),i=e.errors.slice(0,r).join(Bs.VALUE_SEPARATOR),s=e.errors.length,a=r<s?Bs.OVERFLOW_TRUE:Bs.OVERFLOW_FALSE,c=[s,a].join(Bs.VALUE_SEPARATOR);return[Bs.SCHEMA_VERSION,e.cacheHits,n,i,c].join(Bs.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=Bs.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Dr?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Bs.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let i={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,i=0,s=e.errors.length;for(r=0;r<s;r++){let a=e.failedRequests[2*r]||Pe.EMPTY_STRING,c=e.failedRequests[2*r+1]||Pe.EMPTY_STRING,l=e.errors[r]||Pe.EMPTY_STRING;if(i+=a.toString().length+c.toString().length+l.length+3,i<Bs.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||Pe.EMPTY_STRING),e.push(this.regionSource||Pe.EMPTY_STRING),e.push(this.regionOutcome||Pe.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return kPe(e)}};var xA=class{static{o(this,"Deserializer")}static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,realm:i.realm,localAccountId:i.local_account_id,username:i.username,authorityType:i.authority_type,name:i.name,clientInfo:i.client_info,lastModificationTime:i.last_modification_time,lastModificationApp:i.last_modification_app,tenantProfiles:i.tenantProfiles?.map(c=>JSON.parse(c))},a=new ba;mg.toObject(a,s),r[n]=a}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm};r[n]=s}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm,target:i.target,cachedAt:i.cached_at,expiresOn:i.expires_on,extendedExpiresOn:i.extended_expires_on,refreshOn:i.refresh_on,keyId:i.key_id,tokenType:i.token_type,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash};r[n]=s}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],s={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,familyId:i.family_id,target:i.target,realm:i.realm};r[n]=s}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n];r[n]={clientId:i.client_id,environment:i.environment,familyId:i.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};u();u();var zle="system_assigned_managed_identity",MPe="managed_identity",LG=`https://login.microsoftonline.com/${MPe}/`,ec={AUTHORIZATION_HEADER_NAME:"Authorization",METADATA_HEADER_NAME:"Metadata",APP_SERVICE_SECRET_HEADER_NAME:"X-IDENTITY-HEADER",ML_AND_SF_SECRET_HEADER_NAME:"secret"},gs={API_VERSION:"api-version",RESOURCE:"resource",SHA256_TOKEN_TO_REFRESH:"token_sha256_to_refresh",XMS_CC:"xms_cc"},yr={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",DEFAULT_IDENTITY_CLIENT_ID:"DEFAULT_IDENTITY_CLIENT_ID",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},_r={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},To={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},Xi={GET:"get",POST:"post"},m7={SUCCESS_RANGE_START:kr.SUCCESS_RANGE_START,SUCCESS_RANGE_END:kr.SUCCESS_RANGE_END,SERVER_ERROR:kr.SERVER_ERROR},jle="REGION_NAME",Kle="MSAL_FORCE_REGION",Jle=32,Xle={SHA256:"sha256"},g7={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},ks={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},TA={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Ul={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},y7={INTERVAL_MS:100,TIMEOUT_MS:5e3},Zle=4096;u();u();u();u();var Mv=class{static{o(this,"NetworkUtils")}static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var C7=yt(require("http"),1),MG=yt(require("https"),1);var Ov=class{static{o(this,"HttpClient")}constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?eue(e,this.proxyUrl,Xi.GET,r,this.customAgentOptions,n):tue(e,Xi.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?eue(e,this.proxyUrl,Xi.POST,r,this.customAgentOptions):tue(e,Xi.POST,r,this.customAgentOptions)}},eue=o((t,e,r,n,i,s)=>{let a=new URL(t),c=new URL(e),l=n?.headers||{},f={host:c.hostname,port:c.port,method:"CONNECT",path:a.hostname,headers:l};i&&Object.keys(i).length&&(f.agent=new C7.default.Agent(i));let d="";if(r===Xi.POST){let A=n?.body||"";d=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${A.length}\r
\r
${A}`}else s&&(f.timeout=s);let h=`${r.toUpperCase()} ${a.href} HTTP/1.1\r
Host: ${a.host}\r
Connection: close\r
`+d+`\r
`;return new Promise((A,g)=>{let y=C7.default.request(f);s&&y.on("timeout",()=>{y.destroy(),g(new Error("Request time out"))}),y.end(),y.on("connect",(v,_)=>{let T=v?.statusCode||m7.SERVER_ERROR;(T<m7.SUCCESS_RANGE_START||T>m7.SUCCESS_RANGE_END)&&(y.destroy(),_.destroy(),g(new Error(`Error connecting to proxy. Http status code: ${v.statusCode}. Http status message: ${v?.statusMessage||"Unknown"}`))),_.write(h);let S=[];_.on("data",D=>{S.push(D)}),_.on("end",()=>{let Q=Buffer.concat([...S]).toString().split(`\r
`),k=parseInt(Q[0].split(" ")[1]),P=Q[0].split(" ").slice(2).join(" "),W=Q[Q.length-1],re=Q.slice(1,Q.length-2),ye=new Map;re.forEach(Ie=>{let ue=Ie.split(new RegExp(/:\s(.*)/s)),J=ue[0],H=ue[1];try{let Z=JSON.parse(H);Z&&typeof Z=="object"&&(H=Z)}catch{}ye.set(J,H)});let z=Object.fromEntries(ye),j=Mv.getNetworkResponse(z,rue(k,P,z,W),k);(k<kr.SUCCESS_RANGE_START||k>kr.SUCCESS_RANGE_END)&&j.body.error!==ks.AUTHORIZATION_PENDING&&y.destroy(),A(j)}),_.on("error",D=>{y.destroy(),_.destroy(),g(new Error(D.toString()))})}),y.on("error",v=>{y.destroy(),g(new Error(v.toString()))})})},"networkRequestViaProxy"),tue=o((t,e,r,n,i)=>{let s=e===Xi.POST,a=r?.body||"",c=new URL(t),l=r?.headers||{},f={method:e,headers:l,...Mv.urlToHttpOptions(c)};return n&&Object.keys(n).length&&(f.agent=new MG.default.Agent(n)),s?f.headers={...f.headers,"Content-Length":a.length}:i&&(f.timeout=i),new Promise((d,h)=>{let A;f.protocol==="http:"?A=C7.default.request(f):A=MG.default.request(f),s&&A.write(a),i&&A.on("timeout",()=>{A.destroy(),h(new Error("Request time out"))}),A.end(),A.on("response",g=>{let y=g.headers,v=g.statusCode,_=g.statusMessage,T=[];g.on("data",S=>{T.push(S)}),g.on("end",()=>{let S=Buffer.concat([...T]).toString(),D=y,Q=Mv.getNetworkResponse(D,rue(v,_,D,S),v);(v<kr.SUCCESS_RANGE_START||v>kr.SUCCESS_RANGE_END)&&Q.body.error!==ks.AUTHORIZATION_PENDING&&A.destroy(),d(Q)})}),A.on("error",g=>{A.destroy(),h(new Error(g.toString()))})})},"networkRequestViaHttps"),rue=o((t,e,r,n)=>{let i;try{i=JSON.parse(n)}catch{let a,c;t>=kr.CLIENT_ERROR_RANGE_START&&t<=kr.CLIENT_ERROR_RANGE_END?(a="client_error",c="A client"):t>=kr.SERVER_ERROR_RANGE_START&&t<=kr.SERVER_ERROR_RANGE_END?(a="server_error",c="A server"):(a="unknown_error",c="An unknown"),i={error:a,error_description:`${c} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return i},"parseBody");u();u();u();var E7="invalid_file_extension",I7="invalid_file_path",Ig="invalid_managed_identity_id_type",v7="invalid_secret",nue="missing_client_id",iue="network_unavailable",b7="platform_not_supported",x7="unable_to_create_azure_arc",T7="unable_to_create_cloud_shell",_7="unable_to_create_source",F_="unable_to_read_secret_file",oue="user_assigned_not_available_at_runtime",S7="www_authenticate_header_missing",w7="www_authenticate_header_unsupported_format",UC={[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[yr.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[yr.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[yr.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var OPe={[E7]:"The file path in the WWW-Authenticate header does not contain a .key file.",[I7]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[Ig]:"More than one ManagedIdentityIdType was provided.",[v7]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[b7]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[nue]:"A ManagedIdentityId id was not provided.",[UC.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[UC.IDENTITY_ENDPOINT]:`The Managed Identity's '${yr.IDENTITY_ENDPOINT}' environment variable is malformed.`,[UC.IMDS_ENDPOINT]:`The Managed Identity's '${yr.IMDS_ENDPOINT}' environment variable is malformed.`,[UC.MSI_ENDPOINT]:`The Managed Identity's '${yr.MSI_ENDPOINT}' environment variable is malformed.`,[iue]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[x7]:"Azure Arc Managed Identities can only be system assigned.",[T7]:"Cloud Shell Managed Identities can only be system assigned.",[_7]:"Unable to create a Managed Identity source based on environment variables.",[F_]:"Unable to read the secret file.",[oue]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[S7]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[w7]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},OG=class t extends Dr{static{o(this,"ManagedIdentityError")}constructor(e){super(e,OPe[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}};function Zo(t){return new OG(t)}o(Zo,"createManagedIdentityError");var B7=class{static{o(this,"ManagedIdentityId")}get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,i=e?.userAssignedObjectId;if(r){if(n||i)throw Zo(Ig);this.id=r,this.idType=To.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||i)throw Zo(Ig);this.id=n,this.idType=To.USER_ASSIGNED_RESOURCE_ID}else if(i){if(r||n)throw Zo(Ig);this.id=i,this.idType=To.USER_ASSIGNED_OBJECT_ID}else this.id=zle,this.idType=To.SYSTEM_ASSIGNED}};u();var js={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},tc=class t extends Dr{static{o(this,"NodeAuthError")}constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(js.invalidLoopbackAddressType.code,`${js.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(js.unableToLoadRedirectUri.code,`${js.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(js.noAuthCodeInResponse.code,`${js.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(js.noLoopbackServerExists.code,`${js.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(js.loopbackServerAlreadyExists.code,`${js.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(js.loopbackServerTimeout.code,`${js.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(js.stateNotFoundError.code,js.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(js.thumbprintMissing.code,js.thumbprintMissing.desc)}};var UPe={clientId:Pe.EMPTY_STRING,authority:Pe.DEFAULT_AUTHORITY,clientSecret:Pe.EMPTY_STRING,clientAssertion:Pe.EMPTY_STRING,clientCertificate:{thumbprint:Pe.EMPTY_STRING,thumbprintSha256:Pe.EMPTY_STRING,privateKey:Pe.EMPTY_STRING,x5c:Pe.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:Pe.EMPTY_STRING,authorityMetadata:Pe.EMPTY_STRING,clientCapabilities:[],protocolMode:za.AAD,azureCloudOptions:{azureCloudInstance:yA.None,tenant:Pe.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},HPe={claimsBasedCachingEnabled:!1},UG={loggerCallback:o(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xo.Info},qPe={loggerOptions:UG,networkClient:new Ov,proxyUrl:Pe.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},GPe={application:{appName:Pe.EMPTY_STRING,appVersion:Pe.EMPTY_STRING}};function sue({auth:t,broker:e,cache:r,system:n,telemetry:i}){let s={...qPe,networkClient:new Ov(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||UG,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw tc.createStateNotFoundError();return{auth:{...UPe,...t},broker:{...e},cache:{...HPe,...r},system:{...s,...n},telemetry:{...GPe,...i}}}o(sue,"buildAppConfiguration");function aue({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new B7(e),i=r?.loggerOptions||UG,s;return r?.networkClient?s=r.networkClient:s=new Ov(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:i,networkClient:s},disableInternalRetries:r?.disableInternalRetries||!1}}o(aue,"buildManagedIdentityConfiguration");u();u();u();u();var cue=yt(require("crypto"));var k7=new Uint8Array(256),R7=k7.length;function HG(){return R7>k7.length-16&&(cue.default.randomFillSync(k7),R7=0),k7.slice(R7,R7+=16)}o(HG,"rng");u();u();u();var lue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VPe(t){return typeof t=="string"&&lue.test(t)}o(VPe,"validate");var uue=VPe;var _a=[];for(let t=0;t<256;++t)_a.push((t+256).toString(16).substr(1));function WPe(t,e=0){let r=(_a[t[e+0]]+_a[t[e+1]]+_a[t[e+2]]+_a[t[e+3]]+"-"+_a[t[e+4]]+_a[t[e+5]]+"-"+_a[t[e+6]]+_a[t[e+7]]+"-"+_a[t[e+8]]+_a[t[e+9]]+"-"+_a[t[e+10]]+_a[t[e+11]]+_a[t[e+12]]+_a[t[e+13]]+_a[t[e+14]]+_a[t[e+15]]).toLowerCase();if(!uue(r))throw TypeError("Stringified UUID is invalid");return r}o(WPe,"stringify");var fue=WPe;u();function YPe(t,e,r){t=t||{};let n=t.random||(t.rng||HG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return fue(n)}o(YPe,"v4");var qG=YPe;var Uv=class{static{o(this,"GuidGenerator")}generateGuid(){return qG()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};u();var Vc=class t{static{o(this,"EncodingUtils")}static base64Encode(e,r){return Buffer.from(e,r).toString(va.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,Pe.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,va.BASE64).toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};u();u();var due=yt(require("crypto"),1);var vg=class{static{o(this,"HashUtils")}sha256(e){return due.default.createHash(Xle.SHA256).update(e).digest()}};var hue=yt(require("crypto"),1);var D7=class{static{o(this,"PkceGenerator")}constructor(){this.hashUtils=new vg}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%g7.CV_CHARSET.length;for(;e.length<=Jle;){let i=hue.default.randomBytes(1)[0];if(i>=r)continue;let s=i%g7.CV_CHARSET.length;e.push(g7.CV_CHARSET[s])}let n=e.join(Pe.EMPTY_STRING);return Vc.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Vc.base64EncodeUrl(this.hashUtils.sha256(e).toString(va.BASE64),va.BASE64)}};var Pd=class{static{o(this,"CryptoProvider")}constructor(){this.pkceGenerator=new D7,this.guidGenerator=new Uv,this.hashUtils=new vg}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Vc.base64Encode(e)}base64Decode(e){return Vc.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return Vc.base64EncodeUrl(this.hashUtils.sha256(e).toString(va.BASE64),va.BASE64)}};u();u();var bg=class extends mg{static{o(this,"NodeStorage")}constructor(e,r,n,i){super(r,n,e,new BC,i),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let i=e[n];if(typeof i=="object")if(i instanceof ba)r.accounts[n]=i;else if(Rs.isIdTokenEntity(i))r.idTokens[n]=i;else if(Rs.isAccessTokenEntity(i))r.accessTokens[n]=i;else if(Rs.isRefreshTokenEntity(i))r.refreshTokens[n]=i;else if(Rs.isAppMetadataEntity(n,i))r.appMetadata[n]=i;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new ba,this.getItem(e)):null}async setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return Rs.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=Rs.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return Rs.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=Rs.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return Rs.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=Rs.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return Rs.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=Rs.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&Rs.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&Rs.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&Rs.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return xA.deserializeAllCache(xA.deserializeJSONBlob(e))}static generateJsonCache(e){return sg.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=Rs.generateCredentialKey(r);if(e!==n){let i=this.getItem(e);if(i)return this.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};u();var L_={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Hv=class{static{o(this,"TokenCache")}constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=sg.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=xA.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=bg.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new Pd().createNewGuid()){this.logger.trace("getAllAccounts called");let r;try{return this.persistence&&(r=new Gc(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace("removeAccount called");let n;try{this.persistence&&(n=new Gc(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(ba.generateAccountCacheKey(e),r||new Uv().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new Gc(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let i=r[n];if(!e.hasOwnProperty(n))i!==null&&(e[n]=i);else{let s=i!==null,a=typeof i=="object",c=!Array.isArray(i),l=typeof e[n]<"u"&&e[n]!==null;s&&a&&c&&l?this.mergeUpdates(e[n],i):e[n]=i}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,i=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,s=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,a=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,c=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:i,RefreshToken:s,IdToken:a,AppMetadata:c}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(i=>{(!r||!r.hasOwnProperty(i))&&delete n[i]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...L_.Account,...e.Account},IdToken:{...L_.IdToken,...e.IdToken},AccessToken:{...L_.AccessToken,...e.AccessToken},RefreshToken:{...L_.RefreshToken,...e.RefreshToken},AppMetadata:{...L_.AppMetadata,...e.AppMetadata}}}};u();var qhe=yt(Hhe(),1);var _A=class t{static{o(this,"ClientAssertion")}static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!1,n&&(i.publicCertificate=this.parseCertificate(n)),i}static fromCertificateWithSha256Thumbprint(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!0,n&&(i.publicCertificate=this.parseCertificate(n)),i}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw je(Ti.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let i=Ji.nowSeconds();this.expirationTime=i+600;let a={alg:this.useSha256?Ul.PSS_256:Ul.RSA_256},c=this.useSha256?Ul.X5T_256:Ul.X5T;Object.assign(a,{[c]:Vc.base64EncodeUrl(this.thumbprint,va.HEX)}),this.publicCertificate&&Object.assign(a,{[Ul.X5C]:this.publicCertificate});let l={[Ul.AUDIENCE]:this.jwtAudience,[Ul.EXPIRATION_TIME]:this.expirationTime,[Ul.ISSUER]:this.issuer,[Ul.SUBJECT]:this.issuer,[Ul.NOT_BEFORE]:i,[Ul.JWT_ID]:e.createNewGuid()};return this.jwt=qhe.default.sign(l,this.privateKey,{header:a}),this.jwt}isExpired(){return this.expirationTime<Ji.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],i;for(;(i=r.exec(e))!==null;)n.push(i[1].replace(/\r*\n/g,Pe.EMPTY_STRING));return n}};u();var ck="@azure/msal-node",tf="3.6.3";u();var zv=class extends Ta{static{o(this,"UsernamePasswordClient")}constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=Ji.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),i=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),i.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),i=on.appendQueryString(e.tokenEndpoint,n),s=await this.createTokenRequestBody(r),a=this.createTokenRequestHeaders({credential:r.username,type:A0.UPN}),c={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(i,s,a,c,r.correlationId)}async createTokenRequestBody(e){let r=new Map;xt.addClientId(r,this.config.authOptions.clientId),xt.addUsername(r,e.username),xt.addPassword(r,e.password),xt.addScopes(r,e.scopes),xt.addResponseType(r,xv.IDTOKEN_TOKEN),xt.addGrantType(r,Z0.RESOURCE_OWNER_PASSWORD_GRANT),xt.addClientInfo(r),xt.addLibraryInfo(r,this.config.libraryInfo),xt.addApplicationTelemetry(r,this.config.telemetry.application),xt.addThrottling(r),this.serverTelemetryManager&&xt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();xt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&xt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(xt.addClientAssertion(r,await m0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),xt.addClientAssertionType(r,i.assertionType)),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&xt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&xt.addCcsUpn(r,e.username),xa.mapToQueryString(r)}};u();function Ghe(t,e,r,n){let i=P_.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||""},r,n);return xt.addLibraryInfo(i,{sku:ks.MSAL_SKU,version:tf,cpu:process.arch||"",os:process.platform||""}),t.auth.protocolMode!==za.OIDC&&xt.addApplicationTelemetry(i,t.telemetry.application),xt.addResponseType(i,xv.CODE),r.codeChallenge&&r.codeChallengeMethod&&xt.addCodeChallengeParams(i,r.codeChallenge,r.codeChallengeMethod),xt.addExtraQueryParameters(i,r.extraQueryParameters||{}),P_.getAuthorizeUrl(e,i,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}o(Ghe,"getAuthCodeRequestUrl");var _g=class{static{o(this,"ClientApplication")}constructor(e){this.config=sue(e),this.cryptoProvider=new Pd,this.logger=new Uc(this.config.system.loggerOptions,ck,tf),this.storage=new bg(this.logger,this.config.auth.clientId,this.cryptoProvider,RG(this.config.auth)),this.tokenCache=new Hv(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||Bd.QUERY,authenticationScheme:_n.BEARER,state:e.state||"",nonce:e.nonce||""},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return Ghe(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:_n.BEARER},i=this.initializeServerTelemetryManager(TA.acquireTokenByCode,n.correlationId);try{let s=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(s,n.correlationId,n.redirectUri,i),c=new N_(a);return this.logger.verbose("Auth code client created",n.correlationId),await c.acquireToken(n,r)}catch(s){throw s instanceof Dr&&s.setCorrelationId(n.correlationId),i.cacheFailedRequest(s),s}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:_n.BEARER},n=this.initializeServerTelemetryManager(TA.acquireTokenByRefreshToken,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||"",n),a=new MC(s);return this.logger.verbose("Refresh token client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Dr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(TA.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||"",n),a=new Q_(s);this.logger.verbose("Silent flow client created",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,a,s)}catch(c){if(c instanceof hg&&c.errorCode===Ti.tokenRefreshRequired)return new MC(s).acquireTokenByRefreshToken(r);throw c}}catch(i){throw i instanceof Dr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireCachedTokenSilent(e,r,n){let[i,s]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...J0]});if(s===ki.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let a=new MC(n);try{await a.acquireTokenByRefreshToken(e)}catch{}}return i}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(TA.acquireTokenByUsernamePassword,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,"",n),a=new zv(s);return this.logger.verbose("Username password client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Dr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw tc.createStateNotFoundError();if(e!==r)throw je(Ti.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,i){return this.logger.verbose("buildOauthClientConfiguration called",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),i?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:i,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:ks.MSAL_SKU,version:tf,cpu:process.arch||Pe.EMPTY_STRING,os:process.platform||Pe.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=_A.fromAssertion(await m0(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:ks.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===_n.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=_n.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!uo.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...J0],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let i={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new OC(i,this.storage)}async createAuthority(e,r,n,i){this.logger.verbose("createAuthority called",r);let s=Zu.generateAuthority(e,i||this.config.auth.azureCloudOptions),a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return c7.createDiscoveredInstance(s,this.config.system.networkClient,this.storage,a,this.logger,r)}clearCache(){this.storage.clear()}};u();var Vhe=yt(require("http"),1);var lk=class{static{o(this,"LoopbackClient")}async listenForAuthCode(e,r){if(this.server)throw tc.createLoopbackServerAlreadyExistsError();return new Promise((n,i)=>{this.server=Vhe.default.createServer((s,a)=>{let c=s.url;if(c){if(c===Pe.FORWARD_SLASH){a.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{a.end(r||"Error occurred loading redirectUrl"),i(tc.createUnableToLoadRedirectUrlError());return}let l=this.getRedirectUri(),f=new URL(c,l),d=xa.getDeserializedResponse(f.search)||{};d.code&&(a.writeHead(kr.REDIRECT,{location:l}),a.end()),d.error&&a.end(r||`Error occurred: ${d.error}`),n(d)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw tc.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),tc.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${ks.HTTP_PROTOCOL}${ks.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};u();var jv=class extends Ta{static{o(this,"DeviceCodeClient")}constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=Ji.nowSeconds(),i=await this.acquireTokenWithDeviceCode(e,r),s=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(i),s.handleServerTokenResponse(i,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=on.appendQueryString(this.authority.deviceCodeEndpoint,r),i=this.createQueryString(e),s=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,i,s,a,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&xt.addExtraQueryParameters(r,e.extraQueryParameters),xa.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,i,s){let{body:{user_code:a,device_code:c,verification_uri:l,expires_in:f,interval:d,message:h}}=await this.sendPostRequest(i,e,{body:r,headers:n},s);return{userCode:a,deviceCode:c,verificationUri:l,expiresIn:f,interval:d,message:h}}createQueryString(e){let r=new Map;return xt.addScopes(r,e.scopes),xt.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&xt.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&xt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),je(Ti.deviceCodePollingCancelled);if(r&&r<e&&Ji.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),je(Ti.userTimeoutReached);if(Ji.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),je(Ti.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),i=on.appendQueryString(this.authority.tokenEndpoint,n),s=this.createTokenRequestBody(e,r),a=this.createTokenRequestHeaders(),c=e.timeout?Ji.nowSeconds()+e.timeout:void 0,l=Ji.nowSeconds()+r.expiresIn,f=r.interval*1e3;for(;this.continuePolling(l,c,e.cancel);){let d={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},h=await this.executePostToTokenEndpoint(i,s,a,d,e.correlationId);if(h.body&&h.body.error)if(h.body.error===Pe.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await Ji.delay(f);else throw this.logger.info("Unexpected error in polling from the server"),bq(Sv.postRequestFailed,h.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),h.body}throw this.logger.error("Polling stopped for unknown reasons."),je(Ti.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;xt.addScopes(n,e.scopes),xt.addClientId(n,this.config.authOptions.clientId),xt.addGrantType(n,Z0.DEVICE_CODE_GRANT),xt.addDeviceCode(n,r.deviceCode);let i=e.correlationId||this.config.cryptoInterface.createNewGuid();return xt.addCorrelationId(n,i),xt.addClientInfo(n),xt.addLibraryInfo(n,this.config.libraryInfo),xt.addApplicationTelemetry(n,this.config.telemetry.application),xt.addThrottling(n),this.serverTelemetryManager&&xt.addServerTelemetry(n,this.serverTelemetryManager),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&xt.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(n)}};var Kv=class extends _g{static{o(this,"PublicClientApplication")}constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=OC.makeExtraSkuString({libraryName:ks.MSAL_SKU,libraryVersion:tf})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(TA.acquireTokenByDeviceCode,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(i,r.correlationId,"",n),a=new jv(s);return this.logger.verbose("Device code client created",r.correlationId),await a.acquireToken(r)}catch(i){throw i instanceof Dr&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:i,errorTemplate:s,windowHandle:a,loopbackClient:c,...l}=e;if(this.nativeBrokerPlugin){let y={...l,clientId:this.config.auth.clientId,scopes:e.scopes||J0,redirectUri:`${ks.HTTP_PROTOCOL}${ks.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...l.extraQueryParameters,...l.tokenQueryParameters,[RC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:l.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(y,a)}let{verifier:f,challenge:d}=await this.cryptoProvider.generatePkceCodes(),h=c||new lk,A={},g=null;try{let y=h.listenForAuthCode(i,s).then(Q=>{A=Q}).catch(Q=>{g=Q}),v=await this.waitForRedirectUri(h),_={...l,correlationId:r,scopes:e.scopes||J0,redirectUri:v,responseMode:Bd.QUERY,codeChallenge:d,codeChallengeMethod:qR.S256},T=await this.getAuthCodeUrl(_);if(await n(T),await y,g)throw g;if(A.error)throw new p0(A.error,A.error_description,A.suberror);if(!A.code)throw tc.createNoAuthCodeInResponseError();let S=A.client_info,D={code:A.code,codeVerifier:f,clientInfo:S||Pe.EMPTY_STRING,..._};return await this.acquireTokenByCode(D)}finally{h.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||J0,redirectUri:`${ks.HTTP_PROTOCOL}${ks.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[RC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let i=0,s=setInterval(()=>{if(y7.TIMEOUT_MS/y7.INTERVAL_MS<i){clearInterval(s),n(tc.createLoopbackServerTimeoutError());return}try{let a=e.getRedirectUri();clearInterval(s),r(a);return}catch(a){if(a instanceof Dr&&a.errorCode===js.noLoopbackServerExists.code){i++;return}clearInterval(s),n(a);return}},y7.INTERVAL_MS)})}};u();u();var Sg=class extends Ta{static{o(this,"ClientCredentialClient")}constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,i,s,a){let c=r,l=r,f=ki.NOT_APPLICABLE,d;c.serializableCache&&c.persistencePlugin&&(d=new Gc(c.serializableCache,!1),await c.persistencePlugin.beforeCacheAccess(d));let h=this.readAccessTokenFromCache(i,l.managedIdentityId?.id||c.authOptions.clientId,new ms(e.scopes||[]),s,e.correlationId);return c.serializableCache&&c.persistencePlugin&&d&&await c.persistencePlugin.afterCacheAccess(d),h?Ji.isTokenExpired(h.expiresOn,c.systemOptions?.tokenRenewalOffsetSeconds||_v)?(a?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),[null,ki.CACHED_ACCESS_TOKEN_EXPIRED]):(h.refreshOn&&Ji.isTokenExpired(h.refreshOn.toString(),0)&&(f=ki.PROACTIVELY_REFRESHED,a?.setCacheOutcome(ki.PROACTIVELY_REFRESHED)),[await Xo.generateAuthenticationResult(n,i,{account:null,idToken:null,accessToken:h,refreshToken:null,appMetadata:null},!0,e),f]):(a?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),[null,ki.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,i,s){let a={homeAccountId:Pe.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Hn.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:ms.createSearchScopes(n.asArray())},c=i.getAccessTokensByFilter(a,s);if(c.length<1)return null;if(c.length>1)throw je(Ti.multipleMatchingTokens);return c[0]}async executeTokenRequest(e,r,n){let i,s;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let l={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};s=Ji.nowSeconds();let f=await this.appTokenProvider(l);i={access_token:f.accessToken,expires_in:f.expiresInSeconds,refresh_in:f.refreshInSeconds,token_type:_n.BEARER}}else{let l=this.createTokenQueryParameters(e),f=on.appendQueryString(r.tokenEndpoint,l),d=await this.createTokenRequestBody(e),h=this.createTokenRequestHeaders(),A={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),s=Ji.nowSeconds();let g=await this.executePostToTokenEndpoint(f,d,h,A,e.correlationId);i=g.body,i.status=g.status}let a=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(i,n),await a.handleServerTokenResponse(i,this.authority,s,e)}async createTokenRequestBody(e){let r=new Map;xt.addClientId(r,this.config.authOptions.clientId),xt.addScopes(r,e.scopes,!1),xt.addGrantType(r,Z0.CLIENT_CREDENTIALS_GRANT),xt.addLibraryInfo(r,this.config.libraryInfo),xt.addApplicationTelemetry(r,this.config.telemetry.application),xt.addThrottling(r),this.serverTelemetryManager&&xt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();xt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&xt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=e.clientAssertion||this.config.clientCredentials.clientAssertion;return i&&(xt.addClientAssertion(r,await m0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),xt.addClientAssertionType(r,i.assertionType)),(!uo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&xt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}};u();var Jv=class extends Ta{static{o(this,"OnBehalfOfClient")}constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new ms(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(Ji.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),je(Ti.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),je(Ti.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),i,s=null;if(n){i=YR.extractTokenClaims(n.secret,Vc.base64Decode);let a=i.oid||i.sub,c={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:Pe.EMPTY_STRING,localAccountId:a||Pe.EMPTY_STRING};s=this.cacheManager.readAccountFromCache(c,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),Xo.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:s,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,i)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Hn.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},i=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(i).length<1?null:Object.values(i)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||_n.BEARER,s={credentialType:n&&n.toLowerCase()!==_n.BEARER.toLowerCase()?Hn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Hn.ACCESS_TOKEN,clientId:e,target:ms.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},a=this.cacheManager.getAccessTokensByFilter(s,r.correlationId),c=a.length;if(c<1)return null;if(c>1)throw je(Ti.multipleMatchingTokens);return a[0]}async executeTokenRequest(e,r,n){let i=this.createTokenQueryParameters(e),s=on.appendQueryString(r.tokenEndpoint,i),a=await this.createTokenRequestBody(e),c=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},f=Ji.nowSeconds(),d=await this.executePostToTokenEndpoint(s,a,c,l,e.correlationId),h=new Xo(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return h.validateTokenResponse(d.body),await h.handleServerTokenResponse(d.body,this.authority,f,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;xt.addClientId(r,this.config.authOptions.clientId),xt.addScopes(r,e.scopes),xt.addGrantType(r,Z0.JWT_BEARER),xt.addClientInfo(r),xt.addLibraryInfo(r,this.config.libraryInfo),xt.addApplicationTelemetry(r,this.config.telemetry.application),xt.addThrottling(r),this.serverTelemetryManager&&xt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();xt.addCorrelationId(r,n),xt.addRequestTokenUse(r,RC.ON_BEHALF_OF),xt.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&xt.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(xt.addClientAssertion(r,await m0(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),xt.addClientAssertionType(r,i.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&xt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}};var Xv=class extends _g{static{o(this,"ConfidentialClientApplication")}constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,i=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&i||r&&i)throw je(Ti.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(i)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?_A.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):_A.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw je(Ti.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await m0(e.clientAssertion,this.config.auth.clientId),assertionType:ks.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(A=>!J0.includes(A))},s={...e,...i,clientAssertion:r},c=new on(s.authority).getUrlComponents().PathSegments[0];if(Object.values(X0).includes(c))throw je(Ti.missingTenantIdError);let l=process.env[Kle],f;s.azureRegion!=="DisableMsalForceRegion"&&(!s.azureRegion&&l?f=l:f=s.azureRegion);let d={azureRegion:f,environmentRegion:process.env[jle]},h=this.initializeServerTelemetryManager(TA.acquireTokenByClientCredential,s.correlationId,s.skipCache);try{let A=await this.createAuthority(s.authority,s.correlationId,d,e.azureCloudOptions),g=await this.buildOauthClientConfiguration(A,s.correlationId,"",h),y=new Sg(g,this.appTokenProvider);return this.logger.verbose("Client credential client created",s.correlationId),await y.acquireToken(s)}catch(A){throw A instanceof Dr&&A.setCorrelationId(s.correlationId),h.cacheFailedRequest(A),A}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),i=await this.buildOauthClientConfiguration(n,r.correlationId,"",void 0),s=new Jv(i);return this.logger.verbose("On behalf of client created",r.correlationId),await s.acquireToken(r)}catch(n){throw n instanceof Dr&&n.setCorrelationId(r.correlationId),n}}};u();u();u();u();u();function Whe(t){if(typeof t!="string")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}o(Whe,"isIso8601");u();var uk=class{static{o(this,"HttpClientWithRetries")}constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===Xi.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let i=await this.sendNetworkRequestAsyncHelper(e,r,n);"isNewRequest"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let s=0;for(;await this.retryPolicy.pauseForRetry(i.status,s,this.logger,i.headers[Fi.RETRY_AFTER]);)i=await this.sendNetworkRequestAsyncHelper(e,r,n),s++;return i}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(Xi.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(Xi.POST,e,r)}};var GC={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"},C0=class{static{o(this,"BaseManagedIdentitySource")}constructor(e,r,n,i,s){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=s}async getServerTokenResponseAsync(e,r,n,i){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(Whe(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-Ji.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,i){let s=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),s.queryParameters[gs.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let g=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${g}`),s.queryParameters[gs.XMS_CC]=g}let a=s.headers;a[Fi.CONTENT_TYPE]=Pe.URL_FORM_CONTENT_TYPE;let c={headers:a};Object.keys(s.bodyParameters).length&&(c.body=s.computeParametersBodyString());let l=this.disableInternalRetries?this.networkClient:new uk(this.networkClient,s.retryPolicy,this.logger),f=Ji.nowSeconds(),d;try{s.httpMethod===Xi.POST?d=await l.sendPostRequestAsync(s.computeUri(),c):d=await l.sendGetRequestAsync(s.computeUri(),c)}catch(g){throw g instanceof Dr?g:je(Ti.networkError)}let h=new Xo(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),A=await this.getServerTokenResponseAsync(d,l,s,c);return h.validateTokenResponse(A,i),h.handleServerTokenResponse(A,n,f,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case To.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?"2017+":"2019+"}] Adding user assigned client id to the request.`),n?GC.MANAGED_IDENTITY_CLIENT_ID_2017:GC.MANAGED_IDENTITY_CLIENT_ID;case To.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),r?GC.MANAGED_IDENTITY_RESOURCE_ID_IMDS:GC.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case To.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),GC.MANAGED_IDENTITY_OBJECT_ID;default:throw Zo(Ig)}}};C0.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new on(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),Zo(UC[t])}};u();u();u();var fk=class{static{o(this,"LinearRetryStrategy")}calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var YHe=3,$He=1e3,zHe=[kr.NOT_FOUND,kr.REQUEST_TIMEOUT,kr.TOO_MANY_REQUESTS,kr.SERVER_ERROR,kr.SERVICE_UNAVAILABLE,kr.GATEWAY_TIMEOUT],dk=class t{static{o(this,"DefaultManagedIdentityRetryPolicy")}constructor(){this.linearRetryStrategy=new fk}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return $He}async pauseForRetry(e,r,n,i){if(zHe.includes(e)&&r<YHe){let s=this.linearRetryStrategy.calculateDelay(i,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${s}ms (retry attempt: ${r+1})`),await new Promise(a=>setTimeout(a,s)),!0}return!1}};var nc=class{static{o(this,"ManagedIdentityRequestParameters")}constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new dk}computeUri(){let e=new Map;this.queryParameters&&xt.addExtraQueryParameters(e,this.queryParameters);let r=xa.mapToQueryString(e);return on.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&xt.addExtraQueryParameters(e,this.bodyParameters),xa.mapToQueryString(e)}};var jHe="2019-08-01",j_=class t extends C0{static{o(this,"AppService")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.identityEndpoint=a,this.identityHeader=c}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,i,s){let[a,c]=t.getEnvironmentVariables();if(!a||!c)return e.info(`[Managed Identity] ${_r.APP_SERVICE} managed identity is unavailable because one or both of the '${yr.IDENTITY_HEADER}' and '${yr.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,a,_r.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.APP_SERVICE} managed identity. Endpoint URI: ${l}. Creating ${_r.APP_SERVICE} managed identity.`),new t(e,r,n,i,s,a,c)}createRequest(e,r){let n=new nc(Xi.GET,this.identityEndpoint);return n.headers[ec.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[gs.API_VERSION]=jHe,n.queryParameters[gs.RESOURCE]=e,r.idType!==To.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};u();var SA=require("fs"),jhe=yt(require("path"),1);var KHe="2019-11-01",Yhe="http://127.0.0.1:40342/metadata/identity/oauth2/token",$he="N/A: himds executable exists",zhe={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},JHe={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},K_=class t extends C0{static{o(this,"AzureArc")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.identityEndpoint=a}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IMDS_ENDPOINT];if(!e||!r){let n=JHe[process.platform];try{(0,SA.accessSync)(n,SA.constants.F_OK|SA.constants.R_OK),e=Yhe,r=$he}catch{}}return[e,r]}static tryCreate(e,r,n,i,s,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${_r.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${yr.IDENTITY_ENDPOINT}' and '${yr.IMDS_ENDPOINT}' are not defined. ${_r.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(l===$he)e.info(`[Managed Identity] ${_r.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${_r.AZURE_ARC} endpoint: ${Yhe}. Creating ${_r.AZURE_ARC} managed identity.`);else{let f=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,c,_r.AZURE_ARC,e);f.endsWith("/")&&f.slice(0,-1),t.getValidatedEnvVariableUrlString(yr.IMDS_ENDPOINT,l,_r.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${_r.AZURE_ARC} managed identity. Endpoint URI: ${f}. Creating ${_r.AZURE_ARC} managed identity.`)}if(a.idType!==To.SYSTEM_ASSIGNED)throw Zo(x7);return new t(e,r,n,i,s,c)}createRequest(e){let r=new nc(Xi.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[ec.METADATA_HEADER_NAME]="true",r.queryParameters[gs.API_VERSION]=KHe,r.queryParameters[gs.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,i){let s;if(e.status===kr.UNAUTHORIZED){let a=e.headers["www-authenticate"];if(!a)throw Zo(S7);if(!a.includes("Basic realm="))throw Zo(w7);let c=a.split("Basic realm=")[1];if(!zhe.hasOwnProperty(process.platform))throw Zo(b7);let l=zhe[process.platform],f=jhe.default.basename(c);if(!f.endsWith(".key"))throw Zo(E7);if(l+f!==c)throw Zo(I7);let d;try{d=await(0,SA.statSync)(c).size}catch{throw Zo(F_)}if(d>Zle)throw Zo(v7);let h;try{h=(0,SA.readFileSync)(c,va.UTF8)}catch{throw Zo(F_)}let A=`Basic ${h}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[ec.AUTHORIZATION_HEADER_NAME]=A;try{s=await r.sendGetRequestAsync(n.computeUri(),i)}catch(g){throw g instanceof Dr?g:je(Ti.networkError)}}return this.getServerTokenResponse(s||e)}};u();var J_=class t extends C0{static{o(this,"CloudShell")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.msiEndpoint=a}static getEnvironmentVariables(){return[process.env[yr.MSI_ENDPOINT]]}static tryCreate(e,r,n,i,s,a){let[c]=t.getEnvironmentVariables();if(!c)return e.info(`[Managed Identity] ${_r.CLOUD_SHELL} managed identity is unavailable because the '${yr.MSI_ENDPOINT} environment variable is not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.MSI_ENDPOINT,c,_r.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${_r.CLOUD_SHELL} managed identity. Endpoint URI: ${l}. Creating ${_r.CLOUD_SHELL} managed identity.`),a.idType!==To.SYSTEM_ASSIGNED)throw Zo(T7);return new t(e,r,n,i,s,c)}createRequest(e){let r=new nc(Xi.POST,this.msiEndpoint);return r.headers[ec.METADATA_HEADER_NAME]="true",r.bodyParameters[gs.RESOURCE]=e,r}};u();u();u();var hk=class{static{o(this,"ExponentialRetryStrategy")}constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var XHe=[kr.NOT_FOUND,kr.REQUEST_TIMEOUT,kr.GONE,kr.TOO_MANY_REQUESTS],ZHe=3,eqe=7,tqe=1e3,rqe=4e3,nqe=2e3,iqe=10*1e3,Ak=class t{static{o(this,"ImdsRetryPolicy")}constructor(){this.exponentialRetryStrategy=new hk(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return tqe}static get MAX_EXPONENTIAL_BACKOFF_MS(){return rqe}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return nqe}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return iqe}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===kr.GONE?eqe:ZHe),(XHe.includes(e)||e>=kr.SERVER_ERROR_RANGE_START&&e<=kr.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let i=e===kr.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${i}ms (retry attempt: ${r+1})`),await new Promise(s=>setTimeout(s,i)),!0}return!1}};var Khe="/metadata/identity/oauth2/token",oqe=`http://169.254.169.254${Khe}`,sqe="2018-02-01",pk=class t extends C0{static{o(this,"Imds")}constructor(e,r,n,i,s,a){super(e,r,n,i,s),this.identityEndpoint=a}static tryCreate(e,r,n,i,s){let a;return process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${_r.IMDS} returned endpoint: ${process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),a=t.getValidatedEnvVariableUrlString(yr.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[yr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${Khe}`,_r.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${yr.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${_r.IMDS}, using the default endpoint.`),a=oqe),new t(e,r,n,i,s,a)}createRequest(e,r){let n=new nc(Xi.GET,this.identityEndpoint);return n.headers[ec.METADATA_HEADER_NAME]="true",n.queryParameters[gs.API_VERSION]=sqe,n.queryParameters[gs.RESOURCE]=e,r.idType!==To.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new Ak,n}};u();var aqe="2019-07-01-preview",X_=class t extends C0{static{o(this,"ServiceFabric")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.identityEndpoint=a,this.identityHeader=c}static getEnvironmentVariables(){let e=process.env[yr.IDENTITY_ENDPOINT],r=process.env[yr.IDENTITY_HEADER],n=process.env[yr.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,i,s,a){let[c,l,f]=t.getEnvironmentVariables();if(!c||!l||!f)return e.info(`[Managed Identity] ${_r.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${yr.IDENTITY_HEADER}', '${yr.IDENTITY_ENDPOINT}' or '${yr.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let d=t.getValidatedEnvVariableUrlString(yr.IDENTITY_ENDPOINT,c,_r.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.SERVICE_FABRIC} managed identity. Endpoint URI: ${d}. Creating ${_r.SERVICE_FABRIC} managed identity.`),a.idType!==To.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${_r.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,i,s,c,l)}createRequest(e,r){let n=new nc(Xi.GET,this.identityEndpoint);return n.headers[ec.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[gs.API_VERSION]=aqe,n.queryParameters[gs.RESOURCE]=e,r.idType!==To.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};u();var cqe="2017-09-01",lqe=`Only client id is supported for user-assigned managed identity in ${_r.MACHINE_LEARNING}.`,Z_=class t extends C0{static{o(this,"MachineLearning")}constructor(e,r,n,i,s,a,c){super(e,r,n,i,s),this.msiEndpoint=a,this.secret=c}static getEnvironmentVariables(){let e=process.env[yr.MSI_ENDPOINT],r=process.env[yr.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,i,s){let[a,c]=t.getEnvironmentVariables();if(!a||!c)return e.info(`[Managed Identity] ${_r.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${yr.MSI_ENDPOINT}' and '${yr.MSI_SECRET}' environment variables are not defined.`),null;let l=t.getValidatedEnvVariableUrlString(yr.MSI_ENDPOINT,a,_r.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${_r.MACHINE_LEARNING} managed identity. Endpoint URI: ${l}. Creating ${_r.MACHINE_LEARNING} managed identity.`),new t(e,r,n,i,s,a,c)}createRequest(e,r){let n=new nc(Xi.GET,this.msiEndpoint);if(n.headers[ec.METADATA_HEADER_NAME]="true",n.headers[ec.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[gs.API_VERSION]=cqe,n.queryParameters[gs.RESOURCE]=e,r.idType===To.SYSTEM_ASSIGNED)n.queryParameters[GC.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[yr.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===To.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(lqe);return n}};var e3=class t{static{o(this,"ManagedIdentityClient")}constructor(e,r,n,i,s){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=s}async sendManagedIdentityTokenRequest(e,r,n,i){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,i)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(X_.getEnvironmentVariables())?_r.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(j_.getEnvironmentVariables())?_r.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Z_.getEnvironmentVariables())?_r.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(J_.getEnvironmentVariables())?_r.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(K_.getEnvironmentVariables())?_r.AZURE_ARC:_r.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,i,s,a){let c=X_.tryCreate(e,r,n,i,s,a)||j_.tryCreate(e,r,n,i,s)||Z_.tryCreate(e,r,n,i,s)||J_.tryCreate(e,r,n,i,s,a)||K_.tryCreate(e,r,n,i,s,a)||pk.tryCreate(e,r,n,i,s);if(!c)throw Zo(_7);return c}};var uqe=[_r.SERVICE_FABRIC],Zv=class t{static{o(this,"ManagedIdentityApplication")}constructor(e){this.config=aue(e||{}),this.logger=new Uc(this.config.system.loggerOptions,ck,tf);let r={canonicalAuthority:Pe.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new bg(this.logger,this.config.managedIdentityId.id,wv,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Pd;let n={protocolMode:za.AAD,knownAuthorities:[LG],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new Zu(LG,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Sg({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new e3(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new vg}async acquireToken(e){if(!e.resource)throw _i(Dv.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,i]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let s=this.managedIdentityClient.getManagedIdentitySource();if(n&&uqe.includes(s)){let a=this.hashUtils.sha256(n.accessToken).toString(va.HEX);r.revokedTokenSha256Hash=a}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(i===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,i){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,i)}getManagedIdentitySource(){return e3.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};u();var mk=class{static{o(this,"DistributedCachePlugin")}constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(s=>ba.isAccountEntity(s)),i;if(n.length>0){let s=n[0];i=await this.partitionManager.extractKey(s)}else i=await this.partitionManager.getKey();await this.client.set(i,e.tokenCache.serialize())}}};u();u();var t3=Mr("IdentityUtils"),fqe="1.0";function eb(t,e,r){let n=o(i=>(t3.getToken.info(i),new ju({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:i})),"error");if(!e)throw n("No response");if(!e.expiresOn)throw n('Response had no "expiresOn" property.');if(!e.accessToken)throw n('Response had no "accessToken" property.')}o(eb,"ensureValidMsalToken");function RV(t){let e=t?.authorityHost;return!e&&Iv&&(e=process.env.AZURE_AUTHORITY_HOST),e??C4}o(RV,"getAuthorityHost");function kV(t,e){return e||(e=C4),new RegExp(`${t}/?$`).test(e)?e:e.endsWith("/")?e+t:`${e}/${t}`}o(kV,"getAuthority");function Jhe(t,e,r){return t==="adfs"&&e||r?[e]:[]}o(Jhe,"getKnownAuthorities");var gk=o((t,e=QR?"Node":"Browser")=>(r,n,i)=>{if(!i)switch(r){case Wc.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case Wc.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case Wc.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case Wc.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}},"defaultLoggerCallback");function yk(t){switch(t){case"error":return Wc.LogLevel.Error;case"info":return Wc.LogLevel.Info;case"verbose":return Wc.LogLevel.Verbose;case"warning":return Wc.LogLevel.Warning;default:return Wc.LogLevel.Info}}o(yk,"getMSALLogLevel");function VC(t,e,r){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){let n=e;switch(n.errorCode){case"endpoints_resolution_error":return t3.info(ri(t,e.message)),new $t(e.message);case"device_code_polling_cancelled":return new Zy("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":t3.info(ri(t,`Authentication returned errorCode ${n.errorCode}`));break;default:t3.info(ri(t,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(t3.info(ri(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new ju({scopes:t,getTokenOptions:r,message:e.message})}o(VC,"handleMsalError");function Xhe(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}o(Xhe,"publicToMsal");function Zhe(t,e){var r;return{authority:(r=e.environment)!==null&&r!==void 0?r:c0e,homeAccountId:e.homeAccountId,tenantId:e.tenantId||a0e,username:e.username,clientId:t,version:fqe}}o(Zhe,"msalToPublic");u();var dqe=1e3*64;function eAe(t){return hq([{name:"imdsRetryPolicy",retry:o(({retryCount:e,response:r})=>r?.status!==404?{skipStrategy:!0}:Xce(e,{retryDelayInMs:t.startDelayInMs,maxRetryDelayInMs:dqe}),"retry")}],{maxRetries:t.maxRetries})}o(eAe,"imdsRetryPolicy");u();var wA="ManagedIdentityCredential - IMDS",WC=Mr(wA),hqe="http://169.254.169.254",Aqe="/metadata/identity/oauth2/token";function pqe(t){var e;if(!D4(t))throw new Error(`${wA}: Multiple scopes are not supported.`);let n=new URL(Aqe,(e=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)!==null&&e!==void 0?e:hqe),i={Accept:"application/json"};return{url:`${n}`,method:"GET",headers:ig(i)}}o(pqe,"prepareInvalidRequestOptions");var tAe={name:"imdsMsi",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,i=D4(e);if(!i)return WC.info(`${wA}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error("Missing IdentityClient");let s=pqe(i);return xi.withSpan("ManagedIdentityCredential-pingImdsEndpoint",n??{},async a=>{var c,l;s.tracingOptions=a.tracingOptions;let f=Ju(s);f.timeout=((c=a.requestOptions)===null||c===void 0?void 0:c.timeout)||1e3,f.allowInsecureConnection=!0;let d;try{WC.info(`${wA}: Pinging the Azure IMDS endpoint`),d=await r.sendRequest(f)}catch(h){return NR(h)&&WC.verbose(`${wA}: Caught error ${h.name}: ${h.message}`),WC.info(`${wA}: The Azure IMDS endpoint is unavailable`),!1}return d.status===403&&!((l=d.bodyAsText)===null||l===void 0)&&l.includes("unreachable")?(WC.info(`${wA}: The Azure IMDS endpoint is unavailable`),WC.info(`${wA}: ${d.bodyAsText}`),!1):(WC.info(`${wA}: The Azure IMDS endpoint is available`),!0)})}};u();u();u();u();u();var DV;(function(t){t.AutoDiscoverRegion="AutoDiscoverRegion",t.USWest="westus",t.USWest2="westus2",t.USCentral="centralus",t.USEast="eastus",t.USEast2="eastus2",t.USNorthCentral="northcentralus",t.USSouthCentral="southcentralus",t.USWestCentral="westcentralus",t.CanadaCentral="canadacentral",t.CanadaEast="canadaeast",t.BrazilSouth="brazilsouth",t.EuropeNorth="northeurope",t.EuropeWest="westeurope",t.UKSouth="uksouth",t.UKWest="ukwest",t.FranceCentral="francecentral",t.FranceSouth="francesouth",t.SwitzerlandNorth="switzerlandnorth",t.SwitzerlandWest="switzerlandwest",t.GermanyNorth="germanynorth",t.GermanyWestCentral="germanywestcentral",t.NorwayWest="norwaywest",t.NorwayEast="norwayeast",t.AsiaEast="eastasia",t.AsiaSouthEast="southeastasia",t.JapanEast="japaneast",t.JapanWest="japanwest",t.AustraliaEast="australiaeast",t.AustraliaSouthEast="australiasoutheast",t.AustraliaCentral="australiacentral",t.AustraliaCentral2="australiacentral2",t.IndiaCentral="centralindia",t.IndiaSouth="southindia",t.IndiaWest="westindia",t.KoreaSouth="koreasouth",t.KoreaCentral="koreacentral",t.UAECentral="uaecentral",t.UAENorth="uaenorth",t.SouthAfricaNorth="southafricanorth",t.SouthAfricaWest="southafricawest",t.ChinaNorth="chinanorth",t.ChinaEast="chinaeast",t.ChinaNorth2="chinanorth2",t.ChinaEast2="chinaeast2",t.GermanyCentral="germanycentral",t.GermanyNorthEast="germanynortheast",t.GovernmentUSVirginia="usgovvirginia",t.GovernmentUSIowa="usgoviowa",t.GovernmentUSArizona="usgovarizona",t.GovernmentUSTexas="usgovtexas",t.GovernmentUSDodEast="usdodeast",t.GovernmentUSDodCentral="usdodcentral"})(DV||(DV={}));function Ck(t){var e,r;let n=t;return n===void 0&&((r=(e=globalThis.process)===null||e===void 0?void 0:e.env)===null||r===void 0?void 0:r.AZURE_REGIONAL_AUTHORITY_NAME)!==void 0&&(n=process.env.AZURE_REGIONAL_AUTHORITY_NAME),n===DV.AutoDiscoverRegion?"AUTO_DISCOVER":n}o(Ck,"calculateRegionalAuthority");var ic=Mr("MsalClient");function kqe(t,e,r={}){var n,i,s;let a=Z9((n=r.logger)!==null&&n!==void 0?n:ic,e,t),c=kV(a,RV(r)),l=new dA(Object.assign(Object.assign({},r.tokenCredentialOptions),{authorityHost:c,loggingOptions:r.loggingOptions}));return{auth:{clientId:t,authority:c,knownAuthorities:Jhe(a,c,r.disableInstanceDiscovery)},system:{networkClient:l,loggerOptions:{loggerCallback:gk((i=r.logger)!==null&&i!==void 0?i:ic),logLevel:yk(K9()),piiLoggingEnabled:(s=r.loggingOptions)===null||s===void 0?void 0:s.enableUnsafeSupportLogging}}}}o(kqe,"generateMsalConfiguration");function Vl(t,e,r={}){var n;let i={msalConfig:kqe(t,e,r),cachedAccount:r.authenticationRecord?Xhe(r.authenticationRecord):null,pluginConfiguration:A0e.generatePluginConfiguration(r),logger:(n=r.logger)!==null&&n!==void 0?n:ic},s=new Map;async function a(k={}){let P=k.enableCae?"CAE":"default",W=s.get(P);if(W)return i.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),W;i.logger.getToken.info(`Creating new PublicClientApplication with CAE ${k.enableCae?"enabled":"disabled"}.`);let re=k.enableCae?i.pluginConfiguration.cache.cachePluginCae:i.pluginConfiguration.cache.cachePlugin;return i.msalConfig.auth.clientCapabilities=k.enableCae?["cp1"]:void 0,W=new Kv(Object.assign(Object.assign({},i.msalConfig),{broker:{nativeBrokerPlugin:i.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await re}})),s.set(P,W),W}o(a,"getPublicApp");let c=new Map;async function l(k={}){let P=k.enableCae?"CAE":"default",W=c.get(P);if(W)return i.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),W;i.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${k.enableCae?"enabled":"disabled"}.`);let re=k.enableCae?i.pluginConfiguration.cache.cachePluginCae:i.pluginConfiguration.cache.cachePlugin;return i.msalConfig.auth.clientCapabilities=k.enableCae?["cp1"]:void 0,W=new Xv(Object.assign(Object.assign({},i.msalConfig),{broker:{nativeBrokerPlugin:i.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await re}})),c.set(P,W),W}o(l,"getConfidentialApp");async function f(k,P,W={}){if(i.cachedAccount===null)throw i.logger.getToken.info("No cached account found in local state."),new ju({scopes:P});W.claims&&(i.cachedClaims=W.claims);let re={account:i.cachedAccount,scopes:P,claims:i.cachedClaims};i.pluginConfiguration.broker.isEnabled&&(re.tokenQueryParameters||(re.tokenQueryParameters={}),i.pluginConfiguration.broker.enableMsaPassthrough&&(re.tokenQueryParameters.msal_request_type="consumer_passthrough")),W.proofOfPossessionOptions&&(re.shrNonce=W.proofOfPossessionOptions.nonce,re.authenticationScheme="pop",re.resourceRequestMethod=W.proofOfPossessionOptions.resourceRequestMethod,re.resourceRequestUri=W.proofOfPossessionOptions.resourceRequestUrl),i.logger.getToken.info("Attempting to acquire token silently");try{return await k.acquireTokenSilent(re)}catch(ye){throw VC(P,ye,W)}}o(f,"getTokenSilent");function d(k){return k?.tenantId?kV(k.tenantId,RV(r)):i.msalConfig.auth.authority}o(d,"calculateRequestAuthority");async function h(k,P,W,re){var ye,Ae;let z=null;try{z=await f(k,P,W)}catch(j){if(j.name!=="AuthenticationRequiredError")throw j;if(W.disableAutomaticAuthentication)throw new ju({scopes:P,getTokenOptions:W,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if(z===null)try{z=await re()}catch(j){throw VC(P,j,W)}return eb(P,z,W),i.cachedAccount=(ye=z?.account)!==null&&ye!==void 0?ye:null,i.logger.getToken.info(Ss(P)),{token:z.accessToken,expiresOnTimestamp:z.expiresOn.getTime(),refreshAfterTimestamp:(Ae=z.refreshOn)===null||Ae===void 0?void 0:Ae.getTime(),tokenType:z.tokenType}}o(h,"withSilentAuthentication");async function A(k,P,W={}){var re;i.logger.getToken.info("Attempting to acquire token using client secret"),i.msalConfig.auth.clientSecret=P;let ye=await l(W);try{let Ae=await ye.acquireTokenByClientCredential({scopes:k,authority:d(W),azureRegion:Ck(),claims:W?.claims});return eb(k,Ae,W),i.logger.getToken.info(Ss(k)),{token:Ae.accessToken,expiresOnTimestamp:Ae.expiresOn.getTime(),refreshAfterTimestamp:(re=Ae.refreshOn)===null||re===void 0?void 0:re.getTime(),tokenType:Ae.tokenType}}catch(Ae){throw VC(k,Ae,W)}}o(A,"getTokenByClientSecret");async function g(k,P,W={}){var re;i.logger.getToken.info("Attempting to acquire token using client assertion"),i.msalConfig.auth.clientAssertion=P;let ye=await l(W);try{let Ae=await ye.acquireTokenByClientCredential({scopes:k,authority:d(W),azureRegion:Ck(),claims:W?.claims,clientAssertion:P});return eb(k,Ae,W),i.logger.getToken.info(Ss(k)),{token:Ae.accessToken,expiresOnTimestamp:Ae.expiresOn.getTime(),refreshAfterTimestamp:(re=Ae.refreshOn)===null||re===void 0?void 0:re.getTime(),tokenType:Ae.tokenType}}catch(Ae){throw VC(k,Ae,W)}}o(g,"getTokenByClientAssertion");async function y(k,P,W={}){var re;i.logger.getToken.info("Attempting to acquire token using client certificate"),i.msalConfig.auth.clientCertificate=P;let ye=await l(W);try{let Ae=await ye.acquireTokenByClientCredential({scopes:k,authority:d(W),azureRegion:Ck(),claims:W?.claims});return eb(k,Ae,W),i.logger.getToken.info(Ss(k)),{token:Ae.accessToken,expiresOnTimestamp:Ae.expiresOn.getTime(),refreshAfterTimestamp:(re=Ae.refreshOn)===null||re===void 0?void 0:re.getTime(),tokenType:Ae.tokenType}}catch(Ae){throw VC(k,Ae,W)}}o(y,"getTokenByClientCertificate");async function v(k,P,W={}){i.logger.getToken.info("Attempting to acquire token using device code");let re=await a(W);return h(re,k,W,()=>{var ye,Ae;let z={scopes:k,cancel:(Ae=(ye=W?.abortSignal)===null||ye===void 0?void 0:ye.aborted)!==null&&Ae!==void 0?Ae:!1,deviceCodeCallback:P,authority:d(W),claims:W?.claims},j=re.acquireTokenByDeviceCode(z);return W.abortSignal&&W.abortSignal.addEventListener("abort",()=>{z.cancel=!0}),j})}o(v,"getTokenByDeviceCode");async function _(k,P,W,re={}){i.logger.getToken.info("Attempting to acquire token using username and password");let ye=await a(re);return h(ye,k,re,()=>{let Ae={scopes:k,username:P,password:W,authority:d(re),claims:re?.claims};return ye.acquireTokenByUsernamePassword(Ae)})}o(_,"getTokenByUsernamePassword");function T(){if(i.cachedAccount)return Zhe(t,i.cachedAccount)}o(T,"getActiveAccount");async function S(k,P,W,re,ye={}){i.logger.getToken.info("Attempting to acquire token using authorization code");let Ae;return re?(i.msalConfig.auth.clientSecret=re,Ae=await l(ye)):Ae=await a(ye),h(Ae,k,ye,()=>Ae.acquireTokenByCode({scopes:k,redirectUri:P,code:W,authority:d(ye),claims:ye?.claims}))}o(S,"getTokenByAuthorizationCode");async function D(k,P,W,re={}){var ye;ic.getToken.info("Attempting to acquire token on behalf of another user"),typeof W=="string"?(ic.getToken.info("Using client secret for on behalf of flow"),i.msalConfig.auth.clientSecret=W):typeof W=="function"?(ic.getToken.info("Using client assertion callback for on behalf of flow"),i.msalConfig.auth.clientAssertion=W):(ic.getToken.info("Using client certificate for on behalf of flow"),i.msalConfig.auth.clientCertificate=W);let Ae=await l(re);try{let z=await Ae.acquireTokenOnBehalfOf({scopes:k,authority:d(re),claims:re.claims,oboAssertion:P});return eb(k,z,re),ic.getToken.info(Ss(k)),{token:z.accessToken,expiresOnTimestamp:z.expiresOn.getTime(),refreshAfterTimestamp:(ye=z.refreshOn)===null||ye===void 0?void 0:ye.getTime(),tokenType:z.tokenType}}catch(z){throw VC(k,z,re)}}o(D,"getTokenOnBehalfOf");async function Q(k,P={}){ic.getToken.info("Attempting to acquire token interactively");let W=await a(P);async function re(Ae){var z;ic.verbose("Authentication will resume through the broker");let j=ye();i.pluginConfiguration.broker.parentWindowHandle?j.windowHandle=Buffer.from(i.pluginConfiguration.broker.parentWindowHandle):ic.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),i.pluginConfiguration.broker.enableMsaPassthrough&&(((z=j.tokenQueryParameters)!==null&&z!==void 0?z:j.tokenQueryParameters={}).msal_request_type="consumer_passthrough"),Ae?(j.prompt="none",ic.verbose("Attempting broker authentication using the default broker account")):ic.verbose("Attempting broker authentication without the default broker account"),P.proofOfPossessionOptions&&(j.shrNonce=P.proofOfPossessionOptions.nonce,j.authenticationScheme="pop",j.resourceRequestMethod=P.proofOfPossessionOptions.resourceRequestMethod,j.resourceRequestUri=P.proofOfPossessionOptions.resourceRequestUrl);try{return await W.acquireTokenInteractive(j)}catch(Ie){if(ic.verbose(`Failed to authenticate through the broker: ${Ie.message}`),Ae)return re(!1);throw Ie}}o(re,"getBrokeredToken");function ye(){var Ae,z;return{openBrowser:o(async j=>{await(await Promise.resolve().then(()=>(DAe(),kAe))).default(j,{wait:!0,newInstance:!0})},"openBrowser"),scopes:k,authority:d(P),claims:P?.claims,loginHint:P?.loginHint,errorTemplate:(Ae=P?.browserCustomizationOptions)===null||Ae===void 0?void 0:Ae.errorMessage,successTemplate:(z=P?.browserCustomizationOptions)===null||z===void 0?void 0:z.successMessage,prompt:P?.loginHint?"login":"select_account"}}return o(ye,"createBaseInteractiveRequest"),h(W,k,P,async()=>{var Ae;let z=ye();return i.pluginConfiguration.broker.isEnabled?re((Ae=i.pluginConfiguration.broker.useDefaultBrokerAccount)!==null&&Ae!==void 0?Ae:!1):(P.proofOfPossessionOptions&&(z.shrNonce=P.proofOfPossessionOptions.nonce,z.authenticationScheme="pop",z.resourceRequestMethod=P.proofOfPossessionOptions.resourceRequestMethod,z.resourceRequestUri=P.proofOfPossessionOptions.resourceRequestUrl),W.acquireTokenInteractive(z))})}return o(Q,"getTokenByInteractiveRequest"),{getActiveAccount:T,getTokenByClientSecret:A,getTokenByClientAssertion:g,getTokenByClientCertificate:y,getTokenByDeviceCode:v,getTokenByUsernamePassword:_,getTokenByAuthorizationCode:S,getTokenOnBehalfOf:D,getTokenByInteractiveRequest:Q}}o(Vl,"createMsalClient");var NAe=Mr("ClientAssertionCredential"),ib=class{static{o(this,"ClientAssertionCredential")}constructor(e,r,n,i={}){if(!e)throw new $t("ClientAssertionCredential: tenantId is a required parameter.");if(!r)throw new $t("ClientAssertionCredential: clientId is a required parameter.");if(!n)throw new $t("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=ws(i?.additionallyAllowedTenants),this.options=i,this.getAssertion=n,this.msalClient=Vl(r,e,Object.assign(Object.assign({},i),{logger:NAe,tokenCredentialOptions:this.options}))}async getToken(e,r={}){return xi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=ps(this.tenantId,n,this.additionallyAllowedTenantIds,NAe);let i=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(i,this.getAssertion,n)})}};var QAe=require("node:fs/promises");var jC="WorkloadIdentityCredential",Dqe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],i3=Mr(jC),BA=class{static{o(this,"WorkloadIdentityCredential")}constructor(e){this.azureFederatedTokenFileContent=void 0,this.cacheDate=void 0;let r=J9(Dqe).assigned.join(", ");i3.info(`Found the following environment variables: ${r}`);let n=e??{},i=n.tenantId||process.env.AZURE_TENANT_ID,s=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,i&&Ca(i3,i),!s)throw new $t(`${jC}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!i)throw new $t(`${jC}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new $t(`${jC}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);i3.info(`Invoking ClientAssertionCredential with tenant ID: ${i}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new ib(i,s,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${jC}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw i3.info(n),new $t(n)}return i3.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new $t(`${jC}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,QAe.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new $t(`${jC}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var PAe="ManagedIdentityCredential - Token Exchange",Nqe=Mr(PAe),jV={name:"tokenExchangeMsi",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||Nqe.info(`${PAe}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,i={};return new BA(Object.assign(Object.assign({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},i),{disableInstanceDiscovery:!0})).getToken(r,e)}};var Yc=Mr("ManagedIdentityCredential"),wg=class{static{o(this,"ManagedIdentityCredential")}constructor(e,r){var n,i;this.msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};let s;typeof e=="string"?(this.clientId=e,s=r??{}):(this.clientId=e?.clientId,s=e??{}),this.resourceId=s?.resourceId,this.objectId=s?.objectId;let a=[{key:"clientId",value:this.clientId},{key:"resourceId",value:this.resourceId},{key:"objectId",value:this.objectId}].filter(l=>l.value);if(a.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);s.allowInsecureConnection=!0,((n=s.retryOptions)===null||n===void 0?void 0:n.maxRetries)!==void 0&&(this.msiRetryConfig.maxRetries=s.retryOptions.maxRetries),this.identityClient=new dA(Object.assign(Object.assign({},s),{additionalPolicies:[{policy:eAe(this.msiRetryConfig),position:"perCall"}]})),this.managedIdentityApp=new Zv({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:yk(K9()),piiLoggingEnabled:(i=s.loggingOptions)===null||i===void 0?void 0:i.enableUnsafeSupportLogging,loggerCallback:gk(Yc)}}}),this.isAvailableIdentityClient=new dA(Object.assign(Object.assign({},s),{retryOptions:{maxRetries:0}}));let c=this.managedIdentityApp.getManagedIdentitySource();if(c==="CloudShell"&&(this.clientId||this.resourceId||this.objectId))throw Yc.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new $t("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if(c==="ServiceFabric"&&(this.clientId||this.resourceId||this.objectId))throw Yc.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new $t(`ManagedIdentityCredential: ${ble}`);if(Yc.info(`Using ${c} managed identity.`),a.length===1){let{key:l,value:f}=a[0];Yc.info(`${c} with ${l}: ${f}`)}}async getToken(e,r={}){Yc.getToken.info("Using the MSAL provider for Managed Identity.");let n=D4(e);if(!n)throw new $t(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return xi.withSpan("ManagedIdentityCredential.getToken",r,async()=>{var i;try{let s=await jV.isAvailable(this.clientId),a=this.managedIdentityApp.getManagedIdentitySource(),c=a==="DefaultToImds"||a==="Imds";if(Yc.getToken.info(`MSAL Identity source: ${a}`),s){Yc.getToken.info("Using the token exchange managed identity.");let f=await jV.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(f===null)throw new $t("Attempted to use the token exchange managed identity, but received a null response.");return f}else if(c&&(Yc.getToken.info("Using the IMDS endpoint to probe for availability."),!await tAe.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new $t("Attempted to use the IMDS endpoint, but it is not available.");Yc.getToken.info("Calling into MSAL for managed identity token.");let l=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,l,r),Yc.getToken.info(Ss(e)),{expiresOnTimestamp:l.expiresOn.getTime(),token:l.accessToken,refreshAfterTimestamp:(i=l.refreshOn)===null||i===void 0?void 0:i.getTime(),tokenType:"Bearer"}}catch(s){throw Yc.getToken.error(ri(e,s)),s.name==="AuthenticationRequiredError"?s:Qqe(s)?new $t(`ManagedIdentityCredential: Network unreachable. Message: ${s.message}`,{cause:s}):new $t(`ManagedIdentityCredential: Authentication failed. Message ${s.message}`,{cause:s})}})}ensureValidMsalToken(e,r,n){let i=o(s=>(Yc.getToken.info(s),new ju({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:s})),"createError");if(!r)throw i("No response.");if(!r.expiresOn)throw i('Response had no "expiresOn" property.');if(!r.accessToken)throw i('Response had no "accessToken" property.')}};function Qqe(t){return!!(t.errorCode==="network_error"||t.code==="ENETUNREACH"||t.code==="EHOSTUNREACH"||(t.statusCode===403||t.code===403)&&t.message.includes("unreachable"))}o(Qqe,"isNetworkError");u();u();function Bg(t){return Array.isArray(t)?t:[t]}o(Bg,"ensureScopes");function ob(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error("Invalid scope was specified by the user or calling client");throw e.getToken.info(ri(t,r)),r}}o(ob,"ensureValidScopeForDevTimeCreds");function vk(t){return t.replace(/\/.default$/,"")}o(vk,"getScopeResource");var FAe=yt(require("child_process"),1);u();function KV(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(ri("",r)),r}}o(KV,"checkSubscription");var Wl=Mr("AzureCliCredential"),LAe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(Wl.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzureCliAccessToken(t,e,r,n){let i=[],s=[];return e&&(i=["--tenant",e]),r&&(s=["--subscription",`"${r}"`]),new Promise((a,c)=>{try{FAe.default.execFile("az",["account","get-access-token","--output","json","--resource",t,...i,...s],{cwd:LAe.getSafeWorkingDir(),shell:!0,timeout:n},(l,f,d)=>{a({stdout:f,stderr:d,error:l})})}catch(l){c(l)}})}},o3=class{static{o(this,"AzureCliCredential")}constructor(e){e?.tenantId&&(Ca(Wl,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(KV(Wl,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=ws(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=ps(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Ca(Wl,n),this.subscription&&KV(Wl,this.subscription);let i=typeof e=="string"?e:e[0];return Wl.getToken.info(`Using the scope ${i}`),xi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{var s,a,c,l;try{ob(i,Wl);let f=vk(i),d=await LAe.getAzureCliAccessToken(f,n,this.subscription,this.timeout),h=(s=d.stderr)===null||s===void 0?void 0:s.match("(.*)az login --scope(.*)"),A=((a=d.stderr)===null||a===void 0?void 0:a.match("(.*)az login(.*)"))&&!h;if(((c=d.stderr)===null||c===void 0?void 0:c.match("az:(.*)not found"))||((l=d.stderr)===null||l===void 0?void 0:l.startsWith("'az' is not recognized"))){let y=new $t("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw Wl.getToken.info(ri(e,y)),y}if(A){let y=new $t("Please run 'az login' from a command prompt to authenticate before using this credential.");throw Wl.getToken.info(ri(e,y)),y}try{let y=d.stdout,v=this.parseRawResponse(y);return Wl.getToken.info(Ss(e)),v}catch(y){throw d.stderr?new $t(d.stderr):y}}catch(f){let d=f.name==="CredentialUnavailableError"?f:new $t(f.message||"Unknown error while trying to retrieve the access token");throw Wl.getToken.info(ri(e,d)),d}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,i=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(i))return Wl.getToken.info("expires_on is available and is valid, using it"),{token:n,expiresOnTimestamp:i,tokenType:"Bearer"};if(i=new Date(r.expiresOn).getTime(),isNaN(i))throw new $t(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${r.expiresOn}"`);return{token:n,expiresOnTimestamp:i,tokenType:"Bearer"}}};u();var MAe=yt(require("child_process"),1);var RA=Mr("AzureDeveloperCliCredential"),OAe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(RA.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzdAccessToken(t,e,r){let n=[];return e&&(n=["--tenant-id",e]),new Promise((i,s)=>{try{MAe.default.execFile("azd",["auth","token","--output","json",...t.reduce((a,c)=>a.concat("--scope",c),[]),...n],{cwd:OAe.getSafeWorkingDir(),timeout:r},(a,c,l)=>{i({stdout:c,stderr:l,error:a})})}catch(a){s(a)}})}},s3=class{static{o(this,"AzureDeveloperCliCredential")}constructor(e){e?.tenantId&&(Ca(RA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=ws(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=ps(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Ca(RA,n);let i;return typeof e=="string"?i=[e]:i=e,RA.getToken.info(`Using the scopes ${e}`),xi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{var s,a,c,l;try{i.forEach(A=>{ob(A,RA)});let f=await OAe.getAzdAccessToken(i,n,this.timeout),d=((s=f.stderr)===null||s===void 0?void 0:s.match("not logged in, run `azd login` to login"))||((a=f.stderr)===null||a===void 0?void 0:a.match("not logged in, run `azd auth login` to login"));if(((c=f.stderr)===null||c===void 0?void 0:c.match("azd:(.*)not found"))||((l=f.stderr)===null||l===void 0?void 0:l.startsWith("'azd' is not recognized"))||f.error&&f.error.code==="ENOENT"){let A=new $t("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw RA.getToken.info(ri(e,A)),A}if(d){let A=new $t("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw RA.getToken.info(ri(e,A)),A}try{let A=JSON.parse(f.stdout);return RA.getToken.info(Ss(e)),{token:A.token,expiresOnTimestamp:new Date(A.expiresOn).getTime(),tokenType:"Bearer"}}catch(A){throw f.stderr?new $t(f.stderr):A}}catch(f){let d=f.name==="CredentialUnavailableError"?f:new $t(f.message||"Unknown error while trying to retrieve the access token");throw RA.getToken.info(ri(e,d)),d}})}};u();u();var UAe=yt(require("child_process"),1),HAe={execFile(t,e,r){return new Promise((n,i)=>{UAe.execFile(t,e,r,(s,a,c)=>{Buffer.isBuffer(a)&&(a=a.toString("utf8")),Buffer.isBuffer(c)&&(c=c.toString("utf8")),c||s?i(c?new Error(c):s):n(a)})})}};var kA=Mr("AzurePowerShellCredential"),GAe=process.platform==="win32";function VAe(t){return GAe?`${t}.exe`:t}o(VAe,"formatCommand");async function qAe(t,e){let r=[];for(let n of t){let[i,...s]=n,a=await HAe.execFile(i,s,{encoding:"utf8",timeout:e});r.push(a)}return r}o(qAe,"runCommands");var WAe={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},JV={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: "Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force".`,troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},Pqe=o(t=>t.message.match(`(.*)${WAe.login}(.*)`),"isLoginError"),Fqe=o(t=>t.message.match(WAe.installed),"isNotInstalledError"),XV=[VAe("pwsh")];GAe&&XV.push(VAe("powershell"));var a3=class{static{o(this,"AzurePowerShellCredential")}constructor(e){e?.tenantId&&(Ca(kA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=ws(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let i of[...XV]){try{await qAe([[i,"/?"]],n)}catch{XV.shift();continue}let a=(await qAe([[i,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${r??""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn

          if ($token.Token -is [System.Security.SecureString]) {
            if ($PSVersionTable.PSVersion.Major -lt 7) {
              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)
              try {
                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))
              }
              finally {
                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)
              }
            }
            else {
              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)
            }
          }
          else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0];return Lqe(a)}throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return xi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=ps(this.tenantId,r,this.additionallyAllowedTenantIds),i=typeof e=="string"?e:e[0];n&&Ca(kA,n);try{ob(i,kA),kA.getToken.info(`Using the scope ${i}`);let s=vk(i),a=await this.getAzurePowerShellAccessToken(s,n,this.timeout);return kA.getToken.info(Ss(e)),{token:a.Token,expiresOnTimestamp:new Date(a.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(s){if(Fqe(s)){let c=new $t(JV.installed);throw kA.getToken.info(ri(i,c)),c}else if(Pqe(s)){let c=new $t(JV.login);throw kA.getToken.info(ri(i,c)),c}let a=new $t(`${s}. ${JV.troubleshoot}`);throw kA.getToken.info(ri(i,a)),a}})}};async function Lqe(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let i of r)try{let s=JSON.parse(i);if(s?.Token)return n=n.replace(i,""),n&&kA.getToken.warning(n),s}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}o(Lqe,"parseJsonToken");u();var ZV=Mr("ChainedTokenCredential"),c3=class{static{o(this,"ChainedTokenCredential")}constructor(...e){this._sources=[],this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,i,s=[];return xi.withSpan("ChainedTokenCredential.getToken",r,async a=>{for(let c=0;c<this._sources.length&&n===null;c++)try{n=await this._sources[c].getToken(e,a),i=this._sources[c]}catch(l){if(l.name==="CredentialUnavailableError"||l.name==="AuthenticationRequiredError")s.push(l);else throw ZV.getToken.info(ri(e,l)),l}if(!n&&s.length>0){let c=new E4(s,"ChainedTokenCredential authentication failed.");throw ZV.getToken.info(ri(e,c)),c}if(ZV.getToken.info(`Result for ${i.constructor.name}: ${Ss(e)}`),n===null)throw new $t("Failed to retrieve a valid token");return{token:n,successfulCredential:i}})}};u();u();var u3=require("node:crypto");var $Ae=require("node:fs/promises");var l3="ClientCertificateCredential",YAe=Mr(l3),f3=class{static{o(this,"ClientCertificateCredential")}constructor(e,r,n,i={}){if(!e||!r)throw new Error(`${l3}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=ws(i?.additionallyAllowedTenants),this.sendCertificateChain=i.sendCertificateChain,this.certificateConfiguration=Object.assign({},typeof n=="string"?{certificatePath:n}:n);let s=this.certificateConfiguration.certificate,a=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(s||a))throw new Error(`${l3}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(s&&a)throw new Error(`${l3}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Vl(r,e,Object.assign(Object.assign({},i),{logger:YAe,tokenCredentialOptions:i}))}async getToken(e,r={}){return xi.withSpan(`${l3}.getToken`,r,async n=>{n.tenantId=ps(this.tenantId,n,this.additionallyAllowedTenantIds,YAe);let i=Array.isArray(e)?e:[e],s=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(i,s,n)})}async buildClientCertificate(){var e;let r=await Mqe(this.certificateConfiguration,(e=this.sendCertificateChain)!==null&&e!==void 0?e:!1),n;return this.certificateConfiguration.certificatePassword!==void 0?n=(0,u3.createPrivateKey)({key:r.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():n=r.certificateContents,{thumbprint:r.thumbprint,thumbprintSha256:r.thumbprintSha256,privateKey:n,x5c:r.x5c}}};async function Mqe(t,e){let r=t.certificate,n=t.certificatePath,i=r||await(0,$Ae.readFile)(n,"utf8"),s=e?i:void 0,a=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,c=[],l;do l=a.exec(i),l&&c.push(l[3]);while(l);if(c.length===0)throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");let f=(0,u3.createHash)("sha1").update(Buffer.from(c[0],"base64")).digest("hex").toUpperCase(),d=(0,u3.createHash)("sha256").update(Buffer.from(c[0],"base64")).digest("hex").toUpperCase();return{certificateContents:i,thumbprintSha256:d,thumbprint:f,x5c:s}}o(Mqe,"parseCertificate");u();var zAe=Mr("ClientSecretCredential"),d3=class{static{o(this,"ClientSecretCredential")}constructor(e,r,n,i={}){if(!e)throw new $t("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new $t("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!n)throw new $t("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=ws(i?.additionallyAllowedTenants),this.msalClient=Vl(r,e,Object.assign(Object.assign({},i),{logger:zAe,tokenCredentialOptions:i}))}async getToken(e,r={}){return xi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=ps(this.tenantId,n,this.additionallyAllowedTenantIds,zAe);let i=Bg(e);return this.msalClient.getTokenByClientSecret(i,this.clientSecret,n)})}};u();var Oqe=Mr("UsernamePasswordCredential"),h3=class{static{o(this,"UsernamePasswordCredential")}constructor(e,r,n,i,s={}){if(!e)throw new $t("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new $t("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!n)throw new $t("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!i)throw new $t("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=ws(s?.additionallyAllowedTenants),this.username=n,this.password=i,this.msalClient=Vl(r,this.tenantId,Object.assign(Object.assign({},s),{tokenCredentialOptions:s??{}}))}async getToken(e,r={}){return xi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=ps(this.tenantId,n,this.additionallyAllowedTenantIds,Oqe);let i=Bg(e);return this.msalClient.getTokenByUsernamePassword(i,this.username,this.password,n)})}};var Uqe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];function Hqe(){var t;return((t=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)!==null&&t!==void 0?t:"").split(";")}o(Hqe,"getAdditionallyAllowedTenants");var bk="EnvironmentCredential",DA=Mr(bk);function qqe(){var t;let e=((t=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)!==null&&t!==void 0?t:"").toLowerCase(),r=e==="true"||e==="1";return DA.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${r}`),r}o(qqe,"getSendCertificateChain");var A3=class{static{o(this,"EnvironmentCredential")}constructor(e){this._credential=void 0;let r=J9(Uqe).assigned.join(", ");DA.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,i=process.env.AZURE_CLIENT_ID,s=process.env.AZURE_CLIENT_SECRET,a=Hqe(),c=qqe(),l=Object.assign(Object.assign({},e),{additionallyAllowedTenantIds:a,sendCertificateChain:c});if(n&&Ca(DA,n),n&&i&&s){DA.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${i} and clientSecret: [REDACTED]`),this._credential=new d3(n,i,s,l);return}let f=process.env.AZURE_CLIENT_CERTIFICATE_PATH,d=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&i&&f){DA.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${i} and certificatePath: ${f}`),this._credential=new f3(n,i,{certificatePath:f,certificatePassword:d},l);return}let h=process.env.AZURE_USERNAME,A=process.env.AZURE_PASSWORD;n&&i&&h&&A&&(DA.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${i} and username: ${h}`),DA.warning("Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa."),this._credential=new h3(n,i,h,A,l))}async getToken(e,r={}){return xi.withSpan(`${bk}.getToken`,r,async n=>{if(this._credential)try{let i=await this._credential.getToken(e,n);return DA.getToken.info(Ss(e)),i}catch(i){let s=new eg(400,{error:`${bk} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:i.message.toString().split("More details:").join("")});throw DA.getToken.info(ri(e,s)),s}throw new $t(`${bk} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};var eW=Mr("DefaultAzureCredential");function Gqe(t={}){var e,r,n,i;(e=t.retryOptions)!==null&&e!==void 0||(t.retryOptions={maxRetries:5,retryDelayInMs:800});let s=(r=t?.managedIdentityClientId)!==null&&r!==void 0?r:process.env.AZURE_CLIENT_ID,a=(n=t?.workloadIdentityClientId)!==null&&n!==void 0?n:s,c=t?.managedIdentityResourceId,l=process.env.AZURE_FEDERATED_TOKEN_FILE,f=(i=t?.tenantId)!==null&&i!==void 0?i:process.env.AZURE_TENANT_ID;if(c){let d=Object.assign(Object.assign({},t),{resourceId:c});return new wg(d)}if(l&&a){let d=Object.assign(Object.assign({},t),{tenantId:f});return new wg(a,d)}if(s){let d=Object.assign(Object.assign({},t),{clientId:s});return new wg(d)}return new wg(t)}o(Gqe,"createDefaultManagedIdentityCredential");function Vqe(t){var e,r,n;let i=(e=t?.managedIdentityClientId)!==null&&e!==void 0?e:process.env.AZURE_CLIENT_ID,s=(r=t?.workloadIdentityClientId)!==null&&r!==void 0?r:i,a=process.env.AZURE_FEDERATED_TOKEN_FILE,c=(n=t?.tenantId)!==null&&n!==void 0?n:process.env.AZURE_TENANT_ID;if(a&&s){let l=Object.assign(Object.assign({},t),{tenantId:c,clientId:s,tokenFilePath:a});return new BA(l)}if(c){let l=Object.assign(Object.assign({},t),{tenantId:c});return new BA(l)}return new BA(t)}o(Vqe,"createDefaultWorkloadIdentityCredential");function Wqe(t={}){let e=t.processTimeoutInMs;return new s3(Object.assign({processTimeoutInMs:e},t))}o(Wqe,"createDefaultAzureDeveloperCliCredential");function Yqe(t={}){let e=t.processTimeoutInMs;return new o3(Object.assign({processTimeoutInMs:e},t))}o(Yqe,"createDefaultAzureCliCredential");function $qe(t={}){let e=t.processTimeoutInMs;return new a3(Object.assign({processTimeoutInMs:e},t))}o($qe,"createDefaultAzurePowershellCredential");function zqe(t={}){return new A3(t)}o(zqe,"createEnvironmentCredential");var tW=class{static{o(this,"UnavailableDefaultCredential")}constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return eW.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},sb=class extends c3{static{o(this,"DefaultAzureCredential")}constructor(e){let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[Yqe,$qe,Wqe],i=[zqe,Vqe,Gqe],s=[];if(r)switch(r){case"dev":s=n;break;case"prod":s=i;break;default:{let c=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev'.`;throw eW.warning(c),new Error(c)}}else s=[...i,...n];let a=s.map(c=>{try{return c(e)}catch(l){return eW.warning(`Skipped ${c.name} because of an error creating the credential: ${l}`),new tW(c.name,l.message)}});super(...a)}};u();var Nhr=Mr("InteractiveBrowserCredential");u();var Ghr=Mr("DeviceCodeCredential");u();var jqe="AzurePipelinesCredential",Zhr=Mr(jqe);u();var lAr=Mr("AuthorizationCodeCredential");u();var Kqe="OnBehalfOfCredential",CAr=Mr(Kqe);u();function Jqe(t){let e=t.getCopilotIntegrationId();if(e)return e;switch(t.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(Jqe,"getIntegrationId");function rW(t){let e={...qy(t),"X-GitHub-Api-Version":iv},r=Jqe(t.get(Ys));return r&&(e["Copilot-Integration-Id"]=r),N9()&&(e["ces-proxy-target"]=ov.api,e["Copilot-Integration-Id"]="autodev-test"),e}o(rW,"getCapiHeaders");function Xqe(t,e,...r){if(N9()){let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return g4(t,e,"api",...r)}o(Xqe,"getCapiUrl");async function nW(t,e){let r=await t.get(ya).getToken(),n=Xqe(t,r,e),i=r.token;N9()&&(i=await Zqe());let s={Authorization:`Bearer ${i}`,...rW(t)};return await t.get(As).fetch(new URL(n).href,{method:"GET",headers:s})}o(nW,"fetchCapiUrl");async function Zqe(){let e=await new sb().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!e)throw new Error("Failed to retrieve access token");return e.token}o(Zqe,"getMsBenchToken");u();var Dpr=600*1e3,p3={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",CopilotBase:"copilot-base",Unknown:"unknown"},Npr=new Set([p3.O1Ga,p3.O3Mini,p3.O1Mini,p3.Gemini20Pro,p3.Gemini20Flash]);var eGe=X.Object({type:X.Union([X.Literal("chat"),X.Literal("embeddings"),X.Literal("completion")]),tokenizer:X.String(),family:X.String(),object:X.String(),supports:X.Optional(X.Object({tool_calls:X.Optional(X.Boolean()),parallel_tool_calls:X.Optional(X.Boolean()),streaming:X.Optional(X.Boolean()),vision:X.Optional(X.Boolean())})),limits:X.Optional(X.Object({max_inputs:X.Optional(X.Number()),max_prompt_tokens:X.Optional(X.Number()),max_output_tokens:X.Optional(X.Number()),max_context_window_tokens:X.Optional(X.Number())}))}),tGe=X.Object({id:X.String(),name:X.String(),version:X.String(),model_picker_enabled:X.Boolean(),is_chat_default:X.Optional(X.Boolean()),is_chat_fallback:X.Optional(X.Boolean()),capabilities:eGe,billing:X.Optional(X.Object({is_premium:X.Optional(X.Boolean()),multiplier:X.Optional(X.Number())})),object:X.String(),preview:X.Optional(X.Boolean()),isExperimental:X.Optional(X.Boolean()),policy:X.Optional(X.Object({state:X.String(),terms:X.String()}))}),jAe=X.Object({data:X.Array(tGe)});u();function KAe(t){let e=Jo(t,Ft.UserSelectedCompletionModel);return typeof e=="string"&&e.length>0?e:null}o(KAe,"getUserSelectedModelConfiguration");u();u();u();var ab=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};u();var JAe=yt(require("node:fs/promises")),xk=yt(require("node:path"));async function Tk(t){return await JAe.readFile(iW(t))}o(Tk,"readFile");function iW(t){return xk.default.resolve(xk.default.extname(__filename)!==".ts"?__dirname:xk.default.resolve(__dirname,"../../dist"),t)}o(iW,"locateFile");var cb=yt(fpe());var kk=new Map;function rf(t="o200k_base"){let e=kk.get(t);return e!==void 0||(e=kk.get("o200k_base"),e!==void 0)?e:new Dk}o(rf,"getTokenizer");async function gGe(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=await Tk(t),r=new Map,n=[];for(let i=0;i<e.length;i++){if(e[i]!==255||n.length===0){n.push(e[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(gGe,"parseTikTokenNoIndex");var pW=class t{constructor(e){this._tokenizer=e}static{o(this,"TTokenizer")}static async create(e){try{let r=(0,cb.createTokenizer)(await gGe(`resources/${e}.tiktoken.noindex`),(0,cb.getSpecialTokensByEncoder)(e),(0,cb.getRegexByEncoder)(e),32768);return new t(r)}catch(r){throw r instanceof Error?new ab("Could not load tokenizer",r):r}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(n=>this.detokenize([n]))}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(e.length,r*n),a=e.slice(-s),c=this.tokenize(a);for(;c.length<r+2&&s<e.length;)s=Math.min(e.length,s+r*i),a=e.slice(-s),c=this.tokenize(a);return c.length<r?{text:e,tokens:c}:(c=c.slice(-r),{text:this.detokenize(c),tokens:c})}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(e.length,r*n),a=e.slice(0,s),c=this.tokenize(a);for(;c.length<r+2&&s<e.length;)s=Math.min(e.length,s+r*i),a=e.slice(0,s),c=this.tokenize(a);return c.length<r?{text:e,tokens:c}:(c=c.slice(0,r),{text:this.detokenize(c),tokens:c})}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},mW=class{constructor(){this.hash=o(e=>{let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(r=>r.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,r){let n=this.tokenizeStrings(e).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(e,r){let n=this.tokenizeStrings(e).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},yGe={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},AW=4,Dk=class{constructor(e="o200k_base",r){this.languageId=r;this.tokenizerName=e}static{o(this,"ApproximateTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(r=>{let n=0;for(let i=0;i<r.length;i++)n=n*Math.pow(10,AW)+r.charCodeAt(i);return n})}detokenize(e){return e.map(r=>{let n=[],i=r.toString();for(;i.length>0;){let s=i.slice(-AW),a=String.fromCharCode(parseInt(s));n.unshift(a),i=i.slice(0,-AW)}return n.join("")}).join("")}tokenizeStrings(e){return e.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?yGe[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(e){return Math.ceil(e.length/this.getEffectiveTokenLength())}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};async function dpe(t){try{let e=await pW.create(t);kk.set(t,e)}catch{}}o(dpe,"setTokenizer");var CGe=(async()=>{kk.set("mock",new mW),await Promise.all([dpe("cl100k_base"),dpe("o200k_base")])})();u();u();u();function EGe(t){switch(t.errorType){case Fe.ArrayContains:return"Expected array to contain at least one matching value";case Fe.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case Fe.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case Fe.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case Fe.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case Fe.ArrayUniqueItems:return"Expected array elements to be unique";case Fe.Array:return"Expected array";case Fe.AsyncIterator:return"Expected AsyncIterator";case Fe.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case Fe.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case Fe.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case Fe.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case Fe.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case Fe.BigInt:return"Expected bigint";case Fe.Boolean:return"Expected boolean";case Fe.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case Fe.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case Fe.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case Fe.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case Fe.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case Fe.Date:return"Expected Date";case Fe.Function:return"Expected function";case Fe.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case Fe.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case Fe.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case Fe.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case Fe.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case Fe.Integer:return"Expected integer";case Fe.IntersectUnevaluatedProperties:return"Unexpected property";case Fe.Intersect:return"Expected all values to match";case Fe.Iterator:return"Expected Iterator";case Fe.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case Fe.Never:return"Never";case Fe.Not:return"Value should not match";case Fe.Null:return"Expected null";case Fe.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case Fe.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case Fe.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case Fe.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case Fe.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case Fe.Number:return"Expected number";case Fe.Object:return"Expected object";case Fe.ObjectAdditionalProperties:return"Unexpected property";case Fe.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case Fe.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case Fe.ObjectRequiredProperty:return"Expected required property";case Fe.Promise:return"Expected Promise";case Fe.RegExp:return"Expected string to match regular expression";case Fe.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case Fe.StringFormat:return`Expected string to match '${t.schema.format}' format`;case Fe.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case Fe.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case Fe.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case Fe.String:return"Expected string";case Fe.Symbol:return"Expected symbol";case Fe.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case Fe.Tuple:return"Expected tuple";case Fe.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case Fe.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case Fe.Uint8Array:return"Expected Uint8Array";case Fe.Undefined:return"Expected undefined";case Fe.Union:return"Expected union value";case Fe.Void:return"Expected void";case Fe.Kind:return`Expected kind '${t.schema[Me]}'`;default:return"Unknown error type"}}o(EGe,"DefaultErrorFunction");var IGe=EGe;function hpe(){return IGe}o(hpe,"GetErrorFunction");u();var gW=class extends lr{static{o(this,"TypeDereferenceError")}constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}};function vGe(t,e){let r=e.find(n=>n.$id===t.$ref);if(r===void 0)throw new gW(t);return qn(r,e)}o(vGe,"Resolve");function Ks(t,e){return!Nn(t.$id)||e.some(r=>r.$id===t.$id)||e.push(t),e}o(Ks,"Pushref");function qn(t,e){return t[Me]==="This"||t[Me]==="Ref"?vGe(t,e):t}o(qn,"Deref");u();var yW=class extends lr{static{o(this,"ValueHashError")}constructor(e){super("Unable to hash value"),this.value=e}},$c;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})($c||($c={}));var lb=BigInt("14695981039346656037"),[bGe,xGe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],TGe=Array.from({length:256}).map((t,e)=>BigInt(e)),Ape=new Float64Array(1),ppe=new DataView(Ape.buffer),mpe=new Uint8Array(Ape.buffer);function*_Ge(t){let e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let r=0;r<e;r++)yield t>>8*(e-1-r)&255}o(_Ge,"NumberToBytes");function SGe(t){Ka($c.Array);for(let e of t)ub(e)}o(SGe,"ArrayType");function wGe(t){Ka($c.Boolean),Ka(t?1:0)}o(wGe,"BooleanType");function BGe(t){Ka($c.BigInt),ppe.setBigInt64(0,t);for(let e of mpe)Ka(e)}o(BGe,"BigIntType");function RGe(t){Ka($c.Date),ub(t.getTime())}o(RGe,"DateType");function kGe(t){Ka($c.Null)}o(kGe,"NullType");function DGe(t){Ka($c.Number),ppe.setFloat64(0,t);for(let e of mpe)Ka(e)}o(DGe,"NumberType");function NGe(t){Ka($c.Object);for(let e of globalThis.Object.getOwnPropertyNames(t).sort())ub(e),ub(t[e])}o(NGe,"ObjectType");function QGe(t){Ka($c.String);for(let e=0;e<t.length;e++)for(let r of _Ge(t.charCodeAt(e)))Ka(r)}o(QGe,"StringType");function PGe(t){Ka($c.Symbol),ub(t.description)}o(PGe,"SymbolType");function FGe(t){Ka($c.Uint8Array);for(let e=0;e<t.length;e++)Ka(t[e])}o(FGe,"Uint8ArrayType");function LGe(t){return Ka($c.Undefined)}o(LGe,"UndefinedType");function ub(t){if(cr(t))return SGe(t);if(ud(t))return wGe(t);if(ha(t))return BGe(t);if(l0(t))return RGe(t);if(jh(t))return kGe(t);if(Yt(t))return DGe(t);if(Xr(t))return NGe(t);if(Nn(t))return QGe(t);if(Kh(t))return PGe(t);if(p2(t))return FGe(t);if(Yi(t))return LGe(t);throw new yW(t)}o(ub,"Visit");function Ka(t){lb=lb^TGe[t],lb=lb*bGe%xGe}o(Ka,"FNV1A64");function kg(t){return lb=BigInt("14695981039346656037"),ub(t),lb}o(kg,"Hash");u();var CW=class extends lr{static{o(this,"ValueCheckUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function MGe(t){return t[Me]==="Any"||t[Me]==="Unknown"}o(MGe,"IsAnyOrUnknown");function pn(t){return t!==void 0}o(pn,"IsDefined");function OGe(t,e,r){return!0}o(OGe,"FromAny");function UGe(t,e,r){return!0}o(UGe,"FromArgument");function HGe(t,e,r){if(!cr(r)||pn(t.minItems)&&!(r.length>=t.minItems)||pn(t.maxItems)&&!(r.length<=t.maxItems)||!r.every(s=>Js(t.items,e,s))||t.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let c=kg(a);if(s.has(c))return!1;s.add(c)}return!0}())return!1;if(!(pn(t.contains)||Yt(t.minContains)||Yt(t.maxContains)))return!0;let n=pn(t.contains)?t.contains:$r(),i=r.reduce((s,a)=>Js(n,e,a)?s+1:s,0);return!(i===0||Yt(t.minContains)&&i<t.minContains||Yt(t.maxContains)&&i>t.maxContains)}o(HGe,"FromArray");function qGe(t,e,r){return QB(r)}o(qGe,"FromAsyncIterator");function GGe(t,e,r){return!(!ha(r)||pn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||pn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||pn(t.maximum)&&!(r<=t.maximum)||pn(t.minimum)&&!(r>=t.minimum)||pn(t.multipleOf)&&r%t.multipleOf!==BigInt(0))}o(GGe,"FromBigInt");function VGe(t,e,r){return ud(r)}o(VGe,"FromBoolean");function WGe(t,e,r){return Js(t.returns,e,r.prototype)}o(WGe,"FromConstructor");function YGe(t,e,r){return!(!l0(r)||pn(t.exclusiveMaximumTimestamp)&&!(r.getTime()<t.exclusiveMaximumTimestamp)||pn(t.exclusiveMinimumTimestamp)&&!(r.getTime()>t.exclusiveMinimumTimestamp)||pn(t.maximumTimestamp)&&!(r.getTime()<=t.maximumTimestamp)||pn(t.minimumTimestamp)&&!(r.getTime()>=t.minimumTimestamp)||pn(t.multipleOfTimestamp)&&r.getTime()%t.multipleOfTimestamp!==0)}o(YGe,"FromDate");function $Ge(t,e,r){return wm(r)}o($Ge,"FromFunction");function zGe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return Js(i,[...e,...n],r)}o(zGe,"FromImport");function jGe(t,e,r){return!(!LB(r)||pn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||pn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||pn(t.maximum)&&!(r<=t.maximum)||pn(t.minimum)&&!(r>=t.minimum)||pn(t.multipleOf)&&r%t.multipleOf!==0)}o(jGe,"FromInteger");function KGe(t,e,r){let n=t.allOf.every(i=>Js(i,e,r));if(t.unevaluatedProperties===!1){let i=new RegExp(rA(t)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(co(t.unevaluatedProperties)){let i=new RegExp(rA(t)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Js(t.unevaluatedProperties,e,r[a]));return n&&s}else return n}o(KGe,"FromIntersect");function JGe(t,e,r){return PB(r)}o(JGe,"FromIterator");function XGe(t,e,r){return r===t.const}o(XGe,"FromLiteral");function ZGe(t,e,r){return!1}o(ZGe,"FromNever");function eVe(t,e,r){return!Js(t.not,e,r)}o(eVe,"FromNot");function tVe(t,e,r){return jh(r)}o(tVe,"FromNull");function rVe(t,e,r){return!(!Ni.IsNumberLike(r)||pn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||pn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||pn(t.minimum)&&!(r>=t.minimum)||pn(t.maximum)&&!(r<=t.maximum)||pn(t.multipleOf)&&r%t.multipleOf!==0)}o(rVe,"FromNumber");function nVe(t,e,r){if(!Ni.IsObjectLike(r)||pn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||pn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let n=Object.getOwnPropertyNames(t.properties);for(let i of n){let s=t.properties[i];if(t.required&&t.required.includes(i)){if(!Js(s,e,r[i])||(nA(s)||MGe(s))&&!(i in r))return!1}else if(Ni.IsExactOptionalProperty(r,i)&&!Js(s,e,r[i]))return!1}if(t.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return t.required&&t.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||Js(t.additionalProperties,e,r[s])):!0}o(nVe,"FromObject");function iVe(t,e,r){return FB(r)}o(iVe,"FromPromise");function oVe(t,e,r){if(!Ni.IsRecordLike(r)||pn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||pn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let[n,i]=Object.entries(t.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([f,d])=>s.test(f)?Js(i,e,d):!0),c=typeof t.additionalProperties=="object"?Object.entries(r).every(([f,d])=>s.test(f)?!0:Js(t.additionalProperties,e,d)):!0,l=t.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>s.test(f)):!0;return a&&c&&l}o(oVe,"FromRecord");function sVe(t,e,r){return Js(qn(t,e),e,r)}o(sVe,"FromRef");function aVe(t,e,r){let n=new RegExp(t.source,t.flags);return pn(t.minLength)&&!(r.length>=t.minLength)||pn(t.maxLength)&&!(r.length<=t.maxLength)?!1:n.test(r)}o(aVe,"FromRegExp");function cVe(t,e,r){return!Nn(r)||pn(t.minLength)&&!(r.length>=t.minLength)||pn(t.maxLength)&&!(r.length<=t.maxLength)||pn(t.pattern)&&!new RegExp(t.pattern).test(r)?!1:pn(t.format)?qu.Has(t.format)?qu.Get(t.format)(r):!1:!0}o(cVe,"FromString");function lVe(t,e,r){return Kh(r)}o(lVe,"FromSymbol");function uVe(t,e,r){return Nn(r)&&new RegExp(t.pattern).test(r)}o(uVe,"FromTemplateLiteral");function fVe(t,e,r){return Js(qn(t,e),e,r)}o(fVe,"FromThis");function dVe(t,e,r){if(!cr(r)||t.items===void 0&&r.length!==0||r.length!==t.maxItems)return!1;if(!t.items)return!0;for(let n=0;n<t.items.length;n++)if(!Js(t.items[n],e,r[n]))return!1;return!0}o(dVe,"FromTuple");function hVe(t,e,r){return Yi(r)}o(hVe,"FromUndefined");function AVe(t,e,r){return t.anyOf.some(n=>Js(n,e,r))}o(AVe,"FromUnion");function pVe(t,e,r){return!(!p2(r)||pn(t.maxByteLength)&&!(r.length<=t.maxByteLength)||pn(t.minByteLength)&&!(r.length>=t.minByteLength))}o(pVe,"FromUint8Array");function mVe(t,e,r){return!0}o(mVe,"FromUnknown");function gVe(t,e,r){return Ni.IsVoidLike(r)}o(gVe,"FromVoid");function yVe(t,e,r){return u0.Has(t[Me])?u0.Get(t[Me])(t,r):!1}o(yVe,"FromKind");function Js(t,e,r){let n=pn(t.$id)?Ks(t,e):e,i=t;switch(i[Me]){case"Any":return OGe(i,n,r);case"Argument":return UGe(i,n,r);case"Array":return HGe(i,n,r);case"AsyncIterator":return qGe(i,n,r);case"BigInt":return GGe(i,n,r);case"Boolean":return VGe(i,n,r);case"Constructor":return WGe(i,n,r);case"Date":return YGe(i,n,r);case"Function":return $Ge(i,n,r);case"Import":return zGe(i,n,r);case"Integer":return jGe(i,n,r);case"Intersect":return KGe(i,n,r);case"Iterator":return JGe(i,n,r);case"Literal":return XGe(i,n,r);case"Never":return ZGe(i,n,r);case"Not":return eVe(i,n,r);case"Null":return tVe(i,n,r);case"Number":return rVe(i,n,r);case"Object":return nVe(i,n,r);case"Promise":return iVe(i,n,r);case"Record":return oVe(i,n,r);case"Ref":return sVe(i,n,r);case"RegExp":return aVe(i,n,r);case"String":return cVe(i,n,r);case"Symbol":return lVe(i,n,r);case"TemplateLiteral":return uVe(i,n,r);case"This":return fVe(i,n,r);case"Tuple":return dVe(i,n,r);case"Undefined":return hVe(i,n,r);case"Union":return AVe(i,n,r);case"Uint8Array":return pVe(i,n,r);case"Unknown":return mVe(i,n,r);case"Void":return gVe(i,n,r);default:if(!u0.Has(i[Me]))throw new CW(i);return yVe(i,n,r)}}o(Js,"Visit");function sn(...t){return t.length===3?Js(t[0],t[1],t[2]):Js(t[0],[],t[1])}o(sn,"Check");var Fe;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(Fe||(Fe={}));var EW=class extends lr{static{o(this,"ValueErrorsUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function NA(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}o(NA,"EscapeKey");function mn(t){return t!==void 0}o(mn,"IsDefined");var Dg=class{static{o(this,"ValueErrorIterator")}constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}};function Tt(t,e,r,n,i=[]){return{type:t,schema:e,path:r,value:n,message:hpe()({errorType:t,path:r,schema:e,value:n,errors:i}),errors:i}}o(Tt,"Create");function*CVe(t,e,r,n){}o(CVe,"FromAny");function*EVe(t,e,r,n){}o(EVe,"FromArgument");function*IVe(t,e,r,n){if(!cr(n))return yield Tt(Fe.Array,t,r,n);mn(t.minItems)&&!(n.length>=t.minItems)&&(yield Tt(Fe.ArrayMinItems,t,r,n)),mn(t.maxItems)&&!(n.length<=t.maxItems)&&(yield Tt(Fe.ArrayMaxItems,t,r,n));for(let a=0;a<n.length;a++)yield*Xs(t.items,e,`${r}/${a}`,n[a]);if(t.uniqueItems===!0&&!function(){let a=new Set;for(let c of n){let l=kg(c);if(a.has(l))return!1;a.add(l)}return!0}()&&(yield Tt(Fe.ArrayUniqueItems,t,r,n)),!(mn(t.contains)||mn(t.minContains)||mn(t.maxContains)))return;let i=mn(t.contains)?t.contains:$r(),s=n.reduce((a,c,l)=>Xs(i,e,`${r}${l}`,c).next().done===!0?a+1:a,0);s===0&&(yield Tt(Fe.ArrayContains,t,r,n)),Yt(t.minContains)&&s<t.minContains&&(yield Tt(Fe.ArrayMinContains,t,r,n)),Yt(t.maxContains)&&s>t.maxContains&&(yield Tt(Fe.ArrayMaxContains,t,r,n))}o(IVe,"FromArray");function*vVe(t,e,r,n){QB(n)||(yield Tt(Fe.AsyncIterator,t,r,n))}o(vVe,"FromAsyncIterator");function*bVe(t,e,r,n){if(!ha(n))return yield Tt(Fe.BigInt,t,r,n);mn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.BigIntExclusiveMaximum,t,r,n)),mn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.BigIntExclusiveMinimum,t,r,n)),mn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.BigIntMaximum,t,r,n)),mn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.BigIntMinimum,t,r,n)),mn(t.multipleOf)&&n%t.multipleOf!==BigInt(0)&&(yield Tt(Fe.BigIntMultipleOf,t,r,n))}o(bVe,"FromBigInt");function*xVe(t,e,r,n){ud(n)||(yield Tt(Fe.Boolean,t,r,n))}o(xVe,"FromBoolean");function*TVe(t,e,r,n){yield*Xs(t.returns,e,r,n.prototype)}o(TVe,"FromConstructor");function*_Ve(t,e,r,n){if(!l0(n))return yield Tt(Fe.Date,t,r,n);mn(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)&&(yield Tt(Fe.DateExclusiveMaximumTimestamp,t,r,n)),mn(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)&&(yield Tt(Fe.DateExclusiveMinimumTimestamp,t,r,n)),mn(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)&&(yield Tt(Fe.DateMaximumTimestamp,t,r,n)),mn(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)&&(yield Tt(Fe.DateMinimumTimestamp,t,r,n)),mn(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0&&(yield Tt(Fe.DateMultipleOfTimestamp,t,r,n))}o(_Ve,"FromDate");function*SVe(t,e,r,n){wm(n)||(yield Tt(Fe.Function,t,r,n))}o(SVe,"FromFunction");function*wVe(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref];yield*Xs(s,[...e,...i],r,n)}o(wVe,"FromImport");function*BVe(t,e,r,n){if(!LB(n))return yield Tt(Fe.Integer,t,r,n);mn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.IntegerExclusiveMaximum,t,r,n)),mn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.IntegerExclusiveMinimum,t,r,n)),mn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.IntegerMaximum,t,r,n)),mn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.IntegerMinimum,t,r,n)),mn(t.multipleOf)&&n%t.multipleOf!==0&&(yield Tt(Fe.IntegerMultipleOf,t,r,n))}o(BVe,"FromInteger");function*RVe(t,e,r,n){let i=!1;for(let s of t.allOf)for(let a of Xs(s,e,r,n))i=!0,yield a;if(i)return yield Tt(Fe.Intersect,t,r,n);if(t.unevaluatedProperties===!1){let s=new RegExp(rA(t));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Tt(Fe.IntersectUnevaluatedProperties,t,`${r}/${a}`,n))}if(typeof t.unevaluatedProperties=="object"){let s=new RegExp(rA(t));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let c=Xs(t.unevaluatedProperties,e,`${r}/${a}`,n[a]).next();c.done||(yield c.value)}}}o(RVe,"FromIntersect");function*kVe(t,e,r,n){PB(n)||(yield Tt(Fe.Iterator,t,r,n))}o(kVe,"FromIterator");function*DVe(t,e,r,n){n!==t.const&&(yield Tt(Fe.Literal,t,r,n))}o(DVe,"FromLiteral");function*NVe(t,e,r,n){yield Tt(Fe.Never,t,r,n)}o(NVe,"FromNever");function*QVe(t,e,r,n){Xs(t.not,e,r,n).next().done===!0&&(yield Tt(Fe.Not,t,r,n))}o(QVe,"FromNot");function*PVe(t,e,r,n){jh(n)||(yield Tt(Fe.Null,t,r,n))}o(PVe,"FromNull");function*FVe(t,e,r,n){if(!Ni.IsNumberLike(n))return yield Tt(Fe.Number,t,r,n);mn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Tt(Fe.NumberExclusiveMaximum,t,r,n)),mn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Tt(Fe.NumberExclusiveMinimum,t,r,n)),mn(t.maximum)&&!(n<=t.maximum)&&(yield Tt(Fe.NumberMaximum,t,r,n)),mn(t.minimum)&&!(n>=t.minimum)&&(yield Tt(Fe.NumberMinimum,t,r,n)),mn(t.multipleOf)&&n%t.multipleOf!==0&&(yield Tt(Fe.NumberMultipleOf,t,r,n))}o(FVe,"FromNumber");function*LVe(t,e,r,n){if(!Ni.IsObjectLike(n))return yield Tt(Fe.Object,t,r,n);mn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Tt(Fe.ObjectMinProperties,t,r,n)),mn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Tt(Fe.ObjectMaxProperties,t,r,n));let i=Array.isArray(t.required)?t.required:[],s=Object.getOwnPropertyNames(t.properties),a=Object.getOwnPropertyNames(n);for(let c of i)a.includes(c)||(yield Tt(Fe.ObjectRequiredProperty,t.properties[c],`${r}/${NA(c)}`,void 0));if(t.additionalProperties===!1)for(let c of a)s.includes(c)||(yield Tt(Fe.ObjectAdditionalProperties,t,`${r}/${NA(c)}`,n[c]));if(typeof t.additionalProperties=="object")for(let c of a)s.includes(c)||(yield*Xs(t.additionalProperties,e,`${r}/${NA(c)}`,n[c]));for(let c of s){let l=t.properties[c];t.required&&t.required.includes(c)?(yield*Xs(l,e,`${r}/${NA(c)}`,n[c]),nA(t)&&!(c in n)&&(yield Tt(Fe.ObjectRequiredProperty,l,`${r}/${NA(c)}`,void 0))):Ni.IsExactOptionalProperty(n,c)&&(yield*Xs(l,e,`${r}/${NA(c)}`,n[c]))}}o(LVe,"FromObject");function*MVe(t,e,r,n){FB(n)||(yield Tt(Fe.Promise,t,r,n))}o(MVe,"FromPromise");function*OVe(t,e,r,n){if(!Ni.IsRecordLike(n))return yield Tt(Fe.Object,t,r,n);mn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Tt(Fe.ObjectMinProperties,t,r,n)),mn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Tt(Fe.ObjectMaxProperties,t,r,n));let[i,s]=Object.entries(t.patternProperties)[0],a=new RegExp(i);for(let[c,l]of Object.entries(n))a.test(c)&&(yield*Xs(s,e,`${r}/${NA(c)}`,l));if(typeof t.additionalProperties=="object")for(let[c,l]of Object.entries(n))a.test(c)||(yield*Xs(t.additionalProperties,e,`${r}/${NA(c)}`,l));if(t.additionalProperties===!1){for(let[c,l]of Object.entries(n))if(!a.test(c))return yield Tt(Fe.ObjectAdditionalProperties,t,`${r}/${NA(c)}`,l)}}o(OVe,"FromRecord");function*UVe(t,e,r,n){yield*Xs(qn(t,e),e,r,n)}o(UVe,"FromRef");function*HVe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);if(mn(t.minLength)&&!(n.length>=t.minLength)&&(yield Tt(Fe.StringMinLength,t,r,n)),mn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Tt(Fe.StringMaxLength,t,r,n)),!new RegExp(t.source,t.flags).test(n))return yield Tt(Fe.RegExp,t,r,n)}o(HVe,"FromRegExp");function*qVe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);mn(t.minLength)&&!(n.length>=t.minLength)&&(yield Tt(Fe.StringMinLength,t,r,n)),mn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Tt(Fe.StringMaxLength,t,r,n)),Nn(t.pattern)&&(new RegExp(t.pattern).test(n)||(yield Tt(Fe.StringPattern,t,r,n))),Nn(t.format)&&(qu.Has(t.format)?qu.Get(t.format)(n)||(yield Tt(Fe.StringFormat,t,r,n)):yield Tt(Fe.StringFormatUnknown,t,r,n))}o(qVe,"FromString");function*GVe(t,e,r,n){Kh(n)||(yield Tt(Fe.Symbol,t,r,n))}o(GVe,"FromSymbol");function*VVe(t,e,r,n){if(!Nn(n))return yield Tt(Fe.String,t,r,n);new RegExp(t.pattern).test(n)||(yield Tt(Fe.StringPattern,t,r,n))}o(VVe,"FromTemplateLiteral");function*WVe(t,e,r,n){yield*Xs(qn(t,e),e,r,n)}o(WVe,"FromThis");function*YVe(t,e,r,n){if(!cr(n))return yield Tt(Fe.Tuple,t,r,n);if(t.items===void 0&&n.length!==0)return yield Tt(Fe.TupleLength,t,r,n);if(n.length!==t.maxItems)return yield Tt(Fe.TupleLength,t,r,n);if(t.items)for(let i=0;i<t.items.length;i++)yield*Xs(t.items[i],e,`${r}/${i}`,n[i])}o(YVe,"FromTuple");function*$Ve(t,e,r,n){Yi(n)||(yield Tt(Fe.Undefined,t,r,n))}o($Ve,"FromUndefined");function*zVe(t,e,r,n){if(sn(t,e,n))return;let i=t.anyOf.map(s=>new Dg(Xs(s,e,r,n)));yield Tt(Fe.Union,t,r,n,i)}o(zVe,"FromUnion");function*jVe(t,e,r,n){if(!p2(n))return yield Tt(Fe.Uint8Array,t,r,n);mn(t.maxByteLength)&&!(n.length<=t.maxByteLength)&&(yield Tt(Fe.Uint8ArrayMaxByteLength,t,r,n)),mn(t.minByteLength)&&!(n.length>=t.minByteLength)&&(yield Tt(Fe.Uint8ArrayMinByteLength,t,r,n))}o(jVe,"FromUint8Array");function*KVe(t,e,r,n){}o(KVe,"FromUnknown");function*JVe(t,e,r,n){Ni.IsVoidLike(n)||(yield Tt(Fe.Void,t,r,n))}o(JVe,"FromVoid");function*XVe(t,e,r,n){u0.Get(t[Me])(t,n)||(yield Tt(Fe.Kind,t,r,n))}o(XVe,"FromKind");function*Xs(t,e,r,n){let i=mn(t.$id)?[...e,t]:e,s=t;switch(s[Me]){case"Any":return yield*CVe(s,i,r,n);case"Argument":return yield*EVe(s,i,r,n);case"Array":return yield*IVe(s,i,r,n);case"AsyncIterator":return yield*vVe(s,i,r,n);case"BigInt":return yield*bVe(s,i,r,n);case"Boolean":return yield*xVe(s,i,r,n);case"Constructor":return yield*TVe(s,i,r,n);case"Date":return yield*_Ve(s,i,r,n);case"Function":return yield*SVe(s,i,r,n);case"Import":return yield*wVe(s,i,r,n);case"Integer":return yield*BVe(s,i,r,n);case"Intersect":return yield*RVe(s,i,r,n);case"Iterator":return yield*kVe(s,i,r,n);case"Literal":return yield*DVe(s,i,r,n);case"Never":return yield*NVe(s,i,r,n);case"Not":return yield*QVe(s,i,r,n);case"Null":return yield*PVe(s,i,r,n);case"Number":return yield*FVe(s,i,r,n);case"Object":return yield*LVe(s,i,r,n);case"Promise":return yield*MVe(s,i,r,n);case"Record":return yield*OVe(s,i,r,n);case"Ref":return yield*UVe(s,i,r,n);case"RegExp":return yield*HVe(s,i,r,n);case"String":return yield*qVe(s,i,r,n);case"Symbol":return yield*GVe(s,i,r,n);case"TemplateLiteral":return yield*VVe(s,i,r,n);case"This":return yield*WVe(s,i,r,n);case"Tuple":return yield*YVe(s,i,r,n);case"Undefined":return yield*$Ve(s,i,r,n);case"Union":return yield*zVe(s,i,r,n);case"Uint8Array":return yield*jVe(s,i,r,n);case"Unknown":return yield*KVe(s,i,r,n);case"Void":return yield*JVe(s,i,r,n);default:if(!u0.Has(s[Me]))throw new EW(t);return yield*XVe(s,i,r,n)}}o(Xs,"Visit");function Ud(...t){let e=t.length===3?Xs(t[0],t[1],"",t[2]):Xs(t[0],[],"",t[1]);return new Dg(e)}o(Ud,"Errors");u();var ZVe=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ype=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},IW,Nk,Cpe,vW=class extends lr{static{o(this,"AssertError")}constructor(e){let r=e.First();super(r===void 0?"Invalid Value":r.message),IW.add(this),Nk.set(this,void 0),ZVe(this,Nk,e,"f"),this.error=r}Errors(){return new Dg(ype(this,IW,"m",Cpe).call(this))}};Nk=new WeakMap,IW=new WeakSet,Cpe=o(function*(){this.error&&(yield this.error),yield*ype(this,Nk,"f")},"_AssertError_Iterator");function gpe(t,e,r){if(!sn(t,e,r))throw new vW(Ud(t,e,r))}o(gpe,"AssertValue");function Qk(...t){return t.length===3?gpe(t[0],t[1],t[2]):gpe(t[0],[],t[1])}o(Qk,"Assert");u();u();u();function eWe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=Gn(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=Gn(t[r]);return e}o(eWe,"FromObject");function tWe(t){return t.map(e=>Gn(e))}o(tWe,"FromArray");function rWe(t){return t.slice()}o(rWe,"FromTypedArray");function nWe(t){return new Map(Gn([...t.entries()]))}o(nWe,"FromMap");function iWe(t){return new Set(Gn([...t.entries()]))}o(iWe,"FromSet");function oWe(t){return new Date(t.toISOString())}o(oWe,"FromDate");function Gn(t){if(cr(t))return tWe(t);if(l0(t))return oWe(t);if(xl(t))return rWe(t);if(Cee(t))return nWe(t);if(Eee(t))return iWe(t);if(Xr(t))return eWe(t);if(Sc(t))return t;throw new Error("ValueClone: Unable to clone value")}o(Gn,"Clone");var zc=class extends lr{static{o(this,"ValueCreateError")}constructor(e,r){super(r),this.schema=e}};function Vn(t){return wm(t)?t():Gn(t)}o(Vn,"FromDefault");function sWe(t,e){return ar(t,"default")?Vn(t.default):{}}o(sWe,"FromAny");function aWe(t,e){return{}}o(aWe,"FromArgument");function cWe(t,e){if(t.uniqueItems===!0&&!ar(t,"default"))throw new zc(t,"Array with the uniqueItems constraint requires a default value");if("contains"in t&&!ar(t,"default"))throw new zc(t,"Array with the contains constraint requires a default value");return"default"in t?Vn(t.default):t.minItems!==void 0?Array.from({length:t.minItems}).map(r=>oc(t.items,e)):[]}o(cWe,"FromArray");function lWe(t,e){return ar(t,"default")?Vn(t.default):async function*(){}()}o(lWe,"FromAsyncIterator");function uWe(t,e){return ar(t,"default")?Vn(t.default):BigInt(0)}o(uWe,"FromBigInt");function fWe(t,e){return ar(t,"default")?Vn(t.default):!1}o(fWe,"FromBoolean");function dWe(t,e){if(ar(t,"default"))return Vn(t.default);{let r=oc(t.returns,e);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(dWe,"FromConstructor");function hWe(t,e){return ar(t,"default")?Vn(t.default):t.minimumTimestamp!==void 0?new Date(t.minimumTimestamp):new Date}o(hWe,"FromDate");function AWe(t,e){return ar(t,"default")?Vn(t.default):()=>oc(t.returns,e)}o(AWe,"FromFunction");function pWe(t,e){let r=globalThis.Object.values(t.$defs),n=t.$defs[t.$ref];return oc(n,[...e,...r])}o(pWe,"FromImport");function mWe(t,e){return ar(t,"default")?Vn(t.default):t.minimum!==void 0?t.minimum:0}o(mWe,"FromInteger");function gWe(t,e){if(ar(t,"default"))return Vn(t.default);{let r=t.allOf.reduce((n,i)=>{let s=oc(i,e);return typeof s=="object"?{...n,...s}:s},{});if(!sn(t,e,r))throw new zc(t,"Intersect produced invalid value. Consider using a default value.");return r}}o(gWe,"FromIntersect");function yWe(t,e){return ar(t,"default")?Vn(t.default):function*(){}()}o(yWe,"FromIterator");function CWe(t,e){return ar(t,"default")?Vn(t.default):t.const}o(CWe,"FromLiteral");function EWe(t,e){if(ar(t,"default"))return Vn(t.default);throw new zc(t,"Never types cannot be created. Consider using a default value.")}o(EWe,"FromNever");function IWe(t,e){if(ar(t,"default"))return Vn(t.default);throw new zc(t,"Not types must have a default value")}o(IWe,"FromNot");function vWe(t,e){return ar(t,"default")?Vn(t.default):null}o(vWe,"FromNull");function bWe(t,e){return ar(t,"default")?Vn(t.default):t.minimum!==void 0?t.minimum:0}o(bWe,"FromNumber");function xWe(t,e){if(ar(t,"default"))return Vn(t.default);{let r=new Set(t.required),n={};for(let[i,s]of Object.entries(t.properties))r.has(i)&&(n[i]=oc(s,e));return n}}o(xWe,"FromObject");function TWe(t,e){return ar(t,"default")?Vn(t.default):Promise.resolve(oc(t.item,e))}o(TWe,"FromPromise");function _We(t,e){let[r,n]=Object.entries(t.patternProperties)[0];if(ar(t,"default"))return Vn(t.default);if(r===dd||r===fd)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=oc(n,e);return s}}o(_We,"FromRecord");function SWe(t,e){return ar(t,"default")?Vn(t.default):oc(qn(t,e),e)}o(SWe,"FromRef");function wWe(t,e){if(ar(t,"default"))return Vn(t.default);throw new zc(t,"RegExp types cannot be created. Consider using a default value.")}o(wWe,"FromRegExp");function BWe(t,e){if(t.pattern!==void 0){if(ar(t,"default"))return Vn(t.default);throw new zc(t,"String types with patterns must specify a default value")}else if(t.format!==void 0){if(ar(t,"default"))return Vn(t.default);throw new zc(t,"String types with formats must specify a default value")}else return ar(t,"default")?Vn(t.default):t.minLength!==void 0?Array.from({length:t.minLength}).map(()=>" ").join(""):""}o(BWe,"FromString");function RWe(t,e){return ar(t,"default")?Vn(t.default):"value"in t?Symbol.for(t.value):Symbol()}o(RWe,"FromSymbol");function kWe(t,e){if(ar(t,"default"))return Vn(t.default);if(!HB(t))throw new zc(t,"Can only create template literals that produce a finite variants. Consider using a default value.");return x2(t)[0]}o(kWe,"FromTemplateLiteral");function DWe(t,e){if(Epe++>UWe)throw new zc(t,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ar(t,"default")?Vn(t.default):oc(qn(t,e),e)}o(DWe,"FromThis");function NWe(t,e){return ar(t,"default")?Vn(t.default):t.items===void 0?[]:Array.from({length:t.minItems}).map((r,n)=>oc(t.items[n],e))}o(NWe,"FromTuple");function QWe(t,e){if(ar(t,"default"))return Vn(t.default)}o(QWe,"FromUndefined");function PWe(t,e){if(ar(t,"default"))return Vn(t.default);if(t.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return oc(t.anyOf[0],e)}o(PWe,"FromUnion");function FWe(t,e){return ar(t,"default")?Vn(t.default):t.minByteLength!==void 0?new Uint8Array(t.minByteLength):new Uint8Array(0)}o(FWe,"FromUint8Array");function LWe(t,e){return ar(t,"default")?Vn(t.default):{}}o(LWe,"FromUnknown");function MWe(t,e){if(ar(t,"default"))return Vn(t.default)}o(MWe,"FromVoid");function OWe(t,e){if(ar(t,"default"))return Vn(t.default);throw new Error("User defined types must specify a default value")}o(OWe,"FromKind");function oc(t,e){let r=Ks(t,e),n=t;switch(n[Me]){case"Any":return sWe(n,r);case"Argument":return aWe(n,r);case"Array":return cWe(n,r);case"AsyncIterator":return lWe(n,r);case"BigInt":return uWe(n,r);case"Boolean":return fWe(n,r);case"Constructor":return dWe(n,r);case"Date":return hWe(n,r);case"Function":return AWe(n,r);case"Import":return pWe(n,r);case"Integer":return mWe(n,r);case"Intersect":return gWe(n,r);case"Iterator":return yWe(n,r);case"Literal":return CWe(n,r);case"Never":return EWe(n,r);case"Not":return IWe(n,r);case"Null":return vWe(n,r);case"Number":return bWe(n,r);case"Object":return xWe(n,r);case"Promise":return TWe(n,r);case"Record":return _We(n,r);case"Ref":return SWe(n,r);case"RegExp":return wWe(n,r);case"String":return BWe(n,r);case"Symbol":return RWe(n,r);case"TemplateLiteral":return kWe(n,r);case"This":return DWe(n,r);case"Tuple":return NWe(n,r);case"Undefined":return QWe(n,r);case"Union":return PWe(n,r);case"Uint8Array":return FWe(n,r);case"Unknown":return LWe(n,r);case"Void":return MWe(n,r);default:if(!u0.Has(n[Me]))throw new zc(n,"Unknown type");return OWe(n,r)}}o(oc,"Visit");var UWe=512,Epe=0;function Yl(...t){return Epe=0,t.length===2?oc(t[0],t[1]):oc(t[0],[])}o(Yl,"Create");var Pk=class extends lr{static{o(this,"ValueCastError")}constructor(e,r){super(r),this.schema=e}};function HWe(t,e,r){if(t[Me]==="Object"&&typeof r=="object"&&!jh(r)){let n=t,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,c]=[1/s.length,s.length];return s.reduce((l,[f,d])=>{let h=d[Me]==="Literal"&&d.const===r[f]?c:0,A=sn(d,e,r[f])?a:0,g=i.includes(f)?a:0;return l+(h+A+g)},0)}else return sn(t,e,r)?1:0}o(HWe,"ScoreUnion");function qWe(t,e,r){let n=t.anyOf.map(a=>qn(a,e)),[i,s]=[n[0],0];for(let a of n){let c=HWe(a,e,r);c>s&&(i=a,s=c)}return i}o(qWe,"SelectUnion");function GWe(t,e,r){if("default"in t)return typeof r=="function"?t.default:Gn(t.default);{let n=qWe(t,e,r);return g3(n,e,r)}}o(GWe,"CastUnion");function VWe(t,e,r){return sn(t,e,r)?Gn(r):Yl(t,e)}o(VWe,"DefaultClone");function WWe(t,e,r){return sn(t,e,r)?r:Yl(t,e)}o(WWe,"Default");function YWe(t,e,r){if(sn(t,e,r))return Gn(r);let n=cr(r)?Gn(r):Yl(t,e),i=Yt(t.minItems)&&n.length<t.minItems?[...n,...Array.from({length:t.minItems-n.length},()=>null)]:n,a=(Yt(t.maxItems)&&i.length>t.maxItems?i.slice(0,t.maxItems):i).map(l=>nf(t.items,e,l));if(t.uniqueItems!==!0)return a;let c=[...new Set(a)];if(!sn(t,e,c))throw new Pk(t,"Array cast produced invalid data due to uniqueItems constraint");return c}o(YWe,"FromArray");function $We(t,e,r){if(sn(t,e,r))return Yl(t,e);let n=new Set(t.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(t.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=nf(a,e,r.prototype[s]));return i}o($We,"FromConstructor");function zWe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return nf(i,[...e,...n],r)}o(zWe,"FromImport");function jWe(t,e,r){let n=Yl(t,e),i=Xr(n)&&Xr(r)?{...n,...r}:r;return sn(t,e,i)?i:Yl(t,e)}o(jWe,"FromIntersect");function KWe(t,e,r){throw new Pk(t,"Never types cannot be cast")}o(KWe,"FromNever");function JWe(t,e,r){if(sn(t,e,r))return r;if(r===null||typeof r!="object")return Yl(t,e);let n=new Set(t.required||[]),i={};for(let[s,a]of Object.entries(t.properties))!n.has(s)&&r[s]===void 0||(i[s]=nf(a,e,r[s]));if(typeof t.additionalProperties=="object"){let s=Object.getOwnPropertyNames(t.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=nf(t.additionalProperties,e,r[a]))}return i}o(JWe,"FromObject");function XWe(t,e,r){if(sn(t,e,r))return Gn(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Yl(t,e);let n=Object.getOwnPropertyNames(t.patternProperties)[0],i=t.patternProperties[n],s={};for(let[a,c]of Object.entries(r))s[a]=nf(i,e,c);return s}o(XWe,"FromRecord");function ZWe(t,e,r){return nf(qn(t,e),e,r)}o(ZWe,"FromRef");function eYe(t,e,r){return nf(qn(t,e),e,r)}o(eYe,"FromThis");function tYe(t,e,r){return sn(t,e,r)?Gn(r):cr(r)?t.items===void 0?[]:t.items.map((n,i)=>nf(n,e,r[i])):Yl(t,e)}o(tYe,"FromTuple");function rYe(t,e,r){return sn(t,e,r)?Gn(r):GWe(t,e,r)}o(rYe,"FromUnion");function nf(t,e,r){let n=Nn(t.$id)?Ks(t,e):e,i=t;switch(t[Me]){case"Array":return YWe(i,n,r);case"Constructor":return $We(i,n,r);case"Import":return zWe(i,n,r);case"Intersect":return jWe(i,n,r);case"Never":return KWe(i,n,r);case"Object":return JWe(i,n,r);case"Record":return XWe(i,n,r);case"Ref":return ZWe(i,n,r);case"This":return eYe(i,n,r);case"Tuple":return tYe(i,n,r);case"Union":return rYe(i,n,r);case"Date":case"Symbol":case"Uint8Array":return VWe(t,e,r);default:return WWe(i,n,r)}}o(nf,"Visit");function g3(...t){return t.length===3?nf(t[0],t[1],t[2]):nf(t[0],[],t[1])}o(g3,"Cast");u();function nYe(t){return Rm(t)&&t[Me]!=="Unsafe"}o(nYe,"IsCheckable");function iYe(t,e,r){return cr(r)?r.map(n=>sc(t.items,e,n)):r}o(iYe,"FromArray");function oYe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return sc(i,[...e,...n],r)}o(oYe,"FromImport");function sYe(t,e,r){let n=t.unevaluatedProperties,s=t.allOf.map(c=>sc(c,e,Gn(r))).reduce((c,l)=>Xr(l)?{...c,...l}:l,{});if(!Xr(r)||!Xr(s)||!Rm(n))return s;let a=q0(t);for(let c of Object.getOwnPropertyNames(r))a.includes(c)||sn(n,e,r[c])&&(s[c]=sc(n,e,r[c]));return s}o(sYe,"FromIntersect");function aYe(t,e,r){if(!Xr(r)||cr(r))return r;let n=t.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(ar(t.properties,i)){r[i]=sc(t.properties[i],e,r[i]);continue}if(Rm(n)&&sn(n,e,r[i])){r[i]=sc(n,e,r[i]);continue}delete r[i]}return r}o(aYe,"FromObject");function cYe(t,e,r){if(!Xr(r))return r;let n=t.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(t.patternProperties)[0],c=new RegExp(s);for(let l of i){if(c.test(l)){r[l]=sc(a,e,r[l]);continue}if(Rm(n)&&sn(n,e,r[l])){r[l]=sc(n,e,r[l]);continue}delete r[l]}return r}o(cYe,"FromRecord");function lYe(t,e,r){return sc(qn(t,e),e,r)}o(lYe,"FromRef");function uYe(t,e,r){return sc(qn(t,e),e,r)}o(uYe,"FromThis");function fYe(t,e,r){if(!cr(r))return r;if(Yi(t.items))return[];let n=Math.min(r.length,t.items.length);for(let i=0;i<n;i++)r[i]=sc(t.items[i],e,r[i]);return r.length>n?r.slice(0,n):r}o(fYe,"FromTuple");function dYe(t,e,r){for(let n of t.anyOf)if(nYe(n)&&sn(n,e,r))return sc(n,e,r);return r}o(dYe,"FromUnion");function sc(t,e,r){let n=Nn(t.$id)?Ks(t,e):e,i=t;switch(i[Me]){case"Array":return iYe(i,n,r);case"Import":return oYe(i,n,r);case"Intersect":return sYe(i,n,r);case"Object":return aYe(i,n,r);case"Record":return cYe(i,n,r);case"Ref":return lYe(i,n,r);case"This":return uYe(i,n,r);case"Tuple":return fYe(i,n,r);case"Union":return dYe(i,n,r);default:return r}}o(sc,"Visit");function Fk(...t){return t.length===3?sc(t[0],t[1],t[2]):sc(t[0],[],t[1])}o(Fk,"Clean");u();function Lk(t){return Nn(t)&&!isNaN(t)&&!isNaN(parseFloat(t))}o(Lk,"IsStringNumeric");function hYe(t){return ha(t)||ud(t)||Yt(t)}o(hYe,"IsValueToString");function y3(t){return t===!0||Yt(t)&&t===1||ha(t)&&t===BigInt("1")||Nn(t)&&(t.toLowerCase()==="true"||t==="1")}o(y3,"IsValueTrue");function C3(t){return t===!1||Yt(t)&&(t===0||Object.is(t,-0))||ha(t)&&t===BigInt("0")||Nn(t)&&(t.toLowerCase()==="false"||t==="0"||t==="-0")}o(C3,"IsValueFalse");function AYe(t){return Nn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}o(AYe,"IsTimeStringWithTimeZone");function pYe(t){return Nn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}o(pYe,"IsTimeStringWithoutTimeZone");function mYe(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}o(mYe,"IsDateTimeStringWithTimeZone");function gYe(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}o(gYe,"IsDateTimeStringWithoutTimeZone");function yYe(t){return Nn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)}o(yYe,"IsDateString");function CYe(t,e){let r=vpe(t);return r===e?r:t}o(CYe,"TryConvertLiteralString");function EYe(t,e){let r=bpe(t);return r===e?r:t}o(EYe,"TryConvertLiteralNumber");function IYe(t,e){let r=Ipe(t);return r===e?r:t}o(IYe,"TryConvertLiteralBoolean");function vYe(t,e){return Nn(t.const)?CYe(e,t.const):Yt(t.const)?EYe(e,t.const):ud(t.const)?IYe(e,t.const):e}o(vYe,"TryConvertLiteral");function Ipe(t){return y3(t)?!0:C3(t)?!1:t}o(Ipe,"TryConvertBoolean");function bYe(t){let e=o(r=>r.split(".")[0],"truncateInteger");return Lk(t)?BigInt(e(t)):Yt(t)?BigInt(Math.trunc(t)):C3(t)?BigInt(0):y3(t)?BigInt(1):t}o(bYe,"TryConvertBigInt");function vpe(t){return Kh(t)&&t.description!==void 0?t.description.toString():hYe(t)?t.toString():t}o(vpe,"TryConvertString");function bpe(t){return Lk(t)?parseFloat(t):y3(t)?1:C3(t)?0:t}o(bpe,"TryConvertNumber");function xYe(t){return Lk(t)?parseInt(t):Yt(t)?Math.trunc(t):y3(t)?1:C3(t)?0:t}o(xYe,"TryConvertInteger");function TYe(t){return Nn(t)&&t.toLowerCase()==="null"?null:t}o(TYe,"TryConvertNull");function _Ye(t){return Nn(t)&&t==="undefined"?void 0:t}o(_Ye,"TryConvertUndefined");function SYe(t){return l0(t)?t:Yt(t)?new Date(t):y3(t)?new Date(1):C3(t)?new Date(0):Lk(t)?new Date(parseInt(t)):pYe(t)?new Date(`1970-01-01T${t}.000Z`):AYe(t)?new Date(`1970-01-01T${t}`):gYe(t)?new Date(`${t}.000Z`):mYe(t)?new Date(t):yYe(t)?new Date(`${t}T00:00:00.000Z`):t}o(SYe,"TryConvertDate");function wYe(t,e,r){return(cr(r)?r:[r]).map(i=>of(t.items,e,i))}o(wYe,"FromArray");function BYe(t,e,r){return bYe(r)}o(BYe,"FromBigInt");function RYe(t,e,r){return Ipe(r)}o(RYe,"FromBoolean");function kYe(t,e,r){return SYe(r)}o(kYe,"FromDate");function DYe(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return of(i,[...e,...n],r)}o(DYe,"FromImport");function NYe(t,e,r){return xYe(r)}o(NYe,"FromInteger");function QYe(t,e,r){return t.allOf.reduce((n,i)=>of(i,e,n),r)}o(QYe,"FromIntersect");function PYe(t,e,r){return vYe(t,r)}o(PYe,"FromLiteral");function FYe(t,e,r){return TYe(r)}o(FYe,"FromNull");function LYe(t,e,r){return bpe(r)}o(LYe,"FromNumber");function MYe(t,e,r){if(!Xr(r))return r;for(let n of Object.getOwnPropertyNames(t.properties))ar(r,n)&&(r[n]=of(t.properties[n],e,r[n]));return r}o(MYe,"FromObject");function OYe(t,e,r){if(!Xr(r))return r;let i=Object.getOwnPropertyNames(t.patternProperties)[0],s=t.patternProperties[i];for(let[a,c]of Object.entries(r))r[a]=of(s,e,c);return r}o(OYe,"FromRecord");function UYe(t,e,r){return of(qn(t,e),e,r)}o(UYe,"FromRef");function HYe(t,e,r){return vpe(r)}o(HYe,"FromString");function qYe(t,e,r){return Nn(r)||Yt(r)?Symbol(r):r}o(qYe,"FromSymbol");function GYe(t,e,r){return of(qn(t,e),e,r)}o(GYe,"FromThis");function VYe(t,e,r){return cr(r)&&!Yi(t.items)?r.map((i,s)=>s<t.items.length?of(t.items[s],e,i):i):r}o(VYe,"FromTuple");function WYe(t,e,r){return _Ye(r)}o(WYe,"FromUndefined");function YYe(t,e,r){for(let n of t.anyOf){let i=of(n,e,Gn(r));if(sn(n,e,i))return i}return r}o(YYe,"FromUnion");function of(t,e,r){let n=Ks(t,e),i=t;switch(t[Me]){case"Array":return wYe(i,n,r);case"BigInt":return BYe(i,n,r);case"Boolean":return RYe(i,n,r);case"Date":return kYe(i,n,r);case"Import":return DYe(i,n,r);case"Integer":return NYe(i,n,r);case"Intersect":return QYe(i,n,r);case"Literal":return PYe(i,n,r);case"Null":return FYe(i,n,r);case"Number":return LYe(i,n,r);case"Object":return MYe(i,n,r);case"Record":return OYe(i,n,r);case"Ref":return UYe(i,n,r);case"String":return HYe(i,n,r);case"Symbol":return qYe(i,n,r);case"This":return GYe(i,n,r);case"Tuple":return VYe(i,n,r);case"Undefined":return WYe(i,n,r);case"Union":return YYe(i,n,r);default:return r}}o(of,"Visit");function Mk(...t){return t.length===3?of(t[0],t[1],t[2]):of(t[0],[],t[1])}o(Mk,"Convert");u();u();var fb=class extends lr{static{o(this,"TransformDecodeCheckError")}constructor(e,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},bW=class extends lr{static{o(this,"TransformDecodeError")}constructor(e,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=e,this.path=r,this.value=n,this.error=i}};function fo(t,e,r){try{return Jn(t)?t[ao].Decode(r):r}catch(n){throw new bW(t,e,r,n)}}o(fo,"Default");function $Ye(t,e,r,n){return cr(n)?fo(t,r,n.map((i,s)=>sf(t.items,e,`${r}/${s}`,i))):fo(t,r,n)}o($Ye,"FromArray");function zYe(t,e,r,n){if(!Xr(n)||Sc(n))return fo(t,r,n);let i=YB(t),s=i.map(d=>d[0]),a={...n};for(let[d,h]of i)d in a&&(a[d]=sf(h,e,`${r}/${d}`,a[d]));if(!Jn(t.unevaluatedProperties))return fo(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.unevaluatedProperties,f={...a};for(let d of c)s.includes(d)||(f[d]=fo(l,`${r}/${d}`,f[d]));return fo(t,r,f)}o(zYe,"FromIntersect");function jYe(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref],a=sf(s,[...e,...i],r,n);return fo(t,r,a)}o(jYe,"FromImport");function KYe(t,e,r,n){return fo(t,r,sf(t.not,e,r,n))}o(KYe,"FromNot");function JYe(t,e,r,n){if(!Xr(n))return fo(t,r,n);let i=q0(t),s={...n};for(let f of i)ar(s,f)&&(Yi(s[f])&&(!Zh(t.properties[f])||Ni.IsExactOptionalProperty(s,f))||(s[f]=sf(t.properties[f],e,`${r}/${f}`,s[f])));if(!co(t.additionalProperties))return fo(t,r,s);let a=Object.getOwnPropertyNames(s),c=t.additionalProperties,l={...s};for(let f of a)i.includes(f)||(l[f]=fo(c,`${r}/${f}`,l[f]));return fo(t,r,l)}o(JYe,"FromObject");function XYe(t,e,r,n){if(!Xr(n))return fo(t,r,n);let i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),a={...n};for(let d of Object.getOwnPropertyNames(n))s.test(d)&&(a[d]=sf(t.patternProperties[i],e,`${r}/${d}`,a[d]));if(!co(t.additionalProperties))return fo(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,f={...a};for(let d of c)s.test(d)||(f[d]=fo(l,`${r}/${d}`,f[d]));return fo(t,r,f)}o(XYe,"FromRecord");function ZYe(t,e,r,n){let i=qn(t,e);return fo(t,r,sf(i,e,r,n))}o(ZYe,"FromRef");function e$e(t,e,r,n){let i=qn(t,e);return fo(t,r,sf(i,e,r,n))}o(e$e,"FromThis");function t$e(t,e,r,n){return cr(n)&&cr(t.items)?fo(t,r,t.items.map((i,s)=>sf(i,e,`${r}/${s}`,n[s]))):fo(t,r,n)}o(t$e,"FromTuple");function r$e(t,e,r,n){for(let i of t.anyOf){if(!sn(i,e,n))continue;let s=sf(i,e,r,n);return fo(t,r,s)}return fo(t,r,n)}o(r$e,"FromUnion");function sf(t,e,r,n){let i=Ks(t,e),s=t;switch(t[Me]){case"Array":return $Ye(s,i,r,n);case"Import":return jYe(s,i,r,n);case"Intersect":return zYe(s,i,r,n);case"Not":return KYe(s,i,r,n);case"Object":return JYe(s,i,r,n);case"Record":return XYe(s,i,r,n);case"Ref":return ZYe(s,i,r,n);case"Symbol":return fo(s,r,n);case"This":return e$e(s,i,r,n);case"Tuple":return t$e(s,i,r,n);case"Union":return r$e(s,i,r,n);default:return fo(s,r,n)}}o(sf,"Visit");function db(t,e,r){return sf(t,e,"",r)}o(db,"TransformDecode");u();var hb=class extends lr{static{o(this,"TransformEncodeCheckError")}constructor(e,r,n){super("The encoded value does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},xW=class extends lr{static{o(this,"TransformEncodeError")}constructor(e,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=e,this.path=r,this.value=n,this.error=i}};function Sa(t,e,r){try{return Jn(t)?t[ao].Encode(r):r}catch(n){throw new xW(t,e,r,n)}}o(Sa,"Default");function n$e(t,e,r,n){let i=Sa(t,r,n);return cr(i)?i.map((s,a)=>af(t.items,e,`${r}/${a}`,s)):i}o(n$e,"FromArray");function i$e(t,e,r,n){let i=globalThis.Object.values(t.$defs),s=t.$defs[t.$ref],a=Sa(t,r,n);return af(s,[...e,...i],r,a)}o(i$e,"FromImport");function o$e(t,e,r,n){let i=Sa(t,r,n);if(!Xr(n)||Sc(n))return i;let s=YB(t),a=s.map(h=>h[0]),c={...i};for(let[h,A]of s)h in c&&(c[h]=af(A,e,`${r}/${h}`,c[h]));if(!Jn(t.unevaluatedProperties))return c;let l=Object.getOwnPropertyNames(c),f=t.unevaluatedProperties,d={...c};for(let h of l)a.includes(h)||(d[h]=Sa(f,`${r}/${h}`,d[h]));return d}o(o$e,"FromIntersect");function s$e(t,e,r,n){return Sa(t.not,r,Sa(t,r,n))}o(s$e,"FromNot");function a$e(t,e,r,n){let i=Sa(t,r,n);if(!Xr(i))return i;let s=q0(t),a={...i};for(let d of s)ar(a,d)&&(Yi(a[d])&&(!Zh(t.properties[d])||Ni.IsExactOptionalProperty(a,d))||(a[d]=af(t.properties[d],e,`${r}/${d}`,a[d])));if(!co(t.additionalProperties))return a;let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,f={...a};for(let d of c)s.includes(d)||(f[d]=Sa(l,`${r}/${d}`,f[d]));return f}o(a$e,"FromObject");function c$e(t,e,r,n){let i=Sa(t,r,n);if(!Xr(n))return i;let s=Object.getOwnPropertyNames(t.patternProperties)[0],a=new RegExp(s),c={...i};for(let h of Object.getOwnPropertyNames(n))a.test(h)&&(c[h]=af(t.patternProperties[s],e,`${r}/${h}`,c[h]));if(!co(t.additionalProperties))return c;let l=Object.getOwnPropertyNames(c),f=t.additionalProperties,d={...c};for(let h of l)a.test(h)||(d[h]=Sa(f,`${r}/${h}`,d[h]));return d}o(c$e,"FromRecord");function l$e(t,e,r,n){let i=qn(t,e),s=af(i,e,r,n);return Sa(t,r,s)}o(l$e,"FromRef");function u$e(t,e,r,n){let i=qn(t,e),s=af(i,e,r,n);return Sa(t,r,s)}o(u$e,"FromThis");function f$e(t,e,r,n){let i=Sa(t,r,n);return cr(t.items)?t.items.map((s,a)=>af(s,e,`${r}/${a}`,i[a])):[]}o(f$e,"FromTuple");function d$e(t,e,r,n){for(let i of t.anyOf){if(!sn(i,e,n))continue;let s=af(i,e,r,n);return Sa(t,r,s)}for(let i of t.anyOf){let s=af(i,e,r,n);if(sn(t,e,s))return Sa(t,r,s)}return Sa(t,r,n)}o(d$e,"FromUnion");function af(t,e,r,n){let i=Ks(t,e),s=t;switch(t[Me]){case"Array":return n$e(s,i,r,n);case"Import":return i$e(s,i,r,n);case"Intersect":return o$e(s,i,r,n);case"Not":return s$e(s,i,r,n);case"Object":return a$e(s,i,r,n);case"Record":return c$e(s,i,r,n);case"Ref":return l$e(s,i,r,n);case"This":return u$e(s,i,r,n);case"Tuple":return f$e(s,i,r,n);case"Union":return d$e(s,i,r,n);default:return Sa(s,r,n)}}o(af,"Visit");function Ab(t,e,r){return af(t,e,"",r)}o(Ab,"TransformEncode");u();function h$e(t,e){return Jn(t)||Ds(t.items,e)}o(h$e,"FromArray");function A$e(t,e){return Jn(t)||Ds(t.items,e)}o(A$e,"FromAsyncIterator");function p$e(t,e){return Jn(t)||Ds(t.returns,e)||t.parameters.some(r=>Ds(r,e))}o(p$e,"FromConstructor");function m$e(t,e){return Jn(t)||Ds(t.returns,e)||t.parameters.some(r=>Ds(r,e))}o(m$e,"FromFunction");function g$e(t,e){return Jn(t)||Jn(t.unevaluatedProperties)||t.allOf.some(r=>Ds(r,e))}o(g$e,"FromIntersect");function y$e(t,e){let r=globalThis.Object.getOwnPropertyNames(t.$defs).reduce((i,s)=>[...i,t.$defs[s]],[]),n=t.$defs[t.$ref];return Jn(t)||Ds(n,[...r,...e])}o(y$e,"FromImport");function C$e(t,e){return Jn(t)||Ds(t.items,e)}o(C$e,"FromIterator");function E$e(t,e){return Jn(t)||Ds(t.not,e)}o(E$e,"FromNot");function I$e(t,e){return Jn(t)||Object.values(t.properties).some(r=>Ds(r,e))||co(t.additionalProperties)&&Ds(t.additionalProperties,e)}o(I$e,"FromObject");function v$e(t,e){return Jn(t)||Ds(t.item,e)}o(v$e,"FromPromise");function b$e(t,e){let r=Object.getOwnPropertyNames(t.patternProperties)[0],n=t.patternProperties[r];return Jn(t)||Ds(n,e)||co(t.additionalProperties)&&Jn(t.additionalProperties)}o(b$e,"FromRecord");function x$e(t,e){return Jn(t)?!0:Ds(qn(t,e),e)}o(x$e,"FromRef");function T$e(t,e){return Jn(t)?!0:Ds(qn(t,e),e)}o(T$e,"FromThis");function _$e(t,e){return Jn(t)||!Yi(t.items)&&t.items.some(r=>Ds(r,e))}o(_$e,"FromTuple");function S$e(t,e){return Jn(t)||t.anyOf.some(r=>Ds(r,e))}o(S$e,"FromUnion");function Ds(t,e){let r=Ks(t,e),n=t;if(t.$id&&TW.has(t.$id))return!1;switch(t.$id&&TW.add(t.$id),t[Me]){case"Array":return h$e(n,r);case"AsyncIterator":return A$e(n,r);case"Constructor":return p$e(n,r);case"Function":return m$e(n,r);case"Import":return y$e(n,r);case"Intersect":return g$e(n,r);case"Iterator":return C$e(n,r);case"Not":return E$e(n,r);case"Object":return I$e(n,r);case"Promise":return v$e(n,r);case"Record":return b$e(n,r);case"Ref":return x$e(n,r);case"This":return T$e(n,r);case"Tuple":return _$e(n,r);case"Union":return S$e(n,r);default:return Jn(t)}}o(Ds,"Visit");var TW=new Set;function QA(t,e){return TW.clear(),Ds(t,e)}o(QA,"HasTransform");function xpe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!sn(e,r,n))throw new fb(e,n,Ud(e,r,n).First());return QA(e,r)?db(e,r,n):n}o(xpe,"Decode");u();function PA(t,e){let r=ar(t,"default")?t.default:void 0,n=wm(r)?r():Gn(r);return Yi(e)?n:Xr(e)&&Xr(n)?Object.assign(n,e):e}o(PA,"ValueOrDefault");function _W(t){return Rm(t)&&"default"in t}o(_W,"HasDefaultProperty");function w$e(t,e,r){if(cr(r)){for(let i=0;i<r.length;i++)r[i]=I0(t.items,e,r[i]);return r}let n=PA(t,r);if(!cr(n))return n;for(let i=0;i<n.length;i++)n[i]=I0(t.items,e,n[i]);return n}o(w$e,"FromArray");function B$e(t,e,r){return l0(r)?r:PA(t,r)}o(B$e,"FromDate");function R$e(t,e,r){let n=globalThis.Object.values(t.$defs),i=t.$defs[t.$ref];return I0(i,[...e,...n],r)}o(R$e,"FromImport");function k$e(t,e,r){let n=PA(t,r);return t.allOf.reduce((i,s)=>{let a=I0(s,e,n);return Xr(a)?{...i,...a}:a},{})}o(k$e,"FromIntersect");function D$e(t,e,r){let n=PA(t,r);if(!Xr(n))return n;let i=Object.getOwnPropertyNames(t.properties);for(let s of i){let a=I0(t.properties[s],e,n[s]);Yi(a)||(n[s]=I0(t.properties[s],e,n[s]))}if(!_W(t.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=I0(t.additionalProperties,e,n[s]));return n}o(D$e,"FromObject");function N$e(t,e,r){let n=PA(t,r);if(!Xr(n))return n;let i=t.additionalProperties,[s,a]=Object.entries(t.patternProperties)[0],c=new RegExp(s);for(let l of Object.getOwnPropertyNames(n))c.test(l)&&_W(a)&&(n[l]=I0(a,e,n[l]));if(!_W(i))return n;for(let l of Object.getOwnPropertyNames(n))c.test(l)||(n[l]=I0(i,e,n[l]));return n}o(N$e,"FromRecord");function Q$e(t,e,r){return I0(qn(t,e),e,PA(t,r))}o(Q$e,"FromRef");function P$e(t,e,r){return I0(qn(t,e),e,r)}o(P$e,"FromThis");function F$e(t,e,r){let n=PA(t,r);if(!cr(n)||Yi(t.items))return n;let[i,s]=[t.items,Math.max(t.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=I0(i[a],e,n[a]));return n}o(F$e,"FromTuple");function L$e(t,e,r){let n=PA(t,r);for(let i of t.anyOf){let s=I0(i,e,Gn(n));if(sn(i,e,s))return s}return n}o(L$e,"FromUnion");function I0(t,e,r){let n=Ks(t,e),i=t;switch(i[Me]){case"Array":return w$e(i,n,r);case"Date":return B$e(i,n,r);case"Import":return R$e(i,n,r);case"Intersect":return k$e(i,n,r);case"Object":return D$e(i,n,r);case"Record":return N$e(i,n,r);case"Ref":return Q$e(i,n,r);case"This":return P$e(i,n,r);case"Tuple":return F$e(i,n,r);case"Union":return L$e(i,n,r);default:return PA(i,r)}}o(I0,"Visit");function Ok(...t){return t.length===3?I0(t[0],t[1],t[2]):I0(t[0],[],t[1])}o(Ok,"Default");u();u();var cf={};Eo(cf,{Delete:()=>O$e,Format:()=>E3,Get:()=>H$e,Has:()=>U$e,Set:()=>M$e,ValuePointerRootDeleteError:()=>Hk,ValuePointerRootSetError:()=>Uk});u();var Uk=class extends lr{static{o(this,"ValuePointerRootSetError")}constructor(e,r,n){super("Cannot set root value"),this.value=e,this.path=r,this.update=n}},Hk=class extends lr{static{o(this,"ValuePointerRootDeleteError")}constructor(e,r){super("Cannot delete root value"),this.value=e,this.path=r}};function Tpe(t){return t.indexOf("~")===-1?t:t.replace(/~1/g,"/").replace(/~0/g,"~")}o(Tpe,"Escape");function*E3(t){if(t==="")return;let[e,r]=[0,0];for(let n=0;n<t.length;n++)t.charAt(n)==="/"?(n===0||(r=n,yield Tpe(t.slice(e,r))),e=n+1):r=n;yield Tpe(t.slice(e))}o(E3,"Format");function M$e(t,e,r){if(e==="")throw new Uk(t,e,r);let[n,i,s]=[null,t,""];for(let a of E3(e))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(M$e,"Set");function O$e(t,e){if(e==="")throw new Hk(t,e);let[r,n,i]=[null,t,""];for(let s of E3(e)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(O$e,"Delete");function U$e(t,e){if(e==="")return!0;let[r,n,i]=[null,t,""];for(let s of E3(e)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(U$e,"Has");function H$e(t,e){if(e==="")return t;let r=t;for(let n of E3(e)){if(r[n]===void 0)return;r=r[n]}return r}o(H$e,"Get");u();function q$e(t,e){if(!Xr(e))return!1;let r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];return r.length!==n.length?!1:r.every(i=>KC(t[i],e[i]))}o(q$e,"ObjectType");function G$e(t,e){return l0(e)&&t.getTime()===e.getTime()}o(G$e,"DateType");function V$e(t,e){return!cr(e)||t.length!==e.length?!1:t.every((r,n)=>KC(r,e[n]))}o(V$e,"ArrayType");function W$e(t,e){return!xl(e)||t.length!==e.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(e).constructor.name?!1:t.every((r,n)=>KC(r,e[n]))}o(W$e,"TypedArrayType");function Y$e(t,e){return t===e}o(Y$e,"ValueType");function KC(t,e){if(l0(t))return G$e(t,e);if(xl(t))return W$e(t,e);if(cr(t))return V$e(t,e);if(Xr(t))return q$e(t,e);if(Sc(t))return Y$e(t,e);throw new Error("ValueEquals: Unable to compare value")}o(KC,"Equal");var $$e=Zn({type:bn("insert"),path:f0(),value:Gu()}),z$e=Zn({type:bn("update"),path:f0(),value:Gu()}),j$e=Zn({type:bn("delete"),path:f0()}),Spe=Xn([$$e,z$e,j$e]),qk=class extends lr{static{o(this,"ValueDiffError")}constructor(e,r){super(r),this.value=e}};function Gk(t,e){return{type:"update",path:t,value:e}}o(Gk,"CreateUpdate");function wpe(t,e){return{type:"insert",path:t,value:e}}o(wpe,"CreateInsert");function Bpe(t){return{type:"delete",path:t}}o(Bpe,"CreateDelete");function _pe(t){if(globalThis.Object.getOwnPropertySymbols(t).length>0)throw new qk(t,"Cannot diff objects with symbols")}o(_pe,"AssertDiffable");function*K$e(t,e,r){if(_pe(e),_pe(r),!MM(r))return yield Gk(t,r);let n=globalThis.Object.getOwnPropertyNames(e),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)ar(e,s)||(yield wpe(`${t}/${s}`,r[s]));for(let s of n)ar(r,s)&&(KC(e,r)||(yield*Vk(`${t}/${s}`,e[s],r[s])));for(let s of n)ar(r,s)||(yield Bpe(`${t}/${s}`))}o(K$e,"ObjectType");function*J$e(t,e,r){if(!cr(r))return yield Gk(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*Vk(`${t}/${n}`,e[n],r[n]);for(let n=0;n<r.length;n++)n<e.length||(yield wpe(`${t}/${n}`,r[n]));for(let n=e.length-1;n>=0;n--)n<r.length||(yield Bpe(`${t}/${n}`))}o(J$e,"ArrayType");function*X$e(t,e,r){if(!xl(r)||e.length!==r.length||globalThis.Object.getPrototypeOf(e).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield Gk(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*Vk(`${t}/${n}`,e[n],r[n])}o(X$e,"TypedArrayType");function*Z$e(t,e,r){e!==r&&(yield Gk(t,r))}o(Z$e,"ValueType");function*Vk(t,e,r){if(MM(e))return yield*K$e(t,e,r);if(cr(e))return yield*J$e(t,e,r);if(xl(e))return yield*X$e(t,e,r);if(Sc(e))return yield*Z$e(t,e,r);throw new qk(e,"Unable to diff value")}o(Vk,"Visit");function Rpe(t,e){return[...Vk("",t,e)]}o(Rpe,"Diff");function eze(t){return t.length>0&&t[0].path===""&&t[0].type==="update"}o(eze,"IsRootUpdate");function tze(t){return t.length===0}o(tze,"IsIdentity");function kpe(t,e){if(eze(e))return Gn(e[0].value);if(tze(e))return Gn(t);let r=Gn(t);for(let n of e)switch(n.type){case"insert":{cf.Set(r,n.path,n.value);break}case"update":{cf.Set(r,n.path,n.value);break}case"delete":{cf.Delete(r,n.path);break}}return r}o(kpe,"Patch");u();function Dpe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],i=QA(e,r)?Ab(e,r,n):n;if(!sn(e,r,i))throw new hb(e,i,Ud(e,r,i).First());return i}o(Dpe,"Encode");u();function Wk(t){return Xr(t)&&!cr(t)}o(Wk,"IsStandardObject");var Yk=class extends lr{static{o(this,"ValueMutateError")}constructor(e){super(e)}};function rze(t,e,r,n){if(!Wk(r))cf.Set(t,e,Gn(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)SW(t,`${e}/${a}`,r[a],n[a])}}o(rze,"ObjectType");function nze(t,e,r,n){if(!cr(r))cf.Set(t,e,Gn(n));else{for(let i=0;i<n.length;i++)SW(t,`${e}/${i}`,r[i],n[i]);r.splice(n.length)}}o(nze,"ArrayType");function ize(t,e,r,n){if(xl(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else cf.Set(t,e,Gn(n))}o(ize,"TypedArrayType");function oze(t,e,r,n){r!==n&&cf.Set(t,e,n)}o(oze,"ValueType");function SW(t,e,r,n){if(cr(n))return nze(t,e,r,n);if(xl(n))return ize(t,e,r,n);if(Wk(n))return rze(t,e,r,n);if(Sc(n))return oze(t,e,r,n)}o(SW,"Visit");function Npe(t){return xl(t)||Sc(t)}o(Npe,"IsNonMutableValue");function sze(t,e){return Wk(t)&&cr(e)||cr(t)&&Wk(e)}o(sze,"IsMismatchedValue");function Qpe(t,e){if(Npe(t)||Npe(e))throw new Yk("Only object and array types can be mutated at the root level");if(sze(t,e))throw new Yk("Cannot assign due type mismatch of assignable values");SW(t,"",t,e)}o(Qpe,"Mutate");u();var $k=class extends lr{static{o(this,"ParseError")}constructor(e){super(e)}},wW;(function(t){let e=new Map([["Assert",(s,a,c)=>(Qk(s,a,c),c)],["Cast",(s,a,c)=>g3(s,a,c)],["Clean",(s,a,c)=>Fk(s,a,c)],["Clone",(s,a,c)=>Gn(c)],["Convert",(s,a,c)=>Mk(s,a,c)],["Decode",(s,a,c)=>QA(s,a)?db(s,a,c):c],["Default",(s,a,c)=>Ok(s,a,c)],["Encode",(s,a,c)=>QA(s,a)?Ab(s,a,c):c]]);function r(s){e.delete(s)}o(r,"Delete"),t.Delete=r;function n(s,a){e.set(s,a)}o(n,"Set"),t.Set=n;function i(s){return e.get(s)}o(i,"Get"),t.Get=i})(wW||(wW={}));var Ppe=["Clone","Clean","Default","Convert","Assert","Decode"];function aze(t,e,r,n){return t.reduce((i,s)=>{let a=wW.Get(s);if(Yi(a))throw new $k(`Unable to find Parse operation '${s}'`);return a(e,r,i)},n)}o(aze,"ParseValue");function Fpe(...t){let[e,r,n,i]=t.length===4?[t[0],t[1],t[2],t[3]]:t.length===3?cr(t[0])?[t[0],t[1],[],t[2]]:[Ppe,t[0],t[1],t[2]]:t.length===2?[Ppe,t[0],[],t[1]]:(()=>{throw new $k("Invalid Arguments")})();return aze(e,r,n,i)}o(Fpe,"Parse");u();var Ng={};Eo(Ng,{Assert:()=>Qk,Cast:()=>g3,Check:()=>sn,Clean:()=>Fk,Clone:()=>Gn,Convert:()=>Mk,Create:()=>Yl,Decode:()=>xpe,Default:()=>Ok,Diff:()=>Rpe,Edit:()=>Spe,Encode:()=>Dpe,Equal:()=>KC,Errors:()=>Ud,Hash:()=>kg,Mutate:()=>Qpe,Parse:()=>Fpe,Patch:()=>kpe,ValueErrorIterator:()=>Dg});u();var cze="gpt-4o-copilot",JC=class t{constructor(e,r=!0){this._ctx=e;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&ma(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(e){await this.refreshModels(e);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(e){this.onModelsFetchedCallbacks.push(e)}getDefaultModelId(){if(this.fetchedModelData){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(e)return e.id}return cze}parseModelsResponse(e){try{return Ng.Parse(jAe,e)}catch(r){hs.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(e){let r=await this.fetchModels(e);r&&(this.fetchedModelData=r)}async fetchModels(e){return this.customModels=e.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=e.getTokenValue("editor_preview_features")=="0",await this.fetch()}async fetch(){let e=await nW(this._ctx,"/models");return e.ok?this.parseModelsResponse(await e.json())?.data??[]:(hs.error(this._ctx,"Failed to fetch models from CAPI",{status:e.status,statusText:e.statusText}),null)}getGenericCompletionModels(){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return t.mapCompletionModels(e)}getTokenizerForModel(e){let n=this.getGenericCompletionModels().find(i=>i.modelId===e);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(e,r){return e.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(e,r){return e.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(e){return e.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(e=void 0){let r=this.getDefaultModelId(),n=KAe(this._ctx);if(n){let c=this.getGenericCompletionModels().map(l=>l.modelId);c.includes(n)||(c.length>0&&hs.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${c.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=Jo(this._ctx,Ft.DebugOverrideEngine)||Jo(this._ctx,Ft.DebugOverrideEngineLegacy);if(i)return new Qg(i,"override");let s=e?this._ctx.get(Zr).customEngine(e):"",a=e?this._ctx.get(Zr).customEngineTargetEngine(e):void 0;return n?s&&a&&n===a?new Qg(s,"exp"):new Qg(n,"modelpicker"):s?new Qg(s,"exp"):this.customModels.length>0?new Qg(this.customModels[0],"custommodel"):new Qg(r,"default")}},Qg=class{constructor(e,r){this.modelId=e;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function I3(t,e=void 0){let r=t.get(JC),n=r.getCurrentModelRequestInfo(e),i=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:i}}o(I3,"getEngineRequestInfo");u();u();var Zs=class{static{o(this,"FileSystem")}};var eme=yt(Zpe());function tme(t){if(t===void 0||t===0)return"";let e=v3(t);if(e==="github/github")return e;let r=Qze(t)?.toLowerCase();return r!==void 0?r:""}o(tme,"getDogFood");function v3(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}o(v3,"tryGetGitHubNWO");function Qze(t){if(t!==void 0&&t!==0&&(t.hostname.endsWith("azure.com")||t.hostname.endsWith("visualstudio.com")))return t.owner+"/"+t.repo}o(Qze,"tryGetADONWO");function DW(t,e){let r=cA(e);return Pze(t,r)}o(DW,"extractRepoInfoInBackground");var Pze=Uze(Fze,1e4);async function Fze(t,e){let r=Gae(e);if(!r)return;let n=await Mze(t,r);if(!n)return;let i=t.get(Zs),s=Ws(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let c=Oze(a)??"",l=Lze(c),f={uri:n};return l===void 0?{baseFolder:f,url:c,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:f,url:c,...l}}o(Fze,"extractRepoInfo");function Lze(t){let e;try{if(e=(0,eme.default)(t),e.resource==""||e.owner==""||e.name==""||e.pathname=="")return}catch{return}return{hostname:e.resource,owner:e.owner,repo:e.name,pathname:e.pathname}}o(Lze,"parseRepoUrl");async function Mze(t,e){let r=e+"_add_to_make_longer",n=t.get(Zs);for(;e!=="file:///"&&e.length<r.length;){let i=Ws(e,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return e;r=e,e=cA(e)}}o(Mze,"getRepoBaseUri");function Oze(t){let e=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,c=!1;for(let l of t.split(`
`))if(c&&s!==void 0){if(s+=l,l.endsWith("\\"))s=s.substring(0,s.length-1);else if(c=!1,a==="origin")return s}else{let f=l.match(e)??l.match(r);if(f)a=f[1];else if(l.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let d=l.match(n);if(d){if(s=d[1],s.endsWith("\\"))s=s.substring(0,s.length-1),c=!0;else if(a==="origin")return s}}}}return s}o(Oze,"getRepoUrlFromConfigText");var kW=class{static{o(this,"CompletedComputation")}constructor(e){this.result=e}};function Uze(t,e){let r=new Tn(e),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),c=r.get(a);if(c)return c.result;if(n.has(a))return 0;let l=t(i,...s);return n.add(a),l.then(f=>{r.set(a,new kW(f)),n.delete(a)}),0}}o(Uze,"computeInBackgroundAndMemoize");u();var b3=500,rme=8192-b3,nme=4,pb=10,ime=15,ome=35,Hze={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function x3(t){return t=t.toLowerCase(),Hze[t]??t}o(x3,"normalizeLanguageId");var NW=class{constructor(e){this.ctx=e;this.cache=new Tn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(e,r){let n=e.stringify()+`
`+JSON.stringify(r),i=this.cache.get(n);return i||(i=new QW(()=>this.ctx.get(zy).fetchExperiments(this.ctx,r,e.toHeaders()),1e3*60*60),this.cache.set(n,i)),i.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},QW=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Gze(t){return"uri"in t}o(Gze,"isCompletionsFiltersInfo");var Zr=class t{constructor(e){this.ctx=e;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new NW(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}registerDynamicFilterGroup(e){this.dynamicFilterGroups.push(e)}getDynamicFilterValues(){let e={};for(let r of this.dynamicFilterGroups)Object.assign(e,r());for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}registerUpcomingDynamicFilter(e,r){this.upcomingDynamicFilters[e]=r}async updateExPValuesAndAssignments(e,r=rn.createAndMarkAsIssued(),n=void 0){if(r instanceof T3)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=e&&Gze(e)?DW(this.ctx,e.uri):void 0,s=v3(i)??"",a=tme(i)??"",c=e?.languageId??"",l=I3(this.ctx).modelId;n??=await this.ctx.get(ya).getToken();let f=vse(n),d=n.getTokenValue("ft")??"",h=n.getTokenValue("ol")??"",A=n.getTokenValue("cml")??"",g=n.getTokenValue("tid")??"",y=n.endpoints,v={"X-Copilot-Repository":s,"X-Copilot-FileType":c,"X-Copilot-UserKind":f,"X-Copilot-Dogfood":a,"X-Copilot-Engine":l,"X-Copilot-CustomModel":d,"X-Copilot-Orgs":h,"X-Copilot-CustomModelNames":A,"X-Copilot-CopilotTrackingId":g},_=this.getGranularityDirectory(),T=this.makeFilterSettings(v),S=_.extendFilters(T),D=await this.getExpConfig(S.newFilterSettings,y);_.update(T,+(D.variables.copilotbycallbuckets??NaN),+(D.variables.copilottimeperiodsizeinh??NaN));let Q=_.extendFilters(T),k=Q.newFilterSettings,P=await this.getExpConfig(k,y),W=new Promise(re=>setTimeout(re,t.upcomingDynamicFilterCheckDelayMs));for(let re of Q.otherFilterSettingsToPrefetch)W=W.then(async()=>{await new Promise(ye=>setTimeout(ye,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(re,y)});return this.prepareForUpcomingFilters(k,y),new T3(r.properties,r.measurements,r.issuedTime,{filters:k,exp:P})}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.ctx.get(Vs).machineId;this.granularityDirectory=new V9(e,this.ctx.get($y))}return this.granularityDirectory}makeFilterSettings(e){return new jy({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e,r){try{return this.assignments.fetchExpConfig(e,r)}catch(n){return zu.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(e,r){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[n,i]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(n,i()),r)}stringify(){let e=this.assignments.getCachedExpConfig(new jy({}));return JSON.stringify(e?.variables??{})}async getFallbackExpAndFilters(){let e=this.makeFilterSettings({}),r=M9(this.ctx),n=await this.getExpConfig(e,r);return{filters:e,exp:n}}disableLogProb(e){return e.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(e){return e.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(e){return e.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(e){return e.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(e){return e.filtersAndExp.exp.variables.CopilotSuffixPercent??ime}suffixMatchThreshold(e){return e.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??pb}cppHeadersEnableSwitch(e){return e.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(e){let r=e.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(e){return e.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(e){return e.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(e){return e.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(e){return e.filtersAndExp.exp.variables.maxpromptcompletionTokens??rme+b3}ideChatMaxRequestTokens(e){return e.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(e){return e.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(e){return e.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextPercent(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextpercent??ome}cppContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(e){return e.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(e){return e.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(e){return e.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(e){return e.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(e){return e.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(e){return e.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(e){return e.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}multilineAfterAcceptLines(e){return e.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(e){return e.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(e){return e.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(e){return e.filtersAndExp.exp.variables.copilotcompletionsdelay??0}singleLineUnlessAccepted(e){return e.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}};u();u();var Kk=yt(jk());var FW={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function _3(t){return t in FW&&t!=="csharp"&&t!=="java"&&t!=="php"&&t!=="c"&&t!=="cpp"}o(_3,"isSupportedLanguageId");function sme(t){if(!(t in FW))throw new Error(`Unrecognized language: ${t}`);return FW[t]}o(sme,"languageIdToWasmLanguage");var PW=new Map;async function Vze(t){let e;try{e=await Tk(`tree-sitter-${t}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new ab(`Could not load tree-sitter-${t}.wasm`,r):r}return Kk.default.Language.load(e)}o(Vze,"loadWasmLanguage");function MW(t){let e=sme(t);if(!PW.has(e)){let r=Vze(e);PW.set(e,r)}return PW.get(e)}o(MW,"getLanguage");var LW=class extends Error{static{o(this,"WrappedError")}constructor(e,r){super(e,{cause:r})}};async function XC(t,e){await Kk.default.init({locateFile:o(s=>iW(s),"locateFile")});let r;try{r=new Kk.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new LW(`Could not init Parse for language <${t}>`,s):s}let n=await MW(t);r.setLanguage(n);let i=r.parse(e);return r.delete(),i}o(XC,"parseTreeSitter");function Wze(t,e){let r=[];for(let n of t){if(!n[1]){let i=e.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(e))}return r}o(Wze,"innerQuery");var Yze=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function ame(t){return Wze([Yze],t).length==1}o(ame,"queryPythonIsDocstring");var Hd=class{constructor(e){this.node=e;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(e){e.parent=this,e.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=e),this.children.push(e)}childrenFinished(){}containsStatement(e){return this.node.startIndex<=e.node.startIndex&&this.node.endIndex>=e.node.endIndex}statementAt(e){if(this.node.startIndex>e||this.node.endIndex<e)return;let r;return this.children.find(n=>(r=n.statementAt(e),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(e="",r=""){let n=[`${e}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(e="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(e,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),c=n?`
${r}${a}+- `:"";return i+this.description+c}else{let i=n?`
${r}+- `:"";return e+this.description+i}}},jc=class{constructor(e,r,n,i){this.languageId=e;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(e){return S3.languageIds.has(e)||w3.languageIds.has(e)||B3.languageIds.has(e)||R3.languageIds.has(e)||k3.languageIds.has(e)||D3.languageIds.has(e)||N3.languageIds.has(e)||Q3.languageIds.has(e)}static create(e,r,n,i){if(S3.languageIds.has(e))return new S3(e,r,n,i);if(w3.languageIds.has(e))return new w3(e,r,n,i);if(B3.languageIds.has(e))return new B3(e,r,n,i);if(D3.languageIds.has(e))return new D3(e,r,n,i);if(R3.languageIds.has(e))return new R3(e,r,n,i);if(k3.languageIds.has(e))return new k3(e,r,n,i);if(N3.languageIds.has(e))return new N3(e,r,n,i);if(Q3.languageIds.has(e))return new Q3(e,r,n,i);throw new Error(`Unsupported languageId: ${e}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(e){let r;return this.statements.find(n=>(r=n.statementAt(e),r!==void 0)),r}async build(){let e=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;e.length>0&&!e[0].containsStatement(s);)e.shift()?.childrenFinished();e.length>0?e[0].addChild(s):this.addStatement(s),e.unshift(s)}),e.forEach(i=>i.childrenFinished())}addStatement(e){e.parent=void 0,e.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=e),this.statements.push(e)}async parse(){return this.tree||(this.tree=await XC(this.languageId,this.text)),this.tree}getStatementQuery(e){return this.getQuery(e.getLanguage(),this.getStatementQueryText())}getQuery(e,r){return e.query(r)}offsetToPosition(e){let r=this.text.slice(0,e).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(e=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${e} ${s} `,`${e} ${a} `))}),r.join(`
`)}},OW=class t extends Hd{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},S3=class extends jc{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(e){return new OW(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},UW=class t extends Hd{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},w3=class extends jc{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(e){return new UW(e)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},HW=class t extends Hd{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},B3=class extends jc{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(e){return new HW(e)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},qW=class t extends Hd{static{o(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},R3=class extends jc{static{o(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(e){return new qW(e)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},GW=class t extends Hd{static{o(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},k3=class extends jc{static{o(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(e){return new GW(e)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},VW=class t extends Hd{static{o(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},D3=class extends jc{static{o(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(e){return new VW(e)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},WW=class t extends Hd{static{o(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},N3=class extends jc{static{o(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(e){return new WW(e)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},YW=class t extends Hd{static{o(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},Q3=class extends jc{static{o(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(e){return new YW(e)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};u();var aIr=X.Object({proxy:X.Optional(X.String()),proxyStrictSSL:X.Optional(X.Boolean()),proxyAuthorization:X.Optional(X.String()),proxyKerberosServicePrincipal:X.Optional(X.String())});var mb={};Eo(mb,{activationEvents:()=>dje,badges:()=>fje,browser:()=>hje,bugs:()=>nje,build:()=>Jze,buildType:()=>Xze,categories:()=>lje,contributes:()=>$W,default:()=>Eje,dependencies:()=>yje,description:()=>jze,devDependencies:()=>gje,displayName:()=>zze,enabledApiProposals:()=>pje,engines:()=>cje,extensionPack:()=>aje,homepage:()=>tje,icon:()=>oje,keywords:()=>uje,license:()=>rje,main:()=>Aje,name:()=>$ze,overrides:()=>Cje,preview:()=>eje,pricing:()=>sje,publisher:()=>Zze,qna:()=>ije,scripts:()=>mje,version:()=>Kze});var $ze="copilot",zze="GitHub Copilot",jze="Your AI pair programmer",Kze="1.350.0",Jze="1705",Xze="prod",Zze="GitHub",eje=!1,tje="https://github.com/features/copilot?editor=vscode",rje="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",nje={url:"https://github.com/microsoft/vscode/issues"},ije="https://github.com/github-community/community/discussions/categories/copilot",oje="assets/Copilot-App-Icon.png",sje="Trial",aje=["GitHub.copilot-chat","GitHub.copilot"],cje={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},lje=["AI","Chat","Programming Languages","Machine Learning"],uje=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],fje=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],dje=["onStartupFinished"],hje="./dist/web",Aje="./dist/extension",pje=["inlineCompletionsAdditions"],$W={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},mje={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},gje={"@azure/identity":"^4.10.1","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.15.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.6.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.0",electron:"^28.1.4",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},yje={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Cje={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Eje={name:$ze,displayName:zze,description:jze,version:Kze,build:Jze,buildType:Xze,publisher:Zze,preview:eje,homepage:tje,license:rje,bugs:nje,qna:ije,icon:oje,pricing:sje,extensionPack:aje,engines:cje,categories:lje,keywords:uje,badges:fje,activationEvents:dje,browser:hje,main:Aje,enabledApiProposals:pje,contributes:$W,scripts:mje,devDependencies:gje,dependencies:yje,overrides:Cje};var Ft={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",CompletionsDelay:"internal.completionsDelay",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",CompletionsDebounce:"internal.completionsDebounce",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};var yb=class{static{o(this,"BlockModeConfig")}},Jk=class extends yb{static{o(this,"ConfigBlockModeConfig")}forLanguage(e,r,n){let i=e.get(Zr).overrideBlockMode(n);if(i)return cme(i,r);let s=e.get(Zr).enableProgressiveReveal(n);return Jo(e,Ft.AlwaysRequestMultiline)??s?cme("moremultiline",r):r=="ruby"?"parsing":_3(r)?"parsingandserver":"server"}};function Ije(t){return["parsing","parsingandserver","moremultiline"].includes(t)}o(Ije,"blockModeRequiresTreeSitter");function cme(t,e){return t==="moremultiline"&&jc.isSupported(e)?t:Ije(t)&&!_3(e)?"server":t}o(cme,"toApplicableBlockMode");var $l=class{static{o(this,"ConfigProvider")}},Xk=class extends $l{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(e){return bje(e)}getOptionalConfig(e){return xje(e)}dumpForTelemetry(){return{}}getHttpSettings(){return{proxy:""}}onDidChangeHttpSettings(e){return{dispose:o(()=>{},"dispose")}}};function vje(t){return t?.type==="object"&&"properties"in t}o(vje,"isContributesObject");function bje(t){if(gb.has(t))return gb.get(t);throw new Error(`Missing config default value: ${MT}.${t}`)}o(bje,"getConfigDefaultForKey");function xje(t){return gb.get(t)}o(xje,"getOptionalConfigDefaultForKey");var gb=new Map([[Ft.DebugOverrideCppHeadersEnableSwitch,!1],[Ft.RelatedFilesVSCodeCSharp,!1],[Ft.RelatedFilesVSCodeTypeScript,!1],[Ft.RelatedFilesVSCode,!1],[Ft.IncludeNeighboringFiles,!1],[Ft.ExcludeRelatedFiles,!1],[Ft.ContextProviders,[]],[Ft.DebugUseEditorFetcher,null],[Ft.DebugUseElectronFetcher,null],[Ft.DebugOverrideLogLevels,{}],[Ft.DebugSnippyOverrideUrl,""],[Ft.FetchStrategy,"auto"],[Ft.UseSubsetMatching,null],[Ft.ContextProviderTimeBudget,void 0],[Ft.DebugOverrideCapiUrl,""],[Ft.DebugTestOverrideCapiUrl,""],[Ft.DebugOverrideProxyUrl,""],[Ft.DebugTestOverrideProxyUrl,""],[Ft.DebugOverrideEngine,""],[Ft.AlwaysRequestMultiline,void 0],[Ft.ModelAlwaysTerminatesSingleline,void 0],[Ft.TrimCompletionsAggressively,void 0],[Ft.CompletionsDebounce,void 0],[Ft.NESXTab,void 0],[Ft.UseWorkspaceContextCoordinator,void 0],[Ft.ShowWorkspaceContextDebugger,!1],[Ft.CompletionsDelay,void 0],[Ft.UseSplitContextPrompt,void 0],[Ft.UseCompletionsComparisonPanel,!1],[Ft.ComparisonPanelModelIds,["gpt-4o-copilot","chat-v6"]],[Ft.ComparisonPanelRandomizedMode,!1],[Ft.ShowEditorCompletions,void 0],[Ft.EnableAutoCompletions,void 0],[Ft.DelayCompletions,void 0],[Ft.FilterCompletions,void 0]]);for(let t of Object.values(Ft)){let e=$W.configuration[0],r=[],n=`${MT}.${t}`.split(".");for(;n.length>0;){r.push(n.shift());let i=e.properties[r.join(".")];if(vje(i))r.length=0,e=i;else if(n.length==0&&i?.default!==void 0){if(gb.has(t))throw new Error(`Duplicate config default value ${MT}.${t}`);gb.set(t,i.default)}}if(!gb.has(t))throw new Error(`Missing config default value ${MT}.${t}`)}function Jo(t,e){return t.get($l).getConfig(e)}o(Jo,"getConfig");function lme(t){return t.get($l).dumpForTelemetry()}o(lme,"dumpForTelemetry");var ga=class{constructor(){this.packageJson=mb}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function eH(t){return t.get(ga).isProduction()}o(eH,"isProduction");function rH(t){return t.get(ga).getBuildType()}o(rH,"getBuildType");function ume(t){return t.get(ga).getBuild()}o(ume,"getBuild");function zW(t){return t.get(ga).getVersion()}o(zW,"getVersion");var Vs=class{constructor(e,r,n="none",i="desktop"){this.sessionId=e;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function qd({name:t,version:e}){return`${t}/${e}`}o(qd,"formatNameAndVersion");var Ys=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},iv="2025-05-01";function qy(t){let e=t.get(Ys);return{"Editor-Version":qd(e.getEditorInfo()),"Editor-Plugin-Version":qd(e.getEditorPluginInfo()),"Copilot-Language-Server-Version":zW(t)}}o(qy,"editorVersionHeaders");var $ae="Iv1.b507a08c87ecfe98",sv=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??$ae}};u();u();var z0=class{static{o(this,"TelemetryUserConfig")}constructor(e,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(e)}setupUpdateOnToken(e){ma(e,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,c=r.enterprise_list,l=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=c?.toString(),this.sku=l,this.optedIn=n,this.ftFlag=i)})}};var Zk=yt(d4()),eD=yt(require("os"));var Tje=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function _je(t){let e={type:t.name,value:t.message},r=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(t.toString()+`
`)){e.stacktrace=[];for(let n of r.slice(t.toString().length+1).split(/\n/).reverse()){let i=n.match(Tje),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),e.stacktrace.push(s)}}return e}o(_je,"buildExceptionDetail");function Sje(t,e){let r=t.get(Ys),n=r.getEditorInfo(),i=t.get(z0),s={"#editor":n.devName??n.name,"#editor_version":qd({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":qd(r.getEditorPluginInfo()),"#session_id":t.get(Vs).sessionId,"#machine_id":t.get(Vs).machineId,"#architecture":eD.arch(),"#os_platform":eD.platform(),...e};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(Sje,"buildContext");function fme(t,e){let r=t.get(ga),n=t.get(Ys).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Sje(t,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let c=0,l=e;for(;l instanceof Error&&c<10;){let d=_je(l);s.exception_detail.unshift(d),a.unshift([l,d]),c+=1,l=l.cause}let f=[];for(let[d,h]of a)if(h.stacktrace&&h.stacktrace.length>0){f.push(`${h.type}: ${d.code??""}`);let A=[...h.stacktrace].reverse();for(let g of A)if(g.filename?.startsWith("/github-copilot/"))return s;for(let g of A)if(g.in_app){f.push(`${g.filename?.replace(/^\.\//,"")}:${g.lineno}:${g.colno}`);break}f.push(`${A[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,Zk.SHA256)(Zk.enc.Utf16.parse(f.join(`
`))).toString()),s}o(fme,"buildPayload");u();var P3=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(e,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(e,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};u();var ZC=class{constructor(e=5){this.perTenMinutes=e;this.cache=new Tn}static{o(this,"ExceptionRateLimiter")}isThrottled(e){let r=Date.now(),n=this.cache.get(e)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(e,n),!1)}};u();var Ja=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(e){this.promises.add(e),e.finally(()=>this.promises.delete(e))}async flush(){await Promise.allSettled(this.promises)}};u();var Ame=require("os"),pme=yt(require("path"));function F3(t){return t.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(F3,"redactPaths");var Bje=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Rje=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function KW(t){if(Bje.has(t))return t;for(let e of Rje)if(e.test(t))return t;return F3(t).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(KW,"redactMessage");function tD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(tD,"escapeForRegExp");var kje=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+tD((0,Ame.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function jW(t){return t.replace(kje,"~")}o(jW,"redactHomeDir");var mme="[\\\\/]?([^:)]*)(?=:\\d)",dme=new RegExp(tD(pme.sep),"g"),hme=new RegExp(tD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+mme,"gi");function JW(t,e,r=!1,n=[]){let i=new Error(e(t));i.name=t.name,typeof t.syscall=="string"&&(i.syscall=t.syscall),typeof t.code=="string"&&(i.code=t.code),typeof t.errno=="number"&&(i.errno=t.errno),i.stack=void 0;let s=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[t.toString(),`${t.name}: ${t.message}`])if(s?.startsWith(c+`
`)){a=s.slice(c.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let c of a)if(hme.test(c))i.stack+=`
${F3(c.replace(hme,(l,f)=>"./"+f.replace(dme,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))i.stack+=`
${F3(c)}`;else{let l=!1;for(let{prefix:f,path:d}of n){let h=new RegExp(tD(d.replace(/[\\/]$/,""))+mme,"gi");if(h.test(c)){i.stack+=`
${F3(c.replace(h,(A,g)=>f+g.replace(dme,"/")))}`,l=!0;break}}if(l)continue;r?i.stack+=`
${jW(c)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=jW(s));return t.cause instanceof Error&&(i.cause=JW(t.cause,e,r,n)),i}o(JW,"cloneError");function gme(t){let e=t.message;return typeof t.path=="string"&&t.path.length>0&&(e=e.replaceAll(t.path,"<path>")),e}o(gme,"errorMessageWithoutPath");function yme(t,e){return JW(t,o(function(n){return jW(gme(n))},"prepareMessage"),!0,e)}o(yme,"prepareErrorForRestrictedTelemetry");function Cme(t,e,r=!1){return JW(t,o(function(i){if(r)return KW(gme(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=F3(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,e)}o(Cme,"redactError");u();var XW=class{static{o(this,"TypeCheck")}constructor(e,r,n,i){this.schema=e,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=QA(e,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return Ud(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new fb(this.schema,e,this.Errors(e).First());return this.hasTransform?db(this.schema,this.references,e):e}Encode(e){let r=this.hasTransform?Ab(this.schema,this.references,e):e;if(!this.checkFunc(r))throw new hb(this.schema,e,this.Errors(e).First());return r}},FA;(function(t){function e(s){return s===36}o(e,"DollarSign"),t.DollarSign=e;function r(s){return s===95}o(r,"IsUnderscore"),t.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),t.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),t.IsNumeric=i})(FA||(FA={}));var rD;(function(t){function e(s){return s.length===0?!1:FA.IsNumeric(s.charCodeAt(0))}o(e,"IsFirstCharacterNumeric");function r(s){if(e(s))return!1;for(let a=0;a<s.length;a++){let c=s.charCodeAt(a);if(!(FA.IsAlpha(c)||FA.IsNumeric(c)||FA.DollarSign(c)||FA.IsUnderscore(c)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),t.Encode=i})(rD||(rD={}));var ZW;(function(t){function e(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);FA.IsNumeric(s)||FA.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(e,"Encode"),t.Encode=e})(ZW||(ZW={}));var eY;(function(t){function e(r){return r.replace(/'/g,"\\'")}o(e,"Escape"),t.Escape=e})(eY||(eY={}));var tY=class extends lr{static{o(this,"TypeCompilerUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}},nD=class extends lr{static{o(this,"TypeCompilerTypeGuardError")}constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}},eE;(function(t){function e(a,c,l){return Ni.ExactOptionalPropertyTypes?`('${c}' in ${a} ? ${l} : true)`:`(${rD.Encode(a,c)} !== undefined ? ${l} : true)`}o(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(a){return Ni.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),t.IsObjectLike=r;function n(a){return Ni.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),t.IsRecordLike=n;function i(a){return Ni.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),t.IsNumberLike=i;function s(a){return Ni.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),t.IsVoidLike=s})(eE||(eE={}));var Pg;(function(t){function e(oe){return oe[Me]==="Any"||oe[Me]==="Unknown"}o(e,"IsAnyOrUnknown");function*r(oe,Je,pe){yield"true"}o(r,"FromAny");function*n(oe,Je,pe){yield"true"}o(n,"FromArgument");function*i(oe,Je,pe){yield`Array.isArray(${pe})`;let[ut,ot]=[Ct("value","any"),Ct("acc","number")];Yt(oe.maxItems)&&(yield`${pe}.length <= ${oe.maxItems}`),Yt(oe.minItems)&&(yield`${pe}.length >= ${oe.minItems}`);let We=he(oe.items,Je,"value");if(yield`${pe}.every((${ut}) => ${We})`,zi(oe.contains)||Yt(oe.minContains)||Yt(oe.maxContains)){let Pr=zi(oe.contains)?oe.contains:$r(),En=he(Pr,Je,"value"),Ur=Yt(oe.minContains)?[`(count >= ${oe.minContains})`]:[],Kt=Yt(oe.maxContains)?[`(count <= ${oe.maxContains})`]:[],pi=`const count = value.reduce((${ot}, ${ut}) => ${En} ? acc + 1 : acc, 0)`,Ho=["(count > 0)",...Ur,...Kt].join(" && ");yield`((${ut}) => { ${pi}; return ${Ho}})(${pe})`}oe.uniqueItems===!0&&(yield`((${ut}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${pe})`)}o(i,"FromArray");function*s(oe,Je,pe){yield`(typeof value === 'object' && Symbol.asyncIterator in ${pe})`}o(s,"FromAsyncIterator");function*a(oe,Je,pe){yield`(typeof ${pe} === 'bigint')`,ha(oe.exclusiveMaximum)&&(yield`${pe} < BigInt(${oe.exclusiveMaximum})`),ha(oe.exclusiveMinimum)&&(yield`${pe} > BigInt(${oe.exclusiveMinimum})`),ha(oe.maximum)&&(yield`${pe} <= BigInt(${oe.maximum})`),ha(oe.minimum)&&(yield`${pe} >= BigInt(${oe.minimum})`),ha(oe.multipleOf)&&(yield`(${pe} % BigInt(${oe.multipleOf})) === 0`)}o(a,"FromBigInt");function*c(oe,Je,pe){yield`(typeof ${pe} === 'boolean')`}o(c,"FromBoolean");function*l(oe,Je,pe){yield*ne(oe.returns,Je,`${pe}.prototype`)}o(l,"FromConstructor");function*f(oe,Je,pe){yield`(${pe} instanceof Date) && Number.isFinite(${pe}.getTime())`,Yt(oe.exclusiveMaximumTimestamp)&&(yield`${pe}.getTime() < ${oe.exclusiveMaximumTimestamp}`),Yt(oe.exclusiveMinimumTimestamp)&&(yield`${pe}.getTime() > ${oe.exclusiveMinimumTimestamp}`),Yt(oe.maximumTimestamp)&&(yield`${pe}.getTime() <= ${oe.maximumTimestamp}`),Yt(oe.minimumTimestamp)&&(yield`${pe}.getTime() >= ${oe.minimumTimestamp}`),Yt(oe.multipleOfTimestamp)&&(yield`(${pe}.getTime() % ${oe.multipleOfTimestamp}) === 0`)}o(f,"FromDate");function*d(oe,Je,pe){yield`(typeof ${pe} === 'function')`}o(d,"FromFunction");function*h(oe,Je,pe){let ut=globalThis.Object.getOwnPropertyNames(oe.$defs).reduce((ot,We)=>[...ot,oe.$defs[We]],[]);yield*ne(Bl(oe.$ref),[...Je,...ut],pe)}o(h,"FromImport");function*A(oe,Je,pe){yield`Number.isInteger(${pe})`,Yt(oe.exclusiveMaximum)&&(yield`${pe} < ${oe.exclusiveMaximum}`),Yt(oe.exclusiveMinimum)&&(yield`${pe} > ${oe.exclusiveMinimum}`),Yt(oe.maximum)&&(yield`${pe} <= ${oe.maximum}`),Yt(oe.minimum)&&(yield`${pe} >= ${oe.minimum}`),Yt(oe.multipleOf)&&(yield`(${pe} % ${oe.multipleOf}) === 0`)}o(A,"FromInteger");function*g(oe,Je,pe){let ut=oe.allOf.map(ot=>he(ot,Je,pe)).join(" && ");if(oe.unevaluatedProperties===!1){let ot=tt(`${new RegExp(rA(oe))};`),We=`Object.getOwnPropertyNames(${pe}).every(key => ${ot}.test(key))`;yield`(${ut} && ${We})`}else if(zi(oe.unevaluatedProperties)){let ot=tt(`${new RegExp(rA(oe))};`),We=`Object.getOwnPropertyNames(${pe}).every(key => ${ot}.test(key) || ${he(oe.unevaluatedProperties,Je,`${pe}[key]`)})`;yield`(${ut} && ${We})`}else yield`(${ut})`}o(g,"FromIntersect");function*y(oe,Je,pe){yield`(typeof value === 'object' && Symbol.iterator in ${pe})`}o(y,"FromIterator");function*v(oe,Je,pe){typeof oe.const=="number"||typeof oe.const=="boolean"?yield`(${pe} === ${oe.const})`:yield`(${pe} === '${eY.Escape(oe.const)}')`}o(v,"FromLiteral");function*_(oe,Je,pe){yield"false"}o(_,"FromNever");function*T(oe,Je,pe){yield`(!${he(oe.not,Je,pe)})`}o(T,"FromNot");function*S(oe,Je,pe){yield`(${pe} === null)`}o(S,"FromNull");function*D(oe,Je,pe){yield eE.IsNumberLike(pe),Yt(oe.exclusiveMaximum)&&(yield`${pe} < ${oe.exclusiveMaximum}`),Yt(oe.exclusiveMinimum)&&(yield`${pe} > ${oe.exclusiveMinimum}`),Yt(oe.maximum)&&(yield`${pe} <= ${oe.maximum}`),Yt(oe.minimum)&&(yield`${pe} >= ${oe.minimum}`),Yt(oe.multipleOf)&&(yield`(${pe} % ${oe.multipleOf}) === 0`)}o(D,"FromNumber");function*Q(oe,Je,pe){yield eE.IsObjectLike(pe),Yt(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${pe}).length >= ${oe.minProperties}`),Yt(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${pe}).length <= ${oe.maxProperties}`);let ut=Object.getOwnPropertyNames(oe.properties);for(let ot of ut){let We=rD.Encode(pe,ot),Pr=oe.properties[ot];if(oe.required&&oe.required.includes(ot))yield*ne(Pr,Je,We),(nA(Pr)||e(Pr))&&(yield`('${ot}' in ${pe})`);else{let En=he(Pr,Je,We);yield eE.IsExactOptionalProperty(pe,ot,En)}}if(oe.additionalProperties===!1)if(oe.required&&oe.required.length===ut.length)yield`Object.getOwnPropertyNames(${pe}).length === ${ut.length}`;else{let ot=`[${ut.map(We=>`'${We}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${pe}).every(key => ${ot}.includes(key))`}if(typeof oe.additionalProperties=="object"){let ot=he(oe.additionalProperties,Je,`${pe}[key]`),We=`[${ut.map(Pr=>`'${Pr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${pe}).every(key => ${We}.includes(key) || ${ot}))`}}o(Q,"FromObject");function*k(oe,Je,pe){yield`${pe} instanceof Promise`}o(k,"FromPromise");function*P(oe,Je,pe){yield eE.IsRecordLike(pe),Yt(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${pe}).length >= ${oe.minProperties}`),Yt(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${pe}).length <= ${oe.maxProperties}`);let[ut,ot]=Object.entries(oe.patternProperties)[0],We=tt(`${new RegExp(ut)}`),Pr=he(ot,Je,"value"),En=zi(oe.additionalProperties)?he(oe.additionalProperties,Je,pe):oe.additionalProperties===!1?"false":"true",Ur=`(${We}.test(key) ? ${Pr} : ${En})`;yield`(Object.entries(${pe}).every(([key, value]) => ${Ur}))`}o(P,"FromRecord");function*W(oe,Je,pe){let ut=qn(oe,Je);if(le.functions.has(oe.$ref))return yield`${Ke(oe.$ref)}(${pe})`;yield*ne(ut,Je,pe)}o(W,"FromRef");function*re(oe,Je,pe){let ut=tt(`${new RegExp(oe.source,oe.flags)};`);yield`(typeof ${pe} === 'string')`,Yt(oe.maxLength)&&(yield`${pe}.length <= ${oe.maxLength}`),Yt(oe.minLength)&&(yield`${pe}.length >= ${oe.minLength}`),yield`${ut}.test(${pe})`}o(re,"FromRegExp");function*ye(oe,Je,pe){yield`(typeof ${pe} === 'string')`,Yt(oe.maxLength)&&(yield`${pe}.length <= ${oe.maxLength}`),Yt(oe.minLength)&&(yield`${pe}.length >= ${oe.minLength}`),oe.pattern!==void 0&&(yield`${tt(`${new RegExp(oe.pattern)};`)}.test(${pe})`),oe.format!==void 0&&(yield`format('${oe.format}', ${pe})`)}o(ye,"FromString");function*Ae(oe,Je,pe){yield`(typeof ${pe} === 'symbol')`}o(Ae,"FromSymbol");function*z(oe,Je,pe){yield`(typeof ${pe} === 'string')`,yield`${tt(`${new RegExp(oe.pattern)};`)}.test(${pe})`}o(z,"FromTemplateLiteral");function*j(oe,Je,pe){yield`${Ke(oe.$ref)}(${pe})`}o(j,"FromThis");function*Ie(oe,Je,pe){if(yield`Array.isArray(${pe})`,oe.items===void 0)return yield`${pe}.length === 0`;yield`(${pe}.length === ${oe.maxItems})`;for(let ut=0;ut<oe.items.length;ut++)yield`${he(oe.items[ut],Je,`${pe}[${ut}]`)}`}o(Ie,"FromTuple");function*ue(oe,Je,pe){yield`${pe} === undefined`}o(ue,"FromUndefined");function*J(oe,Je,pe){yield`(${oe.anyOf.map(ot=>he(ot,Je,pe)).join(" || ")})`}o(J,"FromUnion");function*H(oe,Je,pe){yield`${pe} instanceof Uint8Array`,Yt(oe.maxByteLength)&&(yield`(${pe}.length <= ${oe.maxByteLength})`),Yt(oe.minByteLength)&&(yield`(${pe}.length >= ${oe.minByteLength})`)}o(H,"FromUint8Array");function*Z(oe,Je,pe){yield"true"}o(Z,"FromUnknown");function*ee(oe,Je,pe){yield eE.IsVoidLike(pe)}o(ee,"FromVoid");function*se(oe,Je,pe){let ut=le.instances.size;le.instances.set(ut,oe),yield`kind('${oe[Me]}', ${ut}, ${pe})`}o(se,"FromKind");function*ne(oe,Je,pe,ut=!0){let ot=Nn(oe.$id)?[...Je,oe]:Je,We=oe;if(ut&&Nn(oe.$id)){let Pr=Ke(oe.$id);if(le.functions.has(Pr))return yield`${Pr}(${pe})`;{le.functions.set(Pr,"<deferred>");let En=ct(Pr,oe,Je,"value",!1);return le.functions.set(Pr,En),yield`${Pr}(${pe})`}}switch(We[Me]){case"Any":return yield*r(We,ot,pe);case"Argument":return yield*n(We,ot,pe);case"Array":return yield*i(We,ot,pe);case"AsyncIterator":return yield*s(We,ot,pe);case"BigInt":return yield*a(We,ot,pe);case"Boolean":return yield*c(We,ot,pe);case"Constructor":return yield*l(We,ot,pe);case"Date":return yield*f(We,ot,pe);case"Function":return yield*d(We,ot,pe);case"Import":return yield*h(We,ot,pe);case"Integer":return yield*A(We,ot,pe);case"Intersect":return yield*g(We,ot,pe);case"Iterator":return yield*y(We,ot,pe);case"Literal":return yield*v(We,ot,pe);case"Never":return yield*_(We,ot,pe);case"Not":return yield*T(We,ot,pe);case"Null":return yield*S(We,ot,pe);case"Number":return yield*D(We,ot,pe);case"Object":return yield*Q(We,ot,pe);case"Promise":return yield*k(We,ot,pe);case"Record":return yield*P(We,ot,pe);case"Ref":return yield*W(We,ot,pe);case"RegExp":return yield*re(We,ot,pe);case"String":return yield*ye(We,ot,pe);case"Symbol":return yield*Ae(We,ot,pe);case"TemplateLiteral":return yield*z(We,ot,pe);case"This":return yield*j(We,ot,pe);case"Tuple":return yield*Ie(We,ot,pe);case"Undefined":return yield*ue(We,ot,pe);case"Union":return yield*J(We,ot,pe);case"Uint8Array":return yield*H(We,ot,pe);case"Unknown":return yield*Z(We,ot,pe);case"Void":return yield*ee(We,ot,pe);default:if(!u0.Has(We[Me]))throw new tY(oe);return yield*se(We,ot,pe)}}o(ne,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function he(oe,Je,pe,ut=!0){return`(${[...ne(oe,Je,pe,ut)].join(" && ")})`}o(he,"CreateExpression");function Ke(oe){return`check_${ZW.Encode(oe)}`}o(Ke,"CreateFunctionName");function tt(oe){let Je=`local_${le.variables.size}`;return le.variables.set(Je,`const ${Je} = ${oe}`),Je}o(tt,"CreateVariable");function ct(oe,Je,pe,ut,ot=!0){let[We,Pr]=[`
`,pi=>"".padStart(pi," ")],En=Ct("value","any"),Ur=qt("boolean"),Kt=[...ne(Je,pe,ut,ot)].map(pi=>`${Pr(4)}${pi}`).join(` &&${We}`);return`function ${oe}(${En})${Ur} {${We}${Pr(2)}return (${We}${Kt}${We}${Pr(2)})
}`}o(ct,"CreateFunction");function Ct(oe,Je){let pe=le.language==="typescript"?`: ${Je}`:"";return`${oe}${pe}`}o(Ct,"CreateParameter");function qt(oe){return le.language==="typescript"?`: ${oe}`:""}o(qt,"CreateReturns");function Or(oe,Je,pe){let ut=ct("check",oe,Je,"value"),ot=Ct("value","any"),We=qt("boolean"),Pr=[...le.functions.values()],En=[...le.variables.values()],Ur=Nn(oe.$id)?`return function check(${ot})${We} {
  return ${Ke(oe.$id)}(value)
}`:`return ${ut}`;return[...En,...Pr,Ur].join(`
`)}o(Or,"Build");function kn(...oe){let Je={language:"javascript"},[pe,ut,ot]=oe.length===2&&cr(oe[1])?[oe[0],oe[1],Je]:oe.length===2&&!cr(oe[1])?[oe[0],[],oe[1]]:oe.length===3?[oe[0],oe[1],oe[2]]:oe.length===1?[oe[0],[],Je]:[null,[],Je];if(le.language=ot.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!zi(pe))throw new nD(pe);for(let We of ut)if(!zi(We))throw new nD(We);return Or(pe,ut,ot)}o(kn,"Code"),t.Code=kn;function br(oe,Je=[]){let pe=kn(oe,Je,{language:"javascript"}),ut=globalThis.Function("kind","format","hash",pe),ot=new Map(le.instances);function We(Kt,pi,Ho){if(!u0.Has(Kt)||!ot.has(pi))return!1;let Fn=u0.Get(Kt),qo=ot.get(pi);return Fn(qo,Ho)}o(We,"typeRegistryFunction");function Pr(Kt,pi){return qu.Has(Kt)?qu.Get(Kt)(pi):!1}o(Pr,"formatRegistryFunction");function En(Kt){return kg(Kt)}o(En,"hashFunction");let Ur=ut(We,Pr,En);return new XW(oe,Je,Ur,pe)}o(br,"Compile"),t.Compile=br})(Pg||(Pg={}));var cD=yt(d4());u();u();var wa=[];for(let t=0;t<256;++t)wa.push((t+256).toString(16).slice(1));function Eme(t,e=0){return(wa[t[e+0]]+wa[t[e+1]]+wa[t[e+2]]+wa[t[e+3]]+"-"+wa[t[e+4]]+wa[t[e+5]]+"-"+wa[t[e+6]]+wa[t[e+7]]+"-"+wa[t[e+8]]+wa[t[e+9]]+"-"+wa[t[e+10]]+wa[t[e+11]]+wa[t[e+12]]+wa[t[e+13]]+wa[t[e+14]]+wa[t[e+15]]).toLowerCase()}o(Eme,"unsafeStringify");u();var Ime=require("crypto");var oD=new Uint8Array(256),iD=oD.length;function rY(){return iD>oD.length-16&&((0,Ime.randomFillSync)(oD),iD=0),oD.slice(iD,iD+=16)}o(rY,"rng");u();u();var vme=require("crypto"),nY={randomUUID:vme.randomUUID};function Dje(t,e,r){if(nY.randomUUID&&!e&&!t)return nY.randomUUID();t=t||{};let n=t.random??t.rng?.()??rY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Eme(n)}o(Dje,"v4");var lf=Dje;var lD=yt($a());function Cb(t){return t===1}o(Cb,"isRestricted");var Nje=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],L3=8192,Qje=21;var Ql=class{static{o(this,"TelemetryReporters")}getReporter(e,r=0){return Cb(r)?this.getRestrictedReporter(e):this.reporter}getRestrictedReporter(e){if(uD(e))return this.reporterRestricted;if(p4(e))return new P3}getFTReporter(e){if(bme(e))return this.reporterFT;if(p4(e))return new P3}setReporter(e){this.reporter=e}setRestrictedReporter(e){this.reporterRestricted=e}setFTReporter(e){this.reporterFT=e}async deactivate(){let e=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(e.map(r=>r?.dispose()))}},Pje=X.Object({},{additionalProperties:X.String()}),Fje=X.Object({meanLogProb:X.Optional(X.Number()),meanAlternativeLogProb:X.Optional(X.Number())},{additionalProperties:X.Number()}),Lje=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Mje(t){return Lje.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}o(Mje,"isOomError");function Oje(t){return $U(t)?"network":Mje(t)||t.code==="EMFILE"||t.code==="ENFILE"||t.syscall==="uv_cwd"&&(t.code==="ENOENT"||t.code=="EIO")||t.code==="CopilotPromptLoadFailure"||`${t.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Oje,"getErrorType");var rn=class t{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=Pg.Compile(Pje)}static{this.validateTelemetryMeasurements=Pg.Compile(Fje)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},Xa())}extendedBy(e,r){let n={...this.properties,...e},i={...this.measurements,...r},s=new t(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Xa())}async extendWithExpTelemetry(e){let{filters:r,exp:n}=await e.get(Zr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(e){this.properties.editor_version=qd(e.get(Ys).getEditorInfo()),this.properties.editor_plugin_version=qd(e.get(Ys).getEditorPluginInfo());let r=e.get(Vs);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${zW(e)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=e.get(Ys);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=qd(n.getEditorInfo());let i=e.get(As);this.properties.fetcher=i.name;let s=e.get($l).getHttpSettings();this.properties.proxy_enabled=s.proxy?"true":"false",this.properties.proxy_auth=s.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=s.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(e){let r=lme(e);r["copilot.build"]=ume(e),r["copilot.buildType"]=rH(e),this.properties={...this.properties,...r}}extendWithRequestId(e){let r={headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(Cb(e))return r;let n={};for(let i in r)t.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements);for(let e in this.measurements)isNaN(this.measurements[e])&&delete this.measurements[e]}multiplexProperties(){this.properties=t.multiplexProperties(this.properties)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let i=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=e[n]}return r}static multiplexProperties(e){let r={...e};for(let n in e){let i=e[n],s=i?.length??0;if(s>L3){let a=0,c=0;for(;s>0&&c<Qje;){c+=1;let l=n;c>1&&(l=n+"_"+(c<10?"0":"")+c);let f=a+L3;s<L3&&(f=a+s),r[l]=i.slice(a,f),s-=L3,a+=L3}}}return r}updateMeasurements(e){let r=e-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=e-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=qje(e))}validateData(e,r){let n;if(t.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...t.validateTelemetryProperties.Errors(this.properties)])}),!t.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...t.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(p4(e))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return lA(e,"invalidTelemetryData",t.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Cb(r)&&lA(e,"invalidTelemetryData_in_secure",t.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(e,r,n,i){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateMeasurements(i),this.validateData(e,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,Wje(e))}},T3=class t extends rn{static{o(this,"TelemetryWithExp")}constructor(e,r,n,i){super(e,r,n),this.filtersAndExp=i}extendedBy(e,r){let n={...this.properties,...e},i={...this.measurements,...r},s=new t(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}extendWithExpTelemetry(){return this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new t({},{},0,{filters:new jy({}),exp:zu.createEmptyConfig()})}};function aD(t,e,r,n){t.get(Ql).getReporter(t,e)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(aD,"sendTelemetryEvent");function Uje(t,e,r,n){t.get(Ql).getReporter(t,e)?.sendTelemetryErrorEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(Uje,"sendTelemetryErrorEvent");function Hje(t,e,r,n){t.get(Ql).getFTReporter(t)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}o(Hje,"sendFTTelemetryEvent");function oY(t){return{promptCharLen:t.prefix.length+(t.context?.reduce((e,r)=>e+r.length,0)??0),promptSuffixCharLen:t.suffix.length}}o(oY,"telemetrizePromptLength");function Xa(){return performance.now()}o(Xa,"now");function qje(t){return Math.floor(t/1e3)}o(qje,"nowSeconds");function uD(t){return t.get(z0).optedIn}o(uD,"shouldSendRestricted");function bme(t){return t.get(z0).ftFlag!==""}o(bme,"shouldSendFinetuningTelemetry");function or(t,e,r,n){return t.get(Ja).register(Gje(t,e,Xa(),r?.extendedBy(),n))}o(or,"telemetry");async function Gje(t,e,r,n,i=0){let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(t,i??!1,"IncludeExp",r),(!Cb(i)||uD(t))&&aD(t,i,e,s),Cb(i)&&Nje.includes(e)&&bme(t)&&Hje(t,i,e,s)}o(Gje,"_telemetry");function i0e(t,e){return t.get(Ja).register(Vje(t,e,Xa()))}o(i0e,"telemetryExpProblem");async function Vje(t,e,r){let n="expProblem",i=rn.createAndMarkAsIssued(e,{});await i.makeReadyForSending(t,0,"SkipExp",r),aD(t,0,n,i)}o(Vje,"_telemetryExpProblem");function Wje(t){let e=t.get(Ys),r={unique_id:lf(),common_extname:e.getEditorPluginInfo().name,common_extversion:e.getEditorPluginInfo().version,common_vscodeversion:qd(e.getEditorInfo())},n=t.get(z0);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(Wje,"createRequiredProperties");var iY=class extends Error{static{o(this,"CopilotNonError")}constructor(e){let r;try{r=JSON.stringify(e)}catch{r=String(e)}super(r),this.name="CopilotNonError",this.code=(0,cD.SHA256)(cD.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Ed(t,e,r,n,i){return t.get(Ja).register(xme(t,e,Xa(),r,{...n},i))}o(Ed,"telemetryException");async function xme(t,e,r,n,i,s){let a;if(e instanceof Error){if(a=e,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||jm(a)||a instanceof by||a instanceof lD.ConnectionError||a instanceof lD.ResponseError)return}else{if(a=new iY(e),e&&typeof e=="object"&&e.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let v=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(v[0]??"")&&v.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(v[0]??"")&&v.shift(),a.stack=`${a}
${v.join(`
`)}`}}let c=t.get(Ys).getEditorInfo(),l;c.root&&(l=[{prefix:`${c.name}:`,path:c.root}]);let f=uD(t),d=Cme(a,l,f),h=Oje(a),A=h==="exception",g=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:d.stack||d.toString(),message:d.message,...i});if(await g.makeReadyForSending(t,0,"IncludeExp",r),s?.exception_detail)for(let v of s.exception_detail)v.value&&(f?v.value=KW(v.value):v.value="[redacted]");if(s??=fme(t,d),s.context={...s.context,"copilot_event.unique_id":g.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(g.properties.errno=s.rollup_id),s.created_at=new Date(g.issuedTime).toISOString(),f){let v=yme(a,l),_=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:v.stack||v.toString(),message:v.message,...i});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(t,1,"IncludeExp",r),_.properties.unique_id=g.properties.unique_id,g.properties.restricted_unique_id=_.properties.unique_id,aD(t,1,`error.${h}`,_)}let y=s.rollup_id==="auto"?a.stack??"":s.rollup_id;A&&!t.get(ZC).isThrottled(y)&&(g.properties.failbot_payload=JSON.stringify(s)),aD(t,0,`error.${h}`,g)}o(xme,"_telemetryException");function ev(t,e,r,n){let i=o(async(...s)=>{try{await e(...s)}catch(a){await xme(t,a,Xa(),r,n)}},"wrapped");return(...s)=>t.get(Ja).register(i(...s))}o(ev,"telemetryCatch");function lA(t,e,r,n){return t.get(Ja).register(Yje(t,e,Xa(),r?.extendedBy(),n))}o(lA,"telemetryError");async function Yje(t,e,r,n,i=0){if(Cb(i)&&!uD(t))return;let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(t,i,"IncludeExp",r),Uje(t,i,e,s)}o(Yje,"_telemetryError");function Tme(t,e,r,n,i){let s=rn.createAndMarkAsIssued({completionTextJson:JSON.stringify(e),choiceIndex:i.toString()});if(r.logprobs)for(let[a,c]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(c)??"unset";return s.extendWithRequestId(n),or(t,"engine.completion",s,1)}o(Tme,"logEngineCompletion");function _me(t,e,r){let n={promptJson:JSON.stringify({prefix:e.prefix,context:e.context}),promptSuffixJson:JSON.stringify(e.suffix)};if(e.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=e.context,n["request.option.extra"]=JSON.stringify(s)}let i=r.extendedBy(n);return or(t,"engine.prompt",i,1)}o(_me,"logEnginePrompt");var fD=class{static{o(this,"InstallationManager")}async startup(e){await this.isNewInstall(e)?(await this.markInstalled(e),this.handleInstall(e,await this.wasPreviouslyInstalled(e))):await this.isNewUpgrade(e)&&(await this.markUpgraded(e),this.handleUpgrade(e))}uninstall(e){return this.handleUninstall(e)}handleInstall(e,r){r?or(e,"installed.reinstall"):or(e,"installed.new")}handleUpgrade(e){or(e,"installed.upgrade")}handleUninstall(e){or(e,"uninstalled")}};var dD=class extends fD{static{o(this,"VsCodeUninstallationManager")}isNewInstall(){throw new Error("not callable from an uninstall script")}markInstalled(){throw new Error("not callable from an uninstall script")}wasPreviouslyInstalled(){throw new Error("not callable from an uninstall script")}isNewUpgrade(){throw new Error("not callable from an uninstall script")}markUpgraded(){throw new Error("not callable from an uninstall script")}};u();u();u();u();var $je={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},M3=class{constructor(){this.capabilities={...$je}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(e){let r;for(r in e){let n=e[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};u();u();u();u();function sY(t,e){let r=Eb(t,e);return r===-1?void 0:t[r]}o(sY,"findLastMonotonous");function Eb(t,e,r=0,n=t.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);e(t[a])?i=a+1:s=a}return i-1}o(Eb,"findLastIdxMonotonous");function hD(t,e,r=0,n=t.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);e(t[a])?s=a:i=a+1}return i}o(hD,"findFirstIdxMonotonousOrArrLen");var Sme=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=Eb(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};u();var aY=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?AD.isErrorNoTelemetry(e)?new AD(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},wme=new aY;function tE(t){wme.onUnexpectedError(t)}o(tE,"onBugIndicatingError");function vb(t){zje(t)||wme.onUnexpectedError(t)}o(vb,"onUnexpectedError");var cY="Canceled";function zje(t){return t instanceof Ib?!0:t instanceof Error&&t.name===cY&&t.message===cY}o(zje,"isCancellationError");var Ib=class extends Error{static{o(this,"CancellationError")}constructor(){super(cY),this.name=this.message}};var AD=class t extends Error{static{o(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},Ns=class t extends Error{static{o(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};var Rme;(c=>{function t(l){return l<0}c.isLessThan=t,o(t,"isLessThan");function e(l){return l<=0}c.isLessThanOrEqual=e,o(e,"isLessThanOrEqual");function r(l){return l>0}c.isGreaterThan=r,o(r,"isGreaterThan");function n(l){return l===0}c.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),c.greaterThan=1,c.lessThan=-1,c.neitherLessOrGreaterThan=0})(Rme||={});function kme(t,e){return(r,n)=>e(t(r),t(n))}o(kme,"compareBy");var Dme=o((t,e)=>t-e,"numberComparator");var Bme=class t{constructor(e){this.iterate=e}static{o(this,"CallbackIterable")}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(i=>((n||Rme.isGreaterThan(e(i,r)))&&(n=!1,r=i),!0)),r}};u();function Fme(t,e){let r=Object.create(null);for(let n of t){let i=e(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(Fme,"groupBy");var Qme,Pme,Nme=class{constructor(e,r){this.toKey=r;this._map=new Map;this[Qme]="SetWithKey";for(let n of e)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[(Pme=Symbol.iterator,Qme=Symbol.toStringTag,Pme)](){return this.values()}};u();function lY(t,e){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,e)try{i=t.apply(r,arguments)}finally{e()}else i=t.apply(r,arguments);return i}}o(lY,"createSingleCallFunction");u();var uY;(D=>{function t(Q){return Q&&typeof Q=="object"&&typeof Q[Symbol.iterator]=="function"}D.is=t,o(t,"is");let e=Object.freeze([]);function r(){return e}D.empty=r,o(r,"empty");function*n(Q){yield Q}D.single=n,o(n,"single");function i(Q){return t(Q)?Q:n(Q)}D.wrap=i,o(i,"wrap");function s(Q){return Q||e}D.from=s,o(s,"from");function*a(Q){for(let k=Q.length-1;k>=0;k--)yield Q[k]}D.reverse=a,o(a,"reverse");function c(Q){return!Q||Q[Symbol.iterator]().next().done===!0}D.isEmpty=c,o(c,"isEmpty");function l(Q){return Q[Symbol.iterator]().next().value}D.first=l,o(l,"first");function f(Q,k){let P=0;for(let W of Q)if(k(W,P++))return!0;return!1}D.some=f,o(f,"some");function d(Q,k){for(let P of Q)if(k(P))return P}D.find=d,o(d,"find");function*h(Q,k){for(let P of Q)k(P)&&(yield P)}D.filter=h,o(h,"filter");function*A(Q,k){let P=0;for(let W of Q)yield k(W,P++)}D.map=A,o(A,"map");function*g(Q,k){let P=0;for(let W of Q)yield*k(W,P++)}D.flatMap=g,o(g,"flatMap");function*y(...Q){for(let k of Q)yield*k}D.concat=y,o(y,"concat");function v(Q,k,P){let W=P;for(let re of Q)W=k(W,re);return W}D.reduce=v,o(v,"reduce");function*_(Q,k,P=Q.length){for(k<-Q.length&&(k=0),k<0&&(k+=Q.length),P<0?P+=Q.length:P>Q.length&&(P=Q.length);k<P;k++)yield Q[k]}D.slice=_,o(_,"slice");function T(Q,k=Number.POSITIVE_INFINITY){let P=[];if(k===0)return[P,Q];let W=Q[Symbol.iterator]();for(let re=0;re<k;re++){let ye=W.next();if(ye.done)return[P,D.empty()];P.push(ye.value)}return[P,{[Symbol.iterator](){return W}}]}D.consume=T,o(T,"consume");async function S(Q){let k=[];for await(let P of Q)k.push(P);return Promise.resolve(k)}D.asyncToArray=S,o(S,"asyncToArray")})(uY||={});u();var fY=class{constructor(e,r){this.uri=e;this.value=r}static{o(this,"ResourceMapEntry")}};function Kje(t){return Array.isArray(t)}o(Kje,"isEntries");var Ome,pD=class t{constructor(e,r){this[Ome]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(Kje(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,i]of e)this.set(n,i)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(e=>e.toString(),"defaultToKey")}set(e,r){return this.map.set(this.toKey(e),new fY(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,i]of this.map)e(i.value,i.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(Ome=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},Ume,Lme=class{constructor(e,r){this[Ume]="ResourceSet";!e||typeof e=="function"?this._map=new pD(e):(this._map=new pD(r),e.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,i)=>e.call(r,i,i,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Ume=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Hme,Mme=class{constructor(){this[Hme]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let i=this._map.get(e);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(Hme=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};var mD=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var Jje=!1,bb=null;var qme=class t{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let i=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,i),i}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let l=new Map,f=[...this.livingDisposables.values()].filter(h=>h.source!==null&&!this.getRootParent(h,l).isSingleton);if(f.length===0)return;let d=new Set(f.map(h=>h.value));if(n=f.filter(h=>!(h.parent&&d.has(h.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(l){function f(h,A){for(;h.length>0&&A.some(g=>typeof g=="string"?g===h[0]:h[0].match(g));)h.shift()}o(f,"removePrefix");let d=l.source.split(`
`).map(h=>h.trim().replace("at ","")).filter(h=>h!=="");return f(d,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),d.reverse()}o(i,"getStackTracePath");let s=new mD;for(let l of n){let f=i(l);for(let d=0;d<=f.length;d++)s.add(f.slice(0,d).join(`
`),l)}n.sort(kme(l=>l.idx,Dme));let a="",c=0;for(let l of n.slice(0,e)){c++;let f=i(l),d=[];for(let h=0;h<f.length;h++){let A=f[h];A=`(shared with ${s.get(f.slice(0,h+1).join(`
`)).size}/${n.length} leaks) at ${A}`;let y=s.get(f.slice(0,h).join(`
`)),v=Fme([...y].map(_=>i(_)[h]),_=>_);delete v[f[h]];for(let[_,T]of Object.entries(v))d.unshift(`    - stacktraces of ${T.length} other leaks continue with ${_}`);d.unshift(A)}a+=`


==================== Leaking disposable ${c}/${n.length}: ${l.value.constructor.name} ====================
${d.join(`
`)}
============================================================

`}return n.length>e&&(a+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:a}}};function Xje(t){bb=t}o(Xje,"setDisposableTracker");if(Jje){let t="__is_disposable_tracked__";Xje(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==Kc.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==Kc.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function xb(t){return bb?.trackDisposable(t),t}o(xb,"trackDisposable");function Tb(t){bb?.markAsDisposed(t)}o(Tb,"markAsDisposed");function dY(t,e){bb?.setParent(t,e)}o(dY,"setParentOfDisposable");function Zje(t,e){if(bb)for(let r of t)bb.setParent(r,e)}o(Zje,"setParentOfDisposables");function Gme(t){if(uY.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}o(Gme,"dispose");function Vme(...t){let e=LA(()=>Gme(t));return Zje(t,e),e}o(Vme,"combinedDisposable");function LA(t){let e=xb({dispose:lY(()=>{Tb(e),t()})});return e}o(LA,"toDisposable");var Gd=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;xb(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(Tb(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Gme(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return dY(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),dY(e,null))}},Kc=class{constructor(){this._store=new Gd;xb(this),dY(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){Tb(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var O3=class extends Kc{static{o(this,"ChatQuotaService")}constructor(e){super(),this._register(ma(e,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(e){let r=e.get("x-quota-snapshot-premium_models")||e.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),i=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",c=parseFloat(n.get("rem")||"0.0"),l=n.get("rst"),f;l?f=new Date(l):(f=new Date,f.setMonth(f.getMonth()+1));let d=Math.max(0,i*(1-c/100));this._quotaInfo={quota:i,used:d,overageUsed:s,overageEnabled:a,resetDate:f}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(e){!e||!e.quota_snapshots||!e.quota_reset_date||(this._quotaInfo={overageEnabled:e.quota_snapshots.premium_interactions.overage_permitted,overageUsed:e.quota_snapshots.premium_interactions.overage_count,quota:e.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(e.quota_reset_date),used:Math.max(0,e.quota_snapshots.premium_interactions.entitlement*(1-e.quota_snapshots.premium_interactions.percent_remaining/100))})}};u();var Wme=yt(require("events"));var gD="CompletionRequested",_b=class{constructor(e){this.ctx=e}static{o(this,"CompletionNotifier")}#e=new Wme.default;notifyRequest(e,r,n,i,s){return this.#e.emit(gD,{completionId:r,completionState:e,telemetryData:n,cancellationToken:i,options:s})}onRequest(e){let r=ev(this.ctx,e,`event.${gD}`);return this.#e.on(gD,r),Ki.Disposable.create(()=>this.#e.off(gD,r))}};u();var hY=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},yD=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(e){let r=this.tryGet(e);if(r)return r;throw new hY(e)}tryGet(e){let r=this.instances.get(e);if(r)return r}set(e,r){if(this.tryGet(e))throw new Error(`An instance of ${e.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(e,r),this.instances.set(e,r)}forceSet(e,r){this.assertIsInstance(e,r),this.instances.set(e,r)}assertIsInstance(e,r){if(!(r instanceof e)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${e.name} is not an instance of it (${n}).`)}}};u();u();u();u();var rE={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};u();var Yme=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],$me={".php":[".blade"]},CD=Object.keys(rE).flatMap(t=>rE[t].extensions);var AY=yt(require("node:path"));var wb=class{constructor(e,r,n){this.languageId=e;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},U3=class{static{o(this,"LanguageDetection")}},pY=new Map,Sb=new Map;for(let[t,{extensions:e,filenames:r}]of Object.entries(rE)){for(let n of e)pY.set(n,[...pY.get(n)??[],t]);for(let n of r??[])Sb.set(n,[...Sb.get(n)??[],t])}var mY=class extends U3{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let r=Xm(e.uri),n=AY.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new wb(s.languageId,s.isGuess,a):new wb(e.languageId,!0,a)}extensionWithoutTemplateLanguage(e,r){if(Yme.includes(r)){let n=e.substring(0,e.lastIndexOf(".")),i=AY.extname(n).toLowerCase();if(i.length>0&&CD.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(e,r){let n=$me[e];return!n||n.includes(r)}detectLanguageId(e,r){if(Sb.has(e))return{languageId:Sb.get(e)[0],isGuess:!1};let n=pY.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),Sb.has(e))return{languageId:Sb.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,r){return e!==r?r+e:e}},gY=class extends U3{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new wb("cpp",n.isGuess,n.fileExtension):n}},yY=class extends U3{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new wb(r.languageId,!0,""):this.delegate.detectLanguage(r)}},eKe=new gY(new yY(new mY));function zme({uri:t,languageId:e}){let r=eKe.detectLanguage({uri:t,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?e:r.languageId}o(zme,"detectLanguage");u();var ED=class t{static{o(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let i=Jme(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let c=Math.max(i.start.line,0),l=Math.max(i.end.line,0),f=this._lineOffsets,d=jme(n.text,!1,s);if(l-c===d.length)for(let A=0,g=d.length;A<g;A++)f[A+c+1]=d[A];else d.length<1e4?f.splice(c+1,l-c,...d):this._lineOffsets=f=f.slice(0,c+1).concat(d,f.slice(l+1));let h=n.text.length-(a-s);if(h!==0)for(let A=c+1+d.length,g=f.length;A<g;A++)f[A]=f[A]+h}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=jme(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let s=n-1;return e=this.ensureBeforeEOL(e,r[s]),{line:s,character:e-r[s]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let i=e.line+1<r.length?r[e.line+1]:this._content.length,s=Math.min(n+e.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(e,r){for(;e>r&&Kme(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Fg;(function(t){function e(i,s,a,c){return new ED(i,s,a,c)}o(e,"create"),t.create=e;function r(i,s,a){if(i instanceof ED)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),t.update=r;function n(i,s){let a=i.getText(),c=CY(s.map(tKe),(d,h)=>{let A=d.range.start.line-h.range.start.line;return A===0?d.range.start.character-h.range.start.character:A}),l=0,f=[];for(let d of c){let h=i.offsetAt(d.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&f.push(a.substring(l,h)),d.newText.length&&f.push(d.newText),l=i.offsetAt(d.range.end)}return f.push(a.substr(l)),f.join("")}o(n,"applyEdits"),t.applyEdits=n})(Fg||(Fg={}));function CY(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);CY(n,e),CY(i,e);let s=0,a=0,c=0;for(;s<n.length&&a<i.length;)e(n[s],i[a])<=0?t[c++]=n[s++]:t[c++]=i[a++];for(;s<n.length;)t[c++]=n[s++];for(;a<i.length;)t[c++]=i[a++];return t}o(CY,"mergeSort");function jme(t,e,r=0){let n=e?[r]:[];for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);Kme(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(jme,"computeLineOffsets");function Kme(t){return t===13||t===10}o(Kme,"isEOL");function Jme(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}o(Jme,"getWellformedRange");function tKe(t){let e=Jme(t.range);return e!==t.range?{newText:t.newText,range:e}:t}o(tKe,"getWellformedEdit");u();var Xme;(function(t){function e(r){return typeof r=="string"}o(e,"is"),t.is=e})(Xme||(Xme={}));var EY;(function(t){function e(r){return typeof r=="string"}o(e,"is"),t.is=e})(EY||(EY={}));var Zme;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}o(e,"is"),t.is=e})(Zme||(Zme={}));var ID;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}o(e,"is"),t.is=e})(ID||(ID={}));var Za;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=ID.MAX_VALUE),i===Number.MAX_VALUE&&(i=ID.MAX_VALUE),{line:n,character:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.uinteger(i.line)&&Ne.uinteger(i.character)}o(r,"is"),t.is=r})(Za||(Za={}));var Mi;(function(t){function e(n,i,s,a){if(Ne.uinteger(n)&&Ne.uinteger(i)&&Ne.uinteger(s)&&Ne.uinteger(a))return{start:Za.create(n,i),end:Za.create(s,a)};if(Za.is(n)&&Za.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Za.is(i.start)&&Za.is(i.end)}o(r,"is"),t.is=r})(Mi||(Mi={}));var vD;(function(t){function e(n,i){return{uri:n,range:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Mi.is(i.range)&&(Ne.string(i.uri)||Ne.undefined(i.uri))}o(r,"is"),t.is=r})(vD||(vD={}));var ege;(function(t){function e(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Mi.is(i.targetRange)&&Ne.string(i.targetUri)&&Mi.is(i.targetSelectionRange)&&(Mi.is(i.originSelectionRange)||Ne.undefined(i.originSelectionRange))}o(r,"is"),t.is=r})(ege||(ege={}));var IY;(function(t){function e(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.numberRange(i.red,0,1)&&Ne.numberRange(i.green,0,1)&&Ne.numberRange(i.blue,0,1)&&Ne.numberRange(i.alpha,0,1)}o(r,"is"),t.is=r})(IY||(IY={}));var tge;(function(t){function e(n,i){return{range:n,color:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Mi.is(i.range)&&IY.is(i.color)}o(r,"is"),t.is=r})(tge||(tge={}));var rge;(function(t){function e(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.string(i.label)&&(Ne.undefined(i.textEdit)||Rb.is(i))&&(Ne.undefined(i.additionalTextEdits)||Ne.typedArray(i.additionalTextEdits,Rb.is))}o(r,"is"),t.is=r})(rge||(rge={}));var nge;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(nge||(nge={}));var ige;(function(t){function e(n,i,s,a,c,l){let f={startLine:n,endLine:i};return Ne.defined(s)&&(f.startCharacter=s),Ne.defined(a)&&(f.endCharacter=a),Ne.defined(c)&&(f.kind=c),Ne.defined(l)&&(f.collapsedText=l),f}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.uinteger(i.startLine)&&Ne.uinteger(i.startLine)&&(Ne.undefined(i.startCharacter)||Ne.uinteger(i.startCharacter))&&(Ne.undefined(i.endCharacter)||Ne.uinteger(i.endCharacter))&&(Ne.undefined(i.kind)||Ne.string(i.kind))}o(r,"is"),t.is=r})(ige||(ige={}));var vY;(function(t){function e(n,i){return{location:n,message:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&vD.is(i.location)&&Ne.string(i.message)}o(r,"is"),t.is=r})(vY||(vY={}));var oge;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(oge||(oge={}));var sge;(function(t){t.Unnecessary=1,t.Deprecated=2})(sge||(sge={}));var age;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&Ne.string(n.href)}o(e,"is"),t.is=e})(age||(age={}));var bD;(function(t){function e(n,i,s,a,c,l){let f={range:n,message:i};return Ne.defined(s)&&(f.severity=s),Ne.defined(a)&&(f.code=a),Ne.defined(c)&&(f.source=c),Ne.defined(l)&&(f.relatedInformation=l),f}o(e,"create"),t.create=e;function r(n){var i;let s=n;return Ne.defined(s)&&Mi.is(s.range)&&Ne.string(s.message)&&(Ne.number(s.severity)||Ne.undefined(s.severity))&&(Ne.integer(s.code)||Ne.string(s.code)||Ne.undefined(s.code))&&(Ne.undefined(s.codeDescription)||Ne.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ne.string(s.source)||Ne.undefined(s.source))&&(Ne.undefined(s.relatedInformation)||Ne.typedArray(s.relatedInformation,vY.is))}o(r,"is"),t.is=r})(bD||(bD={}));var Bb;(function(t){function e(n,i,...s){let a={title:n,command:i};return Ne.defined(s)&&s.length>0&&(a.arguments=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.title)&&Ne.string(i.command)}o(r,"is"),t.is=r})(Bb||(Bb={}));var Rb;(function(t){function e(s,a){return{range:s,newText:a}}o(e,"replace"),t.replace=e;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),t.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),t.del=n;function i(s){let a=s;return Ne.objectLiteral(a)&&Ne.string(a.newText)&&Mi.is(a.range)}o(i,"is"),t.is=i})(Rb||(Rb={}));var bY;(function(t){function e(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Ne.string(i.label)&&(Ne.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ne.string(i.description)||i.description===void 0)}o(r,"is"),t.is=r})(bY||(bY={}));var kb;(function(t){function e(r){let n=r;return Ne.string(n)}o(e,"is"),t.is=e})(kb||(kb={}));var cge;(function(t){function e(s,a,c){return{range:s,newText:a,annotationId:c}}o(e,"replace"),t.replace=e;function r(s,a,c){return{range:{start:s,end:s},newText:a,annotationId:c}}o(r,"insert"),t.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),t.del=n;function i(s){let a=s;return Rb.is(a)&&(bY.is(a.annotationId)||kb.is(a.annotationId))}o(i,"is"),t.is=i})(cge||(cge={}));var xY;(function(t){function e(n,i){return{textDocument:n,edits:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&BY.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),t.is=r})(xY||(xY={}));var TY;(function(t){function e(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&Ne.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ne.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ne.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||kb.is(i.annotationId))}o(r,"is"),t.is=r})(TY||(TY={}));var _Y;(function(t){function e(n,i,s,a){let c={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(c.options=s),a!==void 0&&(c.annotationId=a),c}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&Ne.string(i.oldUri)&&Ne.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ne.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ne.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||kb.is(i.annotationId))}o(r,"is"),t.is=r})(_Y||(_Y={}));var SY;(function(t){function e(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&Ne.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ne.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ne.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||kb.is(i.annotationId))}o(r,"is"),t.is=r})(SY||(SY={}));var wY;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ne.string(i.kind)?TY.is(i)||_Y.is(i)||SY.is(i):xY.is(i)))}o(e,"is"),t.is=e})(wY||(wY={}));var lge;(function(t){function e(n){return{uri:n}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)}o(r,"is"),t.is=r})(lge||(lge={}));var uge;(function(t){function e(n,i){return{uri:n,version:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&Ne.integer(i.version)}o(r,"is"),t.is=r})(uge||(uge={}));var BY;(function(t){function e(n,i){return{uri:n,version:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&(i.version===null||Ne.integer(i.version))}o(r,"is"),t.is=r})(BY||(BY={}));var fge;(function(t){function e(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.string(i.uri)&&Ne.string(i.languageId)&&Ne.integer(i.version)&&Ne.string(i.text)}o(r,"is"),t.is=r})(fge||(fge={}));var RY;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}o(e,"is"),t.is=e})(RY||(RY={}));var H3;(function(t){function e(r){let n=r;return Ne.objectLiteral(r)&&RY.is(n.kind)&&Ne.string(n.value)}o(e,"is"),t.is=e})(H3||(H3={}));var dge;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(dge||(dge={}));var hge;(function(t){t.PlainText=1,t.Snippet=2})(hge||(hge={}));var Age;(function(t){t.Deprecated=1})(Age||(Age={}));var pge;(function(t){function e(n,i,s){return{newText:n,insert:i,replace:s}}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.newText)&&Mi.is(i.insert)&&Mi.is(i.replace)}o(r,"is"),t.is=r})(pge||(pge={}));var mge;(function(t){t.asIs=1,t.adjustIndentation=2})(mge||(mge={}));var gge;(function(t){function e(r){let n=r;return n&&(Ne.string(n.detail)||n.detail===void 0)&&(Ne.string(n.description)||n.description===void 0)}o(e,"is"),t.is=e})(gge||(gge={}));var yge;(function(t){function e(r){return{label:r}}o(e,"create"),t.create=e})(yge||(yge={}));var Cge;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}o(e,"create"),t.create=e})(Cge||(Cge={}));var xD;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(e,"fromPlainText"),t.fromPlainText=e;function r(n){let i=n;return Ne.string(i)||Ne.objectLiteral(i)&&Ne.string(i.language)&&Ne.string(i.value)}o(r,"is"),t.is=r})(xD||(xD={}));var Ege;(function(t){function e(r){let n=r;return!!n&&Ne.objectLiteral(n)&&(H3.is(n.contents)||xD.is(n.contents)||Ne.typedArray(n.contents,xD.is))&&(r.range===void 0||Mi.is(r.range))}o(e,"is"),t.is=e})(Ege||(Ege={}));var Ige;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}o(e,"create"),t.create=e})(Ige||(Ige={}));var vge;(function(t){function e(r,n,...i){let s={label:r};return Ne.defined(n)&&(s.documentation=n),Ne.defined(i)?s.parameters=i:s.parameters=[],s}o(e,"create"),t.create=e})(vge||(vge={}));var bge;(function(t){t.Text=1,t.Read=2,t.Write=3})(bge||(bge={}));var xge;(function(t){function e(r,n){let i={range:r};return Ne.number(n)&&(i.kind=n),i}o(e,"create"),t.create=e})(xge||(xge={}));var Tge;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Tge||(Tge={}));var _ge;(function(t){t.Deprecated=1})(_ge||(_ge={}));var Sge;(function(t){function e(r,n,i,s,a){let c={name:r,kind:n,location:{uri:s,range:i}};return a&&(c.containerName=a),c}o(e,"create"),t.create=e})(Sge||(Sge={}));var wge;(function(t){function e(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(e,"create"),t.create=e})(wge||(wge={}));var Bge;(function(t){function e(n,i,s,a,c,l){let f={name:n,detail:i,kind:s,range:a,selectionRange:c};return l!==void 0&&(f.children=l),f}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.name)&&Ne.number(i.kind)&&Mi.is(i.range)&&Mi.is(i.selectionRange)&&(i.detail===void 0||Ne.string(i.detail))&&(i.deprecated===void 0||Ne.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),t.is=r})(Bge||(Bge={}));var Rge;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Rge||(Rge={}));var TD;(function(t){t.Invoked=1,t.Automatic=2})(TD||(TD={}));var kge;(function(t){function e(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.typedArray(i.diagnostics,bD.is)&&(i.only===void 0||Ne.typedArray(i.only,Ne.string))&&(i.triggerKind===void 0||i.triggerKind===TD.Invoked||i.triggerKind===TD.Automatic)}o(r,"is"),t.is=r})(kge||(kge={}));var Dge;(function(t){function e(n,i,s){let a={title:n},c=!0;return typeof i=="string"?(c=!1,a.kind=i):Bb.is(i)?a.command=i:a.edit=i,c&&s!==void 0&&(a.kind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return i&&Ne.string(i.title)&&(i.diagnostics===void 0||Ne.typedArray(i.diagnostics,bD.is))&&(i.kind===void 0||Ne.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Bb.is(i.command))&&(i.isPreferred===void 0||Ne.boolean(i.isPreferred))&&(i.edit===void 0||wY.is(i.edit))}o(r,"is"),t.is=r})(Dge||(Dge={}));var Nge;(function(t){function e(n,i){let s={range:n};return Ne.defined(i)&&(s.data=i),s}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Mi.is(i.range)&&(Ne.undefined(i.command)||Bb.is(i.command))}o(r,"is"),t.is=r})(Nge||(Nge={}));var Qge;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Ne.uinteger(i.tabSize)&&Ne.boolean(i.insertSpaces)}o(r,"is"),t.is=r})(Qge||(Qge={}));var Pge;(function(t){function e(n,i,s){return{range:n,target:i,data:s}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Mi.is(i.range)&&(Ne.undefined(i.target)||Ne.string(i.target))}o(r,"is"),t.is=r})(Pge||(Pge={}));var Fge;(function(t){function e(n,i){return{range:n,parent:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Mi.is(i.range)&&(i.parent===void 0||t.is(i.parent))}o(r,"is"),t.is=r})(Fge||(Fge={}));var Lge;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Lge||(Lge={}));var Mge;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Mge||(Mge={}));var Oge;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(e,"is"),t.is=e})(Oge||(Oge={}));var Uge;(function(t){function e(n,i){return{range:n,text:i}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Mi.is(i.range)&&Ne.string(i.text)}o(r,"is"),t.is=r})(Uge||(Uge={}));var Hge;(function(t){function e(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Mi.is(i.range)&&Ne.boolean(i.caseSensitiveLookup)&&(Ne.string(i.variableName)||i.variableName===void 0)}o(r,"is"),t.is=r})(Hge||(Hge={}));var qge;(function(t){function e(n,i){return{range:n,expression:i}}o(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&Mi.is(i.range)&&(Ne.string(i.expression)||i.expression===void 0)}o(r,"is"),t.is=r})(qge||(qge={}));var Gge;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.defined(i)&&Mi.is(n.stoppedLocation)}o(r,"is"),t.is=r})(Gge||(Gge={}));var kY;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}o(e,"is"),t.is=e})(kY||(kY={}));var DY;(function(t){function e(n){return{value:n}}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&(i.tooltip===void 0||Ne.string(i.tooltip)||H3.is(i.tooltip))&&(i.location===void 0||vD.is(i.location))&&(i.command===void 0||Bb.is(i.command))}o(r,"is"),t.is=r})(DY||(DY={}));var Vge;(function(t){function e(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(e,"create"),t.create=e;function r(n){let i=n;return Ne.objectLiteral(i)&&Za.is(i.position)&&(Ne.string(i.label)||Ne.typedArray(i.label,DY.is))&&(i.kind===void 0||kY.is(i.kind))&&i.textEdits===void 0||Ne.typedArray(i.textEdits,Rb.is)&&(i.tooltip===void 0||Ne.string(i.tooltip)||H3.is(i.tooltip))&&(i.paddingLeft===void 0||Ne.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ne.boolean(i.paddingRight))}o(r,"is"),t.is=r})(Vge||(Vge={}));var Wge;(function(t){function e(r){return{kind:"snippet",value:r}}o(e,"createSnippet"),t.createSnippet=e})(Wge||(Wge={}));var Yge;(function(t){function e(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(e,"create"),t.create=e})(Yge||(Yge={}));var $ge;(function(t){function e(r){return{items:r}}o(e,"create"),t.create=e})($ge||($ge={}));var zge;(function(t){t.Invoked=0,t.Automatic=1})(zge||(zge={}));var jge;(function(t){function e(r,n){return{range:r,text:n}}o(e,"create"),t.create=e})(jge||(jge={}));var Kge;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(e,"create"),t.create=e})(Kge||(Kge={}));var Jge;(function(t){function e(r){let n=r;return Ne.objectLiteral(n)&&EY.is(n.uri)&&Ne.string(n.name)}o(e,"is"),t.is=e})(Jge||(Jge={}));var Xge;(function(t){function e(s,a,c,l){return new NY(s,a,c,l)}o(e,"create"),t.create=e;function r(s){let a=s;return!!(Ne.defined(a)&&Ne.string(a.uri)&&(Ne.undefined(a.languageId)||Ne.string(a.languageId))&&Ne.uinteger(a.lineCount)&&Ne.func(a.getText)&&Ne.func(a.positionAt)&&Ne.func(a.offsetAt))}o(r,"is"),t.is=r;function n(s,a){let c=s.getText(),l=i(a,(d,h)=>{let A=d.range.start.line-h.range.start.line;return A===0?d.range.start.character-h.range.start.character:A}),f=c.length;for(let d=l.length-1;d>=0;d--){let h=l[d],A=s.offsetAt(h.range.start),g=s.offsetAt(h.range.end);if(g<=f)c=c.substring(0,A)+h.newText+c.substring(g,c.length);else throw new Error("Overlapping edit");f=A}return c}o(n,"applyEdits"),t.applyEdits=n;function i(s,a){if(s.length<=1)return s;let c=s.length/2|0,l=s.slice(0,c),f=s.slice(c);i(l,a),i(f,a);let d=0,h=0,A=0;for(;d<l.length&&h<f.length;)a(l[d],f[h])<=0?s[A++]=l[d++]:s[A++]=f[h++];for(;d<l.length;)s[A++]=l[d++];for(;h<f.length;)s[A++]=f[h++];return s}o(i,"mergeSort")})(Xge||(Xge={}));var NY=class{static{o(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Za.create(0,e);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let s=n-1;return Za.create(s,e-r[s])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ne;(function(t){let e=Object.prototype.toString;function r(g){return typeof g<"u"}o(r,"defined"),t.defined=r;function n(g){return typeof g>"u"}o(n,"undefined"),t.undefined=n;function i(g){return g===!0||g===!1}o(i,"boolean"),t.boolean=i;function s(g){return e.call(g)==="[object String]"}o(s,"string"),t.string=s;function a(g){return e.call(g)==="[object Number]"}o(a,"number"),t.number=a;function c(g,y,v){return e.call(g)==="[object Number]"&&y<=g&&g<=v}o(c,"numberRange"),t.numberRange=c;function l(g){return e.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}o(l,"integer"),t.integer=l;function f(g){return e.call(g)==="[object Number]"&&0<=g&&g<=2147483647}o(f,"uinteger"),t.uinteger=f;function d(g){return e.call(g)==="[object Function]"}o(d,"func"),t.func=d;function h(g){return g!==null&&typeof g=="object"}o(h,"objectLiteral"),t.objectLiteral=h;function A(g,y){return Array.isArray(g)&&g.every(y)}o(A,"typedArray"),t.typedArray=A})(Ne||(Ne={}));var _D=class{static{o(this,"LocationFactory")}static{this.range=Mi.create.bind(Mi)}static{this.position=Za.create.bind(Za)}},SD=class t{constructor(e,r,n){this.uri=e;this._textDocument=r;this.detectedLanguageId=n}static{o(this,"CopilotTextDocument")}static withChanges(e,r,n){let i=Fg.create(e.clientUri,e.clientLanguageId,n,e.getText());return Fg.update(i,r,n),new t(e.uri,i,e.detectedLanguageId)}applyEdits(e){let r=Fg.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Fg.update(r,e.map(n=>({text:n.newText,range:n.range})),this.version),new t(this.uri,r,this.detectedLanguageId)}static create(e,r,n,i,s=zme({uri:e,languageId:r})){return new t(yd(e),Fg.create(e,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(e){return this._textDocument.getText(e)}positionAt(e){return this._textDocument.positionAt(e)}offsetAt(e){return this._textDocument.offsetAt(e)}lineAt(e){let r=typeof e=="number"?e:e.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Mi.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Mi.create(Za.create(r,0),Za.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};u();u();u();u();var q3={isBlocked:!1,reason:"VALID_FILE"},wD={isBlocked:!1,reason:"NO_MATCHING_POLICY"},Zge={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},nE={all:"all",repo:"repo"},Lg=new zr("contentExclusion");u();u();var BD=class{static{o(this,"PolicyEvaluator")}};u();u();u();var e1e=new zr("repository"),iE=class t{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(e){let r=this.getAll(e);return r?r[r.length-1]:void 0}getAll(e){return this.data[this.normalizeKey(e)]}add(e,r){e in this.data||(this.data[e]=[]),this.data[e].push(r)}getSectionValues(e,r){let n=`${e}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(e){return this.getEntries().concat(e.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new t)}normalizeKey(e){let r=e.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},uf=class{static{o(this,"GitConfigLoader")}},RD=class extends uf{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};u();var t1e=require("os");var kD=class{constructor(e){this.url=e;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Jm.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let e=this.url.indexOf(":");return this.url.substring(0,e+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let e;try{e=Jm.parse(this.url)}catch(r){this._error=r;return}this._scheme=e.scheme,this.setAuthority(e.authority),this.setPath(e.path)}setAuthority(e){this._authority=e;let r=e.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let e=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(e&&((0,t1e.platform)()!=="win32"||(e.groups?.host?.length??0)>1)){let r=e.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(e){if(this.isADO())try{this._path=decodeURIComponent(e);return}catch{}this._path=e}};var DD=class{static{o(this,"GitRemoteResolver")}async resolveRemote(e,r){let n=await e.get(uf).getConfig(e,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(e){let r=this.getInsteadOfRules(e);return e.getSectionValues("remote","url").map(n=>({name:n,url:new kD(this.applyInsteadOfRules(r,e.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(e,r){for(let n of e)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(e){return e.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:e.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var rKe=100,QY=class{constructor(e,r){this.baseFolder=e;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let e=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=e?.[0],this._name=e?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&e?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=e?.[1],this._owner=e?.[2],this._name=e?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=e?.[1],this._name=e?.[3]):(this._adoOrganization=e?.[0],this._owner=e?.[1],this._name=e?.[3])}}},MA=class t{constructor(e){this.ctx=e;this.remoteResolver=new DD;this.cache=new Tn(rKe)}static{o(this,"RepositoryManager")}async getRepo({uri:e}){let r,n=[];do{if(this.cache.has(e.toString())){let s=this.cache.get(e);return this.updateCache(n,s),s}n.push(e.toString());let i=await this.tryGetRepoForFolder(e);if(i)return this.updateCache(n,i),i;r=e,e=cA(e)}while(e!==r);this.updateCache(n,void 0)}updateCache(e,r){e.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(e){return await this.isBaseRepoFolder(e)?new QY(typeof e=="string"?{uri:e}:e,await this.repoUrl(e)):void 0}async isBaseRepoFolder(e){return await t.getRepoConfigLocation(this.ctx,e)!==void 0}async repoUrl(e){return await this.remoteResolver.resolveRemote(this.ctx,e)}static async getRepoConfigLocation(e,r){try{let n=e.get(Zs),i=Ws(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Ws(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(e,r,n){let s=(await e.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Wy(r,s[1]),c=Ws(a,"config");if(await this.tryStat(e,c)!==void 0)return c;let l=Ws(a,"config.worktree");if(await this.tryStat(e,l)!==void 0)return l;let f=Ws(a,"commondir");a=Wy(a,(await e.readFileString(f)).trimEnd());let d=Ws(a,"config");return await e.stat(d),d}static async tryStat(e,r){try{return await e.stat(r)}catch{return}}};u();var PY=o((t,e)=>{if(Ng.Check(t,e))return e;let r=`Typebox schema validation failed:
${[...Ng.Errors(t,e)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");u();u();u();var ND=new WeakMap;function QD(t,e){if(t==null||typeof t!="object")return String(t);let r,n="",i=0,s=Object.prototype.toString.call(t);if(s!=="[object RegExp]"&&s!=="[object Date]"&&ND.has(t))return ND.get(t);switch(ND.set(t,"~"+ ++e),s){case"[object Set]":r=Array.from(t);case"[object Array]":for(r||(r=t),n+="a";i<r.length;n+=QD(r[i++],e));break;case"[object Object]":for(n+="o",r=Object.keys(t).sort();i<r.length;n+=r[i]+QD(t[r[i++]],e));break;case"[object Map]":for(n+="o",r=Array.from(t.keys()).sort();i<r.length;n+=r[i]+QD(t.get(r[i++]),e));break;case"[object Date]":return"d"+ +t;case"[object RegExp]":return"r"+t.source+t.flags;default:throw new Error(`Unsupported value ${t}`)}return ND.set(t,n),n}o(QD,"t");function PD(t){return QD(t,0)}o(PD,"r");var FY=new WeakMap;function r1e(t,e,r=PD(e)){let n,i,s=FY.get(t);s||(FY.set(t,s=[[],i=[],n=[]]),queueMicrotask(function(){let f,d=0;function h(A){for(;f=n[d++];f.r(A));}o(h,"o"),FY.delete(t),t(i).then(function(A){if(A.length!==n.length)return h(new Error("loader value length mismatch"));for(;f=A[d++],d<=A.length;f instanceof Error?n[d-1].r(f):n[d-1].s(f));},h)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let c=s[0].push(r)-1,l=s[2][c]={};return s[1][c]=e,l.p=new Promise(function(f,d){l.s=f,l.r=d})}o(r1e,"n");var n1e=new WeakMap;function nKe(t,e,r,n=PD(r)){if(e||(e=n1e.get(t)),e||n1e.set(t,e=new Map),e.has(n))return Promise.resolve(e.get(n));let i=r1e(t,r,n);return e.set(n,i),i.catch(()=>e.delete(n)),i}o(nKe,"n");function i1e(t,e){return function(r,n){return nKe(t,e,r,n)}}o(i1e,"o");u();var T1e=yt(g1e(),1);u();var V3=o(t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");u();u();var fKe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},W3=o(t=>t.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),dKe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),y1e=o(t=>t.join(""),"rangesToString"),C1e=o((t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,c=!1,l=!1,f=!1,d=r,h="";e:for(;s<t.length;){let v=t.charAt(s);if((v==="!"||v==="^")&&s===r+1){f=!0,s++;continue}if(v==="]"&&a&&!l){d=s+1;break}if(a=!0,v==="\\"&&!l){l=!0,s++;continue}if(v==="["&&!l){for(let[_,[T,S,D]]of Object.entries(fKe))if(t.startsWith(_,s)){if(h)return["$.",!1,t.length-r,!0];s+=_.length,D?i.push(T):n.push(T),c=c||S;continue e}}if(l=!1,h){v>h?n.push(W3(h)+"-"+W3(v)):v===h&&n.push(W3(v)),h="",s++;continue}if(t.startsWith("-]",s+1)){n.push(W3(v+"-")),s+=2;continue}if(t.startsWith("-",s+1)){h=v,s+=2;continue}n.push(W3(v)),s++}if(d<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let v=n[0].length===2?n[0].slice(-1):n[0];return[dKe(v),!1,d-r,!1]}let A="["+(f?"^":"")+y1e(n)+"]",g="["+(f?"":"^")+y1e(i)+"]";return[n.length&&i.length?"("+A+"|"+g+")":n.length?A:g,c,d-r,!0]},"parseClass");u();var Mg=o((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var hKe=new Set(["!","?","+","*","@"]),E1e=o(t=>hKe.has(t),"isExtglobType"),AKe="(?!(?:^|/)\\.\\.?(?:$|/))",FD="(?!\\.)",pKe=new Set(["[","."]),mKe=new Set(["..","."]),gKe=new Set("().*{}+?[]^$\\!"),yKe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),OY="[^/]",I1e=OY+"*?",v1e=OY+"+?",Db=class t{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#c;#l;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,e==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#s.pop();){if(e.type!=="!")continue;let r=e,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let e=this.#r;for(let r=0;r<this.#o;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#n.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#u(e,r,n,i){let s=!1,a=!1,c=-1,l=!1;if(r.type===null){let g=n,y="";for(;g<e.length;){let v=e.charAt(g++);if(s||v==="\\"){s=!s,y+=v;continue}if(a){g===c+1?(v==="^"||v==="!")&&(l=!0):v==="]"&&!(g===c+2&&l)&&(a=!1),y+=v;continue}else if(v==="["){a=!0,c=g,l=!1,y+=v;continue}if(!i.noext&&E1e(v)&&e.charAt(g)==="("){r.push(y),y="";let _=new t(v,r);g=t.#u(e,_,g,i),r.push(_);continue}y+=v}return r.push(y),g}let f=n+1,d=new t(null,r),h=[],A="";for(;f<e.length;){let g=e.charAt(f++);if(s||g==="\\"){s=!s,A+=g;continue}if(a){f===c+1?(g==="^"||g==="!")&&(l=!0):g==="]"&&!(f===c+2&&l)&&(a=!1),A+=g;continue}else if(g==="["){a=!0,c=f,l=!1,A+=g;continue}if(E1e(g)&&e.charAt(f)==="("){d.push(A),A="";let y=new t(g,d);d.push(y),f=t.#u(e,y,f,i);continue}if(g==="|"){d.push(A),A="",h.push(d),d=new t(null,r);continue}if(g===")")return A===""&&r.#n.length===0&&(r.#f=!0),d.push(A),A="",r.push(...h,d),f;A+=g}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],f}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#u(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let c=(this.#c.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,c),{_src:r,_glob:e})}get options(){return this.#c}toRegExpSource(e){let r=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){let l=this.isStart()&&this.isEnd(),f=this.#n.map(g=>{let[y,v,_,T]=typeof g=="string"?t.#A(g,this.#t,l):g.toRegExpSource(e);return this.#t=this.#t||_,this.#i=this.#i||T,y}).join(""),d="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&mKe.has(this.#n[0]))){let y=pKe,v=r&&y.has(f.charAt(0))||f.startsWith("\\.")&&y.has(f.charAt(2))||f.startsWith("\\.\\.")&&y.has(f.charAt(4)),_=!r&&!e&&y.has(f.charAt(0));d=v?AKe:_?FD:""}let h="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(h="(?:$|\\/)"),[d+f+h,Mg(f),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,Mg(this.toString()),!1,!1]}let a=!n||e||r||!FD?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let c="";if(this.type==="!"&&this.#f)c=(this.isStart()&&!r?FD:"")+v1e;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?FD:"")+I1e+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;c=i+s+l}return[c,Mg(s),this.#t=!!this.#t,this.#i]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(e);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#A(e,r,n=!1){let i=!1,s="",a=!1;for(let c=0;c<e.length;c++){let l=e.charAt(c);if(i){i=!1,s+=(gKe.has(l)?"\\":"")+l;continue}if(l==="\\"){c===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[f,d,h,A]=C1e(e,c);if(h){s+=f,a=a||d,c+=h-1,r=r||A;continue}}if(l==="*"){n&&e==="*"?s+=v1e:s+=I1e,r=!0;continue}if(l==="?"){s+=OY,r=!0;continue}s+=yKe(l)}return[s,Mg(e),!!r,a]}};u();var UY=o((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Ba=o((t,e,r={})=>(V3(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Nb(e,r).match(t)),"minimatch"),CKe=/^\*+([^+@!?\*\[\(]*)$/,EKe=o(t=>e=>!e.startsWith(".")&&e.endsWith(t),"starDotExtTest"),IKe=o(t=>e=>e.endsWith(t),"starDotExtTestDot"),vKe=o(t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),"starDotExtTestNocase"),bKe=o(t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),"starDotExtTestNocaseDot"),xKe=/^\*+\.\*+$/,TKe=o(t=>!t.startsWith(".")&&t.includes("."),"starDotStarTest"),_Ke=o(t=>t!=="."&&t!==".."&&t.includes("."),"starDotStarTestDot"),SKe=/^\.\*+$/,wKe=o(t=>t!=="."&&t!==".."&&t.startsWith("."),"dotStarTest"),BKe=/^\*+$/,RKe=o(t=>t.length!==0&&!t.startsWith("."),"starTest"),kKe=o(t=>t.length!==0&&t!=="."&&t!=="..","starTestDot"),DKe=/^\?+([^+@!?\*\[\(]*)?$/,NKe=o(([t,e=""])=>{let r=_1e([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocase"),QKe=o(([t,e=""])=>{let r=S1e([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocaseDot"),PKe=o(([t,e=""])=>{let r=S1e([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTestDot"),FKe=o(([t,e=""])=>{let r=_1e([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTest"),_1e=o(([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},"qmarksTestNoExt"),S1e=o(([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),w1e=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",b1e={win32:{sep:"\\"},posix:{sep:"/"}},LKe=w1e==="win32"?b1e.win32.sep:b1e.posix.sep;Ba.sep=LKe;var jl=Symbol("globstar **");Ba.GLOBSTAR=jl;var MKe="[^/]",OKe=MKe+"*?",UKe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",HKe="(?:(?!(?:\\/|^)\\.).)*?",qKe=o((t,e={})=>r=>Ba(r,t,e),"filter");Ba.filter=qKe;var zl=o((t,e={})=>Object.assign({},t,e),"ext"),GKe=o(t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Ba;let e=Ba;return Object.assign(o((n,i,s={})=>e(n,i,zl(t,s)),"m"),{Minimatch:class extends e.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,zl(t,s))}static defaults(i){return e.defaults(zl(t,i)).Minimatch}},AST:class extends e.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,zl(t,a))}static fromGlob(i,s={}){return e.AST.fromGlob(i,zl(t,s))}},unescape:o((n,i={})=>e.unescape(n,zl(t,i)),"unescape"),escape:o((n,i={})=>e.escape(n,zl(t,i)),"escape"),filter:o((n,i={})=>e.filter(n,zl(t,i)),"filter"),defaults:o(n=>e.defaults(zl(t,n)),"defaults"),makeRe:o((n,i={})=>e.makeRe(n,zl(t,i)),"makeRe"),braceExpand:o((n,i={})=>e.braceExpand(n,zl(t,i)),"braceExpand"),match:o((n,i,s={})=>e.match(n,i,zl(t,s)),"match"),sep:e.sep,GLOBSTAR:jl})},"defaults");Ba.defaults=GKe;var B1e=o((t,e={})=>(V3(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,T1e.default)(t)),"braceExpand");Ba.braceExpand=B1e;var VKe=o((t,e={})=>new Nb(t,e).makeRe(),"makeRe");Ba.makeRe=VKe;var WKe=o((t,e,r={})=>{let n=new Nb(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t},"match");Ba.match=WKe;var x1e=/[?*]|[+@!]\(.*?\)|\[|\]/,YKe=o(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Nb=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){V3(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||w1e,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!x1e.test(s[2]))&&!x1e.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(d=>this.parse(d))];if(f)return[s[0],...s.slice(1).map(d=>this.parse(d))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let c=n[i+1],l=n[i+2],f=n[i+3];if(c!==".."||!l||l==="."||l===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(i,1);let d=n.slice(0);d[i]="**",e.push(d),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let c=n[a];a===1&&c===""&&n[0]===""||(c==="."||c==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,a=[],c="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])a.push(c==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])a.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])a.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(c==="b")return!1;c="a",a.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(c==="a")return!1;c="b",a.push(r[s]),i++,s++}else return!1;return e.length===r.length&&a}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let v=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),_=!v&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),T=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!T&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),D=_?3:v?0:void 0,Q=S?3:T?0:void 0;if(typeof D=="number"&&typeof Q=="number"){let[k,P]=[e[D],r[Q]];k.toLowerCase()===P.toLowerCase()&&(r[Q]=k,Q>D?r=r.slice(Q):D>Q&&(e=e.slice(D)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var a=0,c=0,l=e.length,f=r.length;a<l&&c<f;a++,c++){this.debug("matchOne loop");var d=r[c],h=e[a];if(this.debug(r,d,h),d===!1)return!1;if(d===jl){this.debug("GLOBSTAR",[r,d,h]);var A=a,g=c+1;if(g===f){for(this.debug("** at the end");a<l;a++)if(e[a]==="."||e[a]===".."||!i.dot&&e[a].charAt(0)===".")return!1;return!0}for(;A<l;){var y=e[A];if(this.debug(`
globstar while`,e,A,r,g,y),this.matchOne(e.slice(A),r.slice(g),n))return this.debug("globstar found match!",A,l,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",e,A,r,g);break}this.debug("globstar swallow a segment, and continue"),A++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,A,r,g),A===l))}let v;if(typeof d=="string"?(v=h===d,this.debug("string match",d,h,v)):(v=d.test(h),this.debug("pattern match",d,h,v)),!v)return!1}if(a===l&&c===f)return!0;if(a===l)return n;if(c===f)return a===l-1&&e[a]==="";throw new Error("wtf?")}braceExpand(){return B1e(this.pattern,this.options)}parse(e){V3(e);let r=this.options;if(e==="**")return jl;if(e==="")return"";let n,i=null;(n=e.match(BKe))?i=r.dot?kKe:RKe:(n=e.match(CKe))?i=(r.nocase?r.dot?bKe:vKe:r.dot?IKe:EKe)(n[1]):(n=e.match(DKe))?i=(r.nocase?r.dot?QKe:NKe:r.dot?PKe:FKe)(n):(n=e.match(xKe))?i=r.dot?_Ke:TKe:(n=e.match(SKe))&&(i=wKe);let s=Db.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?OKe:r.dot?UKe:HKe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let f=l.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))i.add(h);return typeof d=="string"?YKe(d):d===jl?jl:d._src});return f.forEach((d,h)=>{let A=f[h+1],g=f[h-1];d!==jl||g===jl||(g===void 0?A!==void 0&&A!==jl?f[h+1]="(?:\\/|"+n+"\\/)?"+A:f[h]=n:A===void 0?f[h-1]=g+"(?:\\/|"+n+")?":A!==jl&&(f[h-1]=g+"(?:\\/|\\/"+n+"\\/)"+A,f[h+1]=jl))}),f.filter(d=>d!==jl).join("/")}).join("|"),[a,c]=e.length>1?["(?:",")"]:["",""];s="^"+a+s+c+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let c=i.length-2;!a&&c>=0;c--)a=i[c];for(let c=0;c<s.length;c++){let l=s[c],f=i;if(n.matchBase&&l.length===1&&(f=[a]),this.matchOne(f,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Ba.defaults(e).Minimatch}};Ba.AST=Db;Ba.Minimatch=Nb;Ba.escape=UY;Ba.unescape=Mg;var HY="contentExclusion",LD=class extends BD{static{o(this,"CopilotContentExclusion")}#e;#t=new Tn(1e4);#i=new Tn(200);constructor(e){super(),this.#e=e}async evaluate(e,r){try{e=Wy(e).toString();let n=await this.getGitRepo({uri:e}),i=await this.#n(n?.url??nE.all);if(!i)return wD;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(e,s,i);if(a.isBlocked)return a;let c=this.evaluateTextBasedRules(e,i,r);if(c.isBlocked)return c}catch(n){return Lg.exception(this.#e,n,`${HY}.evaluate`),Zge}return q3}evaluateFilePathRules(e,r,n){let i=e;if(this.#t.has(i))return this.#t.get(i);let s=q3,a,c=JU(e.replace(r,""));e:for(let l of n)for(let f of l.paths)if(Ba(c,f,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=qY(l,"FILE_BLOCKED_PATH"),a=f;break e}return Lg.debug(this.#e,`Evaluated path-based exclusion rules for <${e}>`,{result:s,baseUri:r,fileName:c,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(e,r,n){let i=r.filter(c=>c.ifAnyMatch),s=r.filter(c=>c.ifNoneMatch);if(!n||i.length===0&&s.length===0)return q3;let a=this.evaluateFileContent(i,s,n);return Lg.debug(this.#e,`Evaluated text-based exclusion rules for <${e}>`,{result:a}),a}evaluateFileContent(e,r,n){for(let i of e)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>R1e(a)).some(a=>a.test(n)))return qY(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>R1e(a)).some(a=>a.test(n)))return qY(i,"FILE_BLOCKED_TEXT_BASED");return q3}async refresh(){try{let e=[...this.#i.keys()];this.reset(),await Promise.all(e.map(r=>this.#o(r)))}catch(e){Ed(this.#e,e,`${HY}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(e){if(this.#r?.length)return this.#r;let r=await this.#o(e.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(e){this.#r=e}#o=i1e(async e=>{let r=await this.#e.get(ya).getGitHubSession();if(!r)throw new by("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),s=e.includes(nE.all);e.filter(f=>f!==nE.all).length>0&&i.searchParams.set("repos",e.filter(f=>f!==nE.all).join(",")),i.searchParams.set("scope",s?nE.all:nE.repo);let c=await Q9(this.#e,r,i.href),l=await c.json();if(!c.ok){if(c.status===404)return Array.from(e,()=>[]);throw this.#s("fetch.error",{message:l.message}),new aA(c)}return this.#s("fetch.success"),PY(JKe,l).map(f=>f.rules)},this.#i);async getGitRepo(e){let n=await this.#e.get(MA).getRepo(cA(e));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(e,r,n){or(this.#e,`${HY}.${e}`,rn.createAndMarkAsIssued(r,n))}};function R1e(t){if(!t.startsWith("/")&&!t.endsWith("/"))return new RegExp(t);let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}o(R1e,"stringToRegex");function qY(t,e){return{isBlocked:!0,message:`Your ${t.source.type.toLowerCase()} '${t.source.name}' has disabled Copilot for this file`,reason:e}}o(qY,"fileBlockedEvaluationResult");var $Ke=X.Object({name:X.String(),type:X.String()}),zKe=X.Object({paths:X.Array(X.String()),ifNoneMatch:X.Optional(X.Array(X.String())),ifAnyMatch:X.Optional(X.Array(X.String())),source:$Ke}),jKe=X.Array(zKe),KKe=X.Object({rules:jKe,last_updated_at:X.String(),scope:X.String()}),JKe=X.Array(KKe);var Vd=class{constructor(e){this.ctx=e;this.#e=!1;this.#t=new LD(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async e=>{if(!this.#e)return;if(!e){this.updateStatusIcon(!1);return}let r=await this.ctx.get(ni).getTextDocumentValidation(e.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(ni).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),ma(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(e,r,n){if(!this.#e)return{isBlocked:!1};let i=[],s=o(async(l,f)=>{let d=Date.now(),h=await f.evaluate(e,r),A=Date.now();return i.push({key:l,result:h,elapsedMs:A-d}),h},"track"),c=(await Promise.all([s("contentExclusion.evaluate",this.#t)])).find(l=>l?.isBlocked)??{isBlocked:!1};try{for(let l of i)this.#i(l.key,e,l.result,l.elapsedMs)}catch(l){Lg.error(this.ctx,"Error tracking telemetry",l)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(e,r){this.#e&&(e?this.ctx.get($s).setInactive(r??"Copilot is disabled"):this.ctx.get($s).clearInactive())}#i(e,r,n,i){let s=r+e;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===wD.reason)return Lg.debug(this.ctx,`[${e}] No matching policy for this repository. uri: ${r}`),!1;let c={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},l={elapsedMs:i};return or(this.ctx,e,rn.createAndMarkAsIssued(c,l)),or(this.ctx,e,rn.createAndMarkAsIssued({...c,path:r},l),1),Lg.debug(this.ctx,`[${e}] ${r}`,n),!0}setTestingRules(e){this.#t.setTestingRules(e)}set __contentExclusions(e){this.#t=e}get __contentExclusions(){return this.#t}};async function Y3(t,e,r){let n=await t.get(Vd).evaluate(e.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(Y3,"isDocumentValid");var ni=class{constructor(e){this.ctx=e}static{o(this,"TextDocumentManager")}async textDocuments(){let e=this.getTextDocumentsUnsafe(),r=[];for(let n of e)(await Y3(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(e){let r=yd(e.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(e){return this.getTextDocumentWithValidation(e).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(e,r){return Y3(this.ctx,e,r)}async getTextDocumentValidation(e){try{let r=this.getTextDocumentUnsafe(e)?.getText()??await this.readTextDocumentFromDisk(e.uri);return r===void 0?this.notFoundResult(e):this.validateTextDocument(e,r)}catch{return this.notFoundResult(e)}}async getTextDocumentWithValidation(e){let r=this.getTextDocumentUnsafe(e);if(!r)return this.notFoundResult(e);let n=await this.validateTextDocument(e,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:e}){return{status:"notfound",message:`Document for URI could not be found: ${e}`}}async readTextDocumentFromDisk(e){try{if((await this.ctx.get(Zs).stat(e)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Zs).readFileString(e)}getWorkspaceFolder(e){let r=yd(e.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(yd(n.uri)))}getRelativePath(e){if(e.uri.startsWith("untitled:"))return;let r=yd(e.uri);for(let n of this.getWorkspaceFolders()){let i=yd(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Xm(r)}};var Og=class{constructor(e){this.ctx=e}static{o(this,"FileReader")}getRelativePath(e){return this.ctx.get(ni).getRelativePath(e)??Xm(e.uri)}getOrReadTextDocument(e){return this.readFile(e.uri)}getOrReadTextDocumentWithFakeClientProperties(e){return this.readFile(e.uri)}async readFile(e){let n=await this.ctx.get(ni).getTextDocumentWithValidation({uri:e});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(e)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(e),a=await Y3(this.ctx,{uri:e},s);return a.status==="valid"?{status:"valid",document:SD.create(e,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(e){return await this.ctx.get(Zs).readFileString(e)}async getFileSizeMB(e){return(await this.ctx.get(Zs).stat(e)).size/1024/1024}};u();u();var OA=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}static{o(this,"Deferred")}};function Qb(t,e=void 0){return new Promise(r=>setTimeout(()=>r(e),t))}o(Qb,"delay");u();var GY=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}next(e){for(let r of this.observers)r.next(e)}error(e){for(let r of this.observers)r.error?.(e)}complete(){for(let e of this.observers)e.complete?.()}},OD=class extends GY{static{o(this,"ReplaySubject")}subscribe(e){let r=super.subscribe(e);return this._value!==void 0&&e.next(this._value),r}next(e){this._value=e,super.next(e)}};var Pb=class{constructor(e){this.ctx=e;this.#e=new zr("AsyncCompletionManager");this.requests=new Tn(100);this.mostRecentRequestId=""}static{o(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(e,r){for(let[n,i]of this.requests)if(VY(e,r,i))return!0;return!1}updateCompletion(e,r){let n=this.requests.get(e);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(e,r,n,i,s){this.#e.debug(this.ctx,`[${e}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new OD;return this.requests.set(e,{state:2,cancellationTokenSource:i,headerRequestId:e,prefix:r,prompt:n,subject:a}),s.then(c=>{if(this.requests.delete(e),c.type!=="success"){this.#e.debug(this.ctx,`[${e}] Request failed with`,c.reason),a.error(c.reason);return}let l={cancellationTokenSource:i,headerRequestId:e,prefix:r,prompt:n,subject:a,choice:c.value[0],result:c,state:0,allChoicesPromise:c.value[1]};this.requests.set(e,l),a.next(l),a.complete()}).catch(c=>{this.#e.error(this.ctx,`[${e}] Request errored with`,c),this.requests.delete(e),a.error(c)})}getFirstMatchingRequestWithTimeout(e,r,n,i,s){let a=this.ctx.get(Zr).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${e}] Waiting for completions without timeout`),this.getFirstMatchingRequest(e,r,n,i)):(this.#e.debug(this.ctx,`[${e}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(e,r,n,i),new Promise(c=>setTimeout(()=>c(null),a))]).then(c=>{if(c===null){this.#e.debug(this.ctx,`[${e}] Timed out waiting for completion`);return}return c}))}async getFirstMatchingRequest(e,r,n,i){i||(this.mostRecentRequestId=e);let s=!1,a=new OA,c=new Map,l=o(d=>()=>{let h=c.get(d);h!==void 0&&(h(),c.delete(d),!s&&c.size===0&&(s=!0,this.#e.debug(this.ctx,`[${e}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),f=o(d=>{if(VY(r,n,d)){if(d.state===0){let h=r.substring(d.prefix.length),{completionText:A}=d.choice;if(!A.startsWith(h)||A.length<=h.length){l(d.headerRequestId)();return}A=A.substring(h.length),d.choice.telemetryData.measurements.foundOffset=h.length,this.#e.debug(this.ctx,`[${e}] Found completion at offset ${h.length}: ${JSON.stringify(A)}`),a.resolve([{...d.choice,completionText:A},d.allChoicesPromise]),s=!0}}else this.cancelRequest(e,d),l(d.headerRequestId)()},"next");for(let[d,h]of this.requests)VY(r,n,h)?c.set(d,h.subject.subscribe({next:f,error:l(d),complete:l(d)})):this.cancelRequest(e,h);return a.promise.finally(()=>{for(let d of c.values())d()})}cancelRequest(e,r){e===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${e}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function VY(t,e,r){if(r.prompt.suffix!==e.suffix||!t.startsWith(r.prefix))return!1;let n=t.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(VY,"isCandidate");u();u();var z3=class{constructor(e){this.maxSize=e;this.root=new $3;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(e,r){let{node:n,remainingKey:i}=this.findClosestNode(e);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let c=s.slice(0,i.length),l=new $3;n.removeChild(s),n.addChild(c,l),l.addChild(s.slice(c.length),a),n=l,i=i.slice(c.length);break}if(i.length>0){let s=new $3;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(e){return this.findClosestNode(e).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(e){let{node:r,remainingKey:n}=this.findClosestNode(e);n.length>0||this.deleteNode(r)}findClosestNode(e){let r=!0,n=this.root,i=[{node:n,remainingKey:e}];for(;e.length>0&&r;){r=!1;for(let[s,a]of n.children)if(e.startsWith(s)){e=e.slice(s.length),i.unshift({node:a,remainingKey:e}),n=a,r=!0;break}}return{node:n,remainingKey:e,stack:i}}deleteNode(e){if(e.value=void 0,this.leafNodes.delete(e),e.parent===void 0||e.childCount>1)return;let{node:r,edge:n}=e.parent;if(e.childCount===1){let[s,a]=Array.from(e.children)[0];e.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],c=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(c,a)}}evictLeastRecentlyUsed(){let e=this.findLeastRecentlyUsed();e&&this.deleteNode(e)}findLeastRecentlyUsed(){let e;for(let r of this.leafNodes)(e===void 0||r.touched<e.touched)&&(e=r);return e}},$3=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(e,r){this._children.set(e,r),r.parent={node:this,edge:e}}removeChild(e){let r=this._children.get(e);r&&(r.parent=void 0),this._children.delete(e)}get value(){return this.touch(),this._value}set value(e){this.touch(),this._value=e}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Fb=class{constructor(){this.cache=new z3(100)}static{o(this,"CompletionsCache")}findAll(e,r){return this.cache.findAll(e).flatMap(({remainingKey:n,value:i})=>i.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(e,r,n){let i=this.cache.findAll(e);if(i.length>0&&i[0].remainingKey===""){let s=i[0].value.content;this.cache.set(e,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(e,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new z3(100)}};u();u();u();u();u();u();u();u();u();u();async function*UD(t,e){for await(let r of t)yield e(r)}o(UD,"asyncIterableMap");async function*k1e(t,e){for await(let r of t)await e(r)&&(yield r)}o(k1e,"asyncIterableFilter");u();function D1e(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});return or(t,"engine.messages",n,1)}o(D1e,"logEngineMessages");u();u();function N1e(t){if(t instanceof Error)return t.stack?t.stack:t.message;if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}o(N1e,"toString");var Jc=new zr("streamChoices"),YY=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new jY;this.tool_calls=[];this.function_call=new zY;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(e){if(e.text&&this.text.push(e.text),e.delta?.content&&e.delta.role!=="function"&&this.text.push(e.delta.content),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[])),e.copilot_annotations&&this.copilot_annotations.update(e.copilot_annotations),e.delta?.copilot_annotations&&this.copilot_annotations.update(e.delta.copilot_annotations),e.delta?.tool_calls&&e.delta.tool_calls.length>0)for(let r of e.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new $Y),this.tool_calls[n].update(r)}e.delta?.function_call&&this.function_call.update(e.delta.function_call),e?.finish_reason&&(this.finish_reason=e.finish_reason)}};function XKe(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!=""),r]}o(XKe,"splitChunk");var $Y=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(e){e.function.name&&(this.name=e.function.name),this.arguments.push(e.function.arguments)}},zY=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(e){e.name&&(this.name=e.name),this.arguments.push(e.arguments)}},jY=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(e){Object.entries(e).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(e,r){this.current[e]||(this.current[e]=[]);let n=this.current[e],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(e){return this.current[e]??[]}},Lb=class t{constructor(e,r,n,i,s,a,c){this.ctx=e;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=c;this.requestId=j3(this.response);this.stats=new JY;this.solutions={}}static{o(this,"SSEProcessor")}static create(e,r,n,i,s,a){let c=n.body();if(c===null)throw new Error("No response body available");return typeof c.setEncoding=="function"?c.setEncoding("utf8"):c=c.pipeThrough(new TextDecoderStream),new t(e,r,n,c,i,s??[],a)}async*processSSE(e=()=>{}){try{yield*this.processSSEInner(e)}finally{this.cancel(),Jc.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Jc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(e){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Jc.debug(this.ctx,"chunk",a.toString());let[c,l]=XKe(r+a.toString());r=l;for(let f of c){let d=f.slice(5).trim();if(d=="[DONE]"){yield*this.finishSolutions(n,i,s,e);return}n=null;let h;try{h=JSON.parse(d)}catch{Jc.error(this.ctx,"Error parsing JSON stream data",f);continue}if(h.copilot_confirmation&&ZKe(h.copilot_confirmation)&&await e("",{text:"",requestId:this.requestId,copilotConfirmation:h.copilot_confirmation}),h.copilot_references&&await e("",{text:"",requestId:this.requestId,copilotReferences:h.copilot_references}),h.choices===void 0){!h.copilot_references&&!h.copilot_confirmation&&(h.error!==void 0?Jc.error(this.ctx,"Error in response:",h.error.message):Jc.error(this.ctx,"Unexpected response with no choices or error: "+d)),h.copilot_errors&&await e("",{text:"",requestId:this.requestId,copilotErrors:h.copilot_errors});continue}if(i===void 0&&h.model&&(i=h.model),s===void 0&&h.usage&&(s=h.usage),this.allSolutionsDone()){r="";break e}for(let A=0;A<h.choices?.length;A++){let g=h.choices[A];Jc.debug(this.ctx,"choice",g),this.stats.add(g.index),g.index in this.solutions||(this.solutions[g.index]=new YY);let y=this.solutions[g.index];if(y==null)continue;y.append(g);let v=this.asSolutionDecision(),_=g.text?.indexOf(`
`)>-1||g.delta?.content?.indexOf(`
`)>-1;if(g.finish_reason||_){let S=y.text.join("");if(v=this.asSolutionDecision(await e(S,{text:S,index:g.index,requestId:this.requestId,annotations:y.copilot_annotations,copilotReferences:y.copilot_references,getAPIJsonData:o(()=>KY(y),"getAPIJsonData"),finished:!!g.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(g.finish_reason&&y.function_call.name!==void 0){n=g.finish_reason;continue}if(g.finish_reason&&(v.yieldSolution=!0,v.continueStreaming=!1),!v.yieldSolution)continue;let T=g.finish_reason??"client-trimmed";if(or(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:T,engineName:i??"",engineChoiceSource:I3(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(g.finish_reason)?this.solutions[g.index]=null:y.yielded||(this.stats.markYielded(g.index),yield{solution:y,finishOffset:v.finishOffset,reason:g.finish_reason,requestId:this.requestId,index:g.index,model:i,usage:s},y.yielded=!0),this.maybeCancel("after yielding finished choice"))return;v.continueStreaming||(this.solutions[g.index]=null)}}}for(let[a,c]of Object.entries(this.solutions)){let l=Number(a);if(c!=null&&(or(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(l),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:l,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Jc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Jc.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(e){return e===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof e=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:e}:e}async*finishSolutions(e,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let c=Number(s);if(a==null)continue;let l=a.text.join("");if(await i(l,{text:l,index:c,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>KY(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(c),or(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:e??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:e??"DONE",requestId:this.requestId,index:c,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(Jc.debug(this.ctx,"Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length==this.expectedNumChoices&&e.every(r=>r==null)}};function HD(t,e,r){let n=e.solution.text.join(""),i=!1;e.finishOffset!==void 0&&(Jc.debug(t,`solution ${e.index}: early finish at offset ${e.finishOffset}`),n=n.substring(0,e.finishOffset),i=!0),Jc.info(t,`solution ${e.index} returned. finish reason: [${e.reason}]`),Jc.debug(t,`solution ${e.index} details: finishOffset: [${e.finishOffset}]`);let s=KY(e.solution);return ZY(t,n,s,e.index,e.requestId,i,r)}o(HD,"prepareSolutionForReturn");function KY(t){let e=t.text.join(""),r=eJe(t),n=tJe(t),i=t.copilot_annotations.current,s={text:e,tokens:t.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:t.finish_reason??"stop"};if(t.logprobs.length===0)return s;let a=t.logprobs.reduce((d,h)=>d.concat(h),[]),c=t.top_logprobs.reduce((d,h)=>d.concat(h),[]),l=t.text_offset.reduce((d,h)=>d.concat(h),[]),f=t.tokens.reduce((d,h)=>d.concat(h),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:c,text_offset:l,tokens:f}}}o(KY,"convertToAPIJsonData");function ZKe(t){return typeof t.title=="string"&&typeof t.message=="string"&&!!t.confirmation}o(ZKe,"isCopilotConfirmation");function Q1e(t,e,r){if(!t)return{};try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse JSON for ${e} '${r}': ${N1e(n)}. Input: '${t}'`)}}o(Q1e,"parseCallArguments");function eJe(t){let e=[];for(let r of t.tool_calls)if(r.name){let n=r.arguments.join("").trim(),i=Q1e(n,"tool call",r.name);e.push({type:"function",function:{name:r.name,arguments:i},approxNumTokens:r.arguments.length+1})}return e}o(eJe,"extractToolCalls");function tJe(t){if(t.function_call.name){let e=t.function_call.arguments.join("").trim(),r=Q1e(e,"function call",t.function_call.name);return{name:t.function_call.name,arguments:r}}}o(tJe,"extractFunctionCall");var JY=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(e){let r=this.choices.get(e);return r||(r=new XY,this.choices.set(e,r)),r}add(e){this.getChoiceStats(e).increment()}markYielded(e){this.getChoiceStats(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},XY=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};u();function rJe(t,e){return t!==null&&typeof t=="object"&&e in t}o(rJe,"hasKey");function Wd(t,e){return rJe(t,e)?t[e]:void 0}o(Wd,"getKey");var F1e=yt($a());var _o=new zr("fetchCompletions");function j3(t){return{headerRequestId:t.headers.get("x-request-id")||"",serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}o(j3,"getRequestId");function e$(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}o(e$,"getProcessingTime");function L1e(t){switch(t){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(L1e,"uiKindToIntent");var UA=class{static{o(this,"OpenAIFetcher")}};function nJe(t,e,r,n){return g4(t,e,"proxy","v1/engines",r,n)}o(nJe,"getProxyEngineUrl");function M1e(t,e,r,n){for(let[i,s]of Object.entries(t)){if(r.includes(i))continue;let a=s;if(i==="extra"&&n){let c={...a};for(let l of n)delete c[l];a=c}e.properties[`request.option.${i}`]=JSON.stringify(a)??"undefined"}}o(M1e,"sanitizeRequestOptionTelemetry");async function P1e(t,e,r,n,i,s,a,c,l,f,d){let h=t.get($s),A=nJe(t,a,r,n),g=l.extendedBy({endpoint:n,engineName:r,uiKind:c},oY(e));M1e(s,g,["prompt","suffix"],["context"]),g.properties.headerRequestId=i,or(t,"request.sent",g);let y=Xa(),v=L1e(c);return zU(t,A,a.token,v,i,s,f,d).then(_=>{let T=j3(_);g.extendWithRequestId(T);let S=Xa()-y;return g.measurements.totalTimeMs=S,_o.info(t,`Request ${i} at <${A}> finished with ${_.status} status after ${S}ms`),g.properties.status=String(_.status),_o.debug(t,"request.response properties",g.properties),_o.debug(t,"request.response measurements",g.measurements),_o.debug(t,"prompt:",e),or(t,"request.response",g),_}).catch(_=>{if(jm(_))throw or(t,"request.cancel",g),_;h.setWarning(Wd(_,"message")??"");let T=g.extendedBy({error:"Network exception"});or(t,"request.shownWarning",T),g.properties.message=String(Wd(_,"name")??""),g.properties.code=String(Wd(_,"code")??""),g.properties.errno=String(Wd(_,"errno")??""),g.properties.type=String(Wd(_,"type")??"");let S=Xa()-y;throw g.measurements.totalTimeMs=S,_o.info(t,`Request ${i} at <${A}> rejected with ${String(_)} after ${S}ms`),_o.debug(t,"request.error properties",g.properties),_o.debug(t,"request.error measurements",g.measurements),or(t,"request.error",g),_}).finally(()=>{_me(t,e,g)})}o(P1e,"fetchWithInstrumentation");async function iJe(t,e,r,n,i,s,a,c,l,f){let d=l.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:c});M1e(s,d,["messages"]),d.properties.headerRequestId=i,or(t,"request.sent",d);let h=Xa(),A=L1e(c),g={...rW(t)};try{let y=await zU(t,n,a.token,A,i,s,f,g),v=j3(y);d.extendWithRequestId(v);let _=Xa()-h;return d.measurements.totalTimeMs=_,_o.info(t,`Request ${i} at <${n}> finished with ${y.status} status after ${_}ms`),_o.debug(t,"request.response properties",d.properties),_o.debug(t,"request.response measurements",d.measurements),_o.debug(t,"messages:",JSON.stringify(e)),or(t,"request.response",d),y}catch(y){if(jm(y))throw or(t,"request.cancel",d),y;let v=d.extendedBy({error:"Network exception"});or(t,"request.shownWarning",v),d.properties.message=String(Wd(y,"name")??""),d.properties.code=String(Wd(y,"code")??""),d.properties.errno=String(Wd(y,"errno")??""),d.properties.type=String(Wd(y,"type")??"");let _=Xa()-h;throw d.measurements.totalTimeMs=_,_o.info(t,`Request ${i} at <${n}> rejected with ${String(y)} after ${_}ms`),_o.debug(t,"request.error properties",d.properties),_o.debug(t,"request.error measurements",d.measurements),or(t,"request.error",d),y}finally{D1e(t,e,d)}}o(iJe,"fetchChatWithInstrumentation");function t$(t){return k1e(t,e=>e.completionText.trim().length>0)}o(t$,"postProcessChoices");var oJe="github.copilot.completions.quotaExceeded",K3=class extends UA{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(e,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=e.get($s),c="completions",l=await e.get(ya).getToken(),f=await this.fetchWithParameters(e,c,r,l,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(y){_o.exception(e,y,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(c,e,r);return this.handleError(e,a,g,f,l)}let h=Lb.create(e,r.count,f,n,[],s).processSSE(i),A=UD(h,g=>HD(e,g,n));return{type:"success",choices:t$(A),getProcessingTime:o(()=>e$(f),"getProcessingTime")}}async fetchAndStreamChat(e,r,n,i,s,a,c,l={},f){if(this.#e)return{type:"canceled",reason:this.#e};let d="https://copilot-proxy.githubusercontent.com/chat/completions",h={messages:r,model:c.id,stream:!0,...l},A=n.extendedBy({endpoint:d,model:c.name}),g=e.get($s),y=await e.get(ya).getToken(),v=await iJe(e,r,c.id,d,s,h,y,i,A,f);if(f?.isCancellationRequested){let D=v.body();try{D&&"destroy"in D&&typeof D.destroy=="function"?D.destroy():D instanceof ReadableStream&&D.cancel()}catch(Q){_o.exception(e,Q,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(v.status!==200){let D=rn.createAndMarkAsIssued({endpoint:d,engineName:c.name,uiKind:i,headerRequestId:s});return this.handleError(e,g,D,v,y)}let T=Lb.create(e,1,v,A,[],F1e.CancellationToken.None).processSSE(),S=UD(T,D=>HD(e,D,n));return{type:"success",choices:t$(S),getProcessingTime:o(()=>e$(v),"getProcessingTime")}}async fetchAndStreamSpeculation(e,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=e.get($s),c="speculation",l=await e.get(ya).getToken(),f={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:lf(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},d=await this.fetchSpeculationWithParameters(e,c,f,l,n,s);if(d==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let y=d.body();try{y&&"destroy"in y&&typeof y.destroy=="function"?y.destroy():y instanceof ReadableStream&&y.cancel()}catch(v){_o.exception(e,v,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(d.status!==200){let y=this.createTelemetryData(c,e,f);return this.handleError(e,a,y,d,l)}let A=Lb.create(e,1,d,n,[],s).processSSE(i),g=UD(A,y=>HD(e,y,n));return{type:"success",choices:t$(g),getProcessingTime:o(()=>e$(d),"getProcessingTime")}}createTelemetryData(e,r,n){return rn.createAndMarkAsIssued({endpoint:e,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(e,r,n,i,s,a){let c={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await Qb(0),a?.isCancellationRequested?"not-sent":await P1e(e,n.prompt,n.engineModelId,r,n.ourRequestId,c,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(e,r,n,i,s,a){let c=e.get(Zr).disableLogProb(s),l={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:qD(e),temperature:r$(e,n.count),top_p:U1e(e),n:n.count,stop:O1e(e,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!c)&&(l.logprobs=2);let f=v3(n.repoInfo);return f!==void 0&&(l.nwo=f),n.postOptions&&Object.assign(l,n.postOptions),n.prompt.context&&(l.extra.context=n.prompt.context),await Qb(0),a?.isCancellationRequested?"not-sent":await P1e(e,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async handleError(e,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:oJe,title:"Learn More"});let l=ma(e,f=>{this.#e=void 0,(f.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),l.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),_o.info(e,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let c=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;_o.error(e,c),r.setWarning(c),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(_o.warn(e,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),or(e,"request.shownWarning",n),i.status===401||i.status===403?(e.get(ya).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",_o.warn(e,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(_o.info(e,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(_o.error(e,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function ZY(t,e,r,n,i,s,a){return Tme(t,e,r,i,n),{completionText:e,meanLogProb:sJe(t,r),meanAlternativeLogProb:aJe(t,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:lf(),finishReason:r.finish_reason}}o(ZY,"convertToAPIChoice");function sJe(t,e){if(e?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<e.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=e.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){hs.exception(t,r,"Error calculating mean prob")}}o(sJe,"calculateMeanLogProb");function aJe(t,e){if(e?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<e.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...e.logprobs.top_logprobs[s]};delete a[e.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){hs.exception(t,r,"Error calculating mean prob")}}o(aJe,"calculateMeanAlternativeLogProb");function r$(t,e){return Gy(t)||e<=1?0:e<10?.2:e<20?.4:.8}o(r$,"getTemperatureForSamples");var cJe={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function O1e(t,e){return cJe[e??""]??[`


`,"\n```"]}o(O1e,"getStops");function U1e(t){return 1}o(U1e,"getTopP");function qD(t){return b3}o(qD,"getMaxSolutionTokens");u();u();var Mb=class{constructor(){this.cache=new Tn(100)}static{o(this,"SpeculativeRequestCache")}set(e,r){this.cache.set(e,r)}async request(e){let r=this.cache.get(e);r!==void 0&&(this.cache.delete(e),await r())}};var s_r=new zr("getCompletions");u();u();u();u();u();u();var Yd=class{constructor(e=()=>new n$){this.createStatistics=e;this.statistics=new Tn(25)}static{o(this,"ContextProviderStatistics")}getStatisticsForCompletion(e){let r=this.statistics.get(e);if(r)return r;let n=this.createStatistics();return this.statistics.set(e,n),n}getPreviousStatisticsForCompletion(e){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==e)return this.statistics.peek(i)}}},n$=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"PerCompletionContextProviderStatistics")}addExpectations(e,r){let n=this._expectations.get(e)??[];this._expectations.set(e,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(e,r){this._lastResolution.set(e,r)}get(e){return this._statistics.get(e)}computeMatch(e){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[f,d]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),d==="content_excluded"){s.push({...h,usage:"none_content_excluded"});continue}let A=e.find(g=>g.source===f);A===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:A.expectedTokens>0&&A.expectedTokens===A.actualTokens?"full":A.actualTokens>0?"partial":"none",expectedTokens:A.expectedTokens,actualTokens:A.actualTokens})}let c=s.reduce((f,d)=>d.usage==="full"?f+1:d.usage==="partial"?f+.5:f,0)/n.length,l=c===1?"full":c===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:l,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function q1e(t){return t.map(e=>{if(!(e.source===void 0||e.expectedTokens===void 0||e.actualTokens===void 0))return{source:e.source,expectedTokens:e.expectedTokens,actualTokens:e.actualTokens}}).filter(e=>e!==void 0)}o(q1e,"componentStatisticsToPromptMatcher");u();var G1e=X.Object({importance:X.Optional(X.Integer({minimum:0,maximum:100})),id:X.Optional(X.String()),origin:X.Optional(X.Union([X.Literal("request"),X.Literal("update")]))}),V1e=X.Intersect([X.Object({name:X.String(),value:X.String()}),G1e]),W1e=X.Intersect([X.Object({uri:X.String(),value:X.String(),additionalUris:X.Optional(X.Array(X.String()))}),G1e]),lJe=[V1e,W1e],uJe=X.Union(lJe),x_r=new Map([["Trait",Pg.Compile(V1e)],["CodeSnippet",Pg.Compile(W1e)]]),fJe=o(t=>t,"ensureTypesAreEqual");fJe(!0);var dJe=X.Object({contextItems:X.Array(uJe)}),hJe=X.Object({selector:X.Array(X.Union([X.String(),X.Object({language:X.Optional(X.String()),scheme:X.Optional(X.String()),pattern:X.Optional(X.String())})]))}),i$=X.Object({id:X.String()}),AJe=X.Intersect([i$,hJe]),pJe=X.Intersect([i$,dJe]),T_r=X.Object({providers:X.Array(AJe)}),__r=X.Object({providers:X.Array(i$)}),mJe=X.Object({providers:X.Array(pJe),updating:X.Optional(X.Array(X.String()))}),S_r=X.Intersect([Ase,X.Object({contextItems:X.Optional(mJe)})]);function GD(t,e){return t.map(r=>{let n=r.data.filter(i=>i.type===e);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(GD,"filterContextItemsByType");var gJe="content_excluded";async function Y1e(t,e,r,n){let i=GD(r,"CodeSnippet");if(i.length===0)return[];let s=new Set,a=i.flatMap(d=>d.data.map(h=>(s.add(h.uri),h.additionalUris?.forEach(A=>s.add(A)),{providerId:d.providerId,data:h}))),c=t.get(ni),l=new Map;await Promise.all(Array.from(s).map(async d=>{l.set(d,await c.getTextDocumentValidation({uri:d}))}));let f=t.get(Yd).getStatisticsForCompletion(e);return a.filter(d=>{let A=[d.data.uri,...d.data.additionalUris??[]].every(g=>l.get(g)?.status==="valid");return A?f.addExpectations(d.providerId,[[d.data,"included"]]):f.addExpectations(d.providerId,[[d.data,gJe]]),A}).map(d=>d.data)}o(Y1e,"getCodeSnippetsFromContextItems");function $1e(t,e){let r=t.get(ni);return e.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o($1e,"addRelativePathToCodeSnippets");u();function Fo(t){if(t.children)return Array.isArray(t.children)?t.children.join(""):t.children}o(Fo,"Text");function Ug(t){return t.children}o(Ug,"Chunk");u();function Ht(t,e,r){let n=[];Array.isArray(e.children)?n=e.children:e.children&&(n=[e.children]);let i={...e,children:n};return r&&(i.key=r),{type:t,props:i}}o(Ht,"functionComponentFunction");function ff(t){return{type:"f",children:t}}o(ff,"fragmentFunction");ff.isFragmentFunction=!0;var VD=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState();if(e.useData(ac,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=$1e(t.ctx,r),c=new Map;for(let f of a){let d=f.relativePath??f.snippet.uri,h=c.get(d);h===void 0&&(h=[],c.set(d,h)),h.push(f)}let l=[];for(let[f,d]of c.entries()){let h=d.filter(A=>A.snippet.value.length>0);h.length>0&&l.push({chunkElements:h.map(A=>A.snippet),importance:Math.max(...h.map(A=>A.snippet.importance??0)),uri:f})}if(l.length!==0)return l.sort((f,d)=>d.importance-f.importance),l.reverse(),l.map(f=>{let d=[];return d.push(Ht(Fo,{children:`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`})),f.chunkElements.forEach((h,A)=>{d.push(Ht(Fo,{source:h,children:h.value},h.id)),f.chunkElements.length>1&&A<f.chunkElements.length-1&&d.push(Ht(Fo,{children:"---"}))}),Ht(Ug,{children:d})})},"CodeSnippets");u();function o$(t){return t.children}o(o$,"CompletionsContext");function s$(t){return t.children}o(s$,"StableCompletionsContext");function a$(t){return t.children}o(a$,"AdditionalCompletionsContext");function WD(t){return t.name===o$.name||t.name===s$.name||t.name===a$.name}o(WD,"isContextNode");u();u();u();function YD(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let r=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let n=0;n<t.length;n++)r[n][0]=n;for(let n=0;n<e.length;n++)r[0][n]=n;for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(t[i]==e[n]?0:1));return{score:r[t.length-1][e.length-1]}}o(YD,"findEditDistanceScore");var J3=50;function c$(t){let e=t*4,r=t*.1;return Math.floor(e+r)}o(c$,"approximateMaxCharacters");function X3(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0),[l,f]=e.useState(),[d,h]=e.useState();e.useData(ac,g=>{let y=g.document;(g.document.uri!==r?.uri||y.getText()!==r?.getText())&&n(y),g.position!==i&&s(g.position),g.suffixMatchThreshold!==l&&f(g.suffixMatchThreshold),g.maxPromptTokens!==a&&c(g.maxPromptTokens),g.tokenizer!==d&&h(g.tokenizer)});let A=c$(a);return Ht(ff,{children:[Ht(oE,{document:r,position:i,maxCharacters:A}),Ht($D,{document:r,position:i,suffixMatchThreshold:l,maxCharacters:A,tokenizer:d})]})}o(X3,"CurrentFile");function oE(t){if(t.document===void 0||t.position===void 0)return Ht(Fo,{});let e=t.document.getText({start:{line:0,character:0},end:t.position});return e.length>t.maxCharacters&&(e=e.slice(-t.maxCharacters)),Ht(Fo,{children:e})}o(oE,"BeforeCursor");function $D(t,e){let[r,n]=e.useState("");if(t.document===void 0||t.position===void 0)return Ht(Fo,{});let i=t.document.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>t.maxCharacters&&(i=i.slice(0,t.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return Ht(Fo,{});if(r===s)return Ht(Fo,{children:r});let a=s;if(r!==""){let c=rf(t.tokenizer),l=c.takeFirstTokens(s,J3);l.tokens.length>0&&100*YD(l.tokens,c.takeFirstTokens(r,J3).tokens)?.score<(t.suffixMatchThreshold??pb)*l.tokens.length&&(a=r)}return a!==r&&n(a),Ht(Fo,{children:a})}o($D,"AfterCursor");function z1e(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0);e.useData(ac,f=>{let d=f.document;(f.document.uri!==r?.uri||d.getText()!==r?.getText())&&n(d),f.position!==i&&s(f.position),f.maxPromptTokens!==a&&c(f.maxPromptTokens)});let l=c$(a);return Ht(oE,{document:r,position:i,maxCharacters:l})}o(z1e,"DocumentPrefix");function j1e(t,e){let[r,n]=e.useState(),[i,s]=e.useState(),[a,c]=e.useState(0),[l,f]=e.useState(),[d,h]=e.useState();e.useData(ac,g=>{let y=g.document;(g.document.uri!==r?.uri||y.getText()!==r?.getText())&&n(y),g.position!==i&&s(g.position),g.suffixMatchThreshold!==l&&f(g.suffixMatchThreshold),g.maxPromptTokens!==a&&c(g.maxPromptTokens),g.tokenizer!==d&&h(g.tokenizer)});let A=c$(a);return Ht($D,{document:r,position:i,suffixMatchThreshold:l,maxCharacters:A,tokenizer:d})}o(j1e,"DocumentSuffix");u();var zD=class{static{o(this,"WishlistElision")}elide(e,r,n,i,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,c]=this.preparePrefixBlocks(e,s),{elidedSuffix:l,adjustedPrefixTokenLimit:f}=this.elideSuffix(n,i,r,c,s),d=this.elidePrefix(a,f,c,s);return{blocks:[l,...d],cycles:1}}preparePrefixBlocks(e,r){let n=0,i=new Set;return[e.map((a,c)=>{let l=0,d=a.value.split(/([^\n]*\n+)/).filter(A=>A!=="").map(A=>{let g=r.tokenLength(A);return l+=g,n+=g,{line:A,componentPath:a.componentPath,tokens:g}}),h=a.componentPath;if(i.has(h))throw new Error(`Duplicate component path in prefix blocks: ${h}`);return i.add(h),{...a,tokens:l,markedForRemoval:!1,originalIndex:c,lines:d}}),n]}elideSuffix(e,r,n,i,s){let a=e.value;if(a.length===0||r<=0)return{elidedSuffix:{...e,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let c=s.takeFirstTokens(a,r);return{elidedSuffix:{...e,value:a,tokens:s.tokenLength(a),elidedValue:c.text,elidedTokens:c.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-c.tokens.length)}}elidePrefix(e,r,n,i){let s=this.removeLowWeightPrefixBlocks(e,r,n),a=s.filter(d=>!d.markedForRemoval).flatMap(d=>d.lines);if(a.length===0)return[];let[c,l]=this.trimPrefixLinesToFit(a,r,i),f=l;return s.map(d=>{if(d.markedForRemoval)return f+d.tokens<=r&&!d.chunks?(f+=d.tokens,{...d,elidedValue:d.value,elidedTokens:d.tokens}):{...d,elidedValue:"",elidedTokens:0};let h=c.filter(g=>g.componentPath===d.componentPath&&g.line!=="").map(g=>g.line).join(""),A=d.tokens;return h!==d.value&&(A=h!==""?i.tokenLength(h):0),{...d,elidedValue:h,elidedTokens:A}})}removeLowWeightPrefixBlocks(e,r,n){let i=n;e.sort((s,a)=>s.weight-a.weight);for(let s of e){if(i<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of e)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(c=>a.chunks?.has(c))&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return e.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(e,r,n){let i=0,s=[];for(let a=e.length-1;a>=0;a--){let c=e[a],l=c.tokens;if(i+l<=r)s.unshift(c),i+=l;else break}if(s.length===0){let a=e[e.length-1];if(a&&a.line.length>0){let l=n.takeLastTokens(a.line,r);return s.push({line:l.text,componentPath:a.componentPath,tokens:l.tokens.length}),[s,l.tokens.length]}let c=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(c)}return[s,i]}};function K1e(t){return t.map(e=>e.elidedValue).join("")}o(K1e,"makePrompt");function J1e(t){return t.filter(e=>e.type==="prefix").map(e=>e.elidedValue).join("")}o(J1e,"makePrefixPrompt");function X1e(t){if(t.length===0)return[];let e=new Map;for(let i of t)if(i.type==="context"&&i.index!==void 0){e.has(i.index)||e.set(i.index,[]);let s=i.elidedValue.trim();s.length>0&&e.get(i.index).push(s)}let r=Math.max(...Array.from(e.keys()),-1),n=[];for(let i=0;i<=r;i++){let s=e.get(i);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}o(X1e,"makeContextPrompt");u();var Ob=class{constructor(e,r=l$()){this.snapshot=e;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(e){this.walkSnapshotNode(this.snapshot,void 0,e,{})}walkSnapshotNode(e,r,n,i){let s=this.transformers.reduce((c,l)=>l(e,r,c),{...i});if(n(e,r,s))for(let c of e.children??[])this.walkSnapshotNode(c,e,n,s)}};function l$(){return[(t,e,r)=>{r.weight===void 0&&(r.weight=1);let n=t.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(t,e,r)=>{if(t.name===Ug.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(t.path),{...r,chunks:n}}return r},(t,e,r)=>t.props?.source!==void 0?{...r,source:t.props.source}:r]}o(l$,"defaultTransformers");u();var u$={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Z1e={};for(let[t,e]of Object.entries(u$))if(e.markdownLanguageIds)for(let r of e.markdownLanguageIds)Z1e[r]=t;else Z1e[t]=t;var yJe={start:"//",end:""},CJe=["php","plaintext"],f$={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function eye(t){return Object.values(f$).includes(t.trim())}o(eye,"isShebangLine");function EJe({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}o(EJe,"hasLanguageMarker");function IJe(t,e){let r=u$[e]?u$[e].lineComment:yJe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${t}${n}`}return""}o(IJe,"comment");function HA(t,e){if(t==="")return"";let r=t.endsWith(`
`),i=(r?t.slice(0,-1):t).split(`
`).map(s=>IJe(s,e)).join(`
`);return r?i+`
`:i}o(HA,"commentBlockAsSingles");function jD(t){let{languageId:e}=t;return CJe.indexOf(e)===-1&&!EJe(t)?e in f$?f$[e]:`Language: ${e}`:""}o(jD,"getLanguageMarker");function KD(t){return t.relativePath?`Path: ${t.relativePath}`:""}o(KD,"getPathMarker");function Z3(t){return t===""||t.endsWith(`
`)?t:t+`
`}o(Z3,"newLineEnded");var vJe=5,Ub=class{constructor(){this.renderId=0;this.formatPrefix=K1e}static{o(this,"CompletionsPromptRenderer")}render(e,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",c=r.tokenizer??"o200k_base",{prefixBlocks:l,suffixBlock:f,componentStatistics:d}=this.processSnapshot(e,a,r.languageId),{prefixTokenLimit:h,suffixTokenLimit:A}=this.getPromptLimits(f,r),g=performance.now(),y=new zD,{blocks:[v,..._]}=y.elide(l,h,f,A,rf(c)),T=performance.now(),S=this.formatPrefix(_),D=this.formatContext?this.formatContext(_):void 0,Q=v.elidedValue,k=_.reduce((P,W)=>P+W.elidedTokens,0);return d.push(...bJe([..._,v])),{prefix:S,prefixTokens:k,suffix:Q,suffixTokens:v.elidedTokens,context:D,status:"ok",metadata:{renderId:i,rendererName:"c",tokenizer:c,elisionTimeMs:T-g,renderTimeMs:performance.now()-s,componentStatistics:d,updateDataTimeMs:d.reduce((P,W)=>P+(W.updateDataTimeMs??0),0)}}}catch(a){return{status:"error",error:a}}}getPromptLimits(e,r){let n=e?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-vJe:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(e,r,n){let i=[],s=[],a=[],c=!1;if(new Ob(e,d$).walkSnapshot((d,h,A)=>{if(d===e||(d.name===X3.name&&(c=!0),d.statistics.updateDataTimeMs&&d.statistics.updateDataTimeMs>0&&a.push({componentPath:d.path,updateDataTimeMs:d.statistics.updateDataTimeMs}),d.value===void 0||d.value===""))return!0;let g=A.chunks;if(A.type==="suffix")s.push({value:eS(d.value),type:"suffix",weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:g,source:A.source});else{let y=d.value.endsWith(r)?d.value:d.value+r,v=y;A.type==="prefix"?v=d.value:eye(d.value)?v=y:v=HA(y,n),i.push({type:A.type==="prefix"?"prefix":"context",value:eS(v),weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:g,source:A.source})}return!0}),!c)throw new Error(`Node of type ${X3.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},d$=[...l$(),(t,e,r)=>WD(t)?{...r,type:"context"}:r,(t,e,r)=>t.name===oE.name?{...r,type:"prefix"}:r,(t,e,r)=>t.name===$D.name?{...r,type:"suffix"}:r];function bJe(t){return t.map(e=>{let r={componentPath:e.componentPath};return e.tokens!==0&&(r.expectedTokens=e.tokens,r.actualTokens=e.elidedTokens),e.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=e.nodeStatistics.updateDataTimeMs),e.source&&(r.source=e.source),r})}o(bJe,"computeComponentStatistics");function eS(t){return t.replace(/\r\n?/g,`
`)}o(eS,"normalizeLineEndings");u();var JD=o((t,e)=>{let[r,n]=e.useState();if(e.useData(ac,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=t.ctx.get(ni),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},c=i.findNotebook(r);return a.relativePath&&!c?Ht(xJe,{docInfo:a}):Ht(TJe,{docInfo:a})}},"DocumentMarker"),xJe=o(t=>Ht(Fo,{children:KD(t.docInfo)}),"PathMarker"),TJe=o(t=>Ht(Fo,{children:jD(t.docInfo)}),"LanguageMarker");u();u();u();u();function tS(t){if(!t()){debugger;t(),vb(new Ns("Assertion Failed"))}}o(tS,"assertFn");u();u();u();u();u();var Hg=o((t,e)=>t===e,"strictEquals");u();u();var tye=class t{static{o(this,"Node")}static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}};u();var _Je=globalThis.performance&&typeof globalThis.performance.now=="function",XD=class t{static{o(this,"StopWatch")}static create(e){return new t(e)}constructor(e){this._now=_Je&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var rye=!1,SJe=!1,nS;(ue=>{ue.None=o(()=>Kc.None,"None");function e(J){if(SJe){let{onDidAddListener:H}=J,Z=rS.create(),ee=0;J.onDidAddListener=()=>{++ee===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Z.print()),H?.()}}}o(e,"_addLeakageTraceLogic");function r(J,H){return g(J,()=>{},0,void 0,!0,void 0,H)}ue.defer=r,o(r,"defer");function n(J){return(H,Z=null,ee)=>{let se=!1,ne;return ne=J(le=>{if(!se)return ne?ne.dispose():se=!0,H.call(Z,le)},null,ee),se&&ne.dispose(),ne}}ue.once=n,o(n,"once");function i(J,H){return ue.once(ue.filter(J,H))}ue.onceIf=i,o(i,"onceIf");function s(J,H,Z){return h((ee,se=null,ne)=>J(le=>ee.call(se,H(le)),null,ne),Z)}ue.map=s,o(s,"map");function a(J,H,Z){return h((ee,se=null,ne)=>J(le=>{H(le),ee.call(se,le)},null,ne),Z)}ue.forEach=a,o(a,"forEach");function c(J,H,Z){return h((ee,se=null,ne)=>J(le=>H(le)&&ee.call(se,le),null,ne),Z)}ue.filter=c,o(c,"filter");function l(J){return J}ue.signal=l,o(l,"signal");function f(...J){return(H,Z=null,ee)=>{let se=Vme(...J.map(ne=>ne(le=>H.call(Z,le))));return A(se,ee)}}ue.any=f,o(f,"any");function d(J,H,Z,ee){let se=Z;return s(J,ne=>(se=H(se,ne),se),ee)}ue.reduce=d,o(d,"reduce");function h(J,H){let Z,ee={onWillAddFirstListener(){Z=J(se.fire,se)},onDidRemoveLastListener(){Z?.dispose()}};H||e(ee);let se=new df(ee);return H?.add(se),se.event}o(h,"snapshot");function A(J,H){return H instanceof Array?H.push(J):H&&H.add(J),J}o(A,"addAndReturnDisposable");function g(J,H,Z=100,ee=!1,se=!1,ne,le){let he,Ke,tt,ct=0,Ct,qt={leakWarningThreshold:ne,onWillAddFirstListener(){he=J(kn=>{ct++,Ke=H(Ke,kn),ee&&!tt&&(Or.fire(Ke),Ke=void 0),Ct=o(()=>{let br=Ke;Ke=void 0,tt=void 0,(!ee||ct>1)&&Or.fire(br),ct=0},"doFire"),typeof Z=="number"?(clearTimeout(tt),tt=setTimeout(Ct,Z)):tt===void 0&&(tt=0,queueMicrotask(Ct))})},onWillRemoveListener(){se&&ct>0&&Ct?.()},onDidRemoveLastListener(){Ct=void 0,he.dispose()}};le||e(qt);let Or=new df(qt);return le?.add(Or),Or.event}ue.debounce=g,o(g,"debounce");function y(J,H=0,Z){return ue.debounce(J,(ee,se)=>ee?(ee.push(se),ee):[se],H,void 0,!0,void 0,Z)}ue.accumulate=y,o(y,"accumulate");function v(J,H=(ee,se)=>ee===se,Z){let ee=!0,se;return c(J,ne=>{let le=ee||!H(ne,se);return ee=!1,se=ne,le},Z)}ue.latch=v,o(v,"latch");function _(J,H,Z){return[ue.filter(J,H,Z),ue.filter(J,ee=>!H(ee),Z)]}ue.split=_,o(_,"split");function T(J,H=!1,Z=[],ee){let se=Z.slice(),ne=J(Ke=>{se?se.push(Ke):he.fire(Ke)});ee&&ee.add(ne);let le=o(()=>{se?.forEach(Ke=>he.fire(Ke)),se=null},"flush"),he=new df({onWillAddFirstListener(){ne||(ne=J(Ke=>he.fire(Ke)),ee&&ee.add(ne))},onDidAddFirstListener(){se&&(H?setTimeout(le):le())},onDidRemoveLastListener(){ne&&ne.dispose(),ne=null}});return ee&&ee.add(he),he.event}ue.buffer=T,o(T,"buffer");function S(J,H){return o((ee,se,ne)=>{let le=H(new Q);return J(function(he){let Ke=le.evaluate(he);Ke!==D&&ee.call(se,Ke)},void 0,ne)},"fn")}ue.chain=S,o(S,"chain");let D=Symbol("HaltChainable");class Q{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(H){return this.steps.push(H),this}forEach(H){return this.steps.push(Z=>(H(Z),Z)),this}filter(H){return this.steps.push(Z=>H(Z)?Z:D),this}reduce(H,Z){let ee=Z;return this.steps.push(se=>(ee=H(ee,se),ee)),this}latch(H=(Z,ee)=>Z===ee){let Z=!0,ee;return this.steps.push(se=>{let ne=Z||!H(se,ee);return Z=!1,ee=se,ne?se:D}),this}evaluate(H){for(let Z of this.steps)if(H=Z(H),H===D)break;return H}}function k(J,H,Z=ee=>ee){let ee=o((...he)=>le.fire(Z(...he)),"fn"),se=o(()=>J.on(H,ee),"onFirstListenerAdd"),ne=o(()=>J.removeListener(H,ee),"onLastListenerRemove"),le=new df({onWillAddFirstListener:se,onDidRemoveLastListener:ne});return le.event}ue.fromNodeEventEmitter=k,o(k,"fromNodeEventEmitter");function P(J,H,Z=ee=>ee){let ee=o((...he)=>le.fire(Z(...he)),"fn"),se=o(()=>J.addEventListener(H,ee),"onFirstListenerAdd"),ne=o(()=>J.removeEventListener(H,ee),"onLastListenerRemove"),le=new df({onWillAddFirstListener:se,onDidRemoveLastListener:ne});return le.event}ue.fromDOMEventEmitter=P,o(P,"fromDOMEventEmitter");function W(J,H){return new Promise(Z=>n(J)(Z,null,H))}ue.toPromise=W,o(W,"toPromise");function re(J){let H=new df;return J.then(Z=>{H.fire(Z)},()=>{H.fire(void 0)}).finally(()=>{H.dispose()}),H.event}ue.fromPromise=re,o(re,"fromPromise");function ye(J,H){return J(Z=>H.fire(Z))}ue.forward=ye,o(ye,"forward");function Ae(J,H,Z){return H(Z),J(ee=>H(ee))}ue.runAndSubscribe=Ae,o(Ae,"runAndSubscribe");class z{constructor(H,Z){this._observable=H;this._counter=0;this._hasChanged=!1;let ee={onWillAddFirstListener:o(()=>{H.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{H.removeObserver(this)},"onDidRemoveLastListener")};Z||e(ee),this.emitter=new df(ee),Z&&Z.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(H){this._counter++}handlePossibleChange(H){}handleChange(H,Z){this._hasChanged=!0}endUpdate(H){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function j(J,H){return new z(J,H).emitter.event}ue.fromObservable=j,o(j,"fromObservable");function Ie(J){return(H,Z,ee)=>{let se=0,ne=!1,le={beginUpdate(){se++},endUpdate(){se--,se===0&&(J.reportChanges(),ne&&(ne=!1,H.call(Z)))},handlePossibleChange(){},handleChange(){ne=!0}};J.addObserver(le),J.reportChanges();let he={dispose(){J.removeObserver(le)}};return ee instanceof Gd?ee.add(he):Array.isArray(ee)&&ee.push(he),he}}ue.fromObservableLight=Ie,o(Ie,"fromObservableLight")})(nS||={});var h$=class t{constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${t._idPool++}`,t.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(e){this._stopWatch=new XD,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},nye=-1;var A$=class t{constructor(e,r,n=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),c=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(c),console.warn(s);let l=new p$(c,s);this._errorHandler(l)}return()=>{let s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,r=0;for(let[n,i]of this._stacks)(!e||r<i)&&(e=[n,i],r=i);return e}},rS=class t{constructor(e){this.value=e}static{o(this,"Stacktrace")}static create(){let e=new Error;return new t(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},p$=class extends Error{static{o(this,"ListenerLeakError")}constructor(e,r){super(e),this.name="ListenerLeakError",this.stack=r}},m$=class extends Error{static{o(this,"ListenerRefusalError")}constructor(e,r){super(e),this.name="ListenerRefusalError",this.stack=r}},wJe=0,Hb=class{constructor(e){this.value=e;this.id=wJe++}static{o(this,"UniqueContainer")}},BJe=2,RJe=o((t,e)=>{if(t instanceof Hb)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},"forEachListener"),df=class{constructor(e){this._size=0;this._options=e,this._leakageMon=nye>0||this._options?.leakWarningThreshold?new A$(e?.onListenerError??vb,this._options?.leakWarningThreshold??nye):void 0,this._perfMon=this._options?._profName?new h$(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(rye){let e=this._listeners;queueMicrotask(()=>{RJe(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let l=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(l);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],d=new m$(`${l}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(this._options?.onListenerError||vb)(d),Kc.None}if(this._disposed)return Kc.None;r&&(e=e.bind(r));let i=new Hb(e),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=rS.create(),s=this._leakageMon.check(i.stack,this._size+1)),rye&&(i.stack=a??rS.create()),this._listeners?this._listeners instanceof Hb?(this._deliveryQueue??=new g$,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let c=LA(()=>{s?.(),this._removeListener(i)});return n instanceof Gd?n.add(c):Array.isArray(n)&&n.push(c),c},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*BJe<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||vb;if(!n){e.value(r);return}try{e.value(r)}catch(i){n(i)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Hb)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var g$=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};u();var hf=class{constructor(e,r,n){this.owner=e;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(e){return aye(e,this)}},iye=new Map,y$=new WeakMap;function aye(t,e){let r=y$.get(t);if(r)return r;let n=kJe(t,e);if(n){let i=iye.get(n)??0;i++,iye.set(n,i);let s=i===1?n:`${n}#${i}`;return y$.set(t,s),s}}o(aye,"getDebugName");function kJe(t,e){let r=y$.get(t);if(r)return r;let n=e.owner?NJe(e.owner)+".":"",i,s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=e.referenceFn;if(a!==void 0&&(i=ZD(a),i!==void 0))return n+i;if(e.owner!==void 0){let c=DJe(e.owner,t);if(c!==void 0)return n+c}}o(kJe,"computeDebugName");function DJe(t,e){for(let r in t)if(t[r]===e)return r}o(DJe,"findKey");var oye=new Map,sye=new WeakMap;function NJe(t){let e=sye.get(t);if(e)return e;let r=QJe(t),n=oye.get(r)??0;n++,oye.set(r,n);let i=n===1?r:`${r}#${n}`;return sye.set(t,i),i}o(NJe,"formatOwner");function QJe(t){let e=t.constructor;return e?e.name:"Object"}o(QJe,"getClassName");function ZD(t){let e=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}o(ZD,"getFunctionName");u();var sE;function tN(t){sE?sE instanceof eN?sE.loggers.push(t):sE=new eN([sE,t]):sE=t}o(tN,"addLogger");function Lo(){return sE}o(Lo,"getLogger");var C$;function cye(t){C$=t}o(cye,"setLogObservableFn");function lye(t){C$&&C$(t)}o(lye,"logObservable");var eN=class{constructor(e){this.loggers=e}static{o(this,"ComposedLogger")}handleObservableCreated(e){for(let r of this.loggers)r.handleObservableCreated(e)}handleOnListenerCountChanged(e,r){for(let n of this.loggers)n.handleOnListenerCountChanged(e,r)}handleObservableUpdated(e,r){for(let n of this.loggers)n.handleObservableUpdated(e,r)}handleAutorunCreated(e){for(let r of this.loggers)r.handleAutorunCreated(e)}handleAutorunDisposed(e){for(let r of this.loggers)r.handleAutorunDisposed(e)}handleAutorunDependencyChanged(e,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(e,r,n)}handleAutorunStarted(e){for(let r of this.loggers)r.handleAutorunStarted(e)}handleAutorunFinished(e){for(let r of this.loggers)r.handleAutorunFinished(e)}handleDerivedDependencyChanged(e,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(e,r,n)}handleDerivedCleared(e){for(let r of this.loggers)r.handleDerivedCleared(e)}handleBeginTransaction(e){for(let r of this.loggers)r.handleBeginTransaction(e)}handleEndTransaction(e){for(let r of this.loggers)r.handleEndTransaction(e)}};var uye;function fye(t){uye=t}o(fye,"_setRecomputeInitiallyAndOnChange");var dye;function hye(t){dye=t}o(hye,"_setKeepObserved");var E$;function Aye(t){E$=t}o(Aye,"_setDerivedOpts");var rN=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,r){let n=r===void 0?void 0:e,i=r===void 0?e:r;return E$({owner:n,debugName:o(()=>{let s=ZD(i);if(s!==void 0)return s;let c=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(c)return`${this.debugName}.${c[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return E$({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,r){return e.add(uye(this,r)),this}keepObserved(e){return e.add(dye(this)),this}get debugValue(){return this.get()}},aE=class extends rN{constructor(){super();this.observers=new Set;Lo()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Lo()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Lo()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Lo();return lye(this),r||Lo()?.handleObservableCreated(this),this}};function nN(t,e){let r=new iS(t,e);try{t(r)}finally{r.finish()}}o(nN,"transaction");function I$(t,e,r){t?e(t):nN(e,r)}o(I$,"subtransaction");var iS=class{constructor(e,r){this._fn=e;this._getDebugName=r;this.updatingObservers=[];Lo()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():ZD(this._fn)}updateObserver(e,r){this.updatingObservers.push({observer:e,observable:r}),e.beginUpdate(r)}finish(){let e=this.updatingObservers;for(let r=0;r<e.length;r++){let{observer:n,observable:i}=e[r];n.endUpdate(i)}this.updatingObservers=null,Lo()?.handleEndTransaction(this)}};u();u();function oS(t){return new iN(new hf(void 0,void 0,t),t,void 0,void 0)}o(oS,"autorun");var iN=class{constructor(e,r,n,i){this._debugNameData=e;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Lo()?.handleAutorunCreated(this),this._runIfNeeded(),xb(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),Lo()?.handleAutorunDisposed(this),Tb(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;try{if(!this.disposed){Lo()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){tE(n)}finally{this._isRunning=!1}}}finally{this.disposed||Lo()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(e){this.state===3&&(this.state=1),this.updateCount++}endUpdate(e){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}tS(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this._isDependency(e)&&(this.state=1)}handleChange(e,r){if(this._isDependency(e)){Lo()?.handleAutorunDependencyChanged(this,e,r);try{(this._handleChange?this._handleChange({changedObservable:e,change:r,didChange:o(i=>i===e,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){tE(n)}}}_isDependency(e){return this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)}readObservable(e){if(!this._isRunning)throw new Ns("The reader object cannot be used outside its compute function!");if(this.disposed)return e.get();e.addObserver(this);let r=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),r}};(e=>e.Observer=iN)(oS||={});u();function v$(t,e){return new cE(new hf(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??Hg)}o(v$,"derivedOpts");Aye(v$);var cE=class extends aE{constructor(r,n,i,s,a=void 0,c){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=c;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Lo()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let c of this.dependenciesToBeRemoved)c.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Lo()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){tE(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Ns("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}tS(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Lo()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){tE(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Ns("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};u();u();function x$(...t){let e,r,n;return t.length===3?[e,r,n]=t:[r,n]=t,new qg(new hf(e,void 0,n),r,n,()=>qg.globalTransaction,Hg)}o(x$,"observableFromEvent");var qg=class extends aE{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,I$(this._getTransaction(),c=>{Lo()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let l of this.observers)c.updateObserver(l,this),l.handleChange(this,void 0)},()=>{let c=this.getDebugName();return"Event fired"+(c?`: ${c}`:"")})),this.hasValue=!0),a||Lo()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=qg;function e(n,i){let s=!1;qg.globalTransaction===void 0&&(qg.globalTransaction=n,s=!0);try{i()}finally{s&&(qg.globalTransaction=void 0)}}r.batchEventsGlobally=e,o(e,"batchEventsGlobally")})(x$||={});function mye(t){let e=new oN(!1,void 0);return t.addObserver(e),LA(()=>{t.removeObserver(e)})}o(mye,"keepObserved");hye(mye);function gye(t,e){let r=new oN(!0,e);return t.addObserver(r),e?e(t.get()):t.reportChanges(),LA(()=>{t.removeObserver(r)})}o(gye,"recomputeInitiallyAndOnChange");fye(gye);var oN=class{constructor(e,r){this._forceRecompute=e;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,r){}};u();u();u();var yye=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),Cye;(n=>{function t(i){return i===n.None||i===n.Cancelled||i instanceof T$?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=t,o(t,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:nS.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:yye})})(Cye||={});var T$=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?yye:(this._emitter||(this._emitter=new df),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};u();var sN;function Iye(t){sN||(sN=new aS,tN(sN)),sN.addFilteredObj(t)}o(Iye,"logObservableToConsole");var aS=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(e){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(e)}_isIncluded(e){return this._filteredObjects?.has(e)??!0}textToConsoleArgs(e){return LJe([qb(UJe("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[qb(" "),Kl(sS(e.oldValue,70),{color:"red",strikeThrough:!0}),qb(" "),Kl(sS(e.newValue,60),{color:"green"})]:[qb(" (unchanged)")]:[qb(" "),Kl(sS(e.newValue,60),{color:"green"}),qb(" (initial)")]}handleObservableCreated(e){if(e instanceof cE){let r=e;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=c=>(i.push(c),s.apply(r,[c]));let a=r.endUpdate;r.endUpdate=c=>{let l=i.indexOf(c);return l===-1&&console.error("endUpdate called without beginUpdate",r.debugName,c.debugName),i.splice(l,1),a.apply(r,[c])}}}}handleOnListenerCountChanged(e,r){}handleObservableUpdated(e,r){if(this._isIncluded(e)){if(e instanceof cE){this._handleDerivedRecomputed(e,r);return}console.log(...this.textToConsoleArgs([Gb("observable value changed"),Kl(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(e){if(e.size!==0)return Kl(" (changed deps: "+[...e].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e)?.add(r)}_handleDerivedRecomputed(e,r){if(!this._isIncluded(e))return;let n=this.changedObservablesSets.get(e);n&&(console.log(...this.textToConsoleArgs([Gb("derived recomputed"),Kl(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear())}handleDerivedCleared(e){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Gb("derived cleared"),Kl(e.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(e,r){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Gb("observable from event triggered"),Kl(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){this._isIncluded(e)&&this.changedObservablesSets.set(e,new Set)}handleAutorunDisposed(e){}handleAutorunDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e).add(r)}handleAutorunStarted(e){let r=this.changedObservablesSets.get(e);r&&(this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Gb("autorun"),Kl(e.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let r=e.getDebugName();r===void 0&&(r=""),this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Gb("transaction"),Kl(r,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function LJe(t){let e=new Array,r=[],n="";function i(a){if("length"in a)for(let c of a)c&&i(c);else"text"in a?(n+=`%c${a.text}`,e.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(t);let s=[n,...e];return s.push(...r),s}o(LJe,"consoleTextToArgs");function qb(t){return Kl(t,{color:"black"})}o(qb,"normalText");function Gb(t){return Kl(HJe(`${t}: `,10),{color:"black",bold:!0})}o(Gb,"formatKind");function Kl(t,e={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,c])=>`${s}${a}:${c};`,"")}o(r,"objToCss");let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:r(n)}}o(Kl,"styled");function sS(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?MJe(t,e):OJe(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}o(sS,"formatValue");function MJe(t,e){let r="[ ",n=!0;for(let i of t){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${sS(i,e-r.length)}`}return r+=" ]",r}o(MJe,"formatArray");function OJe(t,e){if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString){let i=t.toString();return i.length<=e?i:i.substring(0,e-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(t)){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${i}: ${sS(s,e-r.length)}`}return r+=" }",r}o(OJe,"formatObject");function UJe(t,e){let r="";for(let n=1;n<=e;n++)r+=t;return r}o(UJe,"repeat");function HJe(t,e){for(;t.length<e;)t+=" ";return t}o(HJe,"padStr");cye(Iye);var VJe=!1;VJe&&tN(new aS);u();var vye;(r=>{r.PlainText="plaintext";function e(n){return n}r.create=e,o(e,"create")})(vye||={});u();u();u();function WJe(t){return t}o(WJe,"identity");var aN=class{constructor(e,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof e=="function"?(this._fn=e,this._computeKey=WJe):(this._fn=r,this._computeKey=e.getCacheKey)}static{o(this,"LRUCachedFunction")}get(e){let r=this._computeKey(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(e)),this.lastCache}};u();u();var cS=class{constructor(e){this.executor=e;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};u();var XBr=String.fromCharCode(65279);var bye=class t{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=YJe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(e<r[3*i])i=2*i;else if(e>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function YJe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(YJe,"getGraphemeBreakRawData");var xye=class t{constructor(e){this.confusableDictionary=e}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new cS(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new aN({getCacheKey:JSON.stringify},e=>{function r(d){let h=new Map;for(let A=0;A<d.length;A+=2)h.set(d[A],d[A+1]);return h}o(r,"arrayToMap");function n(d,h){let A=new Map(d);for(let[g,y]of h)A.set(g,y);return A}o(n,"mergeMaps");function i(d,h){if(!d)return h;let A=new Map;for(let[g,y]of d)h.has(g)&&A.set(g,y);return A}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=e.filter(d=>!d.startsWith("_")&&d in s);a.length===0&&(a=["_default"]);let c;for(let d of a){let h=r(s[d]);c=i(c,h)}let l=r(s._common),f=n(l,c);return new t(f)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new cS(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},Tye=class t{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(t.getRawData())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static containsInvisibleCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&t.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return t.getData()}};u();var lS=class t{constructor(e,r){this.start=e;this.endExclusive=r;if(e>r)throw new Ns(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(e,r){return new t(e,r)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let i=n;for(;i<r.length&&r[i].start<=e.endExclusive;)i++;if(n===i)r.splice(n,0,e);else{let s=Math.min(e.start,r[n].start),a=Math.max(e.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new t(s,a))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}static emptyAt(e){return new t(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersectionLength(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-r)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Ns(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Ns(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}joinRightTouching(e){if(this.endExclusive!==e.start)throw new Ns(`Invalid join: ${this.toString()} and ${e.toString()}`);return new t(this.start,e.endExclusive)}};u();var qA=class t{static{o(this,"Position")}constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(this.lineNumber+e,this.column+r)}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=e.column|0,a=r.column|0;return s-a}return n-i}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};u();var Af=class t{static{o(this,"Range")}constructor(e,r,n,i){e>n||e===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,i,s,a;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),r.endLineNumber>e.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===e.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,e.endColumn)):(s=e.endLineNumber,a=e.endColumn),new t(n,i,s,a)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,i=e.startColumn,s=e.endLineNumber,a=e.endColumn,c=r.startLineNumber,l=r.startColumn,f=r.endLineNumber,d=r.endColumn;return n<c?(n=c,i=l):n===c&&(i=Math.max(i,l)),s>f?(s=f,a=d):s===f&&(a=Math.min(a,d)),n>s||n===s&&i>a?null:new t(n,i,s,a)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new qA(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new qA(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,r){if(e&&r){let s=e.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let c=e.startColumn|0,l=r.startColumn|0;if(c===l){let f=e.endLineNumber|0,d=r.endLineNumber|0;if(f===d){let h=e.endColumn|0,A=r.endColumn|0;return h-A}return f-d}return c-l}return s-a}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};u();u();var lE=class t{static{o(this,"LineRange")}static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new cN(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new cN(e[n].slice()));return r.ranges}static join(e){if(e.length===0)throw new Ns("lineRanges cannot be empty");let r=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let i=1;i<e.length;i++)r=Math.min(r,e[i].startLineNumber),n=Math.max(n,e[i].endLineNumberExclusive);return new t(r,n)}static ofLength(e,r){return new t(e,e+r)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Ns(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Af(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Af(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new lS(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(e){return this.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-this.endLineNumberExclusive:e.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-e.endLineNumberExclusive:0}distanceToLine(e){return this.contains(e)?0:e<this.startLineNumber?this.startLineNumber-e:e-this.endLineNumberExclusive}addMargin(e,r){return new t(this.startLineNumber-e,this.endLineNumberExclusive+r)}},cN=class t{constructor(e=[]){this._normalizedRanges=e}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=hD(this._normalizedRanges,i=>i.endLineNumberExclusive>=e.startLineNumber),n=Eb(this._normalizedRanges,i=>i.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(e)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,i)}}contains(e){let r=sY(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=sY(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){let c=this._normalizedRanges[n],l=e._normalizedRanges[i];c.startLineNumber<l.startLineNumber?(a=c,n++):(a=l,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=e._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new lE(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new t(r)}subtractFrom(e){let r=hD(this._normalizedRanges,a=>a.endLineNumberExclusive>=e.startLineNumber),n=Eb(this._normalizedRanges,a=>a.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let i=[],s=e.startLineNumber;for(let a=r;a<n;a++){let c=this._normalizedRanges[a];c.startLineNumber>s&&i.push(new lE(s,c.startLineNumber)),s=c.endLineNumberExclusive}return s<e.endLineNumberExclusive&&i.push(new lE(s,e.endLineNumberExclusive)),new t(i)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){let s=this._normalizedRanges[n],a=e._normalizedRanges[i],c=s.intersect(a);c&&!c.isEmpty&&r.push(c),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};var _$=class t{constructor(e,r){this.lineCount=e;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new t(0,0)}static lengthDiffNonNegative(e,r){return r.isLessThan(e)?t.zero:e.lineCount===r.lineCount?new t(0,r.columnCount-e.columnCount):new t(r.lineCount-e.lineCount,r.columnCount)}static betweenPositions(e,r){return e.lineNumber===r.lineNumber?new t(0,r.column-e.column):new t(r.lineNumber-e.lineNumber,r.column-1)}static fromPosition(e){return new t(e.lineNumber-1,e.column-1)}static ofRange(e){return t.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let r=0,n=0;for(let i of e)i===`
`?(r++,n=0):n++;return new t(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new t(this.lineCount,this.columnCount+e.columnCount):new t(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new Af(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new Af(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new Af(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return lE.ofLength(1,this.lineCount)}addToPosition(e){return this.lineCount===0?new qA(e.lineNumber,e.column+this.columnCount):new qA(e.lineNumber+this.lineCount,this.columnCount+1)}addToRange(e){return Af.fromPositions(this.addToPosition(e.getStartPosition()),this.addToPosition(e.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};u();u();u();var lN=class extends Kc{static{o(this,"RecentEditsProvider")}};function $Je(t,e=!1,r=void 0,n){if(e&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=t.startLine-1,s=t.endLine-1;return!!(e&&(Math.abs(i-r)<=n||Math.abs(s-r)<=n))}o($Je,"editIsTooCloseToCursor");var uN=o((t,e)=>{let[r,n]=e.useState();return e.useData(ac,async i=>{if(!i.document)return;let s=t.ctx.get(lN);if(s.isEnabled())s.start();else return;let a=s.config,c=s.getRecentEdits(),l=new Set,f=t.ctx.get(ni),d=[];for(let A=c.length-1;A>=0&&!(d.length>=a.maxEdits);A--){let g=c[A];if(!await f.getTextDocument({uri:g.file}))continue;let y=!l.has(g.file);if(l.size+(y?1:0)>a.maxFiles)break;let _=g.file===i.document?.uri,T=_?i.position.line:void 0;if($Je(g,_,T,a.activeDocDistanceLimitFromCursor))continue;let D=s.getEditSummary(g);if(D){l.add(g.file);let Q=f.getRelativePath({uri:g.file});d.unshift(Z3(`File: ${Q}`)+Z3(D))}}if(d.length===0){n(void 0);return}let h=Z3("These are recently edited files. Do not suggest code that has been deleted.")+d.join("")+Z3("End of recent edits");n(h)}),r?Ht(Ug,{children:Ht(Fo,{children:r})}):void 0},"RecentEdits");u();u();u();u();u();u();var zJe={tokenizerName:"o200k_base"};function jJe(t){return{...zJe,...t}}o(jJe,"cursorContextOptions");function uS(t,e={}){let r=jJe(e),n=rf(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=t.source.slice(0,t.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(uS,"getCursorContext");u();u();var KJe={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function _ye(t){let e=KJe[t.semantics],r=["snippets"].includes(t.semantics)?"these":"this";return{headline:t.relativePath?`Compare ${r} ${e} from ${t.relativePath}:`:`Compare ${r} ${e}:`,snippet:t.snippet}}o(_ye,"announceSnippet");var S$=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{o(this,"FifoCache")}put(e,r){if(this.cache[e]=r,this.keys.length>this.size){this.keys.push(e);let n=this.keys.shift()??"";delete this.cache[n]}}get(e){return this.cache[e]}};var w$=class{static{o(this,"Tokenizer")}constructor(e){this.stopsForLanguage=eXe.get(e.languageId)??ZJe}tokenize(e){return new Set(JJe(e).filter(r=>!this.stopsForLanguage.has(r)))}},Sye=new S$(20),Vb=class{static{o(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new w$(e)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,r="descending"){return r=="ascending"?e.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?e.sort((n,i)=>n.score>i.score?-1:1):e}async retrieveAllSnippets(e,r="descending"){let n=[];if(e.source.length===0||(await this.referenceTokens).size===0)return n;let i=e.source.split(`
`),s=this.id()+":"+e.source,a=Sye.get(s)??[],c=a.length==0,l=c?i.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[d,h]]of this.getWindowsDelineations(i).entries()){if(c){let y=new Set;l.slice(d,h).forEach(v=>v.forEach(_=>y.add(_),y)),a.push(y)}let A=a[f],g=this.similarityScore(A,await this.referenceTokens);if(n.length&&d>0&&n[n.length-1].endLine>d){n[n.length-1].score<g&&(n[n.length-1].score=g,n[n.length-1].startLine=d,n[n.length-1].endLine=h);continue}n.push({score:g,startLine:d,endLine:h})}return c&&Sye.put(s,a),this.sortScoredSnippets(n,r)}findMatches(e,r){return this.findBestMatch(e,r)}async findBestMatch(e,r){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let n=e.source.split(`
`),i=await this.retrieveAllSnippets(e,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let c=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:c,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function JJe(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}o(JJe,"splitIntoWords");var XJe=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ZJe=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...XJe]),eXe=new Map([]);u();u();u();function B$(t,e,r){return{type:"virtual",indentation:t,subs:e,label:r}}o(B$,"virtualNode");function wye(t,e,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:r,subs:n,label:i}}o(wye,"lineNode");function R$(t){return{type:"blank",lineNumber:t,subs:[]}}o(R$,"blankNode");function fN(t){return{type:"top",indentation:-1,subs:t??[]}}o(fN,"topNode");function Jl(t){return t.type==="blank"}o(Jl,"isBlank");function fS(t){return t.type==="line"}o(fS,"isLine");function uE(t){return t.type==="virtual"}o(uE,"isVirtual");function Bye(t,e){return fE(t,r=>{r.label=r.label?e(r.label)?void 0:r.label:void 0},"bottomUp"),t}o(Bye,"clearLabelsIf");function fE(t,e,r){function n(i){r==="topDown"&&e(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&e(i)}o(n,"_visit"),n(t)}o(fE,"visitTree");function dN(t,e,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(c=>c!==void 0);return s.subs=a,e(s)}},"rebuild"),i=n(t);return i!==void 0?i:fN()}o(dN,"rebuildTree");u();function rXe(t){let e=t.split(`
`),r=e.map(f=>f.match(/^\s*/)[0].length),n=e.map(f=>f.trimLeft());function i(f){let[d,h]=s(f+1,r[f]);return[wye(r[f],f,n[f],d),h]}o(i,"parseNode");function s(f,d){let h,A=[],g=f,y;for(;g<n.length&&(n[g]===""||r[g]>d);)if(n[g]==="")y===void 0&&(y=g),g+=1;else{if(y!==void 0){for(let v=y;v<g;v++)A.push(R$(v));y=void 0}[h,g]=i(g),A.push(h)}return y!==void 0&&(g=y),[A,g]}o(s,"parseSubs");let[a,c]=s(0,-1),l=c;for(;l<n.length&&n[l]==="";)a.push(R$(l)),l+=1;if(l<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${n.length}`);return fN(a)}o(rXe,"parseRaw");function dS(t,e){function r(n){if(fS(n)){let i=e.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),fE(t,r,"bottomUp")}o(dS,"labelLines");function hN(t){function e(r){if(uE(r)&&r.label===void 0){let n=r.subs.filter(i=>!Jl(i));n.length===1&&(r.label=n[0].label)}}o(e,"visitor"),fE(t,e,"bottomUp")}o(hN,"labelVirtualInherited");function hS(t){return Object.keys(t).map(e=>{let r;return t[e].test?r=o(n=>t[e].test(n),"matches"):r=t[e],{matches:r,label:e}})}o(hS,"buildLabelRules");function k$(t){let r=dN(t,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let c=n.subs[a],l=n.subs[a-1];if(c.label==="opener"&&l!==void 0&&fS(l))l.subs.push(c),c.subs.forEach(f=>l.subs.push(f)),c.subs=[];else if(c.label==="closer"&&s!==void 0&&(fS(c)||uE(c))&&c.indentation>=s.indentation){let f=i.length-1;for(;f>0&&Jl(i[f]);)f-=1;if(s.subs.push(...i.splice(f+1)),c.subs.length>0){let d=s.subs.findIndex(y=>y.label!=="newVirtual"),h=s.subs.slice(0,d),A=s.subs.slice(d),g=A.length>0?[B$(c.indentation,A,"newVirtual")]:[];s.subs=[...h,...g,c]}else s.subs.push(c)}else i.push(c),Jl(c)||(s=c)}return n.subs=i,n},"rebuilder"));return Bye(t,n=>n==="newVirtual"),r}o(k$,"combineClosersAndOpeners");function Rye(t,e=Jl,r){return dN(t,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],c,l=!1;function f(d=!1){if(c!==void 0&&(s.length>0||!d)){let h=B$(c,a,r);s.push(h)}else a.forEach(h=>s.push(h))}o(f,"flushBlockIntoNewSubs");for(let d=0;d<i.subs.length;d++){let h=i.subs[d],A=e(h);!A&&l&&(f(),a=[]),l=A,a.push(h),Jl(h)||(c=c??h.indentation)}return f(!0),i.subs=s,i},"rebuilder"))}o(Rye,"groupBlocks");function AN(t){return dN(t,o(function(r){return uE(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&uE(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(AN,"flattenVirtual");var nXe={opener:/^[[({]/,closer:/^[\])}]/},iXe=hS(nXe),kye={};function D$(t,e){kye[t]=e}o(D$,"registerLanguageSpecificParser");function N$(t,e){let r=rXe(t),n=kye[e??""];return n?n(r):(dS(r,iXe),k$(r))}o(N$,"parseTree");function pN(t,e){let r=[],n=e.length;if(n==0)return[];if(n<t)return[[0,n]];for(let i=0;i<n-t+1;i++)r.push([i,i+t]);return r}o(pN,"getBasicWindowDelineations");var mN=class t extends Vb{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=o(e=>({to:o(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return pN(this.windowLength,e)}_getCursorContextInfo(e){return uS(e,{maxLineCount:this.windowLength})}similarityScore(e,r){return oXe(e,r)}};function oXe(t,e){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size/(t.size+e.size-r.size)}o(oXe,"computeScore");u();var gN=class t extends Vb{static{o(this,"BlockTokenSubsetMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=o(e=>({to:o(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return pN(this.windowLength,e)}_getCursorContextInfo(e){return uS(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=e?this.referenceDoc.source.slice(e,r):uS(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,r){return sXe(e,r)}async getEnclosingMemberStart(e,r){let n;try{n=await XC(this.referenceDoc.languageId,e);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(t.isMember(i)||t.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function sXe(t,e){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size}o(sXe,"computeScore");var aXe=0,cXe=60,lXe=4,uXe=1,fXe=20,dXe=1e4,Dye={snippetLength:cXe,threshold:aXe,maxTopSnippets:lXe,maxCharPerFile:dXe,maxNumberOfFiles:fXe,maxSnippetsPerFile:uXe,useSubsetMatching:!1};var Q$={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function hXe(t,e){return(e.useSubsetMatching?gN.FACTORY(e.snippetLength):mN.FACTORY(e.snippetLength)).to(t)}o(hXe,"getMatcher");async function Nye(t,e,r){let n=hXe(t,r);return r.maxTopSnippets===0?[]:(await e.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(c=>({relativePath:a.relativePath,...c}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(Nye,"getSimilarSnippets");function Qye(t,e){return{...Q$,useSubsetMatching:P$(t,e)}}o(Qye,"getCppSimilarFilesOptions");function Pye(t){return Q$.maxTopSnippets}o(Pye,"getCppNumberOfSnippets");var AXe=new Map([["cpp",Qye]]);function yN(t,e,r){let n=AXe.get(r);return n?n(t,e):{...Dye,useSubsetMatching:P$(t,e)}}o(yN,"getSimilarFilesOptions");var pXe=new Map([["cpp",Pye]]);function Fye(t,e){let r=pXe.get(e);return r?r(t):nme}o(Fye,"getNumberOfSnippets");function P$(t,e){return(e.filtersAndExp.exp.variables.copilotsubsetmatching||Jo(t,Ft.UseSubsetMatching))??!1}o(P$,"useSubsetMatching");u();u();u();var CN=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState();if(e.useData(ac,a=>{a.traits!==r&&n(a.traits);let c=x3(a.document.detectedLanguageId);c!==i&&s(c)}),!(!r||r.length===0||!i))return Ht(ff,{children:[Ht(Fo,{children:`Consider this related information:
`}),...r.map(a=>Ht(Fo,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function Lye(t){return Ht(ff,{children:[Ht(s$,{children:[Ht(JD,{ctx:t,weight:.7}),Ht(CN,{weight:.6}),Ht(VD,{ctx:t,weight:.9}),Ht(EN,{ctx:t,weight:.8})]}),Ht(j1e,{weight:1}),Ht(a$,{children:Ht(uN,{ctx:t,weight:.99})}),Ht(z1e,{weight:1})]})}o(Lye,"splitContextCompletionsPrompt");u();u();u();var Mye=new Tn;function Oye(t){return[...t].sort((e,r)=>{let n=Mye.get(e.uri)??0;return(Mye.get(r.uri)??0)-n})}o(Oye,"sortByAccessTimes");var IN=class{constructor(e){this.docManager=e}static{o(this,"OpenTabFiles")}truncateDocs(e,r,n,i){let s=new Map,a=0;for(let c of e)if(!(a+c.getText().length>dE.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(c.uri.startsWith("file:")&&r.startsWith("file:")&&c.uri!==r&&F$(n,c.detectedLanguageId)&&(s.set(c.uri.toString(),{uri:c.uri.toString(),relativePath:this.docManager.getRelativePath(c),source:c.getText()}),a+=c.getText().length),s.size>=i))break;return s}async getNeighborFiles(e,r,n){let i=new Map,s=new Map;return i=this.truncateDocs(Oye(await this.docManager.textDocuments()),e,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};u();u();function Uye(t,e,r){return async function(...n){return await Promise.race([t.apply(this,n),new Promise(i=>{setTimeout(i,e,r)})])}}o(Uye,"shortCircuit");u();function mXe(...t){return JSON.stringify(t,(e,r)=>typeof r=="object"?r:String(r))}o(mXe,"defaultHash");function L$(t,e={}){let{hash:r=mXe,cache:n=new Map}=e;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=t.apply(this,i);return a instanceof Promise&&(a=a.catch(c=>{throw n.delete(s),c})),n.set(s,a),a}}o(L$,"memoize");var vN={entries:new Map,traits:[]},M$=class extends Tn{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},Xc=new zr("relatedFiles"),gXe=1e3,bN=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},O$=class t{constructor(e){this.context=e}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(e,r,n){let i=await this.getRelatedFilesResponse(e,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let c=s.entries.get(a.type);c||(c=new Map,s.entries.set(a.type,c));for(let l of a.uris)try{Xc.debug(this.context,`Processing ${l}`);let f=await this.getFileContent(l);if(!f||f.length==0){Xc.debug(this.context,`Skip ${l} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(l,f)){Xc.debug(this.context,`Skip ${l} due content exclusion.`);continue}f=t.dropBOM(f),c.set(l,f)}catch(f){Xc.warn(this.context,f)}}return s}async getFileContent(e){try{return this.context.get(Zs).readFileString(e)}catch(r){Xc.debug(this.context,r)}}async isContentExcluded(e,r){try{return(await this.context.get(Vd).evaluate(e,r)).isBlocked}catch(n){Xc.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(e){return e.charCodeAt(0)===65279?e.slice(1):e}},yXe=3,Hye=new M$(gXe);async function qye(t,e,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(e,r,n)}catch(l){Xc.exception(t,l,".getRelatedFiles"),a=void 0}a===void 0&&(Hye.bumpRetryCount(e.uri)>=yXe?a=vN:a=void 0);let c=performance.now()-s;if(Xc.debug(t,a!==void 0?`Fetched ${[...a.entries.values()].map(l=>l.size).reduce((l,f)=>l+f,0)} related files for '${e.uri}' in ${c}ms.`:`Failing fetching files for '${e.uri}' in ${c}ms.`),a===void 0)throw new bN;return a}o(qye,"getRelatedFiles");var U$=L$(qye,{cache:Hye,hash:o((t,e,r,n,i)=>`${e.uri}`,"hash")});U$=Uye(U$,200,vN);async function Gye(t,e,r,n,i,s=!1){let a=t.get(O$),c=vN;try{let l={uri:e.uri,clientLanguageId:e.clientLanguageId,data:i};c=s?await qye(t,l,r,n,a):await U$(t,l,r,n,a)}catch(l){c=vN,l instanceof bN&&or(t,"getRelatedFilesList",r)}return Xc.debug(t,c!=null?`Fetched following traits ${c.traits.map(l=>`{${l.name} : ${l.value}}`).join("")} for '${e.uri}'`:`Failing fecthing traits for '${e.uri}'.`),c}o(Gye,"getRelatedFilesAndTraits");function F$(t,e){return x3(t)===x3(e)}o(F$,"considerNeighborFile");var dE=class t{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){t.instance=void 0}static async getNeighborFilesAndTraits(e,r,n,i,s,a,c){let l=e.get(ni);t.instance===void 0&&(t.instance=new IN(l));let f={...await t.instance.getNeighborFiles(r,n,t.MAX_NEIGHBOR_FILES),traits:[]};if(CXe(e,i))return f;let d=await l.getTextDocument({uri:r});if(!d)return Xc.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),f;let h=l.getWorkspaceFolder(d);if(!h)return Xc.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),f;let A=await Gye(e,d,i,s,a,c);return A.entries.size===0?(Xc.debug(e,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),f.traits.push(...A.traits),f):(A.entries.forEach((g,y)=>{let v=[];g.forEach((_,T)=>{let S=t.getRelativePath(T,h.uri);if(!S||f.docs.has(T))return;let D={relativePath:S,uri:T,source:_};v.unshift(D),f.docs.set(T,D)}),v.length>0&&f.neighborSource.set(y,v.map(_=>_.uri.toString()))}),f.traits.push(...A.traits),f)}static basename(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(e,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return e.toString().startsWith(n)?e.toString().slice(n.length):t.basename(e)}};function CXe(t,e){return t.get(Zr).excludeRelatedFiles(e)||Jo(t,Ft.ExcludeRelatedFiles)}o(CXe,"isExcludeRelatedFilesActive");function Vye(t,e){return t.get(Zr).includeNeighboringFiles(e)||Jo(t,Ft.IncludeNeighboringFiles)}o(Vye,"isIncludeNeighborFilesActive");var xN=10,TN={type:"contextTooShort"},_N={type:"copilotContentExclusion"},Wb={type:"promptError"},$d={type:"promptCancelled"},Wye={type:"promptTimeout"};function AS(t){let e=t.split(`
`),r=e[e.length-1],n=r.length-r.trimEnd().length,i=t.slice(0,t.length-n),s=t.slice(i.length);return[r.length==n?i:t,s]}o(AS,"trimLastLine");function Yb(t,e,r){let i=t.get(Zr).maxPromptCompletionTokens(e)-qD(t),s=Fye(e,r),a=yN(t,e,r),c=t.get(Zr).suffixPercent(e),l=t.get(Zr).suffixMatchThreshold(e),f=t.get(Zr).workspaceContextPercent(e);if(c<0||c>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${c}`);if(l<0||l>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${l}`);if(f<0||f>100)throw new Error(`workspaceContextPercent must be between 0 and 100, but was ${f}`);return{maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,suffixPercent:c,suffixMatchThreshold:l,workspaceContextPercent:f}}o(Yb,"getPromptOptions");var EN=o((t,e)=>{let[r,n]=e.useState(),[i,s]=e.useState([]);e.useData(ac,async l=>{l.document.uri!==r?.uri&&s([]),n(l.document);let f=dE.defaultEmptyResult();l.turnOffSimilarFiles||(f=await dE.getNeighborFilesAndTraits(t.ctx,l.document.uri,l.document.detectedLanguageId,l.telemetryData,l.cancellationToken,l.data));let d=await a(l.telemetryData,l.document,l,f);s(d)});async function a(l,f,d,h){let A=Yb(t.ctx,l,f.detectedLanguageId);return(await c(A,l,f,d,h)).filter(y=>y.snippet.length>0).sort((y,v)=>y.score-v.score).map(y=>({..._ye(y),score:y.score}))}o(a,"produceSimilarFiles");async function c(l,f,d,h,A){let g=l.similarFilesOptions||yN(t.ctx,f,d.detectedLanguageId),v=t.ctx.get(ni).getRelativePath(d),_={uri:d.uri,source:d.getText(),offset:d.offsetAt(h.position),relativePath:v,languageId:d.detectedLanguageId};return await Nye(_,Array.from(A.docs.values()),g)}return o(c,"findSimilarSnippets"),Ht(ff,{children:[...i.map((l,f)=>Ht(EXe,{snippet:l}))]})},"SimilarFiles"),EXe=o((t,e)=>Ht(Ug,{children:[Ht(Fo,{children:t.snippet.headline}),Ht(Fo,{children:t.snippet.snippet})]}),"SimilarFile");u();var Yye=0;function IXe(){Yye=0}o(IXe,"resetContextIndex");function vXe(){return Yye++}o(vXe,"getNextContextIndex");var SN=class extends Ub{constructor(){super(...arguments);this.formatPrefix=J1e;this.formatContext=X1e}static{o(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let i=[],s=[],a=[],c=!1;if(IXe(),new Ob(r,bXe).walkSnapshot((d,h,A)=>{if(d===r||(d.statistics.updateDataTimeMs&&d.statistics.updateDataTimeMs>0&&a.push({componentPath:d.path,updateDataTimeMs:d.statistics.updateDataTimeMs}),d.name===oE.name&&(c=!0),d.value===void 0||d.value===""))return!0;let g=A.chunks,y=A.type;if(y==="suffix")s.push({value:eS(d.value),type:"suffix",weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:g,source:A.source});else{let v=y==="prefix",_=v||d.value.endsWith(n)?d.value:d.value+n;i.push({type:v?"prefix":"context",value:eS(_),weight:A.weight,componentPath:d.path,nodeStatistics:d.statistics,chunks:g,source:A.source,index:v?void 0:A.index})}return!0}),!c)throw new Error(`Node of type ${oE.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},bXe=[...d$,(t,e,r)=>WD(t)?{...r,index:vXe()}:r];u();u();u();u();u();u();u();var xXe=yt($a());var wN=class{static{o(this,"ContextProviderRegistry")}},H$=class{static{o(this,"DefaultContextProviders")}};function $ye(t,e,r){let n=t.get(Yd).getStatisticsForCompletion(e);return r.map(s=>{let{providerId:a,resolution:c,resolutionTimeMs:l,matchScore:f,data:d}=s,h=n.get(a),A=h?.usage??"none";(f<=0||c==="none"||c==="error")&&(A="none");let g={providerId:a,resolution:c,resolutionTimeMs:l,usage:A,usageDetails:h?.usageDetails,matched:f>0,numResolvedItems:d.length},y=h?.usageDetails!==void 0?h?.usageDetails.filter(_=>_.usage==="full"||_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0,v=h?.usageDetails!==void 0?h?.usageDetails.filter(_=>_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0;return y!==void 0&&(g.numUsedItems=y),v!==void 0&&(g.numPartiallyUsedItems=v),g})}o($ye,"telemetrizeContextItems");function zye(t){return t.matchScore>0&&t.resolution!=="error"}o(zye,"matchContextItems");function TXe(t,e){let r=_Xe(t,e),n=Jo(t,Ft.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=t.get(H$).getIds();return Array.from(new Set([...i,...r,...n]))}o(TXe,"getActiveContextProviders");function _Xe(t,e){return Qae(t)?["*"]:t.get(Zr).contextProviders(e)}o(_Xe,"getExpContextProviders");function q$(t,e){return TXe(t,e).length>0}o(q$,"useContextProviderAPI");u();function jye(t,e,r){let n=GD(r,"Trait");for(let s of n)SXe(t,e,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}o(jye,"getTraitsFromContextItems");function SXe(t,e,r,n){let i=t.get(Yd).getStatisticsForCompletion(e);r.forEach(s=>{i.addExpectations(n,[[s,"included"]])})}o(SXe,"setupExpectationsForTraits");var wXe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function Kye(t,e,r,n,i,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let l of r){let f=wXe.get(l.name);f&&(a[f]=l.value)}let c=s.extendedBy(a,{});return or(e,t,c)}}o(Kye,"ReportTraitsTelemetry");u();u();u();var BN=class{constructor(e){this.states=e;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(e){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof e=="function"?e():e;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},RN=class{constructor(e){this.measureUpdateTime=e;this.consumers=[]}static{o(this,"UseData")}useData(e,r){this.consumers.push(n=>{if(e(n))return r(n)})}async updateData(e){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(e);this.measureUpdateTime(performance.now()-r)}}};var kN=class{constructor(e){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(e,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(e){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return e?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,e),this.vTree)}reconcileNode(e,r,n,i){if(!e.children&&!e.lifecycle)return e;let s=e;if(e.lifecycle?.isRemountRequired()){let c=this.collectChildPaths(e);s=this.virtualizeElement(e.component,r,n);let l=this.collectChildPaths(s);this.cleanupState(c,l)}else if(e.children){let c=[];for(let l=0;l<e.children.length;l++){let f=e.children[l];if(f){let d=this.reconcileNode(f,e.path,l,i);d!==void 0&&c.push(d)}}s.children=c}return s}virtualizeElement(e,r,n){if(!(typeof e>"u")){if(typeof e=="string"||typeof e=="number")return{name:typeof e,path:`${r}[${n}]`,props:{value:e},component:e};if(BXe(e.type)){let i=e.type(e.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,c=i.children.map((l,f)=>this.virtualizeElement(l,a,f));return this.ensureUniqueKeys(c),{name:i.type,path:a,children:c.flat().filter(l=>l!==void 0),component:e}}return this.virtualizeFunctionComponent(r,n,e,e.type)}}virtualizeFunctionComponent(e,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${e}${s}.${i.name}`,c=new V$(this.getOrCreateLifecycleData(a)),l=i(n.props,c),h=(Array.isArray(l)?l:[l]).map((A,g)=>this.virtualizeElement(A,a,g)).flat().filter(A=>A!==void 0);return this.ensureUniqueKeys(h),{name:i.name,path:a,props:n.props,children:h,component:n,lifecycle:c}}ensureUniqueKeys(e){let r=new Map;for(let i of e){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(e){let r=[];if(e?.children)for(let n of e.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(e,r){for(let n of e)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(e){return this.lifecycleData.has(e)||this.lifecycleData.set(e,new G$([])),this.lifecycleData.get(e)}createPipe(){return{pump:o(async e=>{await this.pumpData(e)},"pump")}}async pumpData(e){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(e,this.vTree)}async recursivelyPumpData(e,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(e);for(let n of r.children||[])await this.recursivelyPumpData(e,n)}},G$=class{static{o(this,"PromptElementLifecycleData")}constructor(e){this.state=e,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let e=this._updateTimeMs;return this._updateTimeMs=0,e}},V$=class{constructor(e){this.lifecycleData=e;this.stateHook=new BN(e.state),this.dataHook=new RN(r=>{e._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(e){return this.stateHook.useState(e)}useData(e,r){this.dataHook.useData(e,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function BXe(t){return typeof t=="function"&&"isFragmentFunction"in t}o(BXe,"isFragmentFunction");var pS=class{static{o(this,"VirtualPrompt")}constructor(e){this.reconciler=new kN(e)}snapshotNode(e,r){if(!e)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of e.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:e.props?.value?.toString(),name:e.name,path:e.path,props:e.props,children:n,statistics:{updateDataTimeMs:e.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(e){try{let r=this.reconciler.reconcile(e);if(e?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,e);return n==="cancelled"||e?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function ac(t){if(!t||typeof t!="object")return!1;let e=t;return!(!e.document||!e.position||e.position.line===void 0||e.position.character===void 0||!e.telemetryData)}o(ac,"isCompletionRequestData");var W$={default:{promptFunction:Jye,renderer:Ub},splitContext:{promptFunction:Lye,renderer:SN}};function Jye(t){return Ht(ff,{children:[Ht(o$,{children:[Ht(JD,{ctx:t,weight:.7}),Ht(CN,{weight:.6}),Ht(VD,{ctx:t,weight:.9}),Ht(EN,{ctx:t,weight:.8}),Ht(uN,{ctx:t,weight:.99})]}),Ht(X3,{weight:1})]})}o(Jye,"defaultCompletionsPrompt");var DN=class{constructor(e,r,n){this.ctx=e;this.promptOrdering=n??"default",this.virtualPrompt=r??new pS(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:e,completionState:r,telemetryData:n,promptOpts:i},s){let{maxPromptLength:a,suffixPercent:c,suffixMatchThreshold:l}=Yb(this.ctx,n,r.textDocument.detectedLanguageId),f=await this.failFastPrompt(r.textDocument,r.position,c,s);if(f)return f;let d=i?.separateContext?"splitContext":"default";this.setPromptOrdering(d);let h=performance.now(),{traits:A,codeSnippets:g,turnOffSimilarFiles:y,resolvedContextItems:v}=await this.resolveContext(e,r,n,s,i);if(await this.updateComponentData(r.textDocument,r.position,A,g,n,y,a,s,i,l,i?.tokenizer),s?.isCancellationRequested)return $d;let _=this.virtualPrompt.snapshot(s),T=_.status;if(T==="cancelled")return $d;if(T==="error")return this.errorPrompt(_.error);let S=this.renderer.render(_.snapshot,{delimiter:`
`,tokenizer:i?.tokenizer,promptTokenLimit:a,suffixPercent:c,languageId:r.textDocument.detectedLanguageId},s);if(S.status==="cancelled")return $d;if(S.status==="error")return this.errorPrompt(S.error);let[D,Q]=AS(S.prefix),k={...S,prefix:D},P;if(q$(this.ctx,n)){let re=q1e(S.metadata.componentStatistics);this.ctx.get(Yd).getStatisticsForCompletion(e).computeMatch(re),P=$ye(this.ctx,e,v),hs.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(P)}'`)}let W=performance.now();return this.resetIfEmpty(S),this.successPrompt(k,W,h,Q,P)}async updateComponentData(e,r,n,i,s,a,c,l,f={},d,h){let A=this.createRequestData(e,r,s,l,f,c,n,i,a,d,h);await this.pipe.pump(A)}async resolveContext(e,r,n,i,s={}){let a=[],c,l,f=!1;if(q$(this.ctx,n)){a=await this.ctx.get(mS).resolution(e);let{textDocument:d}=r,h=a.filter(zye);kXe(this.ctx,d.detectedLanguageId,h,n)||(f=!0),c=jye(this.ctx,e,h),Kye("contextProvider.traits",this.ctx,c,d.detectedLanguageId,d.detectedLanguageId,n),l=await Y1e(this.ctx,e,h,d.detectedLanguageId)}return{traits:c,codeSnippets:l,turnOffSimilarFiles:f,resolvedContextItems:a}}async failFastPrompt(e,r,n,i){if(i?.isCancellationRequested)return $d;if((await this.ctx.get(Vd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return _N;if((n>0?e.getText().length:e.offsetAt(r))<xN)return TN}createRequestData(e,r,n,i,s,a,c,l,f,d,h){return{document:e,position:r,telemetryData:n,cancellationToken:i,data:s.data,traits:c,codeSnippets:l,turnOffSimilarFiles:f,suffixMatchThreshold:d,maxPromptTokens:a,tokenizer:h}}resetIfEmpty(e){e.prefix.length===0&&e.suffix.length===0&&this.reset()}successPrompt(e,r,n,i,s){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:i,neighborSource:new Map,metadata:e.metadata,contextProvidersTelemetry:s}}errorPrompt(e){return Ed(this.ctx,e,"PromptComponents.CompletionsPromptFactory"),this.reset(),Wb}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new pS(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(e){this.promptOrdering!==e&&(this.promptOrdering=e,this.reset())}completionsPrompt(){return(W$[this.promptOrdering]?.promptFunction??Jye)(this.ctx)}getRenderer(){let e=W$[this.promptOrdering]??W$.default;return new e.renderer}};function kXe(t,e,r,n){let i=["cpp","c"];return Vye(t,n)||i.includes(e)||!r.some(a=>a.data.some(c=>c.type==="CodeSnippet"))}o(kXe,"similarFilesEnabled");u();u();u();var DXe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function NXe(t){return DXe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}o(NXe,"isOomError");function Xye(t,e,r,n=hs){if(!jm(e)){if(e instanceof Error){let i=e;NXe(i)?t.get($s).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?t.get($s).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?t.get($s).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?t.get($s).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&t.get($s).setWarning("Current working directory does not exist")}n.exception(t,e,r)}}o(Xye,"handleException");u();u();u();var hE="[...]",QXe=0,zd=-1;function jd(){return QXe++}o(jd,"getAvailableNodeId");function Zye(t,e){let r=t.children.map(n=>n.elisionMarker??e);return[...t.text.entries()].map(([n,i])=>n===0?i:r[n-1]+i).join("")}o(Zye,"elideChildren");function eCe(t,e=hE){return r=>t.tokenLength(Zye(r,e))}o(eCe,"getTokenizerCostFunction");function tCe(t=hE){return e=>Zye(e,t).length-(e.elisionMarker??t).length}o(tCe,"getBasicCostFunction");u();var zb=class{static{o(this,"PriorityQueue")}constructor(e){if(this.heap=e?[...e]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(e,r){let n={item:e,priority:r};this.heap.push(n);let i=this.heap.length-1;this.siftUp(i)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let e=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),e}clear(){let e=this.heap;return this.heap=[],e}siftUp(e){let r=this.heap[e];for(;e>0;){let n=Math.floor((e-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[e]=this.heap[n],e=n}this.heap[e]=r}siftDown(e){let r=this.heap[e],n=this.heap.length-1;for(;e<n;){let i=e,s=2*e+1,a=s+1;if(s<=n&&this.heap[s].priority>this.heap[i].priority&&(i=s),a<=n&&this.heap[a].priority>this.heap[i].priority&&(i=a),i===e)break;this.heap[e]=this.heap[i],e=i}this.heap[e]=r}};var gS=class{constructor(e,r,n,i,s=0,a=!1,c=hE){this.id=e;this.text=r;this.children=n;this.cost=i;this.weight=s;this.canMerge=a;this.elisionMarker=c;this.requireRenderedChild=!1;if(r.length!==n.length+1)throw new Error(`Text fragments length (${r.length}) must be equal to children length (${n.length}) + 1`);this.cost=Math.max(i,1),this.weight=Math.max(s,0)}static{o(this,"RenderNode")}get value(){return this.weight/this.cost}render(e=void 0,r=[],n){let i=new Set(Array.isArray(r)?r:[r]);if((e??this.cost)<this.cost||i.has(this.id))return{rendered:this.elisionMarker,cost:n?n(this.elisionMarker):this.elisionMarker.length};if(e===void 0){let d=o(g=>i.has(g.id),"elider"),h=[];this.recursivelyRender(h,d);let A=h.join("");return{rendered:A,cost:n?n(A):A.length}}let s=new Set,a=[],c=[],l=new zb([{item:this,priority:this.value}]),f=e;for(;f>0&&l.size>0;){let{item:d}=l.pop();if(!i.has(d.id)&&d.cost<=f){f-=d.cost,s.add(d.id),a.push(d);for(let h of d.children)l.insert(h,h.value);d.requireRenderedChild&&c.push(d)}}for(let d=c.length-1;d>=0;d--){let h=c[d];h.children.some(A=>s.has(A.id))||s.delete(h.id)}for(;s.size>0;){let d=[],h=o(y=>!s.has(y.id),"elider");this.recursivelyRender(d,h);let A=d.join("");if(n===void 0)return{rendered:A,cost:A.length};let g=n(A);if(g<=e)return{rendered:A,cost:g};for(;a.length>0&&g>e;){let y=a.pop();g-=y.cost,s.delete(y.id)}if(a.length===0)return{rendered:this.elisionMarker,cost:n(this.elisionMarker)}}return{rendered:this.elisionMarker,cost:n?n(this.elisionMarker):this.elisionMarker.length}}updateWeights(e){let r=this.recursivelyRectifyWeights(e);for(let{item:n,priority:i}of r.clear())for(let s of n.nodes)s.weight=i*s.cost}recursivelyRender(e,r,n=!1){if(r(this))return e.length>=2&&(n||e[e.length-2]===this.elisionMarker&&e[e.length-1].trim().length===0)?(e.pop(),!0):(e.push(this.elisionMarker),!0);let i=!1;for(let[s,a]of this.children.entries())e.push(this.text[s]??""),i=a.recursivelyRender(e,r,a.canMerge&&i);return e.push(this.text[this.text.length-1]??""),!1}recursivelyRectifyWeights(e){let r=this.children.map(a=>a.recursivelyRectifyWeights(e)),n=Math.max(0,e?e(this):this.weight);if(n===0&&r.reduce((a,c)=>a+c.size,0)===0)return this.weight=0,new zb([]);let i=new zb(r.flatMap(a=>a.clear())),s={nodes:[this],totalCost:this.cost,totalWeight:n};for(this.requireRenderedChild=!1;(i.peek()?.priority??0)>s.totalWeight/s.totalCost;){let{item:a}=i.pop();s.nodes.push(...a.nodes),s.totalCost+=a.totalCost,s.totalWeight+=a.totalWeight,this.requireRenderedChild=!0}return i.insert(s,s.totalWeight/s.totalCost),i}findNode(e){if(this.id===e)return this;for(let r of this.children){let n=r.findNode(e);if(n!==void 0)return n}}};function Y$(t,e,r=hE,n){if(n?.has(t.id))return n.get(t.id);let i=t.children.map(c=>Y$(c,e,r));r=t.elisionMarker??r;let s=e(t),a=new gS(t.id,t.text,i,s,0,t.canMerge,r);return n?.set(a.id,a),a}o(Y$,"snapshot");u();u();u();function yS(t,e,r){let n=t.get(e);return n===void 0&&(n=r(e),t.set(e,n)),n}o(yS,"setDefault");function PXe(t){return t.id!==void 0}o(PXe,"isNodeItem");function FXe(t){return!("uri"in t)&&!("id"in t)}o(FXe,"isNullItem");var LXe={"RecentDocumentProvider.RecentlyOpen":.1,"RecentDocumentProvider.RecentlyFocused":.1,"RecentDocumentProvider.RecentlyEdited":.1,RecentCompletionsRequestProvider:1,"ExtensionActivityProvider.CurrentSelection":5,"ExtensionActivityProvider.PrimarySelection":2,"ExtensionActivityProvider.Selection":.2,"ExtensionActivityProvider.VisibleRange":1,FileDirectoryDocumentProvider:.05,"SymbolContextProvider.Identifiers":.2,"SymbolContextProvider.Text":.2,"TreeProximityProvider.Parent":.3,"TreeProximityProvider.Children":.3,"TreeProximityProvider.Siblings":.3,"ExtensionReferenceProvider.References":.2,"ExtensionReferenceProvider.Definitions":1},Gg="64f5ff7d-e507-4558-81cf-3bdacc3c5c00",jb=class{static{o(this,"WorkspaceContextWeights")}constructor(e){let r=new Map;for(let{uri:n,weight:i}of e)r.set(n,(r.get(n)??0)+i);this.documents=[...r.entries()].map(([n,i])=>({uri:n,weight:i})).sort((n,i)=>i.weight-n.weight),this.docWeights=r,this.nodes=e.filter(({id:n})=>n!==zd),this.nodeWeights=new Map(e.map(({id:n,weight:i})=>[n,i]))}getNodeWeight(e){return this.nodeWeights.get(e)??0}getDocumentWeight(e){return this.docWeights.get(e)??0}},NN=class{constructor(e,r){this.activeContext=e;this.config=r;this.sourceWeights=LXe;this.sourceContext=new Map;this.prevUpdateTime=void 0;this.prevItems=[];this.weights=new jb([])}static{o(this,"WorkspaceContextCoordinator")}getWeights(e){if(e){let r=this.sourceContext.get(e);return r?new jb(r.items):new jb([])}return this.weights}updateWeights(){let e=new Map,r=0,n=this.config.StaleWeightHalflife;for(let[i,{items:s,updateTime:a}]of this.sourceContext.entries()){let c=this.sourceWeights[i]??0;if(c<=0||s.length===0)continue;let l=.5**(-Math.max(0,(this.prevUpdateTime??a)-a)/n);c*=l,r+=c,this.aggregateWeights(s,e,c,!0)}if(r>0){if(this.weights.nodes.length>0){let i=r*this.config.Laziness,s=this.prevItems;this.aggregateWeights(s,e,i,!0)}for(let[i,s]of e.entries()){let a=this.activeContext.getDocument(i)?.document;if(a===void 0)continue;let c=s.get(zd);if(c!==void 0&&c>0){s.delete(zd);let l=0;for(let f of s.values())l+=f;if(l<=0){let f=a.getAllIds(),d=c/f.length;for(let h of f)s.set(h,d)}else for(let[f,d]of[...s.entries()])s.set(f,d+c*(d/l))}}this.prevItems=this.truncateAndNormalize(e),this.weights=new jb(this.prevItems)}return this.prevUpdateTime=performance.now(),this.weights}pushWorkspaceContext(e,r){let n=performance.now(),i=this.addUriAndId(r),s=new Map;this.aggregateWeights(i,s);let a=this.truncateAndNormalize(s);this.sourceContext.set(e,{items:a,updateTime:n})}addUriAndId(e){return e.filter(r=>r.weight>0).map(r=>{if(FXe(r))return{weight:r.weight,uri:Gg,id:zd};let n=PXe(r)?r.id:zd,i=r.uri??this.activeContext.getUri(n)??Gg;return i===Gg&&(n=zd),{weight:r.weight,uri:i,id:n}})}aggregateWeights(e,r,n=1,i=!1){for(let{uri:s,id:a,weight:c}of e){if(c<=0)continue;let l=yS(r,s,()=>new Map),f=zd;(!i||this.activeContext.getUri(a)!==void 0)&&(f=a),l.set(f,(l.get(f)??0)+c*n)}}truncateAndNormalize(e){let r=[],n=new Map,i=0;for(let[l,f]of e.entries()){let d=l!==Gg?this.activeContext.normalizeUri(l)??Gg:Gg;for(let[h,A]of f.entries())l===Gg||h===zd?n.set(d,(n.get(d)??0)+A):r.push({uri:d,id:h,weight:A}),i+=A}if(i<=0)return[];n.delete(Gg),r.sort((l,f)=>f.weight-l.weight);for(let{uri:l,weight:f}of r.slice(this.config.MaxActiveNodes,r.length))n.set(l,(n.get(l)??0)+f);let s=[...n.entries()].sort((l,f)=>f[1]-l[1]).slice(0,this.config.MaxActiveFiles).map(([l,f])=>({uri:l,id:zd,weight:f}));return r.slice(0,this.config.MaxActiveNodes).concat(s).sort((l,f)=>f.weight-l.weight).map(l=>({...l,weight:l.weight/i}))}};u();u();var QN=class{static{o(this,"FileSearch")}};u();u();var PN=class{constructor(e,r,n,i=!1){this.id=e;this.parts=r;this.text=n;this.canMerge=i}static{o(this,"ContextNode")}get startOffset(){return this.parts[0].root.startOffset}get endOffset(){return this.parts[this.parts.length-1].root.endOffset}get syntaxRoots(){return this.parts.map(e=>e.root)}get children(){return this.parts.flatMap(e=>e.children)}get syntaxLimits(){return this.children.flatMap(e=>e.syntaxRoots)}*syntaxNodes(){let e=new Set(this.syntaxLimits.map(r=>r.id));for(let r of this.syntaxRoots)yield*nCe(r,e)}findChild(e,r){if(e<this.startOffset||r>this.endOffset||r<e)return;let n=0,i=this.parts.length-1,s;for(;n<=i;){let c=Math.floor((n+i)/2);if(s=this.parts[c],s.root.startOffset<=e&&s.root.endOffset>=r)break;s.root.endOffset<e?n=c+1:i=c-1}if(s===void 0||i<n)return;n=0,i=s.children.length-1;let a;for(;n<=i;){let c=Math.floor((n+i)/2);if(a=s.children[c],a.startOffset<=e&&a.endOffset>=r)break;a.endOffset<e?n=c+1:i=c-1}if(!(a===void 0||i<n))return a}},MXe=6,FN=class{constructor(e,r,n,i){this.textDocument=e;this.parser=r;this.minSize=n;this.updateId=jd();this.syntaxToAbstract=new Map;this.nodeById=new Map;this.minSize=Math.max(n,1),this.maxSize=Math.max(i??2*this.minSize,this.minSize+1),this._syntaxRoot=this.parser.parse(e,!0),this._root=this.buildTree()}static{o(this,"ContextDocument")}get uri(){return this.textDocument.uri}get version(){return this.updateId}get document(){return this.textDocument}get rootId(){return this._root.id}get root(){return this._root}get syntaxRoot(){return this._syntaxRoot}getNode(e){return this.nodeById.get(e)}getAllIds(){return Array.from(this.nodeById.keys())}findNode(e,r){let n=this._root,i=n;for(;i;)n=i,i=n.findChild(e,r??e);return n}update(e){if(this.uri!==e.uri)throw new Error("Can't update ContextDocument using mismatched URI");this.textDocument=e,this._syntaxRoot=this.parser.parse(e,!0),this.recursivelyRemapNodes(this.root,()=>{}),this._root=this.buildTree(),this.updateId=jd()}recursivelyRemapNodes(e,r){let n=!0;for(let f of e.children)n=n&&this.recursivelyRemapNodes(f,r);if(!n)return this.invalidateNode(e),!1;let i=[];for(let{root:f,children:d}of e.parts){let h=r(f);if(h===void 0||h.type!==f.type)return this.invalidateNode(e),!1;i.push({root:h,children:d})}let s=i[0].root.parent,a=e.parts[0].root.parent;if((s&&this.canMergeChildren(s))!==(a&&this.canMergeChildren(a)))return this.invalidateNode(e),!1;let c=rCe(i,this.document);for(let[f,d]of c.entries())if(e.text[f]!==d)return this.invalidateNode(e),!1;let l=new PN(e.id,i,e.text,e.canMerge);for(let{root:f}of e.parts)this.syntaxToAbstract.delete(f.id);for(let{root:f}of l.parts)this.syntaxToAbstract.set(f.id,l);return this.nodeById.set(e.id,l),!0}invalidateNode(e){for(let r of e.syntaxRoots)this.syntaxToAbstract.delete(r.id);this.nodeById.delete(e.id)}createNode(e,r=!1){e.sort((s,a)=>s.root.startOffset-a.root.startOffset);let n=rCe(e,this.document),i=new PN(jd(),e,n,r);for(let{root:s}of e)this.syntaxToAbstract.set(s.id,i);return this.nodeById.set(i.id,i),i}buildTree(){let e=this.buildRecursively(this._syntaxRoot);return this.createNode([{root:this._syntaxRoot,children:e}])}buildRecursively(e){if(e.endOffset-e.startOffset<this.minSize)return[];let r=e.children;if(this.canMergeChildren(e)){let i=r.map(a=>this.syntaxToAbstract.get(a.id));for(let a=0;a<r.length;a++)if(i[a]===void 0){if(a>0&&i[a-1]!==void 0){let c=i[a-1];for(let l=a-1;l>=0&&i[l]?.id===c.id;l--)i[l]=void 0;this.invalidateNode(c)}if(a<r.length-1&&i[a+1]!==void 0){let c=i[a+1];for(;a<r.length&&i[a+1]?.id===c.id;)a++,i[a]=void 0;this.invalidateNode(c)}}let s=[];for(let a=0;a<r.length;void 0)if(i[a]!==void 0)for(s.push(i[a]);a<r.length&&i[a+1]?.id===i[a].id;)a++;else{let c=[];for(;a<r.length&&i[a]===void 0;){let l=r[a];c.push({root:l,children:this.buildRecursively(l)}),a++}s.push(...this.mergeChildren(c))}return s}let n=[];for(let i=0;i<r.length;i++){let s=r[i];if(this.syntaxToAbstract.has(s.id)){let l=this.syntaxToAbstract.get(s.id);n.push(l),i+=l.parts.length-1;continue}let a=this.buildRecursively(s),c=s.endOffset-s.startOffset-a.reduce((l,f)=>l+(f.endOffset-f.startOffset),0);this.canBeNode(s)&&c>=this.minSize?n.push(this.createNode([{root:s,children:a}])):n.push(...a)}return n}mergeChildren(e){if(e.length===0)return[];e.sort((A,g)=>A.root.startOffset-g.root.startOffset);let r=e[e.length-1].root.endOffset-e[0].root.startOffset,n=[];for(let A of e){let g=A.root.endOffset-A.root.startOffset;for(let y of A.children){let v=y.endOffset-y.startOffset;g-=v,r-=v}n.push(g)}if(r<this.minSize)return e.flatMap(A=>A.children);let i=[0],s=0,a=null,c={line:-1,size:-1},l=e[0].root.startOffset,f=e[0].root.range.start.line;for(let A=0;A<e.length;A++){let g=e[A];if(s+=n[A]+g.root.startOffset-l,s>this.minSize&&s<this.maxSize){let y={line:g.root.range.start.line-f,size:g.root.startOffset-l};(y.line>c.line||y.line==c.line&&y.size>c.size)&&(c=y,a=A)}l=g.root.endOffset,f=g.root.range.end.line,s>=this.maxSize&&(a=a??A,i.push(a+1),A=a,s=0,a=null,c={line:-1,size:-1},l=e[A+1]?.root.startOffset,f=e[A+1]?.root.range.start.line)}i.length==1?i.push(e.length):i[i.length-1]!==e.length&&(i[i.length-1]=e.length);let d=[],h=!1;for(let A=0;A<i.length-1;A++){let g=e.slice(i[A],i[A+1]);d.push(this.createNode(g,h)),h=!0}return d}canMergeChildren(e){return this.parser.labeler.canMergeChildren?.(e)??e.children.length>MXe}canBeNode(e){return this.parser.labeler.canBeNode?.(e)??!0}};function rCe(t,e){if(t.length===0)return[""];let r=[],n=e.positionAt(t[0].root.startOffset);for(let s of t.flatMap(a=>a.children).sort((a,c)=>a.startOffset-c.startOffset)){let a=e.positionAt(s.startOffset);r.push(e.getText({start:n,end:a})),n=e.positionAt(s.endOffset)}let i=e.positionAt(t[t.length-1].root.endOffset);return r.push(e.getText({start:n,end:i})),r}o(rCe,"buildText");function*nCe(t,e){yield t;for(let r of t.children)e.has(r.id)||(yield*nCe(r,e))}o(nCe,"walk");u();u();u();u();u();var OXe={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},UXe=hS(OXe);function iCe(t){let e=t;return dS(e,UXe),e=k$(e),e=AN(e),hN(e),fE(e,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Jl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),e}o(iCe,"processJava");u();var HXe={heading:/^# /,subheading:/^## /,subsubheading:/### /},qXe=hS(HXe);function oCe(t){let e=t;if(dS(e,qXe),Jl(e))return e;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[e],i=[...e.subs];e.subs=[];for(let s of i){let a=r(s);if(a===void 0||Jl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return e=Rye(e),e=AN(e),hN(e),e}o(oCe,"processMarkdown");u();D$("markdown",oCe);D$("java",iCe);var LN=class{constructor(e,r,n,i,s,a){this.id=e;this.raw=r;this.children=n;this.source="indentation";this.parent=null;let c={start:{line:i,character:0},end:{line:s,character:a.lineAt(s).text.length}},l=a.getText(c),f=l.search(/\S/);if(f===-1){let A={line:s,character:0};this.startOffset=a.offsetAt(A),this.endOffset=this.startOffset,this.range={start:A,end:A};return}let d=l.search(/\S(?!.*\S)/s),h=a.offsetAt(c.start);this.startOffset=h+f,this.endOffset=h+d+1,this.range={start:a.positionAt(this.startOffset),end:a.positionAt(this.endOffset)}}static{o(this,"IndentationNode")}get type(){return this.raw.type}};function $$(t,e,r){let n=t.subs.map(l=>({subtree:l,node:$$(l,e,r)})).filter(l=>l.node!==null).sort((l,f)=>l.node.startOffset-f.node.startOffset),i=[],s=e;for(let l=n.length-1;l>=0;l--){let{subtree:f,node:d}=n[l];if(d.range.end.line>=s){let h=$$(f,s,r);h!==null&&(i.push(h),s=Math.min(h.range.start.line,s))}else i.push(d),s=Math.min(d.range.start.line,s)}i.sort((l,f)=>l.startOffset-f.startOffset);let a=e,c=0;if(i.length>0&&(a=Math.min(a,i[0].range.start.line),c=Math.max(c,i[i.length-1].range.end.line)),(t.type==="blank"||t.type==="line")&&(a=Math.min(a,t.lineNumber),c=Math.max(c,t.lineNumber),t.type==="blank"&&a===c))return null;if(c=Math.min(c,e-1),a<=c){let l=new LN(jd(),t,i,a,c,r);for(let f of i)f.parent=l;return l}return null}o($$,"recursivelyBuildNode");function sCe(t){let e=N$(t.getText(),t.detectedLanguageId);return $$(e,t.lineCount,t)??new LN(jd(),e,[],0,t.lineCount-1,t)}o(sCe,"parse");var aCe={source:"indentation",parse:sCe,update(t,e){return{root:sCe(e),remapper:o(()=>{},"remapper")}},dispose:o(()=>{},"dispose"),labeler:{isIdentifier:o(t=>!1,"isIdentifier"),isText:o(t=>!0,"isText")}};u();u();var lCe=yt(jk());function cCe(t){return{line:t.row,character:t.column}}o(cCe,"asPosition");var z$=class{constructor(e,r){this._parser=e;this._tree=r;this.didDispose=!1}static{o(this,"CachedTreeSitterParse")}get parser(){if(this.didDispose)throw new Error("Cannot access parser after dispose");return this._parser}get tree(){if(this.didDispose)throw new Error("Cannot access tree after dispose");return this._tree}dispose(){this.didDispose||(this.didDispose=!0,this._parser.delete(),this._tree.delete())}},Kd=class{constructor(e,r,n,i){this.nodeList=e;this.mergeList=r;this.identifierList=n;this.textList=i}static{o(this,"BasicNodeLabeler")}canBeNode(e){return this.nodeList.has(e.type)}canMergeChildren(e){return this.mergeList.has(e.type)}isIdentifier(e){return this.identifierList.has(e.type)}isText(e){return this.textList.has(e.type)}},GXe=50,Vg=class{constructor(e,r,n={}){this.language=e;this.source=r;this.labeler=n;this.cache=new tv(GXe)}static{o(this,"TreeSitterParser")}dispose(){this.cache.clear()}parse(e,r=!0){let n=new lCe.default;n.setLanguage(this.language);let i=n.parse(e.getText());return r&&this.cache.set(e.uri,new z$(n,i)),this.snapshot(i.rootNode,null)}update(e,r){return{root:this.parse(r,!1),remapper:o(()=>{},"remapper")}}snapshot(e,r){let n={id:e.id,source:this.source,type:e.type,startOffset:e.startIndex,endOffset:e.endIndex,range:{start:cCe(e.startPosition),end:cCe(e.endPosition)},parent:r,children:[]};return n.children=e.namedChildren.map(i=>this.snapshot(i,n)),n}};var VXe=new Set(["class_specifier","function_definition","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement","compound_statement"]),WXe=new Set(["translation_unit","compound_statement","parameter_list","argument_list"]),YXe=new Set(["identifier"]),$Xe=new Set(["string","comment"]),uCe=new Kd(VXe,WXe,YXe,$Xe);u();var zXe=new Set(["class_declaration","method_declaration","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement"]),jXe=new Set(["program","block","object_creation_expression","formal_parameters","argument_list","array_initializer"]),KXe=new Set(["identifier"]),JXe=new Set(["string_literal","line_comment","block_comment"]),fCe=new Kd(zXe,jXe,KXe,JXe);u();var XXe=new Set(["class_definition","function_definition","expression_statement","if_statement","for_statement","while_statement","with_statement","try_statement"]),ZXe=new Set(["module","block","parameters","dictionary","list"]),eZe=new Set(["identifier"]),tZe=new Set(["string","comment"]),dCe=new Kd(XXe,ZXe,eZe,tZe);u();var rZe=new Set(["class_declaration","function_declaration","arrow_function","method_definition","expression_statement","if_statement","while_statement","try_statement","for_statement","switch_statement"]),nZe=new Set(["program","statement_block","formal_parameters","arguments","object","array"]),iZe=new Set(["identifier"]),oZe=new Set(["string","comment"]),hCe=new Kd(rZe,nZe,iZe,oZe);var ACe=yt(jk());async function pCe(t){await ACe.default.init();try{let e=await MW(t);switch(t){case"python":return new Vg(e,"tree-sitter-python",dCe);case"typescript":return new Vg(e,"tree-sitter-typescript",hCe);case"java":return new Vg(e,"tree-sitter-java",fCe);case"cpp":return new Vg(e,"tree-sitter-cpp",uCe);default:return new Vg(e,"tree-sitter-generic")}}catch{return aCe}}o(pCe,"getParser");var sZe=new zr("WorkspaceContextManager"),j$=class{constructor(e,r){this.created=e;this.invalidated=r;this.updatedDocuments=Array.from(new Set([...e.entries(),...r.entries()].filter(([n,i])=>i.size>0).map(([n,i])=>n)))}static{o(this,"WorkspaceContextChanges")}getInvalidatedNodes(e){return this.getNodes(this.invalidated,e)}getCreatedNodes(e){return this.getNodes(this.created,e)}getNodes(e,r){return r===void 0?Array.from(e.entries()).flatMap(([n,i])=>[...i].map(s=>({uri:n,id:s}))):Array.from(e.get(r)??[]).map(n=>({uri:r,id:n}))}},MN=class{constructor(e,r){this.item=e;this.disposalCallback=r}static{o(this,"CachedItem")}dispose(){this.disposalCallback(this.item)}},mCe=5e3,ON=class{constructor(e,r){this.ctx=e;this.config=r;this.listenerDisposable=void 0;this.targetSet=new Set;this.activeDocuments=new Map;this.nodeToDoc=new Map;this.createdNodes=new Map;this.invalidatedNodes=new Map;this.parsers=new Map;this.staleDocuments=new Set;this.pendingUpdates=new Map;this.uriCache=new Tn(mCe);this.allowedExtensions=new Set(CD);this.invalidDocumentCache=new k9(mCe,this.config.InvalidCacheTime),this.cachedDocuments=new tv(this.config.MaxActiveFiles)}static{o(this,"WorkspaceContextManager")}isStarted(){return this.listenerDisposable!==void 0}start(){this.isStarted()||(this.listenerDisposable=this.ctx.get(ni).onDidChangeTextDocument(e=>this.handleDocumentChange(e)))}setAllowedLanguages(e){this.allowedExtensions=new Set(e.flatMap(r=>rE[r]?.extensions??[]))}getActiveDocuments(){return Array.from(this.activeDocuments.values())}getNode(e){let r=this.nodeToDoc.get(e);if(r===void 0)return;let n=this.getDocument(r);if(n===void 0)return;let i=n.document.getNode(e);if(i!==void 0)return{...n,node:i}}getDocument(e){let r=this.activeDocuments.get(e);if(r!==void 0)return{document:r,isActive:!0};let n=this.cachedDocuments.get(e);if(n!==void 0)return{document:n.item,isActive:!1}}getUri(e){return this.nodeToDoc.get(e)}normalizeUri(e){let r,n=this.uriCache.get(e);if(n!==null){if(n!==void 0)r=n;else try{if(Hae(e),r=yd(e),!(this.ctx.get(ni).getWorkspaceFolder({uri:r})!==void 0)){this.uriCache.set(e,null);return}this.uriCache.set(e,r)}catch{this.uriCache.set(e,null);return}if(!(!this.allowedExtensions.has(Wae(r))||this.invalidDocumentCache.has(r)))return r}}dispose(){if(this.isStarted()){this.listenerDisposable?.dispose(),this.listenerDisposable=void 0;for(let e of this.parsers.values())e.dispose();this.parsers.clear(),this.activeDocuments.clear(),this.cachedDocuments.clear()}}trySetActiveDocuments(e){if(this.isStarted()){this.targetSet.clear();for(let r of e){let n=this.normalizeUri(r);n!==void 0&&(this.targetSet.add(n),this.updateDocument(n))}for(let r of[...this.activeDocuments.keys()])this.targetSet.has(r)||this.deactivateDocument(r)}}popChanges(){let e=new j$(this.createdNodes,this.invalidatedNodes);return this.createdNodes=new Map,this.invalidatedNodes=new Map,e}async flushUpdates(e){if(e!==void 0){let r=this.pendingUpdates.get(e);r!==void 0&&await r}else await Promise.all([...this.pendingUpdates.values()])}isKnownDocument(e){return this.activeDocuments.has(e)||this.cachedDocuments.has(e)||this.pendingUpdates.has(e)}deactivateDocument(e){let r=this.activeDocuments.get(e);r!==void 0&&(this.activeDocuments.delete(e),this.pendingUpdates.has(e)||this.cachedDocuments.set(e,new MN(r,n=>this.disposeDocument(n))))}async updateDocument(e){if(this.pendingUpdates.has(e))return;let r=new OA;this.pendingUpdates.set(e,r.promise);let n;this.activeDocuments.has(e)?n=this.activeDocuments.get(e):this.cachedDocuments.has(e)&&(n=this.cachedDocuments.get(e).item,this.cachedDocuments.uncache(e)),(n===void 0||this.staleDocuments.has(e))&&(this.staleDocuments.delete(e),n=await this.createUpdatedDocument(e,n)),n!==void 0&&this.isStarted()&&(this.targetSet.has(e)?this.activeDocuments.set(e,n):(this.activeDocuments.delete(e),this.cachedDocuments.set(e,new MN(n,i=>this.disposeDocument(i))))),this.pendingUpdates.delete(e),r.resolve()}async createUpdatedDocument(e,r){let n=await this.readTextDocument(e);if(n===void 0){r!==void 0&&this.disposeDocument(r);return}let i;try{i=await this.getParser(n.detectedLanguageId)}catch{this.invalidDocumentCache.set(e,!0),r!==void 0&&this.disposeDocument(r);return}if(r!==void 0)if(n.detectedLanguageId!==r.document.detectedLanguageId)this.disposeDocument(r);else{let a=new Set(r.getAllIds());r.update(n);let c=new Set(r.getAllIds()),l=[...c].filter(d=>!a.has(d)),f=[...a].filter(d=>!c.has(d));return this.recordDocumentChanges(e,{created:l,invalidated:f}),r}let s=new FN(n,i,this.config.MinNodeSize);return this.recordDocumentChanges(e,{created:s.getAllIds(),invalidated:[]}),s}disposeDocument(e){this.recordDocumentChanges(e.uri,{created:[],invalidated:e.getAllIds()})}recordDocumentChanges(e,r){let n=yS(this.createdNodes,e,()=>new Set),i=yS(this.invalidatedNodes,e,()=>new Set);for(let s of r.created)n.add(s),this.nodeToDoc.set(s,e);for(let s of r.invalidated)n.has(s)?n.delete(s):i.add(s),this.nodeToDoc.delete(s)}async getParser(e){let r=this.parsers.get(e);return r===void 0&&(r=await pCe(e),this.parsers.set(e,r)),r}async readTextDocument(e){if(this.invalidDocumentCache.has(e)||this.normalizeUri(e)===void 0)return;let r=this.ctx.get(ni),n=r.getWorkspaceFolder({uri:e}),i=!0;if(n!==void 0){let a=r.getRelativePath({uri:e});a!==void 0&&(await this.ctx.get(QN).findFiles(a,{uri:n.uri},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0})).includes(e)&&(i=!1)}if(i){sZe.debug(this.ctx,`${e} is excluded from workspace context`),this.invalidDocumentCache.set(e,!0,3600*1e3);return}let s=await this.ctx.get(Og).getOrReadTextDocument({uri:e});if(s.status!=="valid"||s.document.uri!==e){this.invalidDocumentCache.set(e,!0);return}return s.document}handleDocumentChange(e){let r=e.document.uri;this.isKnownDocument(r)&&this.staleDocuments.add(r)}};u();var UN=class{constructor(e){this.ctx=e;this.documents=new Map;this.elisionMarker=hE;this.nodeCache=new Tn(1e4);this.costFunction=tCe(this.elisionMarker),this.root=this.createRootNode()}static{o(this,"WorkspacePromptComponent")}getRoot(){return this.root}setCostFunction(e){this.costFunction=e}snapshot(e,r){this.documents.clear();for(let{uri:n}of e.documents){let i=r.getDocument(n);if(i?.isActive!==!0)continue;let s=this.createAnnotatedDocumentRoot(i.document),a=Y$(s,this.costFunction,this.elisionMarker,this.nodeCache);this.documents.set(n,a),a.updateWeights(l=>e.getNodeWeight(l.id)??0),a.requireRenderedChild=!0;let c=a.children[0];c.requireRenderedChild=c.children.length>0}this.root=this.createRootNode()}createRootNode(){let e=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return new gS(jd(),e,r,1,0,!0,"")}createAnnotatedDocumentRoot(e){return{text:[this.getDocumentAnnotation(e.uri,e.document.detectedLanguageId),`

`],children:[e.root],id:jd(),elisionMarker:"",canMerge:!0}}getDocumentAnnotation(e,r){let i=this.ctx.get(ni).getRelativePath({uri:e});return HA(`Related portions of ${i??e}:
`,r)}};var gCe=yt(require("events"));var aZe={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3},GA=class t{constructor(e){this.ctx=e;this.didStart=!1;this.didDispose=!1;this.deferredStart=new OA;this.config=aZe;this.emitter=new gCe.default;this.flushUpdatesPromise=void 0;this.emitter.setMaxListeners(27),this.contextManager=new ON(e,this.config),this.coordinator=new NN(this.contextManager,this.config),this.promptComponent=new UN(e),this.tokenEventDisposable=ma(e,()=>{this.maybeStart()})}static{o(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}async maybeStart(){if(this.didStart||this.didDispose)return;let e=Jo(this.ctx,Ft.UseWorkspaceContextCoordinator);if(e===void 0)try{let r=await this.ctx.get(Zr).updateExPValuesAndAssignments();e=this.isEnabled(r)}catch{}e&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}get activation(){return this.deferredStart.promise}isEnabled(e){return Jo(this.ctx,Ft.UseWorkspaceContextCoordinator)??this.ctx.get(Zr).workspaceContextCoordinator(e)}start(){this.didStart||(this.didStart=!0,this.contextManager.start(),this.promptComponent.setCostFunction(eCe(rf())),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()?(this.emitter.emit(t.DisposeEventName),this.contextManager.dispose()):!this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}pushWorkspaceContext(e,r){this.isActive()&&this.coordinator.pushWorkspaceContext(e,r)}getWorkspaceContext(){return this.contextManager}getWorkspaceContextWeights(){return this.coordinator.getWeights()}getPromptComponent(){return this.promptComponent.getRoot()}onUpdate(e){return this.emitter.on(t.UpdateEventName,e),Ki.Disposable.create(()=>this.emitter.off(t.UpdateEventName,e))}onDisposal(e){return this.emitter.on(t.DisposeEventName,e),Ki.Disposable.create(()=>this.emitter.off(t.DisposeEventName,e))}setContextLanguages(e){this.contextManager.setAllowedLanguages(e)}async loop(){try{for(;this.isActive();){let e=this.coordinator.updateWeights();this.promptComponent.snapshot(e,this.contextManager);let r=e.documents.slice(0,this.config.MaxActiveFiles).map(({uri:n})=>n);if(this.contextManager.trySetActiveDocuments(r),this.flushUpdatesPromise=this.contextManager.flushUpdates(),await this.flushUpdatesPromise,this.isActive()){this.promptComponent.snapshot(e,this.contextManager);let n=this.config.UpdateInterval,i={weights:e,context:this.contextManager,changes:this.contextManager.popChanges(),responseInterval:n};this.emitter.emit(t.UpdateEventName,i),await Qb(n)}}}catch(e){Xye(this.ctx,e,"WorkspaceContextFeature.loop"),this.dispose()}}};var HN=class{constructor(e){this.ctx=e;this.renderId=0;this.cachedSuffix=""}static{o(this,"WorkspaceContextPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionState:e,telemetryData:r,promptOpts:n},i){this.renderId++;let{maxPromptLength:s,suffixPercent:a,suffixMatchThreshold:c,workspaceContextPercent:l}=Yb(this.ctx,r,e.textDocument.detectedLanguageId),f=await this.failFastPrompt(e.textDocument,e.position,a,i);if(f)return f;let d=performance.now(),{beforeCursor:h,afterCursor:A}=this.getBeforeAfterCursor(e),g=this.getPathMarker(e),y=this.checkSuffixCache(A,c,n),v=this.producePrompt(s,a,l,g,h,y,e.textDocument.detectedLanguageId,n);if(v.status==="cancelled")return $d;if(v.status==="error")return this.errorPrompt(v.error);let[_,T]=AS(v.prefix),S={...v,prefix:_},D=performance.now();return this.successPrompt(S,D,d,T)}producePrompt(e,r,n,i,s,a,c,l){let f=performance.now(),d=rf(l?.tokenizer);a.length==0&&(r=0);let h=d.tokenLength(i),A=Math.floor(e*r/100),g=Math.floor(e*n/100),y=e-A-g-h;if(y<=0)throw new Error(`Prefix tokens must be positive, was ${y}`);let v=performance.now(),T=this.ctx.get(GA).getPromptComponent(),{rendered:S,cost:D}=T.render(g,void 0,z=>d.tokenLength(z)),Q=performance.now()-v,k=d.takeFirstTokens(a,A),P=Math.max(A-k.tokens.length,0),W=d.takeLastLinesTokens(s,y+P),re=l?.separateContext?W:HA(S.trim(),c)+`

`+W,ye=d.tokenLength(W),Ae=k.tokens.length;return{status:"ok",prefix:i+`
`+re,prefixTokens:h+D+ye,suffix:k.text,suffixTokens:Ae,context:l?.separateContext?[S.trim()]:void 0,metadata:{renderId:this.renderId,rendererName:"w",tokenizer:l?.tokenizer??"o200k_base",elisionTimeMs:Q,renderTimeMs:performance.now()-f,updateDataTimeMs:0,componentStatistics:[{componentPath:"workspace",actualTokens:D},{componentPath:"prefix",actualTokens:h+ye},{componentPath:"suffix",actualTokens:Ae}]}}}getBeforeAfterCursor(e){let r=e.textDocument.getText({start:{line:0,character:0},end:e.position}),n=e.textDocument.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});return{beforeCursor:r,afterCursor:n}}getPathMarker(e){let r=e.textDocument,n=this.ctx.get(ni),i=n.getRelativePath(e.textDocument),s={uri:r.uri,source:"",relativePath:i,languageId:r.detectedLanguageId},a=n.findNotebook(r);return s.relativePath&&!a?HA(KD(s),s.languageId):HA(jD(s),s.languageId)}checkSuffixCache(e,r,n){let i=e.replace(/^.*/,"").trimStart();if(i==="")return"";if(this.cachedSuffix===i)return this.cachedSuffix;let s=i;if(this.cachedSuffix!==""){let a=rf(n?.tokenizer),c=a.takeFirstTokens(i,J3);c.tokens.length>0&&100*YD(c.tokens,a.takeFirstTokens(this.cachedSuffix,J3).tokens)?.score<(r??pb)*c.tokens.length&&(s=this.cachedSuffix)}return s!==this.cachedSuffix&&(this.cachedSuffix=s),s}successPrompt(e,r,n,i){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:i,neighborSource:new Map,metadata:e.metadata}}async failFastPrompt(e,r,n,i){if(i?.isCancellationRequested)return $d;if((await this.ctx.get(Vd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return _N;if((n>0?e.getText().length:e.offsetAt(r))<xN)return TN}errorPrompt(e){return Ed(this.ctx,e,"WorkspaceContextPromptFactory"),Wb}};var yCe=yt($a());var $b=class{static{o(this,"CompletionsPromptFactory")}};function CCe(t,e,r){return new K$(new J$(new X$(t,new DN(t,e,r),new HN(t),Z$)))}o(CCe,"createCompletionsPromptFactory");var K$=class extends $b{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return $d;try{return await this.delegate.prompt(r,n)}catch{return Wb}}},cZe=1200,J$=class{constructor(e){this.delegate=e}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(e,r){let n=new yCe.CancellationTokenSource,i=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(e,i),new Promise(s=>{setTimeout(()=>{n.cancel(),s(Wye)},cZe)})])}},X$=class{constructor(e,r,n,i){this.ctx=e;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=i}static{o(this,"ExperimentalCompletionsPromptFactory")}async prompt(e,r){return this.fn(this.ctx,e.telemetryData)?this.experimentalDelegate.prompt(e,r):this.defaultDelegate.prompt(e,r)}};function Z$(t,e){let r=t.get(GA);return r.isEnabled(e)&&r.isActive()}o(Z$,"workspaceContextEnabledAndActive");var mS=class{constructor(e){this.ctx=e;this.scheduledResolutions=new Tn(25)}static{o(this,"ContextProviderBridge")}schedule(e,r,n,i,s,a){if(Z$(this.ctx,i))return;let c=this.ctx.get(wN),{textDocument:l,originalPosition:f,originalOffset:d,originalVersion:h,editsWithPosition:A}=e,g=c.resolveAllProviders(r,n,{uri:l.uri,languageId:l.detectedLanguageId,version:h,offset:d,position:f,proposedEdits:A.length>0?A:void 0},i,s,a?.data);this.scheduledResolutions.set(r,g)}async resolution(e){let r=this.scheduledResolutions.get(e);return r?await r:[]}};u();u();var qN=class{constructor(e,r,n){this.languageId=e;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,r,n){let i=await XC(this.languageId,e);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let c=this.nodeMatch[a.type];if(c){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((l==""?a.namedChildren[0]:a.childForFieldName(l))?.type==c)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(e,r,n){return this.getNodeMatchAtPosition(e,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,c=a?.nextSibling;for(;c&&c.type=="comment";){let l=c.startPosition.row==s.endPosition.row&&c.startPosition.column>=s.endPosition.column,f=c.startPosition.row>a.endPosition.row&&c.startPosition.column>a.startPosition.column;if(l||f)s=c,c=c.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(e,r,n){let i=(e+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-e.length;return a>0?a:void 0}}getNodeStart(e,r){let n=e.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},GN=class extends qN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=ICe(r,n),this.isBlockStart(lZe(r,n))&&this.isBlockBodyEmpty(r,n)}};function lZe(t,e){let r=t.lastIndexOf(`
`,e-1),n=t.indexOf(`
`,e);return n<0&&(n=t.length),t.slice(r+1,n)}o(lZe,"getLineAtOffset");function ICe(t,e){let r=e;for(;r>0&&/\s/.test(t.charAt(r-1));)r--;return r}o(ICe,"rewindToNearestNonWs");function ECe(t,e){let r=t.startIndex,n=t.startIndex-t.startPosition.column,i=e.substring(n,r);if(/^\s*$/.test(i))return i}o(ECe,"indent");function uZe(t,e,r){if(e.startPosition.row<=t.startPosition.row)return!1;let n=ECe(t,r),i=ECe(e,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(uZe,"outdented");var Jd=class extends qN{constructor(r,n,i,s,a,c,l){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=c;this.curlyBraceLanguage=l}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&ame(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=ICe(r,n);let i=await XC(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let d=s;for(;d.parent;){if(d.type=="function_signature"||d.type=="method_signature"){let h=s.nextSibling;return h&&d.hasError()&&uZe(d,h,r)?!0:!d.children.find(g=>g.type==";")&&d.endIndex<=n}d=d.parent}}let a=null,c=null,l=null,f=s;for(;f!=null;){if(f.type==this.blockNodeType){c=f;break}if(this.nodeMatch[f.type]){l=f;break}if(f.type=="ERROR"){a=f;break}f=f.parent}if(c!=null){if(!c.parent||!this.nodeMatch[c.parent.type])return!1;if(this.languageId=="python"){let d=c.previousSibling;if(d!=null&&d.hasError()&&(d.text.startsWith('"""')||d.text.startsWith("'''")))return!0}return this.isBlockEmpty(c,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let d=[...a.children].reverse(),h=d.find(g=>this.startKeywords.includes(g.type)),A=d.find(g=>g.type==this.blockNodeType);if(h){switch(this.languageId){case"python":{h.type=="try"&&s.type=="identifier"&&s.text.length>4&&(A=d.find(v=>v.hasError())?.children.find(v=>v.type=="block"));let g,y=0;for(let v of a.children){if(v.type==":"&&y==0){g=v;break}v.type=="("&&(y+=1),v.type==")"&&(y-=1)}if(g&&h.endIndex<=g.startIndex&&g.nextSibling){if(h.type=="def"){let v=g.nextSibling;if(v.type=='"'||v.type=="'"||v.type=="ERROR"&&(v.text=='"""'||v.text=="'''"))return!0}return!1}break}case"javascript":{let g=d.find(_=>_.type=="formal_parameters");if(h.type=="class"&&g)return!0;let y=d.find(_=>_.type=="{");if(y&&y.startIndex>h.endIndex&&y.nextSibling!=null||d.find(_=>_.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}case"typescript":{let g=d.find(v=>v.type=="{");if(g&&g.startIndex>h.endIndex&&g.nextSibling!=null||d.find(v=>v.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}}return A&&A.startIndex>h.endIndex?this.isBlockEmpty(A,n):!0}}if(l!=null){let d=this.nodeMatch[l.type],h=l.children.slice().reverse().find(A=>A.type==d);if(h)return this.isBlockEmpty(h,n);if(this.nodeTypesWithBlockOrStmtChild.has(l.type)){let A=this.nodeTypesWithBlockOrStmtChild.get(l.type),g=A==""?l.children[0]:l.childForFieldName(A);if(g&&g.type!=this.blockNodeType&&g.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},ULr={python:new Jd("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Jd("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Jd("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Jd("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new GN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new GN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Jd("csharp",{},new Map([]),[],"block",null,!0),java:new Jd("java",{},new Map([]),[],"block",null,!0),php:new Jd("php",{},new Map([]),[],"block",null,!0),cpp:new Jd("cpp",{},new Map([]),[],"block",null,!0)};var XLr=new zr("parseBlock");var fZe=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(t=>t+"\\b")),ZLr=new RegExp(`^(${fZe.join("|")})`);u();u();var vCe=2.98410452738298,bCe=-.838732736843507,xCe=1.50314646255716,TCe=-.237798634012662,_Ce={python:.314368072478742},SCe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var dZe={link:o(t=>Math.exp(t)/(1+Math.exp(t)),"link"),unlink:o(t=>Math.log(t/(1-t)),"unlink")};function hZe(t,e){let r=Math.min(...Array.from(e.keys()).filter(a=>a>=t)),n=Math.max(...Array.from(e.keys()).filter(a=>a<t)),i=e.get(r),s=e.get(n);return s+(i-s)*(t-n)/(r-n)}o(hZe,"linearInterpolation");var Kb=class{static{o(this,"Regressor")}constructor(e,r,n){this.name=e,this.coefficient=r,this.transformation=n||(i=>i)}contribution(e){return this.coefficient*this.transformation(e)}},ez=class{constructor(e,r,n){this.link=dZe;if(this.intercept=e,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(e,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(e,r){let n=this.predict(e,r);return hZe(n,this.logitsToQuantiles)}},sMr=new ez(vCe,[new Kb("compCharLen",bCe,t=>Math.log(1+t)),new Kb("meanLogProb",xCe),new Kb("meanAlternativeLogProb",TCe)].concat(Object.entries(_Ce).map(t=>new Kb(t[0],t[1]))),SCe);u();u();var pZe=yt(d4());var DOr=new zr("ghostText");var CS=class t{constructor(e=!1){this.requestMultilineOverride=e}static{o(this,"ForceMultiLine")}static{this.default=new t}};var Jb=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(e,r,n,i){i!==2&&(this.prefix=e,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(e,r){let n=this.getRemainingPrefix(e,r);if(n!==void 0&&wCe(this.choices[0].completionText,n))return mZe(this.choices,n)}hasAcceptedCurrentCompletion(e,r){let n=this.getRemainingPrefix(e,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(e,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&e.startsWith(this.prefix))return e.substring(this.prefix.length)}};function mZe(t,e){return t.filter(r=>wCe(r.completionText,e)).map(r=>({...r,completionText:r.completionText.substring(e.length)}))}o(mZe,"adjustChoicesStart");function wCe(t,e){return t.startsWith(e)&&t.length>e.length}o(wCe,"startsWithAndExceeds");u();u();u();u();u();u();u();u();u();u();u();var BCe="code-referencing";var Xd=new zr(BCe);var gZe=3e3,tz=2,RCe=256,kCe=Math.log(RCe)/Math.log(tz)/tz,pf={connection:"disabled",maxAttempts:kCe,retryAttempts:0,initialWait:!1},VN,WN=[];function yZe(){if(VN)return VN;function t(T){return WN.push(T),()=>{let S=WN.indexOf(T);S!==-1&&WN.splice(S,1)}}o(t,"subscribe");function e(){for(let T of WN)T()}o(e,"afterUpdateConnection");function r(T){pf.connection!==T&&(pf.connection=T,e())}o(r,"updateConnection");function n(){return pf.connection==="connected"}o(n,"isConnected");function i(){return pf.connection==="disconnected"}o(i,"isDisconnected");function s(){return pf.connection==="retry"}o(s,"isRetrying");function a(){return pf.connection==="disabled"}o(a,"isDisabled");function c(){r("connected"),h(!1)}o(c,"setConnected");function l(){r("disconnected")}o(l,"setDisconnected");function f(){r("retry")}o(f,"setRetrying");function d(){r("disabled")}o(d,"setDisabled");function h(T){pf.initialWait!==T&&(pf.initialWait=T)}o(h,"setInitialWait");function A(T,S=gZe){s()||(f(),h(!0),y(T,S))}o(A,"enableRetry");function g(){return pf.initialWait}o(g,"isInitialWait");async function y(T,S){Xd.info(T,`Attempting to reconnect in ${S}ms.`),await v(S),h(!1);let D=T.get(As);function Q(k,P){if(k>RCe){Xd.info(P,"Max retry time reached, disabling."),d();return}let W=o(async()=>{pf.retryAttempts=Math.min(pf.retryAttempts+1,kCe);try{Xd.info(P,`Pinging service after ${k} second(s)`);let re=await D.fetch(new URL("_ping",M9(P)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(re.status!==200||!re.ok)Q(k**2,P);else{Xd.info(P,"Successfully reconnected."),c();return}}catch{Q(k**2,P)}},"tryAgain");setTimeout(()=>void W(),k*1e3)}o(Q,"succeedOrRetry"),Xd.info(T,"Attempting to reconnect."),Q(tz,T)}o(y,"attemptToPing");let v=o(T=>new Promise(S=>setTimeout(S,T)),"timeout");function _(T){return{dispose:t(T)}}return o(_,"listen"),VN={setConnected:c,setDisconnected:l,setRetrying:f,setDisabled:d,enableRetry:A,listen:_,isConnected:n,isDisconnected:i,isRetrying:s,isDisabled:a,isInitialWait:g},VN}o(yZe,"registerConnectionState");var CZe=yZe();u();var YN={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},EZe={[YN.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[YN.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[YN.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};u();var IZe=/^[1-6][0-9][0-9]$/,vZe=/([A-Z][a-z]+)/,bZe="code_referencing",ES=class{constructor(e){this.baseKey=e}static{o(this,"CodeQuoteTelemetry")}buildKey(...e){return[bZe,this.baseKey,...e].join(".")}},rz=class extends ES{static{o(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:e}){let r=this.buildKey("open","count"),n=rn.createAndMarkAsIssued();or(e,r,n)}handleFocus({context:e}){let r=rn.createAndMarkAsIssued(),n=this.buildKey("focus","count");or(e,n,r)}handleWrite({context:e}){let r=rn.createAndMarkAsIssued(),n=this.buildKey("write","count");or(e,n,r)}},mUr=new rz,nz=class extends ES{static{o(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:e,actor:r}){let n=rn.createAndMarkAsIssued({actor:r}),i=this.buildKey("acknowledge","count");or(e,i,n)}handleDismiss({context:e,actor:r}){let n=rn.createAndMarkAsIssued({actor:r}),i=this.buildKey("ignore","count");or(e,i,n)}},gUr=new nz,iz=class extends ES{static{o(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:e,origin:r,reason:n}){let i=rn.createAndMarkAsIssued({origin:r,reason:n});lA(e,this.buildKey("unexpectedError"),i)}handleCompletionMissing({context:e,origin:r,reason:n}){let i=rn.createAndMarkAsIssued({origin:r,reason:n});lA(e,this.buildKey("completionMissing"),i)}handleSnippyNetworkError({context:e,origin:r,reason:n,message:i}){if(!r.match(IZe)){Xd.debug(e,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(vZe).filter(c=>!!c).join("_").toLowerCase(),a=rn.createAndMarkAsIssued({message:i});lA(e,this.buildKey(s,r),a)}},DCe=new iz;u();var oz=X.Object({kind:X.Literal("failure"),reason:X.String(),code:X.Number(),msg:X.String(),meta:X.Optional(X.Any())}),TZe=X.Object({matched_source:X.String(),occurrences:X.String(),capped:X.Boolean(),cursor:X.String(),github_url:X.String()}),_Ze=X.Object({source:X.String()}),SZe=X.Object({snippets:X.Array(TZe)}),wZe=X.Union([SZe,oz]),BZe=X.Object({cursor:X.String()}),RZe=X.Object({commit_id:X.String(),license:X.String(),nwo:X.String(),path:X.String(),url:X.String()}),kZe=X.Object({has_next_page:X.Boolean(),cursor:X.String()}),DZe=X.Object({count:X.Record(X.String(),X.String())}),NZe=X.Object({file_matches:X.Array(RZe),page_info:kZe,license_stats:DZe}),QZe=X.Union([NZe,oz]);u();var HUr=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu");u();u();var UHr=new zr("postInsertion");var nqr=new zr("ghostText"),IS=class{constructor(){this.#i=[];this.linesAccepted=0}static{o(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:e},r){this.#t=e,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function NCe(t){let e=new yD;return e.set($l,t),e.set($y,new $y),e.set(ga,new ga),e.set(Fb,new Fb),e.set(Oy,new Oy),e.set(Zr,new Zr(e)),e.set(ZC,new ZC),e.set(z0,new z0(e)),e.set(Ql,new Ql),e.set(Hy,new Hy),e.set(UA,new K3),e.set(yb,new Jk),e.set(zy,new H9),e.set(Ja,new Ja),e.set(_b,new _b(e)),e.set(Og,new Og(e)),e.set(GA,new GA(e)),e.set($b,CCe(e)),e.set(IS,new IS),e.set(Jb,new Jb),e.set(CS,CS.default),e.set(MA,new MA(e)),e.set(JC,new JC(e)),e.set(sv,new sv),e.set(Pb,new Pb(e)),e.set(M3,new M3),e.set(O3,new O3(e)),e.set(Mb,new Mb),e}o(NCe,"createCommonContext");u();u();var $N=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(e){super(e),this.name="FetchSpeculationCanceledException"}};u();var zN=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(e){super(e),this.name="FetchSpeculationFailedException"}};var Kqr=X.Object({prompt:X.String(),speculation:X.String(),languageId:X.String(),stops:X.Array(X.String())}),vS=class{static{o(this,"SpeculationFetcher")}constructor(e){this.ctx=e}async fetchSpeculation(e,r){let i={prompt:e.prompt,speculation:e.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",stops:e.stops},s=await this.ctx.get(Zr).updateExPValuesAndAssignments(),a=await this.ctx.get(UA).fetchAndStreamSpeculation(this.ctx,i,s,(c,l)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new $N(a.reason);case"failed":throw new zN(a.reason)}}};u();u();function QCe(t){return Pae(t)}o(QCe,"verboseLogging");var jN=class extends Uy{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||QCe(r))&&this.console.warn(`[${i}]`,...s)}};u();var PCe=require("node:util");var KN=class extends Ym{static{o(this,"TelemetryLogSenderImpl")}sendError(e,r,...n){lA(e,"log",rn.createAndMarkAsIssued({context:r,level:Y6[1],message:OZe(...n)}),1)}sendException(e,r,n){Ed(e,r,n)}};function OZe(...t){return t.map(e=>(0,PCe.inspect)(e)).join(" ")}o(OZe,"telemetryMessage");u();var j_e=yt(require("crypto")),K_e=yt(require("fs")),wF=yt($_e()),J_e=require("tls"),X_e=yt(z_e());var s5=new zr("certificates"),gc=class{static{o(this,"RootCertificateReader")}};function Z_e(t,e=process.platform){return new RX(t,[new kX,new DX,Gpt(t,e)])}o(Z_e,"getRootCertificateReader");function Gpt(t,e){switch(e){case"linux":return new NX(t);case"darwin":return new QX(t);case"win32":return new PX(t);default:return new FX}}o(Gpt,"createPlatformReader");var BX=class extends gc{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return s5.warn(this.ctx,"Failed to read root certificates:",r),[]}}},RX=class extends gc{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new BX(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new j_e.X509Certificate(s),c=Date.parse(a.validTo);return isNaN(c)||c>n}catch(a){return s5.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&s5.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},kX=class extends gc{static{o(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return J_e.rootCertificates}},DX=class extends gc{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let e=process.env.NODE_EXTRA_CA_CERTS;return e?await e3e(e):[]}},NX=class extends gc{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await e3e(n);s5.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},QX=class extends gc{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}getAllRootCAs(){let r=wF.get({excludeBundled:!1,format:wF.Format.pem});return s5.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},PX=class extends gc{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=X_e.all();return s5.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},FX=class extends gc{static{o(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function e3e(t){let e;try{e=await K_e.promises.readFile(t,{encoding:"utf8"})}catch{return[]}let r=e.match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(s=>s.length>0),i=new Set(n);return Array.from(i)}o(e3e,"readCertsFromFile");u();var m3e=yt(require("http"));var gmt=407,Qa=new zr("proxySocketFactory"),v1=class{static{o(this,"ProxySocketFactory")}},YE=class extends Error{static{o(this,"ProxySocketError")}constructor(e,r,n){super(e),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function g3e(t){return new UX(t,new HX(t))}o(g3e,"getProxySocketFactory");var UX=class extends v1{constructor(r,n,i=new qX,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new Tn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Qa.debug(this.ctx,"Proxy authorization already successful once, skipping 407 round trip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof YE&&i.code===`ProxyStatusCode${gmt}`){Qa.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Qa.debug(this.ctx,"Proxy authorization successful, caching result"),or(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Qa.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Qa.debug(this.ctx,"Proxy authorization successful, received token"),i)return Qa.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Qa.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);Qa.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Qa.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Qa.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Qa.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.hostname}`:`HTTP@${r.hostname}`;return Qa.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return`${r.hostname}:${r.port}`}},HX=class extends v1{constructor(r){super();this.ctx=r;this.userAgent=`GithubCopilot/${this.ctx.get(ga).getVersion()}`}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Qa.debug(this.ctx,"Attempting to establish connection to proxy");let c=m3e.request(i);c.useChunkedEncodingByDefault=!1,c.once("connect",(l,f,d)=>{Qa.debug(this.ctx,"Socket Connect returned status code",l.statusCode),c.removeAllListeners(),f.removeAllListeners(),l.statusCode!==200?(f.destroy(),a(new YE(`tunneling socket could not be established, statusCode=${l.statusCode}`,void 0,`ProxyStatusCode${l.statusCode}`))):d.length>0?(f.destroy(),a(new YE(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Qa.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(f))}),c.once("error",l=>{Qa.debug(this.ctx,"Proxy socket connection error",l.message),c.removeAllListeners(),a(new YE(`tunneling socket could not be established, cause=${l.message}`,l))}),c.on("timeout",()=>{Qa.debug(this.ctx,"Proxy socket connection timeout"),a(new YE(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.hostname}:${i.port}`,void 0,"ProxyTimeout"))}),c.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={hostname:n.hostname,port:n.port,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive","User-Agent":this.userAgent},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r,n.authorization),s}configureProxyAuthorization(r,n,i){r.headers["Proxy-Authorization"]=[],i&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(i).toString("base64")),typeof n.headers?.["Proxy-Authorization"]=="string"&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},qX=class{static{o(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>yt(p3e()))}};u();var I3e=require("node:os");var ymt=new zr("repository"),$E="\\\\",v3e="(?:[#;].*)",l5=`(?:[^"${$E}]|${$E}.)`,Cmt="[0-9A-Za-z-]",y3e=`[A-Za-z]${Cmt}*`,b3e=`\\s*${v3e}?$`,x3e=`(?:[^"${$E};#]|${$E}.)`,Emt=`(?:"${l5}*"|"${l5}*(?<strCont>${$E})$)`,Imt=`(?:${x3e}|${Emt})+`,vmt=`(?:(?<cont>${$E})$)`,T3e=`(?<value>${Imt})${vmt}?${b3e}`,C3e=new RegExp(`^${T3e}`),bmt=new RegExp(`^(?<value>${l5}*(?:(?<strCont>${$E})$|(?<quote>")))`),xmt=new RegExp(`^\\s*(?:(?<key>${y3e})\\s*=\\s*${T3e}|(?<soloKey>${y3e})${b3e})`),Tmt=new RegExp(`(?<value>${x3e}+)|"(?<string>${l5}*)"`,"g"),E3e="[-.0-9A-Za-z]+",_mt=`\\s+"(?<ext>${l5}*)"`,Smt=`\\s+"(?<extOnly>${l5}*)"`,wmt=new RegExp(`^\\s*\\[(?:(?<simple>${E3e})${_mt}|${Smt}|(?<simpleOnly>${E3e}))\\]`),Bmt=new RegExp(`^\\s*${v3e}$`),GX=class{constructor(e){this.content=e;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(e){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=e,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(e){this.linesWithErrors.push(e)}parseSectionStart(){let e=this.line.match(wmt);e&&(e.groups?.simple?this.section=e.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(e.groups.ext):e.groups?.extOnly?this.section="."+this.unescapeBaseValue(e.groups.extOnly):this.section=e.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(e[0].length))}unescapeBaseValue(e){return e.replace(/\\(.)/g,"$1")}parseConfigPair(){let e=this.line.match(xmt);if(e){if(e.groups?.key){let r=this.handleContinued(e);this.configValueHandler?.(this.nameWithSection(e.groups.key.toLowerCase()),r)}else e.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(e.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(e){let r=e,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(bmt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(C3e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(C3e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(e){return e.groups.strCont?e.groups.value.slice(0,-1):e.groups.value}normalizeValue(e){let r=!1,n=[...e.matchAll(Tmt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(e){let r={n:`
`,t:"	",b:"\b"};return e.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(e){return this.section?this.section+"."+e:e}parseComment(){Bmt.test(this.line)&&(this.line="")}},RF=class extends uf{static{o(this,"GitParsingConfigLoader")}async getConfig(e,r){let n=await MA.getRepoConfigLocation(e,r);if(!n)return;let i=await this.getParsedConfig(e,n);if(i)return this.mergeConfig(await this.baseConfig(e,n),i)}mergeConfig(...e){return e.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new iE)}async getParsedConfig(e,r,n=!0){let i=await this.tryLoadConfig(e,r,n);if(!i)return;let s=new GX(i),a=new iE;return s.parse((c,l)=>a.add(c,l)),a}async tryLoadConfig(e,r,n){try{return await e.get(Zs).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&ymt.warn(e,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(e,r){let n=await this.commondirConfigUri(e,r),i=Ws(this.xdgConfigUri(),"git","config"),s=Ws(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(e,i,!1),await this.getParsedConfig(e,s,!1),n?await this.getParsedConfig(e,n,!1):void 0)}async commondirConfigUri(e,r){if(Xm(r).toLowerCase()!=="config.worktree")return;let n=cA(r),i=Ws(n,"commondir");try{let s=(await e.get(Zs).readFileString(i)).trimEnd();return Ws(Wy(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?F9(process.env.XDG_CONFIG_HOME):Ws(this.homeUri(),".config")}homeUri(){return F9((0,I3e.homedir)())}};u();var _3e=require("child_process");var kF=class extends uf{static{o(this,"GitCLIConfigLoader")}runCommand(e,r,n){return new Promise((i,s)=>{(0,_3e.execFile)(r,n,{cwd:e},(a,c)=>{a?s(a):i(c)})})}async tryRunCommand(e,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){e1e.info(e,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(e,r){let n=L9(r);if(n===void 0)return;let i=await this.tryRunCommand(e,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(e){let r=new iE;for(let n of e.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}};u();var w3e=yt(require("node:events"));var S3e="onWorkspaceChanged",Gw=class{constructor(){this.emitter=new w3e.default}static{o(this,"WorkspaceNotifier")}onChange(e){this.emitter.on(S3e,e)}emit(e){this.emitter.emit(S3e,e)}};function B3e(t){let e=NCe(t);return Rmt(e),e.set(gc,Z_e(e)),e.set(v1,g3e(e)),e.set(uf,new RD([new kF,new RF])),e.set(Gw,new Gw),e.set(vS,new vS(e)),e}o(B3e,"createProductionContext");function Rmt(t){t.set(Km,Km.fromEnvironment(!1)),t.set(Ym,new KN),t.set(Uy,new jN(console))}o(Rmt,"setupRudimentaryLogging");var MJr=new zr("context");u();var DF=class extends Yy{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{o(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let i=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let s=this.getConfiguredUrls();(i.apiUrl!==s.apiUrl||i.serverUrl!==s.serverUrl)&&r.get(ya).resetToken(),r.get(Cd).updateSessionConfig(s)}recalculateUrlDefaults(r,n){let{serverUrl:i,apiUrl:s}=tH({serverUrl:ZU(r,n.serverUrl),apiUrl:ZU(r,n.apiUrl)});this.baseUrlObject=new URL(i),this.apiUrl=s}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};u();var R3e=yt(require("crypto")),k3e=require("os");var kmt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function Dmt(t){let e=t.replace(/-/g,":").toLowerCase();return!kmt.has(e)}o(Dmt,"validateMacAddress");function Nmt(){let t=(0,k3e.networkInterfaces)();for(let e in t){let r=t[e];if(r){for(let{mac:n}of r)if(Dmt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(Nmt,"getMac");var VX;function Qmt(){try{let t=Nmt();return R3e.createHash("sha256").update(t,"utf8").digest("hex")}catch{return}}o(Qmt,"getMacMachineId");function D3e(){return VX||(VX=Qmt()||lf()),VX}o(D3e,"getMachineId");u();u();var N3e=yt(require("tls"));var NF=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(e){this._certificateReader=e.get(gc)}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async createSecureContext(){let e=await this._certificateReader.getAllRootCAs(),n=N3e.createSecureContext({_vscodeAdditionalCaCerts:e}),i=n.context;for(let s of e)i.addCACert(s);return{secureContext:n,certs:e}}async applyToRequestOptions(e){this.#e??=this.createSecureContext();let r=await this.#e;e.secureContext=r.secureContext,e.ca=r.certs,e.cert=r.certs}};u();var A5=yt(LSe(),1),hZr={ALPN_HTTP2:A5.default.ALPN_HTTP2,ALPN_HTTP2C:A5.default.ALPN_HTTP2C,ALPN_HTTP1_1:A5.default.ALPN_HTTP1_1,ALPN_HTTP1_0:A5.default.ALPN_HTTP1_0},{fetch:AZr,context:MSe,reset:pZr,noCache:mZr,h1:gZr,keepAlive:yZr,h1NoCache:CZr,keepAliveNoCache:EZr,cacheStats:IZr,clearCache:vZr,offPush:bZr,onPush:xZr,createUrl:TZr,timeoutSignal:_Zr,Body:SZr,Headers:wZr,Request:BZr,Response:RZr,AbortController:kZr,AbortError:DZr,AbortSignal:NZr,FetchBaseError:QZr,FetchError:PZr,ALPN_HTTP2:FZr,ALPN_HTTP2C:LZr,ALPN_HTTP1_1:MZr,ALPN_HTTP1_0:OZr}=A5.default;var KF=class extends As{constructor(r,n){super();this.name="HelixFetcher";this.certificateConfigurator=new NF(r),this.proxySocketFactory=r.get(v1),this.proxySocketTimeoutForTesting=n?.proxySocketTimeoutForTesting,r.get($l).onDidChangeHttpSettings(i=>{this.fetchApi=this.createFetchApi(r,i)}),this.fetchApi=this.createFetchApi(r,r.get($l).getHttpSettings())}static{o(this,"HelixFetcher")}maybeCreateSocketFactory(r,n){if(!r?.proxy)return;let i=new URL(r.proxy);return async s=>(s.rejectUnauthorized=r.proxyStrictSSL,s.timeout=n,await this.certificateConfigurator.applyToRequestOptions(s),await this.proxySocketFactory.createSocket(s,{hostname:i.hostname,port:i.port,authorization:r.proxyAuthorization,kerberosServicePrincipal:r.proxyKerberosServicePrincipal}))}createFetchApi(r,n){let i=r.get(ga),s=this.proxySocketTimeoutForTesting;return MSe({userAgent:`GithubCopilot/${i.getVersion()}`,socketFactory:this.maybeCreateSocketFactory(n,s),rejectUnauthorized:n.proxyStrictSSL})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let f=new AbortController;setTimeout(()=>{f.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>f.abort()),n.signal?.aborted&&f.abort(),i=f.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let c=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(c);let l=await this.fetchApi.fetch(r,a).catch(f=>{throw s?new A4(`Request to <${r}> timed out after ${n.timeout}ms`,f):f});return new D9(l.status,l.statusText,l.headers,()=>l.text(),()=>l.body)}disconnectAll(){return this.fetchApi.reset()}};u();u();var JF=class extends Ja{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var OSe=require("child_process");var nyt=lf()+Date.now();async function USe(){let t=B3e(new Xk);return t.set(Yy,new DF(t)),t.set(As,new KF(t)),t.set(Ys,new CZ(await iyt())),t.set(Vs,new Vs(nyt,D3e())),t.forceSet(Ja,new JF),t.set(Cd,new Cd(t,mb.name)),t.get(Cd).initialize(!0),t}o(USe,"createUninstallContext");async function iyt(){let t="unknown";try{return await new Promise((e,r)=>{let n=(0,OSe.spawn)("code -v",{shell:!0,stdio:"pipe"});n.stdout?.on("data",i=>{t==="unknown"&&(t=i.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>e(t)),n.on("error",i=>r(i))})}catch{return t}}o(iyt,"lookupVscodeVersion");var CZ=class extends Ys{constructor(r){super();this.vscodeVersion=r}static{o(this,"UninstallEditorInfo")}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:mb.version}}getRelatedPluginInfo(){return[]}};async function oyt(){let t=await USe(),e=new dD;process.argv.includes("--dry-run")||await e.uninstall(t)}o(oyt,"doUninstall");oyt().then(()=>process.exit(0)).catch(t=>{console.error(t),process.exit(1)});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
@azure/msal-node/dist/internals.mjs:
@azure/msal-node/dist/utils/Constants.mjs:
@azure/msal-node/dist/utils/NetworkUtils.mjs:
@azure/msal-node/dist/network/HttpClient.mjs:
@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
@azure/msal-node/dist/error/ManagedIdentityError.mjs:
@azure/msal-node/dist/config/ManagedIdentityId.mjs:
@azure/msal-node/dist/error/NodeAuthError.mjs:
@azure/msal-node/dist/config/Configuration.mjs:
@azure/msal-node/dist/crypto/GuidGenerator.mjs:
@azure/msal-node/dist/utils/EncodingUtils.mjs:
@azure/msal-node/dist/crypto/HashUtils.mjs:
@azure/msal-node/dist/crypto/PkceGenerator.mjs:
@azure/msal-node/dist/crypto/CryptoProvider.mjs:
@azure/msal-node/dist/cache/NodeStorage.mjs:
@azure/msal-node/dist/cache/TokenCache.mjs:
@azure/msal-node/dist/client/ClientAssertion.mjs:
@azure/msal-node/dist/packageMetadata.mjs:
@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
@azure/msal-node/dist/protocol/Authorize.mjs:
@azure/msal-node/dist/client/ClientApplication.mjs:
@azure/msal-node/dist/network/LoopbackClient.mjs:
@azure/msal-node/dist/client/DeviceCodeClient.mjs:
@azure/msal-node/dist/client/PublicClientApplication.mjs:
@azure/msal-node/dist/client/ClientCredentialClient.mjs:
@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
@azure/msal-node/dist/utils/TimeUtils.mjs:
@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:
@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:
@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:
@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:
@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v3.6.3 2025-07-08 *)

@azure/msal-common/dist/utils/Constants.mjs:
@azure/msal-common/dist/error/AuthErrorCodes.mjs:
@azure/msal-common/dist/error/AuthError.mjs:
@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
@azure/msal-common/dist/error/ClientAuthError.mjs:
@azure/msal-common/dist/crypto/ICrypto.mjs:
@azure/msal-common/dist/logger/Logger.mjs:
@azure/msal-common/dist/packageMetadata.mjs:
@azure/msal-common/dist/authority/AuthorityOptions.mjs:
@azure/msal-common/dist/account/AuthToken.mjs:
@azure/msal-common/dist/utils/TimeUtils.mjs:
@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
@azure/msal-common/dist/error/ClientConfigurationError.mjs:
@azure/msal-common/dist/utils/StringUtils.mjs:
@azure/msal-common/dist/request/ScopeSet.mjs:
@azure/msal-common/dist/account/ClientInfo.mjs:
@azure/msal-common/dist/account/AccountInfo.mjs:
@azure/msal-common/dist/authority/AuthorityType.mjs:
@azure/msal-common/dist/account/TokenClaims.mjs:
@azure/msal-common/dist/authority/ProtocolMode.mjs:
@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
@azure/msal-common/dist/utils/UrlUtils.mjs:
@azure/msal-common/dist/url/UrlString.mjs:
@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
@azure/msal-common/dist/error/CacheErrorCodes.mjs:
@azure/msal-common/dist/error/CacheError.mjs:
@azure/msal-common/dist/cache/CacheManager.mjs:
@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:
@azure/msal-common/dist/config/ClientConfiguration.mjs:
@azure/msal-common/dist/account/CcsCredential.mjs:
@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
@azure/msal-common/dist/utils/FunctionWrappers.mjs:
@azure/msal-common/dist/authority/RegionDiscovery.mjs:
@azure/msal-common/dist/authority/Authority.mjs:
@azure/msal-common/dist/authority/AuthorityFactory.mjs:
@azure/msal-common/dist/error/ServerError.mjs:
@azure/msal-common/dist/network/RequestThumbprint.mjs:
@azure/msal-common/dist/network/ThrottlingUtils.mjs:
@azure/msal-common/dist/error/NetworkError.mjs:
@azure/msal-common/dist/client/BaseClient.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
@azure/msal-common/dist/utils/ProtocolUtils.mjs:
@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
@azure/msal-common/dist/response/ResponseHandler.mjs:
@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
@azure/msal-common/dist/client/RefreshTokenClient.mjs:
@azure/msal-common/dist/client/SilentFlowClient.mjs:
@azure/msal-common/dist/protocol/Authorize.mjs:
@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
@azure/msal-common/dist/index-node.mjs:
@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v15.8.1 2025-07-08 *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
